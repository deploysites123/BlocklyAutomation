var n0=Object.defineProperty,r0=Object.defineProperties,o0=Object.getOwnPropertyDescriptors,Ky=Object.getOwnPropertySymbols,s0=Object.prototype.hasOwnProperty,a0=Object.prototype.propertyIsEnumerable,$y=(B,K,f)=>K in B?n0(B,K,{enumerable:!0,configurable:!0,writable:!0,value:f}):B[K]=f,Pm=(B,K)=>{for(var f in K||(K={}))s0.call(K,f)&&$y(B,f,K[f]);if(Ky)for(var f of Ky(K))a0.call(K,f)&&$y(B,f,K[f]);return B},Nm=(B,K)=>r0(B,o0(K));(self.webpackChunkAutoBlocklyApp=self.webpackChunkAutoBlocklyApp||[]).push([[179],{48203:(B,K,f)=>{"use strict";var E=f(22313),m=f(5e3),t=f(93075),e=f(91083),n=f(15861),a=f(47423),u=f(63874),C=f(53251),D=f(69808);const F=["vcr"];function W(k,U){if(1&k&&(m.TgZ(0,"mat-icon",9),m._uU(1),m.qZA()),2&k){const v=m.oxw(2).$implicit;m.xp6(1),m.hij(" filter_",v+1,"")}}function te(k,U){1&k&&(m.TgZ(0,"span"),m._uU(1,"W:{{number+1}"),m.qZA())}function oe(k,U){if(1&k&&(m.YNc(0,W,2,1,"mat-icon",7),m.YNc(1,te,2,0,"span",8)),2&k){const v=m.oxw().$implicit;m.Q6J("ngIf",v<10),m.xp6(1),m.Q6J("ngIf",v>9)}}function q(k,U){}function ue(k,U){1&k&&(m.TgZ(0,"mat-tab",4),m.YNc(1,oe,2,2,"ng-template",5),m.YNc(2,q,0,0,"ng-template",null,6,m.W1O),m.qZA()),2&k&&m.Q6J("label","W:"+(U.$implicit+1))}let Te=(()=>{class k{constructor(v,O){this.fooInjector=v,this.resolver=O,this.data=[],this.selectedTabIndex=0,this.numbers=[0]}addTab(){this.numbers.push(this.numbers.length),this.selectedTabIndex=this.numbers.length-1}changeSelected(v){this.data.filter(O=>O==v).length>0||(this.data.push(v),this.loadBar(v).then(O=>{}))}ngAfterViewInit(){this.data.push(0),this.loadBar(0).then(v=>{})}loadBar(v){var O=this;return(0,n.Z)(function*(){var ee;try{const Jt=yield Promise.resolve().then(f.bind(f,23367)),Mi=O.resolver.resolveComponentFactory(Jt.DisplayBlocklyComponent);var Le=null===(ee=O.components)||void 0===ee?void 0:ee.get(v);null!=Le&&Le.createComponent(Mi)}catch(Jt){console.error("loading"+v,Jt)}return v})()}ngOnInit(){}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(m.zs3),m.Y36(m._Vd))},k.\u0275cmp=m.Xpm({type:k,selectors:[["app-blockly-studio"]],viewQuery:function(v,O){if(1&v&&m.Gf(F,5,m.s_b),2&v){let ee;m.iGM(ee=m.CRH())&&(O.components=ee)}},decls:7,vars:2,consts:[["mat-icon-button","","color","primary",3,"click"],[3,"selectedIndex","selectedIndexChange"],[3,"label",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"click"],[3,"label"],["mat-tab-label",""],["vcr",""],["aria-hidden","false",4,"ngIf"],[4,"ngIf"],["aria-hidden","false"]],template:function(v,O){1&v&&(m.TgZ(0,"button",0),m.NdJ("click",function(){return O.addTab()}),m.TgZ(1,"mat-icon"),m._uU(2,"add_circle"),m.qZA(),m.qZA(),m.TgZ(3,"mat-tab-group",1),m.NdJ("selectedIndexChange",function(Le){return O.changeSelected(Le)}),m.YNc(4,ue,4,1,"mat-tab",2),m.qZA(),m.TgZ(5,"button",3),m.NdJ("click",function(){return O.addTab()}),m._uU(6,"Add"),m.qZA()),2&v&&(m.xp6(3),m.Q6J("selectedIndex",O.selectedTabIndex),m.xp6(1),m.Q6J("ngForOf",O.numbers))},directives:[a.lW,u.Hw,C.SP,D.sg,C.uX,C.uD,D.O5],styles:[""]}),k})();var le=f(23367);const _e=[{path:"",redirectTo:"automation/main",pathMatch:"full"},{path:"automation/main",component:le.DisplayBlocklyComponent},{path:"automation/studio",component:Te},{path:"automation/loadexample/:demoblock",component:le.DisplayBlocklyComponent},{path:"**",component:le.DisplayBlocklyComponent}];let Pe=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[e.Bz.forRoot(_e)],e.Bz]}),k})();var Ue=f(36170),Se=f(95113),ve=f(54004),se=f(77579),me=f(26063);class ce extends se.x{constructor(U=1/0,v=1/0,O=me.l){super(),this._bufferSize=U,this._windowTime=v,this._timestampProvider=O,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=v===1/0,this._bufferSize=Math.max(1,U),this._windowTime=Math.max(1,v)}next(U){const{isStopped:v,_buffer:O,_infiniteTimeWindow:ee,_timestampProvider:Le,_windowTime:Jt}=this;v||(O.push(U),!ee&&O.push(Le.now()+Jt)),this._trimBuffer(),super.next(U)}_subscribe(U){this._throwIfClosed(),this._trimBuffer();const v=this._innerSubscribe(U),{_infiniteTimeWindow:O,_buffer:ee}=this,Le=ee.slice();for(let Jt=0;Jt<Le.length&&!U.closed;Jt+=O?1:2)U.next(Le[Jt]);return this._checkFinalizedStatuses(U),v}_trimBuffer(){const{_bufferSize:U,_timestampProvider:v,_buffer:O,_infiniteTimeWindow:ee}=this,Le=(ee?1:2)*U;if(U<1/0&&Le<O.length&&O.splice(0,O.length-Le),!ee){const Jt=v.now();let Mi=0;for(let Qi=1;Qi<O.length&&O[Qi]<=Jt;Qi+=2)Mi=Qi;Mi&&O.splice(0,Mi+1)}}}var Ne=f(13099);let Ce=(()=>{class k{constructor(){this.title="",this.footer="",this.startBlocks=[],this.tourSteps=[],this.latestVersion="",this.localAPI="",this.hideMenu=!1}}return k.version="2021.12.30.1600",k})();var de=f(31841),re=f(86403),ot=f(70925),ze=f(30495),De=f(90508),st=f(63191),pt=f(91159),dt=f(54968),Ot=f(56451),kt=f(39300),oi=f(69718),bi=f(82722),ti=f(71884),Rt=f(95698),ii=f(68675),mt=f(78372),Ye=f(41777),Je=f(76360),ut=f(15664),Re=f(50226);const yt=["*"];function zt(k,U){if(1&k){const v=m.EpF();m.TgZ(0,"div",2),m.NdJ("click",function(){return m.CHM(v),m.oxw()._onBackdropClicked()}),m.qZA()}if(2&k){const v=m.oxw();m.ekj("mat-drawer-shown",v._isShowingBackdrop())}}function gi(k,U){1&k&&(m.TgZ(0,"mat-drawer-content"),m.Hsn(1,2),m.qZA())}const wt=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],rt=["mat-drawer","mat-drawer-content","*"];function tt(k,U){if(1&k){const v=m.EpF();m.TgZ(0,"div",2),m.NdJ("click",function(){return m.CHM(v),m.oxw()._onBackdropClicked()}),m.qZA()}if(2&k){const v=m.oxw();m.ekj("mat-drawer-shown",v._isShowingBackdrop())}}function At(k,U){1&k&&(m.TgZ(0,"mat-sidenav-content",3),m.Hsn(1,2),m.qZA())}const lt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],vt=["mat-sidenav","mat-sidenav-content","*"],Ke={transformDrawer:(0,Ye.X$)("transform",[(0,Ye.SB)("open, open-instant",(0,Ye.oB)({transform:"none",visibility:"visible"})),(0,Ye.SB)("void",(0,Ye.oB)({"box-shadow":"none",visibility:"hidden"})),(0,Ye.eR)("void => open-instant",(0,Ye.jt)("0ms")),(0,Ye.eR)("void <=> open, open-instant => void",(0,Ye.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Wt=new m.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Ei(){return!1}}),Kt=new m.OlP("MAT_DRAWER_CONTAINER");let vi=(()=>{class k extends ze.PQ{constructor(v,O,ee,Le,Jt){super(ee,Le,Jt),this._changeDetectorRef=v,this._container=O}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(m.sBO),m.Y36((0,m.Gpc)(()=>Gi)),m.Y36(m.SBq),m.Y36(ze.mF),m.Y36(m.R0b))},k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(v,O){2&v&&m.Udp("margin-left",O._container._contentMargins.left,"px")("margin-right",O._container._contentMargins.right,"px")},features:[m.qOj],ngContentSelectors:yt,decls:1,vars:0,template:function(v,O){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),k})(),pi=(()=>{class k{constructor(v,O,ee,Le,Jt,Mi,Qi,Fn){this._elementRef=v,this._focusTrapFactory=O,this._focusMonitor=ee,this._platform=Le,this._ngZone=Jt,this._interactivityChecker=Mi,this._doc=Qi,this._container=Fn,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new se.x,this._animationEnd=new se.x,this._animationState="void",this.openedChange=new m.vpe(!0),this._openedStream=this.openedChange.pipe((0,kt.h)(en=>en),(0,ve.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,kt.h)(en=>en.fromState!==en.toState&&0===en.toState.indexOf("open")),(0,oi.h)(void 0)),this._closedStream=this.openedChange.pipe((0,kt.h)(en=>!en),(0,ve.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,kt.h)(en=>en.fromState!==en.toState&&"void"===en.toState),(0,oi.h)(void 0)),this._destroyed=new se.x,this.onPositionChanged=new m.vpe,this._modeChanged=new se.x,this.openedChange.subscribe(en=>{en?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,dt.R)(this._elementRef.nativeElement,"keydown").pipe((0,kt.h)(en=>en.keyCode===pt.hY&&!this.disableClose&&!(0,pt.Vb)(en)),(0,bi.R)(this._destroyed)).subscribe(en=>this._ngZone.run(()=>{this.close(),en.stopPropagation(),en.preventDefault()}))}),this._animationEnd.pipe((0,ti.x)((en,kr)=>en.fromState===kr.fromState&&en.toState===kr.toState)).subscribe(en=>{const{fromState:kr,toState:to}=en;(0===to.indexOf("open")&&"void"===kr||"void"===to&&0===kr.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(v){(v="end"===v?"end":"start")!=this._position&&(this._position=v,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(v){this._mode=v,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(v){this._disableClose=(0,st.Ig)(v)}get autoFocus(){const v=this._autoFocus;return null==v?"side"===this.mode?"dialog":"first-tabbable":v}set autoFocus(v){("true"===v||"false"===v)&&(v=(0,st.Ig)(v)),this._autoFocus=v}get opened(){return this._opened}set opened(v){this.toggle((0,st.Ig)(v))}_forceFocus(v,O){this._interactivityChecker.isFocusable(v)||(v.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{v.addEventListener("blur",()=>v.removeAttribute("tabindex")),v.addEventListener("mousedown",()=>v.removeAttribute("tabindex"))})),v.focus(O)}_focusByCssSelector(v,O){let ee=this._elementRef.nativeElement.querySelector(v);ee&&this._forceFocus(ee,O)}_takeFocus(){if(!this._focusTrap)return;const v=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(O=>{!O&&"function"==typeof this._elementRef.nativeElement.focus&&v.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(v){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,v):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){var v;const O=null===(v=this._doc)||void 0===v?void 0:v.activeElement;return!!O&&this._elementRef.nativeElement.contains(O)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(v){return this.toggle(!0,v)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(v=!this.opened,O){v&&O&&(this._openedVia=O);const ee=this._setOpen(v,!v&&this._isFocusWithinDrawer(),this._openedVia||"program");return v||(this._openedVia=null),ee}_setOpen(v,O,ee){return this._opened=v,v?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",O&&this._restoreFocus(ee)),this._updateFocusTrapState(),new Promise(Le=>{this.openedChange.pipe((0,Rt.q)(1)).subscribe(Jt=>Le(Jt?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(m.SBq),m.Y36(ut.qV),m.Y36(ut.tE),m.Y36(ot.t4),m.Y36(m.R0b),m.Y36(ut.ic),m.Y36(D.K0,8),m.Y36(Kt,8))},k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(v,O){1&v&&m.WFA("@transform.start",function(Le){return O._animationStarted.next(Le)})("@transform.done",function(Le){return O._animationEnd.next(Le)}),2&v&&(m.uIk("align",null),m.d8E("@transform",O._animationState),m.ekj("mat-drawer-end","end"===O.position)("mat-drawer-over","over"===O.mode)("mat-drawer-push","push"===O.mode)("mat-drawer-side","side"===O.mode)("mat-drawer-opened",O.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:yt,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(v,O){1&v&&(m.F$t(),m.TgZ(0,"div",0),m.Hsn(1),m.qZA())},directives:[ze.PQ],encapsulation:2,data:{animation:[Ke.transformDrawer]},changeDetection:0}),k})(),Gi=(()=>{class k{constructor(v,O,ee,Le,Jt,Mi=!1,Qi){this._dir=v,this._element=O,this._ngZone=ee,this._changeDetectorRef=Le,this._animationMode=Qi,this._drawers=new m.n_E,this.backdropClick=new m.vpe,this._destroyed=new se.x,this._doCheckSubject=new se.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new se.x,v&&v.change.pipe((0,bi.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),Jt.change().pipe((0,bi.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=Mi}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(v){this._autosize=(0,st.Ig)(v)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(v){this._backdropOverride=null==v?null:(0,st.Ig)(v)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ii.O)(this._allDrawers),(0,bi.R)(this._destroyed)).subscribe(v=>{this._drawers.reset(v.filter(O=>!O._container||O._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ii.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(v=>{this._watchDrawerToggle(v),this._watchDrawerPosition(v),this._watchDrawerMode(v)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,mt.b)(10),(0,bi.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(v=>v.open())}close(){this._drawers.forEach(v=>v.close())}updateContentMargins(){let v=0,O=0;if(this._left&&this._left.opened)if("side"==this._left.mode)v+=this._left._getWidth();else if("push"==this._left.mode){const ee=this._left._getWidth();v+=ee,O-=ee}if(this._right&&this._right.opened)if("side"==this._right.mode)O+=this._right._getWidth();else if("push"==this._right.mode){const ee=this._right._getWidth();O+=ee,v-=ee}v=v||null,O=O||null,(v!==this._contentMargins.left||O!==this._contentMargins.right)&&(this._contentMargins={left:v,right:O},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(v){v._animationStarted.pipe((0,kt.h)(O=>O.fromState!==O.toState),(0,bi.R)(this._drawers.changes)).subscribe(O=>{"open-instant"!==O.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==v.mode&&v.openedChange.pipe((0,bi.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(v.opened))}_watchDrawerPosition(v){!v||v.onPositionChanged.pipe((0,bi.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Rt.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(v){v&&v._modeChanged.pipe((0,bi.R)((0,Ot.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(v){const O=this._element.nativeElement.classList,ee="mat-drawer-container-has-open";v?O.add(ee):O.remove(ee)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(v=>{"end"==v.position?this._end=v:this._start=v}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(v=>v&&!v.disableClose&&this._canHaveBackdrop(v)).forEach(v=>v._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(v){return"side"!==v.mode||!!this._backdropOverride}_isDrawerOpen(v){return null!=v&&v.opened}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(Re.Is,8),m.Y36(m.SBq),m.Y36(m.R0b),m.Y36(m.sBO),m.Y36(ze.rL),m.Y36(Wt),m.Y36(Je.Qb,8))},k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-drawer-container"]],contentQueries:function(v,O,ee){if(1&v&&(m.Suo(ee,vi,5),m.Suo(ee,pi,5)),2&v){let Le;m.iGM(Le=m.CRH())&&(O._content=Le.first),m.iGM(Le=m.CRH())&&(O._allDrawers=Le)}},viewQuery:function(v,O){if(1&v&&m.Gf(vi,5),2&v){let ee;m.iGM(ee=m.CRH())&&(O._userContent=ee.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(v,O){2&v&&m.ekj("mat-drawer-container-explicit-backdrop",O._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[m._Bn([{provide:Kt,useExisting:k}])],ngContentSelectors:rt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(v,O){1&v&&(m.F$t(wt),m.YNc(0,zt,1,2,"div",0),m.Hsn(1),m.Hsn(2,1),m.YNc(3,gi,2,0,"mat-drawer-content",1)),2&v&&(m.Q6J("ngIf",O.hasBackdrop),m.xp6(3),m.Q6J("ngIf",!O._content))},directives:[D.O5,vi],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),k})(),Di=(()=>{class k extends vi{constructor(v,O,ee,Le,Jt){super(v,O,ee,Le,Jt)}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(m.sBO),m.Y36((0,m.Gpc)(()=>_t)),m.Y36(m.SBq),m.Y36(ze.mF),m.Y36(m.R0b))},k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(v,O){2&v&&m.Udp("margin-left",O._container._contentMargins.left,"px")("margin-right",O._container._contentMargins.right,"px")},features:[m.qOj],ngContentSelectors:yt,decls:1,vars:0,template:function(v,O){1&v&&(m.F$t(),m.Hsn(0))},encapsulation:2,changeDetection:0}),k})(),an=(()=>{class k extends pi{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(v){this._fixedInViewport=(0,st.Ig)(v)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(v){this._fixedTopGap=(0,st.su)(v)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(v){this._fixedBottomGap=(0,st.su)(v)}}return k.\u0275fac=function(){let U;return function(O){return(U||(U=m.n5z(k)))(O||k)}}(),k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(v,O){2&v&&(m.uIk("align",null),m.Udp("top",O.fixedInViewport?O.fixedTopGap:null,"px")("bottom",O.fixedInViewport?O.fixedBottomGap:null,"px"),m.ekj("mat-drawer-end","end"===O.position)("mat-drawer-over","over"===O.mode)("mat-drawer-push","push"===O.mode)("mat-drawer-side","side"===O.mode)("mat-drawer-opened",O.opened)("mat-sidenav-fixed",O.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[m.qOj],ngContentSelectors:yt,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(v,O){1&v&&(m.F$t(),m.TgZ(0,"div",0),m.Hsn(1),m.qZA())},directives:[ze.PQ],encapsulation:2,data:{animation:[Ke.transformDrawer]},changeDetection:0}),k})(),_t=(()=>{class k extends Gi{}return k.\u0275fac=function(){let U;return function(O){return(U||(U=m.n5z(k)))(O||k)}}(),k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-sidenav-container"]],contentQueries:function(v,O,ee){if(1&v&&(m.Suo(ee,Di,5),m.Suo(ee,an,5)),2&v){let Le;m.iGM(Le=m.CRH())&&(O._content=Le.first),m.iGM(Le=m.CRH())&&(O._allDrawers=Le)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(v,O){2&v&&m.ekj("mat-drawer-container-explicit-backdrop",O._backdropOverride)},exportAs:["matSidenavContainer"],features:[m._Bn([{provide:Kt,useExisting:k}]),m.qOj],ngContentSelectors:vt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(v,O){1&v&&(m.F$t(lt),m.YNc(0,tt,1,2,"div",0),m.Hsn(1),m.Hsn(2,1),m.YNc(3,At,2,0,"mat-sidenav-content",1)),2&v&&(m.Q6J("ngIf",O.hasBackdrop),m.xp6(3),m.Q6J("ngIf",!O._content))},directives:[D.O5,Di,ze.PQ],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),k})(),Mt=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[D.ez,De.BQ,ot.ud,ze.ZD],ze.ZD,De.BQ]}),k})();const _i=["*",[["mat-toolbar-row"]]],yi=["*","mat-toolbar-row"],Fi=(0,De.pj)(class{constructor(k){this._elementRef=k}});let Pi=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275dir=m.lG2({type:k,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),k})(),gn=(()=>{class k extends Fi{constructor(v,O,ee){super(v),this._platform=O,this._document=ee}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(m.SBq),m.Y36(ot.t4),m.Y36(D.K0))},k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-toolbar"]],contentQueries:function(v,O,ee){if(1&v&&m.Suo(ee,Pi,5),2&v){let Le;m.iGM(Le=m.CRH())&&(O._toolbarRows=Le)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(v,O){2&v&&m.ekj("mat-toolbar-multiple-rows",O._toolbarRows.length>0)("mat-toolbar-single-row",0===O._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[m.qOj],ngContentSelectors:yi,decls:2,vars:0,template:function(v,O){1&v&&(m.F$t(_i),m.Hsn(0),m.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),k})(),Tt=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[De.BQ],De.BQ]}),k})(),An=(()=>{class k{constructor(){this._listeners=[]}notify(v,O){for(let ee of this._listeners)ee(v,O)}listen(v){return this._listeners.push(v),()=>{this._listeners=this._listeners.filter(O=>v!==O)}}ngOnDestroy(){this._listeners=[]}}return k.\u0275fac=function(v){return new(v||k)},k.\u0275prov=m.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();var si=f(4834);const $t=["*"],di=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],Ri=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Jr=(0,De.Id)((0,De.Kr)(class{})),Qr=(0,De.Kr)(class{}),bo=new m.OlP("MatList"),Dr=new m.OlP("MatNavList");let dr=(()=>{class k extends Jr{constructor(){super(...arguments),this._stateChanges=new se.x}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return k.\u0275fac=function(){let U;return function(O){return(U||(U=m.n5z(k)))(O||k)}}(),k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[m._Bn([{provide:Dr,useExisting:k}]),m.qOj,m.TTD],ngContentSelectors:$t,decls:1,vars:0,template:function(v,O){1&v&&(m.F$t(),m.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:transparent}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:transparent;text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-selection-list:focus{outline-style:dotted}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-list-option:focus,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:focus,.cdk-high-contrast-active mat-action-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:focus{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}\n'],encapsulation:2,changeDetection:0}),k})(),ar=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275dir=m.lG2({type:k,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),k})(),xi=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275dir=m.lG2({type:k,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),k})(),mr=(()=>{class k extends Qr{constructor(v,O,ee,Le){super(),this._element=v,this._isInteractiveList=!1,this._destroyed=new se.x,this._disabled=!1,this._isInteractiveList=!!(ee||Le&&"action-list"===Le._getListType()),this._list=ee||Le;const Jt=this._getHostElement();"button"===Jt.nodeName.toLowerCase()&&!Jt.hasAttribute("type")&&Jt.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe((0,bi.R)(this._destroyed)).subscribe(()=>{O.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(v){this._disabled=(0,st.Ig)(v)}ngAfterContentInit(){(0,De.E0)(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(m.SBq),m.Y36(m.sBO),m.Y36(Dr,8),m.Y36(bo,8))},k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(v,O,ee){if(1&v&&(m.Suo(ee,ar,5),m.Suo(ee,xi,5),m.Suo(ee,De.X2,5)),2&v){let Le;m.iGM(Le=m.CRH())&&(O._avatar=Le.first),m.iGM(Le=m.CRH())&&(O._icon=Le.first),m.iGM(Le=m.CRH())&&(O._lines=Le)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:6,hostBindings:function(v,O){2&v&&m.ekj("mat-list-item-disabled",O.disabled)("mat-list-item-avatar",O._avatar||O._icon)("mat-list-item-with-avatar",O._avatar||O._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[m.qOj],ngContentSelectors:Ri,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(v,O){1&v&&(m.F$t(di),m.TgZ(0,"div",0),m._UZ(1,"div",1),m.Hsn(2),m.TgZ(3,"div",2),m.Hsn(4,1),m.qZA(),m.Hsn(5,2),m.qZA()),2&v&&(m.xp6(1),m.Q6J("matRippleTrigger",O._getHostElement())("matRippleDisabled",O._isRippleDisabled()))},directives:[De.wG],encapsulation:2,changeDetection:0}),k})(),Bn=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[De.uc,De.si,De.BQ,De.us,D.ez],De.uc,De.BQ,De.us,si.t]}),k})();var Ln=f(50727);const Ft=new m.OlP("CdkAccordion");let Yi=0,Ji=(()=>{class k{constructor(v,O,ee){this.accordion=v,this._changeDetectorRef=O,this._expansionDispatcher=ee,this._openCloseAllSubscription=Ln.w0.EMPTY,this.closed=new m.vpe,this.opened=new m.vpe,this.destroyed=new m.vpe,this.expandedChange=new m.vpe,this.id="cdk-accordion-child-"+Yi++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=ee.listen((Le,Jt)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===Jt&&this.id!==Le&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}get expanded(){return this._expanded}set expanded(v){v=(0,st.Ig)(v),this._expanded!==v&&(this._expanded=v,this.expandedChange.emit(v),v?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(v){this._disabled=(0,st.Ig)(v)}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(v=>{this.disabled||(this.expanded=v)})}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(Ft,12),m.Y36(m.sBO),m.Y36(An))},k.\u0275dir=m.lG2({type:k,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[m._Bn([{provide:Ft,useValue:void 0}])]}),k})(),sr=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({}),k})();var Qn=f(47429),or=f(60515);const Sn=["body"];function Qo(k,U){}const uo=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],io=["mat-expansion-panel-header","*","mat-action-row"];function Io(k,U){if(1&k&&m._UZ(0,"span",2),2&k){const v=m.oxw();m.Q6J("@indicatorRotate",v._getExpandedState())}}const lr=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Gs=["mat-panel-title","mat-panel-description","*"],jo=new m.OlP("MAT_ACCORDION"),no="225ms cubic-bezier(0.4,0.0,0.2,1)",Eo={indicatorRotate:(0,Ye.X$)("indicatorRotate",[(0,Ye.SB)("collapsed, void",(0,Ye.oB)({transform:"rotate(0deg)"})),(0,Ye.SB)("expanded",(0,Ye.oB)({transform:"rotate(180deg)"})),(0,Ye.eR)("expanded <=> collapsed, void => collapsed",(0,Ye.jt)(no))]),bodyExpansion:(0,Ye.X$)("bodyExpansion",[(0,Ye.SB)("collapsed, void",(0,Ye.oB)({height:"0px",visibility:"hidden"})),(0,Ye.SB)("expanded",(0,Ye.oB)({height:"*",visibility:"visible"})),(0,Ye.eR)("expanded <=> collapsed, void => collapsed",(0,Ye.jt)(no))])};let Ua=(()=>{class k{constructor(v){this._template=v}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(m.Rgc))},k.\u0275dir=m.lG2({type:k,selectors:[["ng-template","matExpansionPanelContent",""]]}),k})(),So=0;const hs=new m.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let ia=(()=>{class k extends Ji{constructor(v,O,ee,Le,Jt,Mi,Qi){super(v,O,ee),this._viewContainerRef=Le,this._animationMode=Mi,this._hideToggle=!1,this.afterExpand=new m.vpe,this.afterCollapse=new m.vpe,this._inputChanges=new se.x,this._headerId="mat-expansion-panel-header-"+So++,this._bodyAnimationDone=new se.x,this.accordion=v,this._document=Jt,this._bodyAnimationDone.pipe((0,ti.x)((Fn,en)=>Fn.fromState===en.fromState&&Fn.toState===en.toState)).subscribe(Fn=>{"void"!==Fn.fromState&&("expanded"===Fn.toState?this.afterExpand.emit():"collapsed"===Fn.toState&&this.afterCollapse.emit())}),Qi&&(this.hideToggle=Qi.hideToggle)}get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(v){this._hideToggle=(0,st.Ig)(v)}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(v){this._togglePosition=v}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this.opened.pipe((0,ii.O)(null),(0,kt.h)(()=>this.expanded&&!this._portal),(0,Rt.q)(1)).subscribe(()=>{this._portal=new Qn.UE(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(v){this._inputChanges.next(v)}ngOnDestroy(){super.ngOnDestroy(),this._bodyAnimationDone.complete(),this._inputChanges.complete()}_containsFocus(){if(this._body){const v=this._document.activeElement,O=this._body.nativeElement;return v===O||O.contains(v)}return!1}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(jo,12),m.Y36(m.sBO),m.Y36(An),m.Y36(m.s_b),m.Y36(D.K0),m.Y36(Je.Qb,8),m.Y36(hs,8))},k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-expansion-panel"]],contentQueries:function(v,O,ee){if(1&v&&m.Suo(ee,Ua,5),2&v){let Le;m.iGM(Le=m.CRH())&&(O._lazyContent=Le.first)}},viewQuery:function(v,O){if(1&v&&m.Gf(Sn,5),2&v){let ee;m.iGM(ee=m.CRH())&&(O._body=ee.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(v,O){2&v&&m.ekj("mat-expanded",O.expanded)("_mat-animation-noopable","NoopAnimations"===O._animationMode)("mat-expansion-panel-spacing",O._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[m._Bn([{provide:jo,useValue:void 0}]),m.qOj,m.TTD],ngContentSelectors:io,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(v,O){1&v&&(m.F$t(uo),m.Hsn(0),m.TgZ(1,"div",0,1),m.NdJ("@bodyExpansion.done",function(Le){return O._bodyAnimationDone.next(Le)}),m.TgZ(3,"div",2),m.Hsn(4,1),m.YNc(5,Qo,0,0,"ng-template",3),m.qZA(),m.Hsn(6,2),m.qZA()),2&v&&(m.xp6(1),m.Q6J("@bodyExpansion",O._getExpandedState())("id",O.id),m.uIk("aria-labelledby",O._headerId),m.xp6(4),m.Q6J("cdkPortalOutlet",O._portal))},directives:[Qn.Pl],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Eo.bodyExpansion]},changeDetection:0}),k})();class Ia{}const pl=(0,De.sb)(Ia);let Os=(()=>{class k extends pl{constructor(v,O,ee,Le,Jt,Mi,Qi){super(),this.panel=v,this._element=O,this._focusMonitor=ee,this._changeDetectorRef=Le,this._animationMode=Mi,this._parentChangeSubscription=Ln.w0.EMPTY;const Fn=v.accordion?v.accordion._stateChanges.pipe((0,kt.h)(en=>!(!en.hideToggle&&!en.togglePosition))):or.E;this.tabIndex=parseInt(Qi||"")||0,this._parentChangeSubscription=(0,Ot.T)(v.opened,v.closed,Fn,v._inputChanges.pipe((0,kt.h)(en=>!!(en.hideToggle||en.disabled||en.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),v.closed.pipe((0,kt.h)(()=>v._containsFocus())).subscribe(()=>ee.focusVia(O,"program")),Jt&&(this.expandedHeight=Jt.expandedHeight,this.collapsedHeight=Jt.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const v=this._isExpanded();return v&&this.expandedHeight?this.expandedHeight:!v&&this.collapsedHeight?this.collapsedHeight:null}_keydown(v){switch(v.keyCode){case pt.L_:case pt.K5:(0,pt.Vb)(v)||(v.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(v))}}focus(v,O){v?this._focusMonitor.focusVia(this._element,v,O):this._element.nativeElement.focus(O)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(v=>{v&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(ia,1),m.Y36(m.SBq),m.Y36(ut.tE),m.Y36(m.sBO),m.Y36(hs,8),m.Y36(Je.Qb,8),m.$8M("tabindex"))},k.\u0275cmp=m.Xpm({type:k,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(v,O){1&v&&m.NdJ("click",function(){return O._toggle()})("keydown",function(Le){return O._keydown(Le)}),2&v&&(m.uIk("id",O.panel._headerId)("tabindex",O.tabIndex)("aria-controls",O._getPanelId())("aria-expanded",O._isExpanded())("aria-disabled",O.panel.disabled),m.Udp("height",O._getHeaderHeight()),m.ekj("mat-expanded",O._isExpanded())("mat-expansion-toggle-indicator-after","after"===O._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===O._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===O._animationMode))},inputs:{tabIndex:"tabIndex",expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},features:[m.qOj],ngContentSelectors:Gs,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(v,O){1&v&&(m.F$t(lr),m.TgZ(0,"span",0),m.Hsn(1),m.Hsn(2,1),m.Hsn(3,2),m.qZA(),m.YNc(4,Io,1,1,"span",1)),2&v&&(m.xp6(4),m.Q6J("ngIf",O._showToggle()))},directives:[D.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}\n'],encapsulation:2,data:{animation:[Eo.indicatorRotate]},changeDetection:0}),k})(),Ga=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275dir=m.lG2({type:k,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),k})(),pa=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[D.ez,De.BQ,sr,Qn.eL]]}),k})();var Oa=f(92181);const Ws=function(k){return["/","automation","loadexample",k]};function ns(k,U){if(1&k&&(m.TgZ(0,"a",24),m.TgZ(1,"mat-icon"),m._uU(2," https "),m.qZA(),m._uU(3),m.qZA()),2&k){const v=U.index,O=U.$implicit;m.Q6J("routerLink",m.VKq(3,Ws,O.id)),m.xp6(3),m.AsE(" ",v+1," ",O.description,"")}}function nl(k,U){if(1&k){const v=m.EpF();m.TgZ(0,"button",26),m.NdJ("click",function(){return m.CHM(v),m.oxw(),m.MAs(2).toggle()}),m.TgZ(1,"mat-icon",27),m._uU(2,"menu"),m.qZA(),m.qZA()}}function Wa(k,U){if(1&k&&(m.TgZ(0,"span",28),m._uU(1),m.qZA()),2&k){const v=m.oxw();m.xp6(1),m.AsE(" ",v.version," => ",v.latestVersion," ")}}const rs=function(){return["/","automation","studio"]},Ur=function(){return["/","automation","main"]};let Pr=(()=>{class k{constructor(v,O,ee){this.breakpointObserver=v,this.details=O,this.ta=ee,this.demoBlocks=[],this.isHandset$=this.breakpointObserver.observe(Se.u3.Handset).pipe((0,ve.U)(Le=>Le.matches||!0),function Ae(k,U,v){var O,ee;let Le,Jt=!1;return k&&"object"==typeof k?(Le=null!==(O=k.bufferSize)&&void 0!==O?O:1/0,U=null!==(ee=k.windowTime)&&void 0!==ee?ee:1/0,Jt=!!k.refCount,v=k.scheduler):Le=null!=k?k:1/0,(0,Ne.B)({connector:()=>new ce(Le,U,v),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Jt})}()),this.version=Ce.version,this.latestVersion="",this.title="Blockly Automation",this.footer="",this.standalone=!1,this.d=new de._E,this.hideMenu=!1}ngOnInit(){var v,O,ee,Le,Jt,Mi,Qi;window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.toggle("dark-theme"),this.latestVersion=null===(v=this.details.settings)||void 0===v?void 0:v.latestVersion,this.hideMenu=null!==(ee=null===(O=this.details.settings)||void 0===O?void 0:O.hideMenu)&&void 0!==ee&&ee,this.demoBlocks=this.details.demoBlocks.sort((en,kr)=>en.description.localeCompare(kr.description)),this.title=(null===(Jt=null===(Le=this.details)||void 0===Le?void 0:Le.settings)||void 0===Jt?void 0:Jt.title)||"Blockly Automation",this.footer=(null===(Qi=null===(Mi=this.details)||void 0===Mi?void 0:Mi.settings)||void 0===Qi?void 0:Qi.footer)||"",(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&(this.standalone=!0)}executeOnDisplayBlockly(v){this.ta.sendDataToServer("DisplayBlocklyComponent",v)}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(Se.Yg),m.Y36(Ue.d),m.Y36(re.v))},k.\u0275cmp=m.Xpm({type:k,selectors:[["app-primary-navig"]],decls:84,vars:27,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav",3,"mode","opened"],["drawer",""],["mat-list-item","","routerLink","/"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation","target","_blank"],["mat-list-item","","href","https://ignatandrei.github.io/BlocklyAutomation","target","_blank"],["mat-list-item","","target","_blank",3,"routerLink",4,"ngFor","ngForOf"],["color","primary",1,"nav-bar"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click",4,"ngIf"],[3,"title"],[1,"example-spacer"],["mat-mini-fab","","color","primary",3,"click"],["id","download","mat-button","",3,"matMenuTriggerFor"],["download","matMenu"],["mat-list-item","",4,"ngIf"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseBlocklyAutomation.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseLin.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseWin.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseIISWin.zip/","target","_blank"],["mat-list-item","","href","https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseLocalAPI.zip/","target","_blank"],["mat-list-item","","href","http://ba.serviciipeweb.ro/","target","_blank"],["mat-list-item","","href","https://www.microsoft.com/en-us/p/blocklyautomation/9mxnwjt6zpd0","target","_blank"],["mat-button","",3,"matMenuTriggerFor"],["examples","matMenu"],["mat-list-item","","target","_blank",3,"routerLink"],[1,"main-content"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"],["mat-list-item",""]],template:function(v,O){if(1&v&&(m.TgZ(0,"mat-sidenav-container",0),m.TgZ(1,"mat-sidenav",1,2),m.ALo(3,"async"),m.ALo(4,"async"),m.ALo(5,"async"),m.TgZ(6,"mat-toolbar"),m.TgZ(7,"a",3),m._uU(8,"Menu"),m.qZA(),m.qZA(),m.TgZ(9,"mat-nav-list"),m.TgZ(10,"a",4),m.TgZ(11,"mat-icon"),m._uU(12," source "),m.qZA(),m._uU(13," Github"),m.qZA(),m._UZ(14,"mat-divider"),m.TgZ(15,"a",5),m.TgZ(16,"mat-icon"),m._uU(17," https "),m.qZA(),m._uU(18," Demo online"),m.qZA(),m._UZ(19,"mat-divider"),m.TgZ(20,"mat-expansion-panel"),m.TgZ(21,"mat-expansion-panel-header"),m.TgZ(22,"mat-panel-title"),m._uU(23),m.qZA(),m.qZA(),m.YNc(24,ns,4,5,"a",6),m.qZA(),m.qZA(),m.qZA(),m.TgZ(25,"mat-sidenav-content"),m.TgZ(26,"mat-toolbar",7),m.YNc(27,nl,3,0,"button",8),m.ALo(28,"async"),m.TgZ(29,"span",9),m._uU(30),m.qZA(),m._UZ(31,"span",10),m.TgZ(32,"button",11),m.NdJ("click",function(){return O.executeOnDisplayBlockly("createIntro")}),m.TgZ(33,"mat-icon"),m._uU(34," help_outline "),m.qZA(),m.qZA(),m.TgZ(35,"button",12),m.TgZ(36,"mat-icon"),m._uU(37," file_download "),m.qZA(),m.qZA(),m.TgZ(38,"mat-menu",null,13),m.YNc(40,Wa,2,2,"span",14),m.TgZ(41,"a",15),m._uU(42," Download HTML"),m.qZA(),m.TgZ(43,"a",16),m._uU(44," Download Linux"),m.qZA(),m.TgZ(45,"a",17),m._uU(46," Download Windows"),m.qZA(),m.TgZ(47,"a",18),m._uU(48," Download IIS"),m.qZA(),m.TgZ(49,"a",19),m._uU(50," Download LocalAPI"),m.qZA(),m.TgZ(51,"a",20),m._uU(52," Download WPF"),m.qZA(),m.TgZ(53,"a",21),m._uU(54," Store"),m.qZA(),m.qZA(),m.TgZ(55,"button",22),m.TgZ(56,"mat-icon"),m._uU(57," source "),m.qZA(),m.qZA(),m.TgZ(58,"mat-menu",null,23),m.TgZ(60,"a",24),m.TgZ(61,"mat-icon"),m._uU(62," star "),m.qZA(),m._uU(63,"Studio "),m.qZA(),m.TgZ(64,"a",24),m.TgZ(65,"mat-icon"),m._uU(66," star_half "),m.qZA(),m._uU(67,"Single "),m.qZA(),m.TgZ(68,"a",4),m.TgZ(69,"mat-icon"),m._uU(70," source "),m.qZA(),m._uU(71," Github"),m.qZA(),m._UZ(72,"mat-divider"),m.TgZ(73,"a",5),m.TgZ(74,"mat-icon"),m._uU(75," https "),m.qZA(),m._uU(76," Demo online"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(77,"div",25),m._UZ(78,"router-outlet"),m.qZA(),m.qZA(),m.qZA(),m.TgZ(79,"footer"),m.TgZ(80,"small"),m._uU(81),m.qZA(),m.TgZ(82,"small"),m._uU(83),m.qZA(),m.qZA()),2&v){const ee=m.MAs(39),Le=m.MAs(59);m.xp6(1),m.Q6J("mode",m.lcZ(4,19,O.isHandset$)?"over":"side")("opened",!1===m.lcZ(5,21,O.isHandset$)),m.uIk("role",m.lcZ(3,17,O.isHandset$)?"dialog":"navigation"),m.xp6(22),m.hij(" Demos ",O.demoBlocks.length," "),m.xp6(1),m.Q6J("ngForOf",O.demoBlocks),m.xp6(3),m.Q6J("ngIf",!O.hideMenu&&m.lcZ(28,23,O.isHandset$)),m.xp6(2),m.s9C("title",O.version),m.xp6(1),m.Oqu(O.title),m.xp6(5),m.Q6J("matMenuTriggerFor",ee),m.xp6(5),m.Q6J("ngIf",O.version!=O.latestVersion),m.xp6(15),m.Q6J("matMenuTriggerFor",Le),m.xp6(5),m.Q6J("routerLink",m.DdM(25,rs)),m.xp6(4),m.Q6J("routerLink",m.DdM(26,Ur)),m.xp6(17),m.Oqu(O.footer),m.xp6(2),m.lnq("",O.standalone?"standalone":"browser"," ",O.version," -> ",O.latestVersion,"")}},directives:[_t,an,gn,mr,e.yS,dr,u.Hw,si.d,ia,Os,Ga,D.sg,Di,D.O5,a.lW,Oa.p6,Oa.VK,e.lC],pipes:[D.Ov],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;width:100%}.sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.sidenav[_ngcontent-%COMP%]   .mat-toolbar[_ngcontent-%COMP%]{background:inherit}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.main-content[_ngcontent-%COMP%]{height:97%;width:100%}.nav-bar[_ngcontent-%COMP%]{height:3%;width:100%}"]}),k})(),na=(()=>{class k{constructor(v,O){var ee,Le;this.titleService=v,this.title="AutoBlocklyApp",console.log(null===(ee=O.settings)||void 0===ee?void 0:ee.title),this.titleService.setTitle((null===(Le=O.settings)||void 0===Le?void 0:Le.title)||"")}}return k.\u0275fac=function(v){return new(v||k)(m.Y36(E.Dx),m.Y36(Ue.d))},k.\u0275cmp=m.Xpm({type:k,selectors:[["app-root"]],decls:1,vars:0,template:function(v,O){1&v&&m._UZ(0,"app-primary-navig")},directives:[Pr],styles:[""]}),k})();var Oo=f(40520),Bo=f(91079);let Do=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[ut.rt,De.BQ],De.BQ]}),k})();var Mo=f(91314);let Ta=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[Mo.U8,De.BQ,Qn.eL],De.BQ]}),k})(),Ti=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[De.BQ,De.si],De.BQ]}),k})(),X=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[De.BQ],De.BQ]}),k})();var ye=f(17144);let jr=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({}),k})(),_o=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[De.si,De.BQ,ye.Q8,jr],De.BQ,jr]}),k})();var zo=f(67322);const os=new m.OlP("mat-chips-default-options");let $s=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({providers:[De.rD,{provide:os,useValue:{separatorKeyCodes:[pt.K5]}}],imports:[[De.BQ]]}),k})(),La=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[Re.vT]]}),k})(),Q=(()=>{class k{constructor(){this.changes=new se.x,this.optionalLabel="Optional",this.completedLabel="Completed",this.editableLabel="Editable"}}return k.\u0275fac=function(v){return new(v||k)},k.\u0275prov=m.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Ge={provide:Q,deps:[[new m.FiY,new m.tp0,Q]],useFactory:function Oe(k){return k||new Q}};let Qs=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({providers:[Ge,De.rD],imports:[[De.BQ,D.ez,Qn.eL,a.ot,La,u.Ps,De.si],De.BQ]}),k})();var Da=f(77531);let Sc=(()=>{class k{constructor(){this.changes=new se.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(v,O){return`${v} \u2013 ${O}`}}return k.\u0275fac=function(v){return new(v||k)},k.\u0275prov=m.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const nc={provide:new m.OlP("mat-datepicker-scroll-strategy"),deps:[Mo.aV],useFactory:function Mu(k){return()=>k.scrollStrategies.reposition()}};let pc=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({providers:[Sc,nc],imports:[[D.ez,a.ot,Mo.U8,ut.rt,Qn.eL,De.BQ],ze.ZD]}),k})();var so=f(48966),Ll=f(43954);const gc={provide:new m.OlP("mat-select-scroll-strategy"),deps:[Mo.aV],useFactory:function Au(k){return()=>k.scrollStrategies.reposition()}};let Zt=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({providers:[gc],imports:[[D.ez,Mo.U8,De.Ng,De.BQ],ze.ZD,zo.lN,De.Ng,De.BQ]}),k})();const zr={provide:new m.OlP("mat-tooltip-scroll-strategy"),deps:[Mo.aV],useFactory:function yo(k){return()=>k.scrollStrategies.reposition({scrollThrottle:20})}};let hl=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({providers:[zr],imports:[[ut.rt,D.ez,Mo.U8,De.BQ],De.BQ,ze.ZD]}),k})(),mc=(()=>{class k{constructor(){this.changes=new se.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(v,O,ee)=>{if(0==ee||0==O)return`0 of ${ee}`;const Le=v*O;return`${Le+1} \u2013 ${Le<(ee=Math.max(ee,0))?Math.min(Le+O,ee):Le+O} of ${ee}`}}}return k.\u0275fac=function(v){return new(v||k)},k.\u0275prov=m.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const Xu={provide:mc,deps:[[new m.FiY,new m.tp0,mc]],useFactory:function _c(k){return k||new mc}};let Jc=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({providers:[Xu],imports:[[D.ez,a.ot,Zt,hl,De.BQ]]}),k})(),Md=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[D.ez,De.BQ],De.BQ]}),k})();var xd=f(20773);let ud=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[De.si,De.BQ],De.BQ]}),k})(),eu=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[D.ez,De.BQ],De.BQ]}),k})(),b=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({}),k})(),x=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[b,De.si,De.BQ,ye.Q8],b,De.BQ]}),k})();var M=f(57261);let ci=(()=>{class k{constructor(){this.changes=new se.x}}return k.\u0275fac=function(v){return new(v||k)},k.\u0275prov=m.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();const zi={provide:ci,deps:[[new m.FiY,new m.tp0,ci]],useFactory:function ki(k){return k||new ci}};let Zn=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({providers:[zi],imports:[[D.ez,De.BQ]]}),k})();f(32076),f(61135),f(68306),f(30576),f(39646);let Bc=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[ze.Cl]]}),k})(),ap=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[Bc,De.BQ],De.BQ]}),k})(),Ph=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({}),k})(),vd=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k}),k.\u0275inj=m.cJS({imports:[[Ph,De.BQ],De.BQ]}),k})();var yh=f(33);class ih extends e.sz{parse(U){return super.parse(U.toLowerCase())}}let bh=(()=>{class k{}return k.\u0275fac=function(v){return new(v||k)},k.\u0275mod=m.oAB({type:k,bootstrap:[na]}),k.\u0275inj=m.cJS({providers:[Ue.d,re.v,{provide:m.ip1,useFactory:Eh,deps:[Ue.d],multi:!0},{provide:e.Hx,useClass:ih}],imports:[[E.b2,yh.k,Pe,t.u5,t.UX,Je.PW,eu,a.ot,Oo.JF,Bo.Bb,Do,Ta,a.ot,Ti,X,_o,$s,Qs,pc,so.Is,si.t,pa,Ll.N6,u.Ps,Da.c,Bn,Oa.Tx,De.XK,Jc,Md,xd.Cq,ud,De.si,Zt,Mt,eu,x,M.ZX,Zn,ap,C.Nh,Tt,hl,vd,Tt,a.ot,Mt,u.Ps,Bn]]}),k})();function Eh(k){return()=>k.Init()}(0,m.G48)(),E.q6().bootstrapModule(bh).catch(k=>console.error(k))},70744:(B,K,f)=>{"use strict";f.d(K,{L:()=>t});var E=f(15861),m=f(76279);class t{constructor(n){this.swaggerUrl=n,this.GenerateBlocks=[],this.GenerateFunctions=[],this.fieldXMLObjects=[],this.fieldXMLFunctions=[],this.hasError=!0,this.paths=[],this.name="",this.operations=[],this.basePath="",this.tagsSwagger=[],this.openApiDocument=null,this.cacheCategSwaggerFromPaths=[]}ParseSwagger(){var n=this;return(0,E.Z)(function*(){var a,u=n;u.fieldXMLObjects.push(`<label text="${u.swaggerUrl}"></label>`),u.fieldXMLFunctions.push({id:"",gui:`<label text="${u.swaggerUrl}"></label>`,methodAPI:null});var C=null;try{var D=yield f(57217).default(n.swaggerUrl);C=D.spec}catch(te){return console.error(`parseSwagger ${n.swaggerUrl}`,te),u.fieldXMLObjects.push("<label text='Error parsing!'></label>"),n}n.hasError=!1,n.basePath=C.basePath||"",0==n.basePath.length&&C.servers&&C.servers.length>0&&(n.basePath=C.servers[0].url);var F=null===(a=C.components)||void 0===a?void 0:a.schemas;return(null==F||null==F)&&(F=C.definitions),F?Object.keys(F).sort().forEach(function(te){var oe=F[te],q=u.findProperties(oe),ue=`<block type="${te}">`;q.forEach(function(Te){if(Te.value&&Te.value.type){var le=u.GenerateShadowField(Te.value.type,Te.key,null);le.length>0&&(ue+=`<value name="val_${Te.key}">${le}</value>`)}}),u.fieldXMLObjects.push(ue+="</block>"),u.GenerateBlocks.push(u.GenerateBlock(oe,te))}):console.log("_A",C),C.paths&&Object.keys(C.paths).forEach(function(te){var oe=C.paths[te];u.paths.push({id:te,nrOps:Object.keys(oe).length}),Object.keys(oe).forEach(function(q){u.GenerateFunctions.push(u.GenerateFunction(oe,te,oe[q],q))})}),u.openApiDocument=C,u})()}categSwagger(){var n=this.findHostNameRegular();(n=n.split(".").join("")).length>5&&n.substring(0,5);var C=this.nameCategSwagger();return'<category name="Objects" custom="objects_'+C+'"></category><category name="AllApi" custom="AllApi_'+C+'"></category>'}GenerateBlock(n,a){var u=this,C=a,F=u.findProperties(n);return function(W,te,oe){m.getMainWorkspace()||(console.log("fix for #38 set mainWorkspace"),m.mainWorkspace=oe,console.log("fix for #38  after focus",m.getMainWorkspace())),W[C]={init:function(){var q=!1,ue=[];n.enum&&(q=!0,ue=Object.keys(n.enum).map(n["x-enumNames"]?_e=>[n["x-enumNames"][_e],_e]:_e=>[n.enum[_e],_e]));var le=this.appendDummyInput().appendField(a);q?(ue=ue.map(_e=>{var Pe,Ue;return[null===(Pe=_e[0])||void 0===Pe?void 0:Pe.toString(),null===(Ue=_e[1])||void 0===Ue?void 0:Ue.toString()]}),le.appendField(new m.FieldDropdown(ue),`val_${a}`)):F.forEach(_e=>{var Pe,Ue=_e.key;if(_e.value.nullable&&0==_e.value.nullable&&(Ue+="*"),null===(Pe=_e.value)||void 0===Pe?void 0:Pe.type){var Se=_e.value.type||"";if("object"==Se){var ve=_e.value.$$ref||"";ve.length>0&&(Se=ve.substring(ve.lastIndexOf("/")+1))}Ue+=":"+Se}_e.value.$ref&&(Ue+="->"+_e.value.$ref.replaceAll("#/components/schemas/","")),this.appendValueInput(`val_${_e.key}`).appendField(`${Ue}`)}),this.setOutput(!0,C)}},te[C]=function(q){{var ue=!1;n.enum&&(ue=!0);var Te=u.findProperties(n);const Ue=99,Se=0;var _e="",le=[];return Te.forEach(ve=>{let se=te.valueToCode(q,`val_${ve.key}`,Se);""===se&&(se="null"),null==se&&(se="null"),le.push(`"${ve.key}":${se}`)}),_e="{ "+le.join(",")+" }",ue&&(_e=q.getFieldValue(`val_${a}`)),[_e,Ue]}}}}findRootSite(){var n,a,u="";if((null===(a=null===(n=this.openApiDocument)||void 0===n?void 0:n.host)||void 0===a?void 0:a.length)>0){var C=this.openApiDocument.host;if(Array.isArray(C))u=this.openApiDocument.schemes[0]+"://"+C[0];else if(Array.isArray(this.openApiDocument.schemes))u=this.openApiDocument.schemes[0]+"://"+C;else try{const W=new URL(this.swaggerUrl);u=W.protocol+"//"+W.host}catch(W){u="/"}}else u=this.swaggerUrl;var D="";if(u.startsWith("http://")||u.startsWith("https://")){var F=new URL(u);D=F.protocol+"//"+F.hostname,F.port.length>0&&(D+=":"+F.port)}return D}GenerateShadowField(n,a,u){switch(n){case"integer":case"number":return`<block type='math_number'><field name='NUM'>${u||0}</field></block>`;case"string":return`<block type='text'><field name='TEXT'>${u||`please enter ${a}`}</field></block>`;case"boolean":return`<block type='logic_boolean'><field name='BOOL'>${u||"FALSE"}</field></block>`;case"array":return'<block type="lists_create_with"> <mutation items="0"></mutation></block>';default:return""}}GenerateNameFunction(n,a,u,C){return C+"_"+a.replaceAll("/","_").replaceAll("{","__").replaceAll("}","")}GenerateFunction(n,a,u,C){var D=this,F=D.GenerateNameFunction(n,a,u,C),te=u,oe=`<block type="text_print"> <value name="TEXT"><block type="${F}">`;te.parameters&&te.parameters.forEach(Pe=>{if(Pe.type)(Ue=D.GenerateShadowField(Pe.type,Pe.name,null)).length>0&&(oe+=`<value name="val_${Pe.name}">${Ue}</value>`);else if(Pe.schema&&Pe.schema.type){var Ue;(Ue=D.GenerateShadowField(Pe.schema.type,Pe.name,null)).length>0&&(oe+=`<value name="val_${Pe.name}">${Ue}</value>`)}});var q="",ue="";try{var Te=D.findRootSite();if((Te||"").length>0){var le=new URL(Te);q=le.hostname,ue=le.port}}catch(Pe){console.log("find root error",Pe)}var _e=D.GenerateShadowField("string","override_host",q=q||" ");return oe+=`<value name="override_Host">${_e}</value>`,_e=D.GenerateShadowField("integer","override_port",ue=ue||"0"),oe+=`<value name="override_Port">${_e}</value>`,oe+="</block></value>",D.fieldXMLFunctions.push({id:a,gui:oe+="</block>",methodAPI:C}),function(Pe,Ue){Pe[F]={init:function(){var Se=C;switch(C.toString().toLowerCase()){case"get":Se="",this.setColour(210);break;case"post":Se="",this.setColour(165);break;case"put":Se="",this.setColour(40);break;case"delete":Se="",this.setColour(10);break;default:console.log(`not found ${C}`),this.setColour(10)}for(var ve=a,se="",me=D.findCategSwaggerFromPaths(),ce=0;ce<me.length;ce++){var Ne="/"+me[ce]+"/",Ae=a.indexOf(Ne);if(Ae>-1){se=me[ce];var Ce=a.substring(Ae+Ne.length);Ce.length<ve.length&&(ve=Ce)}}se.length>5&&(se=se.substring(0,5)+"..."),ve.length>25&&(ve=ve.substring(0,25)+"..."),this.appendDummyInput().appendField(new m.FieldImage(`assets/httpImages/${C}.png`,90,20,C)).appendField(`${se} ${Se} ${ve}`);var de=D.findRootSite();if(te.parameters&&te.parameters.forEach(De=>{var st=De.name;if(De.required&&(st+="*"),De.type)st+=":"+De.type;else if(De.schema)if(De.schema.enum&&"$$ref"in De.schema){var pt=De.schema.$$ref.split("/");st+="=>"+pt[pt.length-1]}else if(De.schema.type)if("object"==De.schema.type){var dt=De.schema.$$ref||"";dt.length>0&&(st+=":"+(dt=dt.substring(dt.lastIndexOf("/")+1)))}else st+=":"+De.schema.type;this.appendValueInput(`val_${De.name}`).appendField(st)}),te.requestBody){var re="";if(te.requestBody.content){var ot=te.requestBody.content["application/json"];if(ot&&ot.schema){var ze=ot.schema.$$ref;ze&&(re="=>"+ze.substring(ze.lastIndexOf("/")+1))}}this.appendValueInput("val_values").appendField("values"+re).setCheck()}this.appendValueInput("override_Host").appendField("override Host"),this.appendValueInput("override_Port").appendField("override Port"),this.setTooltip(`${C} ${de}${a}`),this.setOutput(!0,"")}},Ue[F]=function(Se){var ce=D.openApiDocument.paths[a][C],Ne=[];"parameters"in ce&&(Ne=ce.parameters);var Ae=!1,Ce=Ne.filter(ii=>"body"==ii.in).length>0;(Ce||"requestBody"in ce)&&(Ae=!0);var de={},re={};Ae&&(de.val_values=Ue.valueToCode(Se,"val_values",0),re.val_values=de.val_values),Ne.forEach(ii=>{de[`val_${ii.name}`]=Ue.valueToCode(Se,`val_${ii.name}`,0)});var ot=Ne.map(ii=>ii.name);Ae&&!Ce&&ot.push("values"),ot.push("extraData"),Ne.map(ii=>`\${obj['val_${ii.name}']},`);var De="function(";De+=ot.join(",");var st=D.findRootSite();De+="){\n",De+='var rootSite="'+st+'";\n',De+="if(extraData){\n",De+="if(extraData.url && extraData.url.host && extraData.url.host.length>0 ){\n",De+="rootSite =  changeHost(rootSite, extraData.url.host);\n",De+="};\n",De+="if(extraData.url && extraData.url.port && extraData.url.port.toString().length>0 ){\n",De+="rootSite  =changePort(rootSite , extraData.url.port);\n",De+="};\n",De+="};\n";var pt=D.basePath+a;pt.startsWith("//")&&(pt=pt.replace("//","/")),(st=st||"").length>0&&pt.startsWith(st)&&(De+='\n rootSite="";//the root site is in url;\n'),De+='var strUrl =rootSite +"'+pt+'";\n';var dt=Ne.filter(ii=>"query"==ii.in);if(dt.length>0){De+='strUrl+="?";\n;';var Ot=dt.map(ii=>`${ii.name}={`+ii.name+"}").join("&");De+='strUrl += "'+Ot+'";\n;'}var kt=Ne.filter(ii=>"path"==ii.in||"query"==ii.in).map(ii=>`\n          //this gives error cannot read property 'call' of undefined in acorn\n          //strUrl = strUrl.replace("{${ii.name}}",${ii.name});\n          {\n            var replaceFInd = "{${ii.name}}";\n            var index= strUrl.indexOf(replaceFInd);\n            if(index>=0){\n              var strUrlReplace = strUrl.substring(0,index)+ ${ii.name} + strUrl.substring(index+replaceFInd.length);\n              strUrl = strUrlReplace;\n            }\n\n          };`);if(De+=kt.join("\n"),De+=`\n{var res= ${C}Xhr(strUrl`,Ae){var oi="values";Ce&&(oi=Ne.filter(ii=>"body"==ii.in)[0].name),De+=`,JSON.stringify(${oi})`}De+=");\n",De+="var resJS=JSON.parse(res);\n",De+="if(resJS.statusOK) return resJS.text;\n",De+="errHandler(res);\n}\n",De+="}",De+="(",Ne.forEach(ii=>{De+=de[`val_${ii.name}`]+","}),Ae&&!Ce&&(De+=re.val_values+",");var bi="url:{notImportant:1",ti=Ue.valueToCode(Se,"override_Host",0);(ti=ti||"").length>0&&(bi+=`,host:${ti}`);var Rt=Ue.valueToCode(Se,"override_Port",0);return(Rt=Rt||"").length>0&&(bi+=`,port:${Rt}`),De+=`{${bi+="}"}}\n`,[De+=")",99]}}}findProperties(n){var a=[];return n.properties&&Object.keys(n.properties).forEach(u=>{a.push({key:u,value:n.properties[u]})}),a}TranslateToBlocklyType(n){return"integer"==n?"Number":"string"==n?"String":"bool"==n?"Boolean":"array"==n?"Array":(console.error("not found TranslateToBlocklyType item"+n),"not found type"+n)}nameCategSwagger(){return`catSwagger${this.findHostNameRegular()}_${this.name}`}findHostNameRegular(){var n,a,u,C="";if((null===(a=null===(n=this.openApiDocument)||void 0===n?void 0:n.host)||void 0===a?void 0:a.length)>0){var D=this.openApiDocument.host;if(Array.isArray(D))C=this.openApiDocument.schemes[0]+"://"+D[0];else if(Array.isArray(this.openApiDocument.schemes))C=this.openApiDocument.schemes[0]+"://"+D;else try{const oe=new URL(this.swaggerUrl);C=oe.protocol+"//"+oe.host}catch(oe){C="/"}}else C=this.swaggerUrl;var F="(localSite)";if(C.startsWith("http://")||C.startsWith("https://")){var W=new URL(C),te=null!==(u=W.port)&&void 0!==u?u:80;F=W.hostname+te}return F.split(".").join("")}metaBlocks(){var n=this;return function(a,u){var C;a[C=`meta_swagger_controllers_${n.name}`]={init:function(){this.appendDummyInput().appendField("categories_"+n.name),this.setOutput(!0,null),this.setColour(30),this.setTooltip(""),this.setHelpUrl(n.swaggerUrl)}},u[C]=function(D){var W=n.findCategSwaggerFromPaths().map(q=>({name:q}));return[JSON.stringify({name:n.name,categories:W}),u.ORDER_NONE]},a[C=`meta_swagger_controllers_actions_${n.name}`]={init:function(){this.appendDummyInput().appendField("categories_actions"+n.name),this.setOutput(!0,null),this.setColour(30),this.setTooltip(""),this.setHelpUrl(n.swaggerUrl)}},u[C]=function(D){var W=n.findCategSwaggerFromPaths().map(q=>({name:q,ops:n.findfieldXMLFunctions(q).filter(ue=>ue.id.length>0)}));return[JSON.stringify({name:n.name,categories:W}),u.ORDER_NONE]}}}findCategsFromTags(){var n=this.openApiDocument.paths;console.log("x",this.openApiDocument);var a=Object.keys(n),u=this;a.forEach(function(C){var D=n[C];D&&Object.keys(D).forEach(function(W){var te=D[W].tags;te&&te.length>0&&te.forEach(function(oe){u.cacheCategSwaggerFromPaths.includes(oe)||u.cacheCategSwaggerFromPaths.push(oe),u.operations.push({controller:oe,id:C})})})})}findCategSwaggerFromPaths(){if(this.findCategsFromTags(),this.cacheCategSwaggerFromPaths.length>0)return this.cacheCategSwaggerFromPaths;var n=this.paths.filter(u=>u&&u.id&&u.id.length>0).map(u=>{for(var C=u.id.length,D=u.id.indexOf("{");D>0;){var F=u.id.indexOf("}",D);if(C-F<2){u.id=u.id.substring(0,D);break}D=u.id.indexOf("{",F)}return u}).map(u=>(u.id.lastIndexOf("/")!=u.id.length-1&&(u.id+="/"),u));this.operations=n.filter(u=>u.nrOps>1).map(u=>({arr:u.id.split("/").filter(D=>D.length>0),id:u.id})).map(u=>({controller:u.arr[u.arr.length-1],id:u.id}));var a=n.filter(u=>1==u.nrOps).map(u=>({arr:u.id.split("/").filter(C=>C.length>0),id:u.id})).map(u=>1==u.arr.length?{controller:u.arr[0],id:u.id}:{controller:u.arr[u.arr.length-2],id:u.id});return this.operations.push(...a),this.cacheCategSwaggerFromPaths=[...new Set(this.operations.map(u=>u.controller))],this.cacheCategSwaggerFromPaths}findfieldXMLFunctions(n){var a=this.operations.filter(C=>C.controller==n);return this.fieldXMLFunctions.filter(C=>{if(""==C.id)return!0;var D=C.id+"/",F=!1;return a.forEach(W=>{D.startsWith(W.id)&&(F=!0)}),!!F||(a.forEach(W=>{var te=W.id.substring(0,W.id.lastIndexOf("/"))+"{";D.startsWith(te)&&(F=!0)}),F)})}}},31841:(B,K,f)=>{"use strict";f.d(K,{j_:()=>E,s0:()=>n,_E:()=>t});class E{constructor(){}definitionBlocks(u,C){u.dockerImagesList={init:function(){this.appendDummyInput().appendField("List Images"),this.appendValueInput("all").setCheck("Boolean").appendField("All Images"),this.appendValueInput("filter").setCheck("String").appendField("Filter"),this.appendValueInput("digests").setCheck("Boolean").appendField("Digests"),this.appendValueInput("transform").setCheck("String").appendField("Transform"),this.setOutput(!0,null),this.setColour(30),this.setOutput(!0,null),this.setTooltip("Docker Image list"),this.setHelpUrl("https://docs.docker.com/engine/api/v1.37/#tag/Image")}},C.dockerImagesList=function(W){var te=C.valueToCode(W,"all",C.ORDER_ATOMIC)||!1,oe=C.valueToCode(W,"digests",C.ORDER_ATOMIC)||!1,q=C.valueToCode(W,"filter",C.ORDER_ATOMIC)||"",ue=C.valueToCode(W,"transform",C.ORDER_ATOMIC)||'"{{json .}}"',Te=[];Te.push("--format"),Te.push("");var le="function(){";return le+=" var argsDocker= [];\n",le+=' argsDocker.push("ls");\n',le+=" if("+te+'){argsDocker.push("--all")};\n',le+=" if("+oe+'){argsDocker.push("--digests")};\n',le+=" if("+q+'.length>0){argsDocker.push("--filter");argsDocker.push('+q+");};\n",le+=' argsDocker.push("--format");\n',le+=" argsDocker.push("+ue+");\n",le+='return execDockerCLI_JSONParser("image", JSON.stringify(argsDocker) );\n',[le+="}()\n",99]},u.dockerContainersList={init:function(){this.appendDummyInput().appendField("List Containers"),this.appendValueInput("all").setCheck("Boolean").appendField("All Containers"),this.appendValueInput("filter").setCheck("String").appendField("Filter"),this.appendValueInput("size").setCheck("Boolean").appendField("Size"),this.appendValueInput("transform").setCheck("String").appendField("Transform"),this.setOutput(!0,null),this.setColour(30),this.setOutput(!0,null),this.setTooltip("Docker Image list"),this.setHelpUrl("https://docs.docker.com/engine/api/v1.37/#tag/Container")}},C.dockerContainersList=function(W){var te=C.valueToCode(W,"all",C.ORDER_ATOMIC)||!1,oe=C.valueToCode(W,"size",C.ORDER_ATOMIC)||!1,q=C.valueToCode(W,"filter",C.ORDER_ATOMIC)||"",ue=C.valueToCode(W,"transform",C.ORDER_ATOMIC)||'"{{json .}}"',Te=[];Te.push("--format"),Te.push("");var le="function(){";return le+=" var argsDocker= [];\n",le+=' argsDocker.push("ls");\n',le+=" if("+te+'){argsDocker.push("--all")};\n',le+=" if("+oe+'){argsDocker.push("--size")};\n',le+=" if("+q+'.length>0){argsDocker.push("--filter");argsDocker.push('+q+");};\n",le+=' argsDocker.push("--format");\n',le+=" argsDocker.push("+ue+");\n",le+='return execDockerCLI_JSONParser("container", JSON.stringify(argsDocker) );\n',[le+="}()\n",99]}}fieldXML(){return'\n    <category name=\'Images\'>    \n    <block type=\'text_print\' x=\'141\' y=\'76\'>\n    <value name=\'TEXT\'>\n      <block type=\'dockerImagesList\'>\n      <value name="all">\n      <shadow type="logic_boolean">\n        <field name="BOOL">TRUE</field>\n      </shadow>\n    </value>\n    <value name="digests">\n      <shadow type="logic_boolean">\n        <field name="BOOL">FALSE</field>\n      </shadow>\n    </value>\n    <value name="filter">\n          <shadow type="text">\n            <field name="TEXT"></field>\n          </shadow>\n        </value>\n        <value name="transform">\n        <shadow type="text">\n          <field name="TEXT">"{{json .}}"</field>\n        </shadow>\n      </value>\n    </block>\n    </value>\n  </block>\n  </category>\n  <category name=\'Containers\'>\n  <block type=\'text_print\' x=\'141\' y=\'76\'>\n  <value name=\'TEXT\'>\n    <block type=\'dockerContainersList\'>\n    <value name="all">\n    <shadow type="logic_boolean">\n      <field name="BOOL">TRUE</field>\n    </shadow>\n  </value>\n  <value name="size">\n    <shadow type="logic_boolean">\n      <field name="BOOL">FALSE</field>\n    </shadow>\n  </value>\n  <value name="filter">\n        <shadow type="text">\n          <field name="TEXT"></field>\n        </shadow>\n      </value>\n      <value name="transform">\n      <shadow type="text">\n        <field name="TEXT">"{{json .}}"</field>\n      </shadow>\n    </value>\n  </block>\n  </value>\n</block>\n</category>\n'}}class t{constructor(){this.canConstruct=!1,this.ddClient=null;try{this.ddClient=function m(){const a=null==window?void 0:window.ddClient;if(!a)throw new Error("This version of @docker/extension-api-client is not supported by your version of Docker Desktop. Please upgrade to the latest version.");return a}()}catch(u){return void console.log("in dockerdata constructor",u)}this.canConstruct=!0}execCli(u,C){return console.log("executing command ",u),console.log("executing args",C),this.ddClient.docker.cli.exec(u,C)}}var e=f(76279);class n{constructor(){}definitionBlocks(u,C){u.dockerInfo={init:function(){this.appendDummyInput().appendField("Info"),this.appendValueInput("transform").setCheck("String").appendField("Transform"),this.setOutput(!0,null),this.setColour(30),this.setOutput(!0,null),this.setTooltip("Docker Info")}},C.dockerInfo=function(W){var oe="function(){";return oe+=" var argsDocker= [];\n",oe+=' argsDocker.push("--format");\n',oe+=" argsDocker.push("+(C.valueToCode(W,"transform",C.ORDER_ATOMIC)||'"{{json .}}"')+");\n",oe+='return execDockerCLI_JSONParser("info", JSON.stringify(argsDocker) );\n',[oe+="}()\n",99]},u.dockerVersion={init:function(){this.appendDummyInput().appendField("Version"),this.appendValueInput("transform").setCheck("String").appendField("Transform"),this.setOutput(!0,null),this.setColour(30),this.setOutput(!0,null),this.setTooltip("Docker Version")}},C.dockerVersion=function(W){var oe="function(){";return oe+=" var argsDocker= [];\n",oe+=' argsDocker.push("--format");\n',oe+=" argsDocker.push("+(C.valueToCode(W,"transform",C.ORDER_ATOMIC)||'"{{json .}}"')+");\n",oe+='return execDockerCLI_JSONParser("version", JSON.stringify(argsDocker) );\n',[oe+="}()\n",99]},u.dockercommandv1={init:function(){this.appendDummyInput().appendField("Command").appendField(new e.FieldDropdown([["attach","'attach'"],["build","'build'"],["builder","'builder'"],["buildx","'buildx'"],["commit","'commit'"],["compose","'compose'"],["config","'config'"],["container","'container'"],["context","'context'"],["cp","'cp'"],["create","'create'"],["diff","'diff'"],["events","'events'"],["exec","'exec'"],["export","'export'"],["extension","'extension'"],["history","'history'"],["image","'image'"],["images","'images'"],["import","'import'"],["info","'info'"],["inspect","'inspect'"],["kill","'kill'"],["load","'load'"],["login","'login'"],["logout","'logout'"],["logs","'logs'"],["manifest","'manifest'"],["network","'network'"],["node","'node'"],["pause","'pause'"],["plugin","'plugin'"],["port","'port'"],["ps","'ps'"],["pull","'pull'"],["push","'push'"],["rename","'rename'"],["restart","'restart'"],["rm","'rm'"],["rmi","'rmi'"],["run","'run'"],["save","'save'"],["sbom","'sbom'"],["scan","'scan'"],["search","'search'"],["secret","'secret'"],["service","'service'"],["stack","'stack'"],["start","'start'"],["stats","'stats'"],["stop","'stop'"],["swarm","'swarm'"],["system","'system'"],["tag","'tag'"],["top","'top'"],["trust","'trust'"],["unpause","'unpause'"],["update","'update'"],["version","'version'"],["volume","'volume'"],["wait","'wait'"]]),"commands"),this.appendValueInput("commandArgs").setCheck("Array").appendField("Arguments"),this.appendDummyInput().appendField("JSON Output").appendField(new e.FieldCheckbox("FALSE"),"outputJson"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},C.dockercommandv1=function(W){var te=W.getFieldValue("commands"),ue="function(){";return ue+=" var argsDocker= "+(C.valueToCode(W,"commandArgs",0)||"")+";\n",ue+="return "+("TRUE"===W.getFieldValue("outputJson")?"execDockerCLI_JSONParser":"execDockerCLI_String")+"("+te+", JSON.stringify(argsDocker) );\n",[ue+="}()\n",99]}}fieldXML(){return"\n    <category name='General'>    \n    <block type='text_print' x='141' y='76'>\n    <value name='TEXT'>\n      <block type='dockerInfo'>\n        <value name=\"transform\">\n        <shadow type=\"text\">\n          <field name=\"TEXT\">\"{{json .}}\"</field>\n        </shadow>\n      </value>\n    </block>\n    </value>\n  </block>\n\n\n  <block type='text_print' x='141' y='76'>\n  <value name='TEXT'>\n    <block type='dockerVersion'>\n      <value name=\"transform\">\n      <shadow type=\"text\">\n        <field name=\"TEXT\">\"{{json .}}\"</field>\n      </shadow>\n    </value>\n  </block>\n  </value>\n</block>\n\n<block type='text_print' x='141' y='76'>\n<value name='TEXT'>\n  <block type='dockercommandv1'>\n    \n</block>\n</value>\n</block>\n\n\n</category>\n"}}},36170:(B,K,f)=>{"use strict";f.d(K,{d:()=>se});var E=f(68306),m=f(38421);const{isArray:t}=Array;var n=f(60515),a=f(25403),u=f(63269);var D=f(39646),F=f(4128),W=f(32076),te=f(91005),oe=f(18505),q=f(63900),ue=f(70262),Te=f(54004),le=f(2475),_e=f(70744);class Pe{constructor(ce,Ne){this.urL=ce,this.http=Ne,this.WasAlive=!1}download(){window.location.href="https://github.com/ignatandrei/BlocklyAutomation/releases/latest/download/releaseLocalAPI.zip"}IsAlive(){this.WasAlive=!1;var ce=this,Ne=(new Date).toISOString();return this.http.get(this.urL+`api/v1/Management/CurrentDate?${Ne}`,{responseType:"text"}).pipe((0,ue.K)(Ae=>(0,D.of)("")),(0,Te.U)(Ae=>(null==Ae?void 0:Ae.length)>0&&(Date.parse(Ae),ce.WasAlive=!0,!0)))}LoadBlockContent(ce){return(new Date).toISOString(),this.http.post(this.urL+"api/v1/BASave/GetBlocksContent",{id:ce},{responseType:"text"}).pipe((0,Te.U)(Ae=>null==Ae?void 0:Ae.toString()))}LoadBlocks(){return(new Date).toISOString(),this.http.post(this.urL+"api/v1/BASave/GetBlocks",null).pipe((0,Te.U)(Ne=>Ne.map(Ce=>{var de=new le.q(Ce);return de.Source="LocalAPI",de})))}SaveBlock(ce,Ne){return this.http.post(this.urL+"api/v1/BASave/SaveNewBlock",{b:ce,content:Ne},{responseType:"text"}).pipe((0,Te.U)(Ae=>Number.parseInt(null==Ae?void 0:Ae.toString(),10)))}}var Ue=f(5e3),Se=f(40520),ve=f(92058);let se=(()=>{class me{constructor(Ne,Ae){this.http=Ne,this.loadShowUsageService=Ae,this.settings=null,this.linksSwagger=[],this.demoBlocks=[],this.swaggersDict=new Map,this.customCategories="",this.LocalAPI=null,this.Init()}CreateLocalApis(Ne,Ae){return new Pe(Ae,Ne)}Init(){return function C(...me){const ce=(0,u.jO)(me),Ne=function e(me){return 1===me.length&&t(me[0])?me[0]:me}(me);return Ne.length?new E.y(Ae=>{let Ce=Ne.map(()=>[]),de=Ne.map(()=>!1);Ae.add(()=>{Ce=de=null});for(let re=0;!Ae.closed&&re<Ne.length;re++)(0,m.Xf)(Ne[re]).subscribe(new a.Q(Ae,ot=>{if(Ce[re].push(ot),Ce.every(ze=>ze.length)){const ze=Ce.map(De=>De.shift());Ae.next(ce?ce(...ze):ze),Ce.some((De,st)=>!De.length&&de[st])&&Ae.complete()}},()=>{de[re]=!0,!Ce[re].length&&Ae.complete()}));return()=>{Ce=de=null}}):n.E}(this.getSettings(),this.loadShowUsageService.getSwaggerLinks(),this.loadShowUsageService.getDemoBlocks(),this.loadShowUsageService.getCustomCategories(),this.getLatestVersion()).pipe((0,te.g)(1e3),(0,oe.b)(([Ne,Ae,Ce,de,re])=>{this.settings=Ne,this.settings.latestVersion=re,this.linksSwagger=Ae,this.demoBlocks=Ce.map(ot=>{var ze=new le.q(ot);return ze.Source="Demos",ze}),this.customCategories=de,this.LocalAPI=this.CreateLocalApis(this.http,this.settings.localAPI),this.LocalAPI.IsAlive().subscribe(ot=>{console.log("LocalAPI is alive",ot)})}),(0,q.w)(()=>this.obtainSwaggers(this.linksSwagger)),(0,q.w)(()=>(0,D.of)("")))}obtainSwaggers(Ne){var Ae=Ne.map(de=>this.LoadSwaggersFromUrl(de));return(0,F.D)(Ae)}LoadSwaggersFromUrl(Ne){var Ae=Ne.link,Ce=Ne.id||Ne.link,de=new _e.L(Ae);return(0,W.D)(de.ParseSwagger()).pipe((0,oe.b)(ot=>{console.log("swagger loaded:"+Ae,ot),ot.name=Ce,this.swaggersDict.set(Ae,ot)},ot=>{console.error("swagger error:"+Ae,ot)}))}getLatestVersion(){return this.http.get("https://ignatandrei.github.io/BlocklyAutomation/version.txt",{responseType:"text"}).pipe((0,ue.K)(Ne=>(console.error("error getting latest version",Ne),(0,D.of)("vcannot get latest version"))),(0,Te.U)(Ne=>Ne.toString().trim().substr(1)))}getSettings(){var Ne=(new Date).toISOString();return this.http.get(`assets/settings.json?${Ne}`,{responseType:"text"}).pipe((0,Te.U)(Ae=>JSON.parse(Ae)))}}return me.\u0275fac=function(Ne){return new(Ne||me)(Ue.LFG(Se.eN),Ue.LFG(ve.F))},me.\u0275prov=Ue.Yz7({token:me,factory:me.\u0275fac}),me})()},2475:(B,K,f)=>{"use strict";f.d(K,{q:()=>E});class E{constructor(t={}){this.id="",this.description="",this.categories="",this.blocks="",this.Source="None",Object.assign(this,t)}}},86403:(B,K,f)=>{"use strict";f.d(K,{v:()=>t});var E=f(77579),m=f(5e3);let t=(()=>{class e{constructor(){this.sendData=new E.x}receiveData(){return this.sendData.asObservable()}sendDataToServer(a,u){this.sendData.next([a,u])}}return e.\u0275fac=function(a){return new(a||e)},e.\u0275prov=m.Yz7({token:e,factory:e.\u0275fac}),e})()},23367:(B,K,f)=>{"use strict";f.r(K),f.d(K,{DisplayBlocklyComponent:()=>wf});var E=f(15861),t=(f(64166),f(76279)),e=f(30069);const n=[t.Events.VIEWPORT_CHANGE,t.Events.BLOCK_MOVE,t.Events.BLOCK_DELETE];class C{constructor(s){this.workspace_=s,this.width_=0,this.height_=0,this.top_=0,this.left_=0,this.lastScale_=1,this.cachedContentMetrics_=void 0}init(s){s=Number(s),this.padding_=isNaN(s)?10:s,this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"contentAreaHighlight"},null);const r=String(Math.random()).substring(2),o=t.utils.dom.createSvgElement(new t.utils.Svg("mask"),{id:"contentAreaHighlightMask"+r},this.svgGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{x:0,y:0,width:"100%",height:"100%",fill:"white"},o),this.rect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{x:0,y:0,rx:t.Bubble.BORDER_WIDTH,ry:t.Bubble.BORDER_WIDTH,fill:"black"},o),this.background_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{x:0,y:0,width:"100%",height:"100%",mask:"url(#contentAreaHighlightMask"+r+")"},this.svgGroup_),this.applyColor_();const l=this.workspace_.getMetricsManager();this.cachedContentMetrics_=l.getContentMetrics(!0),this.resize_(this.cachedContentMetrics_);const p=l.getAbsoluteMetrics();this.position_(this.cachedContentMetrics_,p),this.svgGroup_.style.transition="opacity 0.25s";const y=this.workspace_.getParentSvg();y.firstChild?y.insertBefore(this.svgGroup_,y.firstChild):y.appendChild(this.svgGroup_),this.onChangeWrapper_=this.onChange_.bind(this),this.workspace_.addChangeListener(this.onChangeWrapper_)}dispose(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.onChangeWrapper_&&t.unbindEvent_(this.onChangeWrapper_)}onChange_(s){if(s.type===t.Events.THEME_CHANGE)this.applyColor_();else if(-1!==n.indexOf(s.type)){const r=this.workspace_.getMetricsManager();s.type!==t.Events.VIEWPORT_CHANGE&&(this.cachedContentMetrics_=r.getContentMetrics(!0),this.resize_(this.cachedContentMetrics_));const o=r.getAbsoluteMetrics();this.position_(this.cachedContentMetrics_,o)}else s.type===t.Events.BLOCK_DRAG&&this.handleBlockDrag_(s)}handleBlockDrag_(s){this.svgGroup_.setAttribute("opacity",s.isStart?"0":"1")}applyColor_(){const r=this.workspace_.getTheme().getComponentStyle("workspaceBackgroundColour")||"#ffffff",o=t.utils.colour.blend("#000",r,.1),l=t.utils.colour.blend("#fff",r,.1);this.background_.setAttribute("fill","#ffffff"===r||"#fff"===r?o:l)}resize_(s){const r=s.width?s.width+2*this.padding_:0,o=s.height?s.height+2*this.padding_:0;r!==this.width_&&(this.width_=r,this.rect_.setAttribute("width",r)),o!==this.height_&&(this.height_=o,this.rect_.setAttribute("height",o))}position_(s,r){const p=this.workspace_.scale,y=r.top+s.top*p- -this.workspace_.scrollY-this.padding_*p,S=r.left+s.left*p- -this.workspace_.scrollX-this.padding_*p;(y!==this.top_||S!==this.left_||this.lastScale_!==p)&&(this.top_=y,this.left_=S,this.lastScale_=p,this.rect_.setAttribute("transform","translate("+S+","+y+") scale("+p+")"))}}var D=f(2475),F=f(70744),W=f(70697);const oe="undefined"==typeof window?function(g){return g()}:window.requestAnimationFrame;function q(g,s,r){const o=r||(y=>Array.prototype.slice.call(y));let l=!1,p=[];return function(...y){p=o(y),l||(l=!0,oe.call(window,()=>{l=!1,g.apply(s,p)}))}}const Te=g=>"start"===g?"left":"end"===g?"right":"center",le=(g,s,r)=>"start"===g?s:"end"===g?r:(s+r)/2;function Pe(){}const Ue=function(){let g=0;return function(){return g++}}();function Se(g){return null==g}function ve(g){if(Array.isArray&&Array.isArray(g))return!0;const s=Object.prototype.toString.call(g);return"[object"===s.substr(0,7)&&"Array]"===s.substr(-6)}function se(g){return null!==g&&"[object Object]"===Object.prototype.toString.call(g)}const me=g=>("number"==typeof g||g instanceof Number)&&isFinite(+g);function ce(g,s){return me(g)?g:s}function Ne(g,s){return void 0===g?s:g}const Ce=(g,s)=>"string"==typeof g&&g.endsWith("%")?parseFloat(g)/100*s:+g;function de(g,s,r){if(g&&"function"==typeof g.call)return g.apply(r,s)}function re(g,s,r,o){let l,p,y;if(ve(g))if(p=g.length,o)for(l=p-1;l>=0;l--)s.call(r,g[l],l);else for(l=0;l<p;l++)s.call(r,g[l],l);else if(se(g))for(y=Object.keys(g),p=y.length,l=0;l<p;l++)s.call(r,g[y[l]],y[l])}function ot(g,s){let r,o,l,p;if(!g||!s||g.length!==s.length)return!1;for(r=0,o=g.length;r<o;++r)if(l=g[r],p=s[r],l.datasetIndex!==p.datasetIndex||l.index!==p.index)return!1;return!0}function ze(g){if(ve(g))return g.map(ze);if(se(g)){const s=Object.create(null),r=Object.keys(g),o=r.length;let l=0;for(;l<o;++l)s[r[l]]=ze(g[r[l]]);return s}return g}function De(g){return-1===["__proto__","prototype","constructor"].indexOf(g)}function st(g,s,r,o){if(!De(g))return;const l=s[g],p=r[g];se(l)&&se(p)?pt(l,p,o):s[g]=ze(p)}function pt(g,s,r){const o=ve(s)?s:[s],l=o.length;if(!se(g))return g;const p=(r=r||{}).merger||st;for(let y=0;y<l;++y){if(!se(s=o[y]))continue;const S=Object.keys(s);for(let I=0,N=S.length;I<N;++I)p(S[I],g,s,r)}return g}function dt(g,s){return pt(g,s,{merger:Ot})}function Ot(g,s,r){if(!De(g))return;const o=s[g],l=r[g];se(o)&&se(l)?dt(o,l):Object.prototype.hasOwnProperty.call(s,g)||(s[g]=ze(l))}function ti(g,s){const r=g.indexOf(".",s);return-1===r?g.length:r}function Rt(g,s){if(""===s)return g;let r=0,o=ti(s,r);for(;g&&o>r;)g=g[s.substr(r,o-r)],r=o+1,o=ti(s,r);return g}function ii(g){return g.charAt(0).toUpperCase()+g.slice(1)}const mt=g=>void 0!==g,Ye=g=>"function"==typeof g,Je=(g,s)=>{if(g.size!==s.size)return!1;for(const r of g)if(!s.has(r))return!1;return!0},ut=Math.PI,Re=2*ut,yt=Re+ut,zt=Number.POSITIVE_INFINITY,gi=ut/180,wt=ut/2,rt=ut/4,tt=2*ut/3,At=Math.log10,lt=Math.sign;function vt(g){const s=Math.round(g);g=Ze(g,s,g/1e3)?s:g;const r=Math.pow(10,Math.floor(At(g))),o=g/r;return(o<=1?1:o<=2?2:o<=5?5:10)*r}function Ke(g){return!isNaN(parseFloat(g))&&isFinite(g)}function Ze(g,s,r){return Math.abs(g-s)<r}function Kt(g,s,r){let o,l,p;for(o=0,l=g.length;o<l;o++)p=g[o][r],isNaN(p)||(s.min=Math.min(s.min,p),s.max=Math.max(s.max,p))}function Ei(g){return g*(ut/180)}function vi(g){return g*(180/ut)}function pi(g){if(!me(g))return;let s=1,r=0;for(;Math.round(g*s)/s!==g;)s*=10,r++;return r}function Di(g,s){return Math.sqrt(Math.pow(s.x-g.x,2)+Math.pow(s.y-g.y,2))}function an(g,s){return(g-s+yt)%Re-ut}function _t(g){return(g%Re+Re)%Re}function Mt(g,s,r,o){const l=_t(g),p=_t(s),y=_t(r),S=_t(p-l),I=_t(y-l),N=_t(l-p),J=_t(l-y);return l===p||l===y||o&&p===y||S>I&&N<J}function _i(g,s,r){return Math.max(s,Math.min(r,g))}function Fi(g,s,r,o=1e-6){return g>=Math.min(s,r)-o&&g<=Math.max(s,r)+o}const Pi=g=>0===g||1===g,gn=(g,s,r)=>-Math.pow(2,10*(g-=1))*Math.sin((g-s)*Re/r),ai=(g,s,r)=>Math.pow(2,-10*g)*Math.sin((g-s)*Re/r)+1,Tt={linear:g=>g,easeInQuad:g=>g*g,easeOutQuad:g=>-g*(g-2),easeInOutQuad:g=>(g/=.5)<1?.5*g*g:-.5*(--g*(g-2)-1),easeInCubic:g=>g*g*g,easeOutCubic:g=>(g-=1)*g*g+1,easeInOutCubic:g=>(g/=.5)<1?.5*g*g*g:.5*((g-=2)*g*g+2),easeInQuart:g=>g*g*g*g,easeOutQuart:g=>-((g-=1)*g*g*g-1),easeInOutQuart:g=>(g/=.5)<1?.5*g*g*g*g:-.5*((g-=2)*g*g*g-2),easeInQuint:g=>g*g*g*g*g,easeOutQuint:g=>(g-=1)*g*g*g*g+1,easeInOutQuint:g=>(g/=.5)<1?.5*g*g*g*g*g:.5*((g-=2)*g*g*g*g+2),easeInSine:g=>1-Math.cos(g*wt),easeOutSine:g=>Math.sin(g*wt),easeInOutSine:g=>-.5*(Math.cos(ut*g)-1),easeInExpo:g=>0===g?0:Math.pow(2,10*(g-1)),easeOutExpo:g=>1===g?1:1-Math.pow(2,-10*g),easeInOutExpo:g=>Pi(g)?g:g<.5?.5*Math.pow(2,10*(2*g-1)):.5*(2-Math.pow(2,-10*(2*g-1))),easeInCirc:g=>g>=1?g:-(Math.sqrt(1-g*g)-1),easeOutCirc:g=>Math.sqrt(1-(g-=1)*g),easeInOutCirc:g=>(g/=.5)<1?-.5*(Math.sqrt(1-g*g)-1):.5*(Math.sqrt(1-(g-=2)*g)+1),easeInElastic:g=>Pi(g)?g:gn(g,.075,.3),easeOutElastic:g=>Pi(g)?g:ai(g,.075,.3),easeInOutElastic:g=>Pi(g)?g:g<.5?.5*gn(2*g,.1125,.45):.5+.5*ai(2*g-1,.1125,.45),easeInBack:g=>g*g*(2.70158*g-1.70158),easeOutBack:g=>(g-=1)*g*(2.70158*g+1.70158)+1,easeInOutBack(g){let s=1.70158;return(g/=.5)<1?g*g*((1+(s*=1.525))*g-s)*.5:.5*((g-=2)*g*((1+(s*=1.525))*g+s)+2)},easeInBounce:g=>1-Tt.easeOutBounce(1-g),easeOutBounce:g=>g<1/2.75?7.5625*g*g:g<2/2.75?7.5625*(g-=1.5/2.75)*g+.75:g<2.5/2.75?7.5625*(g-=2.25/2.75)*g+.9375:7.5625*(g-=2.625/2.75)*g+.984375,easeInOutBounce:g=>g<.5?.5*Tt.easeInBounce(2*g):.5*Tt.easeOutBounce(2*g-1)+.5},He={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ee="0123456789ABCDEF",Ve=g=>Ee[15&g],gt=g=>Ee[(240&g)>>4]+Ee[15&g],Ut=g=>(240&g)>>4==(15&g);function qn(g){return g+.5|0}const si=(g,s,r)=>Math.max(Math.min(g,r),s);function $t(g){return si(qn(2.55*g),0,255)}function Pt(g){return si(qn(255*g),0,255)}function di(g){return si(qn(g/2.55)/100,0,1)}function Ri(g){return si(qn(100*g),0,100)}const fn=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,Sr=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Jr(g,s,r){const o=s*Math.min(r,1-r),l=(p,y=(p+g/30)%12)=>r-o*Math.max(Math.min(y-3,9-y,1),-1);return[l(0),l(8),l(4)]}function Qr(g,s,r){const o=(l,p=(l+g/60)%6)=>r-r*s*Math.max(Math.min(p,4-p,1),0);return[o(5),o(3),o(1)]}function bo(g,s,r){const o=Jr(g,1,.5);let l;for(s+r>1&&(l=1/(s+r),s*=l,r*=l),l=0;l<3;l++)o[l]*=1-s-r,o[l]+=s;return o}function Dr(g){const r=g.r/255,o=g.g/255,l=g.b/255,p=Math.max(r,o,l),y=Math.min(r,o,l),S=(p+y)/2;let I,N,J;return p!==y&&(J=p-y,N=S>.5?J/(2-p-y):J/(p+y),I=p===r?(o-l)/J+(o<l?6:0):p===o?(l-r)/J+2:(r-o)/J+4,I=60*I+.5),[0|I,N||0,S]}function dr(g,s,r,o){return(Array.isArray(s)?g(s[0],s[1],s[2]):g(s,r,o)).map(Pt)}function Zo(g,s,r){return dr(Jr,g,s,r)}function jn(g){return(g%360+360)%360}const Mr={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zr={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Bi;function Ln(g,s,r){if(g){let o=Dr(g);o[s]=Math.max(0,Math.min(o[s]+o[s]*r,0===s?360:1)),o=Zo(o),g.r=o[0],g.g=o[1],g.b=o[2]}}function at(g,s){return g&&Object.assign(s||{},g)}function Ft(g){var s={r:0,g:0,b:0,a:255};return Array.isArray(g)?g.length>=3&&(s={r:g[0],g:g[1],b:g[2],a:255},g.length>3&&(s.a=Pt(g[3]))):(s=at(g,{r:0,g:0,b:0,a:1})).a=Pt(s.a),s}function Ai(g){return"r"===g.charAt(0)?function kn(g){const s=fn.exec(g);let o,l,p,r=255;if(s){if(s[7]!==o){const y=+s[7];r=255&(s[8]?$t(y):255*y)}return o=+s[1],l=+s[3],p=+s[5],o=255&(s[2]?$t(o):o),l=255&(s[4]?$t(l):l),p=255&(s[6]?$t(p):p),{r:o,g:l,b:p,a:r}}}(g):function mr(g){const s=Sr.exec(g);let o,r=255;if(!s)return;s[5]!==o&&(r=s[6]?$t(+s[5]):Pt(+s[5]));const l=jn(+s[2]),p=+s[3]/100,y=+s[4]/100;return o="hwb"===s[1]?function ar(g,s,r){return dr(bo,g,s,r)}(l,p,y):"hsv"===s[1]?function xi(g,s,r){return dr(Qr,g,s,r)}(l,p,y):Zo(l,p,y),{r:o[0],g:o[1],b:o[2],a:r}}(g)}class Yi{constructor(s){if(s instanceof Yi)return s;const r=typeof s;let o;"object"===r?o=Ft(s):"string"===r&&(o=function ln(g){var r,s=g.length;return"#"===g[0]&&(4===s||5===s?r={r:255&17*He[g[1]],g:255&17*He[g[2]],b:255&17*He[g[3]],a:5===s?17*He[g[4]]:255}:(7===s||9===s)&&(r={r:He[g[1]]<<4|He[g[2]],g:He[g[3]]<<4|He[g[4]],b:He[g[5]]<<4|He[g[6]],a:9===s?He[g[7]]<<4|He[g[8]]:255})),r}(s)||function Bn(g){Bi||(Bi=function xr(){const g={},s=Object.keys(Zr),r=Object.keys(Mr);let o,l,p,y,S;for(o=0;o<s.length;o++){for(y=S=s[o],l=0;l<r.length;l++)p=r[l],S=S.replace(p,Mr[p]);p=parseInt(Zr[y],16),g[S]=[p>>16&255,p>>8&255,255&p]}return g}(),Bi.transparent=[0,0,0,0]);const s=Bi[g.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:4===s.length?s[3]:255}}(s)||Ai(s)),this._rgb=o,this._valid=!!o}get valid(){return this._valid}get rgb(){var s=at(this._rgb);return s&&(s.a=di(s.a)),s}set rgb(s){this._rgb=Ft(s)}rgbString(){return this._valid?function rr(g){return g&&(g.a<255?`rgba(${g.r}, ${g.g}, ${g.b}, ${di(g.a)})`:`rgb(${g.r}, ${g.g}, ${g.b})`)}(this._rgb):this._rgb}hexString(){return this._valid?function An(g){var s=function Xi(g){return Ut(g.r)&&Ut(g.g)&&Ut(g.b)&&Ut(g.a)}(g)?Ve:gt;return g&&"#"+s(g.r)+s(g.g)+s(g.b)+(g.a<255?s(g.a):"")}(this._rgb):this._rgb}hslString(){return this._valid?function fr(g){if(!g)return;const s=Dr(g),r=s[0],o=Ri(s[1]),l=Ri(s[2]);return g.a<255?`hsla(${r}, ${o}%, ${l}%, ${di(g.a)})`:`hsl(${r}, ${o}%, ${l}%)`}(this._rgb):this._rgb}mix(s,r){const o=this;if(s){const l=o.rgb,p=s.rgb;let y;const S=r===y?.5:r,I=2*S-1,N=l.a-p.a,J=((I*N==-1?I:(I+N)/(1+I*N))+1)/2;y=1-J,l.r=255&J*l.r+y*p.r+.5,l.g=255&J*l.g+y*p.g+.5,l.b=255&J*l.b+y*p.b+.5,l.a=S*l.a+(1-S)*p.a,o.rgb=l}return o}clone(){return new Yi(this.rgb)}alpha(s){return this._rgb.a=Pt(s),this}clearer(s){return this._rgb.a*=1-s,this}greyscale(){const s=this._rgb,r=qn(.3*s.r+.59*s.g+.11*s.b);return s.r=s.g=s.b=r,this}opaquer(s){return this._rgb.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return Ln(this._rgb,2,s),this}darken(s){return Ln(this._rgb,2,-s),this}saturate(s){return Ln(this._rgb,1,s),this}desaturate(s){return Ln(this._rgb,1,-s),this}rotate(s){return function Vr(g,s){var r=Dr(g);r[0]=jn(r[0]+s),r=Zo(r),g.r=r[0],g.g=r[1],g.b=r[2]}(this._rgb,s),this}}function Ji(g){return new Yi(g)}const sr=g=>g instanceof CanvasGradient||g instanceof CanvasPattern;function Qn(g){return sr(g)?g:Ji(g)}function or(g){return sr(g)?g:Ji(g).saturate(.5).darken(.1).hexString()}const Sn=Object.create(null),Qo=Object.create(null);function uo(g,s){if(!s)return g;const r=s.split(".");for(let o=0,l=r.length;o<l;++o){const p=r[o];g=g[p]||(g[p]=Object.create(null))}return g}function io(g,s,r){return"string"==typeof s?pt(uo(g,s),r):pt(uo(g,""),s)}var lr=new class Io{constructor(s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,o)=>or(o.backgroundColor),this.hoverBorderColor=(r,o)=>or(o.borderColor),this.hoverColor=(r,o)=>or(o.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(s)}set(s,r){return io(this,s,r)}get(s){return uo(this,s)}describe(s,r){return io(Qo,s,r)}override(s,r){return io(Sn,s,r)}route(s,r,o,l){const p=uo(this,s),y=uo(this,o),S="_"+r;Object.defineProperties(p,{[S]:{value:p[r],writable:!0},[r]:{enumerable:!0,get(){const I=this[S],N=y[l];return se(I)?Object.assign({},N,I):Ne(I,N)},set(I){this[S]=I}}})}}({_scriptable:g=>!g.startsWith("on"),_indexable:g=>"events"!==g,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function jo(g,s,r,o,l){let p=s[l];return p||(p=s[l]=g.measureText(l).width,r.push(l)),p>o&&(o=p),o}function no(g,s,r,o){let l=(o=o||{}).data=o.data||{},p=o.garbageCollect=o.garbageCollect||[];o.font!==s&&(l=o.data={},p=o.garbageCollect=[],o.font=s),g.save(),g.font=s;let y=0;const S=r.length;let I,N,J,pe,Fe;for(I=0;I<S;I++)if(pe=r[I],null!=pe&&!0!==ve(pe))y=jo(g,l,p,y,pe);else if(ve(pe))for(N=0,J=pe.length;N<J;N++)Fe=pe[N],null!=Fe&&!ve(Fe)&&(y=jo(g,l,p,y,Fe));g.restore();const Qe=p.length/2;if(Qe>r.length){for(I=0;I<Qe;I++)delete l[p[I]];p.splice(0,Qe)}return y}function Eo(g,s,r){const o=g.currentDevicePixelRatio,l=0!==r?Math.max(r/2,.5):0;return Math.round((s-l)*o)/o+l}function Ua(g,s){(s=s||g.getContext("2d")).save(),s.resetTransform(),s.clearRect(0,0,g.width,g.height),s.restore()}function So(g,s,r,o){let l,p,y,S,I;const N=s.pointStyle,J=s.rotation,pe=s.radius;let Fe=(J||0)*gi;if(N&&"object"==typeof N&&(l=N.toString(),"[object HTMLImageElement]"===l||"[object HTMLCanvasElement]"===l))return g.save(),g.translate(r,o),g.rotate(Fe),g.drawImage(N,-N.width/2,-N.height/2,N.width,N.height),void g.restore();if(!(isNaN(pe)||pe<=0)){switch(g.beginPath(),N){default:g.arc(r,o,pe,0,Re),g.closePath();break;case"triangle":g.moveTo(r+Math.sin(Fe)*pe,o-Math.cos(Fe)*pe),Fe+=tt,g.lineTo(r+Math.sin(Fe)*pe,o-Math.cos(Fe)*pe),Fe+=tt,g.lineTo(r+Math.sin(Fe)*pe,o-Math.cos(Fe)*pe),g.closePath();break;case"rectRounded":I=.516*pe,S=pe-I,p=Math.cos(Fe+rt)*S,y=Math.sin(Fe+rt)*S,g.arc(r-p,o-y,I,Fe-ut,Fe-wt),g.arc(r+y,o-p,I,Fe-wt,Fe),g.arc(r+p,o+y,I,Fe,Fe+wt),g.arc(r-y,o+p,I,Fe+wt,Fe+ut),g.closePath();break;case"rect":if(!J){S=Math.SQRT1_2*pe,g.rect(r-S,o-S,2*S,2*S);break}Fe+=rt;case"rectRot":p=Math.cos(Fe)*pe,y=Math.sin(Fe)*pe,g.moveTo(r-p,o-y),g.lineTo(r+y,o-p),g.lineTo(r+p,o+y),g.lineTo(r-y,o+p),g.closePath();break;case"crossRot":Fe+=rt;case"cross":p=Math.cos(Fe)*pe,y=Math.sin(Fe)*pe,g.moveTo(r-p,o-y),g.lineTo(r+p,o+y),g.moveTo(r+y,o-p),g.lineTo(r-y,o+p);break;case"star":p=Math.cos(Fe)*pe,y=Math.sin(Fe)*pe,g.moveTo(r-p,o-y),g.lineTo(r+p,o+y),g.moveTo(r+y,o-p),g.lineTo(r-y,o+p),Fe+=rt,p=Math.cos(Fe)*pe,y=Math.sin(Fe)*pe,g.moveTo(r-p,o-y),g.lineTo(r+p,o+y),g.moveTo(r+y,o-p),g.lineTo(r-y,o+p);break;case"line":p=Math.cos(Fe)*pe,y=Math.sin(Fe)*pe,g.moveTo(r-p,o-y),g.lineTo(r+p,o+y);break;case"dash":g.moveTo(r,o),g.lineTo(r+Math.cos(Fe)*pe,o+Math.sin(Fe)*pe)}g.fill(),s.borderWidth>0&&g.stroke()}}function hs(g,s,r){return r=r||.5,!s||g&&g.x>s.left-r&&g.x<s.right+r&&g.y>s.top-r&&g.y<s.bottom+r}function ia(g,s){g.save(),g.beginPath(),g.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),g.clip()}function Gr(g){g.restore()}function Ia(g,s,r,o,l){if(!s)return g.lineTo(r.x,r.y);if("middle"===l){const p=(s.x+r.x)/2;g.lineTo(p,s.y),g.lineTo(p,r.y)}else"after"===l!=!!o?g.lineTo(s.x,r.y):g.lineTo(r.x,s.y);g.lineTo(r.x,r.y)}function pl(g,s,r,o){if(!s)return g.lineTo(r.x,r.y);g.bezierCurveTo(o?s.cp1x:s.cp2x,o?s.cp1y:s.cp2y,o?r.cp2x:r.cp1x,o?r.cp2y:r.cp1y,r.x,r.y)}function Os(g,s,r,o,l,p={}){const y=ve(s)?s:[s],S=p.strokeWidth>0&&""!==p.strokeColor;let I,N;for(g.save(),g.font=l.string,function ha(g,s){s.translation&&g.translate(s.translation[0],s.translation[1]),Se(s.rotation)||g.rotate(s.rotation),s.color&&(g.fillStyle=s.color),s.textAlign&&(g.textAlign=s.textAlign),s.textBaseline&&(g.textBaseline=s.textBaseline)}(g,p),I=0;I<y.length;++I)N=y[I],S&&(p.strokeColor&&(g.strokeStyle=p.strokeColor),Se(p.strokeWidth)||(g.lineWidth=p.strokeWidth),g.strokeText(N,r,o,p.maxWidth)),g.fillText(N,r,o,p.maxWidth),Ga(g,r,o,N,p),o+=l.lineHeight;g.restore()}function Ga(g,s,r,o,l){if(l.strikethrough||l.underline){const p=g.measureText(o),y=s-p.actualBoundingBoxLeft,S=s+p.actualBoundingBoxRight,I=r-p.actualBoundingBoxAscent,N=r+p.actualBoundingBoxDescent,J=l.strikethrough?(I+N)/2:N;g.strokeStyle=g.fillStyle,g.beginPath(),g.lineWidth=l.decorationWidth||2,g.moveTo(y,J),g.lineTo(S,J),g.stroke()}}function il(g,s){const{x:r,y:o,w:l,h:p,radius:y}=s;g.arc(r+y.topLeft,o+y.topLeft,y.topLeft,-wt,ut,!0),g.lineTo(r,o+p-y.bottomLeft),g.arc(r+y.bottomLeft,o+p-y.bottomLeft,y.bottomLeft,ut,wt,!0),g.lineTo(r+l-y.bottomRight,o+p),g.arc(r+l-y.bottomRight,o+p-y.bottomRight,y.bottomRight,wt,0,!0),g.lineTo(r+l,o+y.topRight),g.arc(r+l-y.topRight,o+y.topRight,y.topRight,0,-wt,!0),g.lineTo(r+y.topLeft,o)}const pa=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),Oa=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function Ws(g,s){const r=(""+g).match(pa);if(!r||"normal"===r[1])return 1.2*s;switch(g=+r[2],r[3]){case"px":return g;case"%":g/=100}return s*g}const ns=g=>+g||0;function nl(g,s){const r={},o=se(s),l=o?Object.keys(s):s,p=se(g)?o?y=>Ne(g[y],g[s[y]]):y=>g[y]:()=>g;for(const y of l)r[y]=ns(p(y));return r}function Wa(g){return nl(g,{top:"y",right:"x",bottom:"y",left:"x"})}function rs(g){return nl(g,["topLeft","topRight","bottomLeft","bottomRight"])}function Ur(g){const s=Wa(g);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Pr(g,s){let r=Ne((g=g||{}).size,(s=s||lr.font).size);"string"==typeof r&&(r=parseInt(r,10));let o=Ne(g.style,s.style);o&&!(""+o).match(Oa)&&(console.warn('Invalid font style specified: "'+o+'"'),o="");const l={family:Ne(g.family,s.family),lineHeight:Ws(Ne(g.lineHeight,s.lineHeight),r),size:r,style:o,weight:Ne(g.weight,s.weight),string:""};return l.string=function Gs(g){return!g||Se(g.size)||Se(g.family)?null:(g.style?g.style+" ":"")+(g.weight?g.weight+" ":"")+g.size+"px "+g.family}(l),l}function na(g,s,r,o){let p,y,S,l=!0;for(p=0,y=g.length;p<y;++p)if(S=g[p],void 0!==S&&(void 0!==s&&"function"==typeof S&&(S=S(s),l=!1),void 0!==r&&ve(S)&&(S=S[r%S.length],l=!1),void 0!==S))return o&&!l&&(o.cacheable=!1),S}function Bo(g,s){return Object.assign(Object.create(g),s)}function ra(g,s,r){r=r||(y=>g[y]<s);let p,o=g.length-1,l=0;for(;o-l>1;)p=l+o>>1,r(p)?l=p:o=p;return{lo:l,hi:o}}const Ho=(g,s,r)=>ra(g,r,o=>g[o][s]<r),fa=(g,s,r)=>ra(g,r,o=>g[o][s]>=r),Do=["push","pop","shift","splice","unshift"];function ro(g,s){const r=g._chartjs;if(!r)return;const o=r.listeners,l=o.indexOf(s);-1!==l&&o.splice(l,1),!(o.length>0)&&(Do.forEach(p=>{delete g[p]}),delete g._chartjs)}function ks(g){const s=new Set;let r,o;for(r=0,o=g.length;r<o;++r)s.add(g[r]);return s.size===o?g:Array.from(s)}function Ar(g,s=[""],r=g,o,l=(()=>g[0])){mt(o)||(o=Ie("_fallback",g));const p={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:g,_rootScopes:r,_fallback:o,_getTarget:l,override:y=>Ar([y,...g],s,r,o)};return new Proxy(p,{deleteProperty:(y,S)=>(delete y[S],delete y._keys,delete g[0][S],!0),get:(y,S)=>ps(y,S,()=>function j(g,s,r,o){let l;for(const p of s)if(l=Ie(Ta(p,g),r),mt(l))return ja(g,l)?ke(r,o,g,l):l}(S,s,g,y)),getOwnPropertyDescriptor:(y,S)=>Reflect.getOwnPropertyDescriptor(y._scopes[0],S),getPrototypeOf:()=>Reflect.getPrototypeOf(g[0]),has:(y,S)=>Bt(y).includes(S),ownKeys:y=>Bt(y),set(y,S,I){const N=y._storage||(y._storage=l());return y[S]=N[S]=I,delete y._keys,!0}})}function Es(g,s,r,o){const l={_cacheable:!1,_proxy:g,_context:s,_subProxy:r,_stack:new Set,_descriptors:ho(g,o),setContext:p=>Es(g,p,r,o),override:p=>Es(g.override(p),s,r,o)};return new Proxy(l,{deleteProperty:(p,y)=>(delete p[y],delete g[y],!0),get:(p,y,S)=>ps(p,y,()=>function qo(g,s,r){const{_proxy:o,_context:l,_subProxy:p,_descriptors:y}=g;let S=o[s];return Ye(S)&&y.isScriptable(s)&&(S=function js(g,s,r,o){const{_proxy:l,_context:p,_subProxy:y,_stack:S}=r;if(S.has(g))throw new Error("Recursion detected: "+Array.from(S).join("->")+"->"+g);return S.add(g),s=s(p,y||o),S.delete(g),ja(g,s)&&(s=ke(l._scopes,l,g,s)),s}(s,S,g,r)),ve(S)&&S.length&&(S=function fl(g,s,r,o){const{_proxy:l,_context:p,_subProxy:y,_descriptors:S}=r;if(mt(p.index)&&o(g))s=s[p.index%s.length];else if(se(s[0])){const I=s,N=l._scopes.filter(J=>J!==I);s=[];for(const J of I){const pe=ke(N,l,g,J);s.push(Es(pe,p,y&&y[g],S))}}return s}(s,S,g,y.isIndexable)),ja(s,S)&&(S=Es(S,l,p&&p[s],y)),S}(p,y,S)),getOwnPropertyDescriptor:(p,y)=>p._descriptors.allKeys?Reflect.has(g,y)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(g,y),getPrototypeOf:()=>Reflect.getPrototypeOf(g),has:(p,y)=>Reflect.has(g,y),ownKeys:()=>Reflect.ownKeys(g),set:(p,y,S)=>(g[y]=S,delete p[y],!0)})}function ho(g,s={scriptable:!0,indexable:!0}){const{_scriptable:r=s.scriptable,_indexable:o=s.indexable,_allKeys:l=s.allKeys}=g;return{allKeys:l,scriptable:r,indexable:o,isScriptable:Ye(r)?r:()=>r,isIndexable:Ye(o)?o:()=>o}}const Ta=(g,s)=>g?g+ii(s):s,ja=(g,s)=>se(s)&&"adapters"!==g&&(null===Object.getPrototypeOf(s)||s.constructor===Object);function ps(g,s,r){if(Object.prototype.hasOwnProperty.call(g,s))return g[s];const o=r();return g[s]=o,o}function Nr(g,s,r){return Ye(g)?g(s,r):g}const Hn=(g,s)=>!0===g?s:"string"==typeof g?Rt(s,g):void 0;function oa(g,s,r,o){for(const l of s){const p=Hn(r,l);if(p){g.add(p);const y=Nr(p._fallback,r,p);if(mt(y)&&y!==r&&y!==o)return y}else if(!1===p&&mt(o)&&r!==o)return null}return!1}function ke(g,s,r,o){const l=s._rootScopes,p=Nr(s._fallback,r,o),y=[...g,...l],S=new Set;S.add(o);let I=Z(S,y,r,p||r);return!(null===I||mt(p)&&p!==r&&(I=Z(S,y,p,I),null===I))&&Ar(Array.from(S),[""],l,p,()=>function V(g,s,r){const o=g._getTarget();s in o||(o[s]={});const l=o[s];return ve(l)&&se(r)?r:l}(s,r,o))}function Z(g,s,r,o){for(;r;)r=oa(g,s,r,o);return r}function Ie(g,s){for(const r of s){if(!r)continue;const o=r[g];if(mt(o))return o}}function Bt(g){let s=g._keys;return s||(s=g._keys=function Ti(g){const s=new Set;for(const r of g)for(const o of Object.keys(r).filter(l=>!l.startsWith("_")))s.add(o);return Array.from(s)}(g._scopes)),s}const dn=Number.EPSILON||1e-14,Un=(g,s)=>s<g.length&&!g[s].skip&&g[s],Ir=g=>"x"===g?"y":"x";function Wr(g,s,r,o){const l=g.skip?s:g,p=s,y=r.skip?s:r,S=Di(p,l),I=Di(y,p);let N=S/(S+I),J=I/(S+I);N=isNaN(N)?0:N,J=isNaN(J)?0:J;const pe=o*N,Fe=o*J;return{previous:{x:p.x-pe*(y.x-l.x),y:p.y-pe*(y.y-l.y)},next:{x:p.x+Fe*(y.x-l.x),y:p.y+Fe*(y.y-l.y)}}}function ko(g,s,r){return Math.max(Math.min(g,r),s)}function zs(g,s,r,o,l){let p,y,S,I;if(s.spanGaps&&(g=g.filter(N=>!N.skip)),"monotone"===s.cubicInterpolationMode)!function hr(g,s="x"){const r=Ir(s),o=g.length,l=Array(o).fill(0),p=Array(o);let y,S,I,N=Un(g,0);for(y=0;y<o;++y)if(S=I,I=N,N=Un(g,y+1),I){if(N){const J=N[s]-I[s];l[y]=0!==J?(N[r]-I[r])/J:0}p[y]=S?N?lt(l[y-1])!==lt(l[y])?0:(l[y-1]+l[y])/2:l[y-1]:l[y]}(function Or(g,s,r){const o=g.length;let l,p,y,S,I,N=Un(g,0);for(let J=0;J<o-1;++J)if(I=N,N=Un(g,J+1),I&&N){if(Ze(s[J],0,dn)){r[J]=r[J+1]=0;continue}l=r[J]/s[J],p=r[J+1]/s[J],S=Math.pow(l,2)+Math.pow(p,2),!(S<=9)&&(y=3/Math.sqrt(S),r[J]=l*y*s[J],r[J+1]=p*y*s[J])}})(g,l,p),function qr(g,s,r="x"){const o=Ir(r),l=g.length;let p,y,S,I=Un(g,0);for(let N=0;N<l;++N){if(y=S,S=I,I=Un(g,N+1),!S)continue;const J=S[r],pe=S[o];y&&(p=(J-y[r])/3,S[`cp1${r}`]=J-p,S[`cp1${o}`]=pe-p*s[N]),I&&(p=(I[r]-J)/3,S[`cp2${r}`]=J+p,S[`cp2${o}`]=pe+p*s[N])}}(g,p,s)}(g,l);else{let N=o?g[g.length-1]:g[0];for(p=0,y=g.length;p<y;++p)S=g[p],I=Wr(N,S,g[Math.min(p+1,y-(o?0:1))%y],s.tension),S.cp1x=I.previous.x,S.cp1y=I.previous.y,S.cp2x=I.next.x,S.cp2y=I.next.y,N=S}s.capBezierPoints&&function $n(g,s){let r,o,l,p,y,S=hs(g[0],s);for(r=0,o=g.length;r<o;++r)y=p,p=S,S=r<o-1&&hs(g[r+1],s),p&&(l=g[r],y&&(l.cp1x=ko(l.cp1x,s.left,s.right),l.cp1y=ko(l.cp1y,s.top,s.bottom)),S&&(l.cp2x=ko(l.cp2x,s.left,s.right),l.cp2y=ko(l.cp2y,s.top,s.bottom)))}(g,r)}function rl(){return"undefined"!=typeof window&&"undefined"!=typeof document}function es(g){let s=g.parentNode;return s&&"[object ShadowRoot]"===s.toString()&&(s=s.host),s}function za(g,s,r){let o;return"string"==typeof g?(o=parseInt(g,10),-1!==g.indexOf("%")&&(o=o/100*s.parentNode[r])):o=g,o}const Ls=g=>window.getComputedStyle(g,null),Ec=["top","right","bottom","left"];function $i(g,s,r){const o={};r=r?"-"+r:"";for(let l=0;l<4;l++){const p=Ec[l];o[p]=parseFloat(g[s+"-"+p+r])||0}return o.width=o.left+o.right,o.height=o.top+o.bottom,o}function G(g,s){const{canvas:r,currentDevicePixelRatio:o}=s,l=Ls(r),p="border-box"===l.boxSizing,y=$i(l,"padding"),S=$i(l,"border","width"),{x:I,y:N,box:J}=function it(g,s){const r=g.native||g,o=r.touches,l=o&&o.length?o[0]:r,{offsetX:p,offsetY:y}=l;let I,N,S=!1;if(((g,s,r)=>(g>0||s>0)&&(!r||!r.shadowRoot))(p,y,r.target))I=p,N=y;else{const J=s.getBoundingClientRect();I=l.clientX-J.left,N=l.clientY-J.top,S=!0}return{x:I,y:N,box:S}}(g,r),pe=y.left+(J&&S.left),Fe=y.top+(J&&S.top);let{width:Qe,height:Ct}=s;return p&&(Qe-=y.width+S.width,Ct-=y.height+S.height),{x:Math.round((I-pe)/Qe*r.width/o),y:Math.round((N-Fe)/Ct*r.height/o)}}const ye=g=>Math.round(10*g)/10;function bt(g,s,r){const o=s||1,l=Math.floor(g.height*o),p=Math.floor(g.width*o);g.height=l/o,g.width=p/o;const y=g.canvas;return y.style&&(r||!y.style.height&&!y.style.width)&&(y.style.height=`${g.height}px`,y.style.width=`${g.width}px`),(g.currentDevicePixelRatio!==o||y.height!==l||y.width!==p)&&(g.currentDevicePixelRatio=o,y.height=l,y.width=p,g.ctx.setTransform(o,0,0,o,0,0),!0)}const Xt=function(){let g=!1;try{const s={get passive(){return g=!0,!1}};window.addEventListener("test",null,s),window.removeEventListener("test",null,s)}catch(s){}return g}();function Qt(g,s){const r=function wa(g,s){return Ls(g).getPropertyValue(s)}(g,s),o=r&&r.match(/^(\d+)(\.\d+)?px$/);return o?+o[1]:void 0}function mi(g,s,r,o){return{x:g.x+r*(s.x-g.x),y:g.y+r*(s.y-g.y)}}function Hi(g,s,r,o){return{x:g.x+r*(s.x-g.x),y:"middle"===o?r<.5?g.y:s.y:"after"===o?r<1?g.y:s.y:r>0?s.y:g.y}}function hn(g,s,r,o){const l={x:g.cp2x,y:g.cp2y},p={x:s.cp1x,y:s.cp1y},y=mi(g,l,r),S=mi(l,p,r),I=mi(p,s,r),N=mi(y,S,r),J=mi(S,I,r);return mi(N,J,r)}const bn=new Map;function cr(g,s,r){return function Jn(g,s){s=s||{};const r=g+JSON.stringify(s);let o=bn.get(r);return o||(o=new Intl.NumberFormat(g,s),bn.set(r,o)),o}(s,r).format(g)}function nr(g,s,r){return g?function(g,s){return{x:r=>g+g+s-r,setWidth(r){s=r},textAlign:r=>"center"===r?r:"right"===r?"left":"right",xPlus:(r,o)=>r-o,leftForLtr:(r,o)=>r-o}}(s,r):{x:g=>g,setWidth(g){},textAlign:g=>g,xPlus:(g,s)=>g+s,leftForLtr:(g,s)=>g}}function jr(g,s){let r,o;("ltr"===s||"rtl"===s)&&(r=g.canvas.style,o=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",s,"important"),g.prevTextDirection=o)}function _o(g,s){void 0!==s&&(delete g.prevTextDirection,g.canvas.style.setProperty("direction",s[0],s[1]))}function zo(g){return"angle"===g?{between:Mt,compare:an,normalize:_t}:{between:Fi,compare:(s,r)=>s-r,normalize:s=>s}}function Lo({start:g,end:s,count:r,loop:o,style:l}){return{start:g%r,end:s%r,loop:o&&(s-g+1)%r==0,style:l}}function fs(g,s,r){if(!r)return[g];const{property:o,start:l,end:p}=r,y=s.length,{compare:S,between:I,normalize:N}=zo(o),{start:J,end:pe,loop:Fe,style:Qe}=function sa(g,s,r){const{property:o,start:l,end:p}=r,{between:y,normalize:S}=zo(o),I=s.length;let Fe,Qe,{start:N,end:J,loop:pe}=g;if(pe){for(N+=I,J+=I,Fe=0,Qe=I;Fe<Qe&&y(S(s[N%I][o]),l,p);++Fe)N--,J--;N%=I,J%=I}return J<N&&(J+=I),{start:N,end:J,loop:pe,style:g.style}}(g,s,r),Ct=[];let Yt,Ci,on,Lt=!1,Gt=null;for(let Rn=J,Vn=J;Rn<=pe;++Rn)Ci=s[Rn%y],!Ci.skip&&(Yt=N(Ci[o]),Yt!==on&&(Lt=I(Yt,l,p),null===Gt&&(Lt||I(l,on,Yt)&&0!==S(l,on))&&(Gt=0===S(Yt,l)?Rn:Vn),null!==Gt&&(!Lt||0===S(p,Yt)||I(p,on,Yt))&&(Ct.push(Lo({start:Gt,end:Rn,loop:Fe,count:y,style:Qe})),Gt=null),Vn=Rn,on=Yt));return null!==Gt&&Ct.push(Lo({start:Gt,end:pe,loop:Fe,count:y,style:Qe})),Ct}function Co(g,s){const r=[],o=g.segments;for(let l=0;l<o.length;l++){const p=fs(o[l],g.points,s);p.length&&r.push(...p)}return r}function Cs(g){return{backgroundColor:g.backgroundColor,borderCapStyle:g.borderCapStyle,borderDash:g.borderDash,borderDashOffset:g.borderDashOffset,borderJoinStyle:g.borderJoinStyle,borderWidth:g.borderWidth,borderColor:g.borderColor}}function ol(g,s){return s&&JSON.stringify(g)!==JSON.stringify(s)}var wn=new class os{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,r,o,l){const y=r.duration;r.listeners[l].forEach(S=>S({chart:s,initial:r.initial,numSteps:y,currentStep:Math.min(o-r.start,y)}))}_refresh(){this._request||(this._running=!0,this._request=oe.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let r=0;this._charts.forEach((o,l)=>{if(!o.running||!o.items.length)return;const p=o.items;let I,y=p.length-1,S=!1;for(;y>=0;--y)I=p[y],I._active?(I._total>o.duration&&(o.duration=I._total),I.tick(s),S=!0):(p[y]=p[p.length-1],p.pop());S&&(l.draw(),this._notify(l,o,s,"progress")),p.length||(o.running=!1,this._notify(l,o,s,"complete"),o.initial=!1),r+=p.length}),this._lastDate=s,0===r&&(this._running=!1)}_getAnims(s){const r=this._charts;let o=r.get(s);return o||(o={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(s,o)),o}listen(s,r,o){this._getAnims(s).listeners[r].push(o)}add(s,r){!r||!r.length||this._getAnims(s).items.push(...r)}has(s){return this._getAnims(s).items.length>0}start(s){const r=this._charts.get(s);!r||(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((o,l)=>Math.max(o,l._duration),0),this._refresh())}running(s){if(!this._running)return!1;const r=this._charts.get(s);return!(!r||!r.running||!r.items.length)}stop(s){const r=this._charts.get(s);if(!r||!r.items.length)return;const o=r.items;let l=o.length-1;for(;l>=0;--l)o[l].cancel();r.items=[],this._notify(s,r,Date.now(),"complete")}remove(s){return this._charts.delete(s)}};const Xn="transparent",Nn={boolean:(g,s,r)=>r>.5?s:g,color(g,s,r){const o=Qn(g||Xn),l=o.valid&&Qn(s||Xn);return l&&l.valid?l.mix(o,r).hexString():s},number:(g,s,r)=>g+(s-g)*r};class _r{constructor(s,r,o,l){const p=r[o];l=na([s.to,l,p,s.from]);const y=na([s.from,p,l]);this._active=!0,this._fn=s.fn||Nn[s.type||typeof y],this._easing=Tt[s.easing]||Tt.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=r,this._prop=o,this._from=y,this._to=l,this._promises=void 0}active(){return this._active}update(s,r,o){if(this._active){this._notify(!1);const l=this._target[this._prop],p=o-this._start,y=this._duration-p;this._start=o,this._duration=Math.floor(Math.max(y,s.duration)),this._total+=p,this._loop=!!s.loop,this._to=na([s.to,r,l,s.from]),this._from=na([s.from,l,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const r=s-this._start,o=this._duration,l=this._prop,p=this._from,y=this._loop,S=this._to;let I;if(this._active=p!==S&&(y||r<o),!this._active)return this._target[l]=S,void this._notify(!0);r<0?this._target[l]=p:(I=r/o%2,I=y&&I>1?2-I:I,I=this._easing(Math.min(1,Math.max(0,I))),this._target[l]=this._fn(p,S,I))}wait(){const s=this._promises||(this._promises=[]);return new Promise((r,o)=>{s.push({res:r,rej:o})})}_notify(s){const r=s?"res":"rej",o=this._promises||[];for(let l=0;l<o.length;l++)o[l][r]()}}lr.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const Ks=Object.keys(lr.animation);lr.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:g=>"onProgress"!==g&&"onComplete"!==g&&"fn"!==g}),lr.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),lr.describe("animations",{_fallback:"animation"}),lr.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:g=>0|g}}}});class $s{constructor(s,r){this._chart=s,this._properties=new Map,this.configure(r)}configure(s){if(!se(s))return;const r=this._properties;Object.getOwnPropertyNames(s).forEach(o=>{const l=s[o];if(!se(l))return;const p={};for(const y of Ks)p[y]=l[y];(ve(l.properties)&&l.properties||[o]).forEach(y=>{(y===o||!r.has(y))&&r.set(y,p)})})}_animateOptions(s,r){const o=r.options,l=function Po(g,s){if(!s)return;let r=g.options;if(r)return r.$shared&&(g.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r;g.options=s}(s,o);if(!l)return[];const p=this._createAnimations(l,o);return o.$shared&&function oo(g,s){const r=[],o=Object.keys(s);for(let l=0;l<o.length;l++){const p=g[o[l]];p&&p.active()&&r.push(p.wait())}return Promise.all(r)}(s.options.$animations,o).then(()=>{s.options=o},()=>{}),p}_createAnimations(s,r){const o=this._properties,l=[],p=s.$animations||(s.$animations={}),y=Object.keys(r),S=Date.now();let I;for(I=y.length-1;I>=0;--I){const N=y[I];if("$"===N.charAt(0))continue;if("options"===N){l.push(...this._animateOptions(s,r));continue}const J=r[N];let pe=p[N];const Fe=o.get(N);if(pe){if(Fe&&pe.active()){pe.update(Fe,J,S);continue}pe.cancel()}Fe&&Fe.duration?(p[N]=pe=new _r(Fe,s,N,J),l.push(pe)):s[N]=J}return l}update(s,r){if(0===this._properties.size)return void Object.assign(s,r);const o=this._createAnimations(s,r);return o.length?(wn.add(this._chart,o),!0):void 0}}function ss(g,s){const r=g&&g.options||{},o=r.reverse,l=void 0===r.min?s:0,p=void 0===r.max?s:0;return{start:o?p:l,end:o?l:p}}function Yo(g,s){const r=[],o=g._getSortedDatasetMetas(s);let l,p;for(l=0,p=o.length;l<p;++l)r.push(o[l].index);return r}function Ns(g,s,r,o={}){const l=g.keys,p="single"===o.mode;let y,S,I,N;if(null!==s){for(y=0,S=l.length;y<S;++y){if(I=+l[y],I===r){if(o.all)continue;break}N=g.values[I],me(N)&&(p||0===s||lt(s)===lt(N))&&(s+=N)}return s}}function sl(g,s){const r=g&&g.options.stacked;return r||void 0===r&&void 0!==s.stack}function ga(g,s,r){const o=g[s]||(g[s]={});return o[r]||(o[r]={})}function La(g,s,r,o){for(const l of s.getMatchingVisibleMetas(o).reverse()){const p=g[l.index];if(r&&p>0||!r&&p<0)return l.index}return null}function Ya(g,s){const{chart:r,_cachedMeta:o}=g,l=r._stacks||(r._stacks={}),{iScale:p,vScale:y,index:S}=o,I=p.axis,N=y.axis,J=function Fs(g,s,r){return`${g.id}.${s.id}.${r.stack||r.type}`}(p,y,o),pe=s.length;let Fe;for(let Qe=0;Qe<pe;++Qe){const Ct=s[Qe],{[I]:Lt,[N]:Gt}=Ct;Fe=(Ct._stacks||(Ct._stacks={}))[N]=ga(l,J,Lt),Fe[S]=Gt,Fe._top=La(Fe,y,!0,o.type),Fe._bottom=La(Fe,y,!1,o.type)}}function ec(g,s){const r=g.scales;return Object.keys(r).filter(o=>r[o].axis===s).shift()}function Xa(g,s){const r=g.controller.index,o=g.vScale&&g.vScale.axis;if(o){s=s||g._parsed;for(const l of s){const p=l._stacks;if(!p||void 0===p[o]||void 0===p[o][r])return;delete p[o][r]}}}const gl=g=>"reset"===g||"none"===g,ml=(g,s)=>s?g:Object.assign({},g);let ma=(()=>{class g{constructor(r,o){this.chart=r,this._ctx=r.ctx,this.index=o,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const r=this._cachedMeta;this.configure(),this.linkScales(),r._stacked=sl(r.vScale,r),this.addElements()}updateIndex(r){this.index!==r&&Xa(this._cachedMeta),this.index=r}linkScales(){const r=this.chart,o=this._cachedMeta,l=this.getDataset(),p=(Fe,Qe,Ct,Lt)=>"x"===Fe?Qe:"r"===Fe?Lt:Ct,y=o.xAxisID=Ne(l.xAxisID,ec(r,"x")),S=o.yAxisID=Ne(l.yAxisID,ec(r,"y")),I=o.rAxisID=Ne(l.rAxisID,ec(r,"r")),N=o.indexAxis,J=o.iAxisID=p(N,y,S,I),pe=o.vAxisID=p(N,S,y,I);o.xScale=this.getScaleForId(y),o.yScale=this.getScaleForId(S),o.rScale=this.getScaleForId(I),o.iScale=this.getScaleForId(J),o.vScale=this.getScaleForId(pe)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(r){return this.chart.scales[r]}_getOtherScale(r){const o=this._cachedMeta;return r===o.iScale?o.vScale:o.iScale}reset(){this._update("reset")}_destroy(){const r=this._cachedMeta;this._data&&ro(this._data,this),r._stacked&&Xa(r)}_dataCheck(){const r=this.getDataset(),o=r.data||(r.data=[]),l=this._data;if(se(o))this._data=function ql(g){const s=Object.keys(g),r=new Array(s.length);let o,l,p;for(o=0,l=s.length;o<l;++o)p=s[o],r[o]={x:p,y:g[p]};return r}(o);else if(l!==o){if(l){ro(l,this);const p=this._cachedMeta;Xa(p),p._parsed=[]}o&&Object.isExtensible(o)&&function Mo(g,s){g._chartjs?g._chartjs.listeners.push(s):(Object.defineProperty(g,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),Do.forEach(r=>{const o="_onData"+ii(r),l=g[r];Object.defineProperty(g,r,{configurable:!0,enumerable:!1,value(...p){const y=l.apply(this,p);return g._chartjs.listeners.forEach(S=>{"function"==typeof S[o]&&S[o](...p)}),y}})}))}(o,this),this._syncList=[],this._data=o}}addElements(){const r=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(r.dataset=new this.datasetElementType)}buildOrUpdateElements(r){const o=this._cachedMeta,l=this.getDataset();let p=!1;this._dataCheck();const y=o._stacked;o._stacked=sl(o.vScale,o),o.stack!==l.stack&&(p=!0,Xa(o),o.stack=l.stack),this._resyncElements(r),(p||y!==o._stacked)&&Ya(this,o._parsed)}configure(){const r=this.chart.config,o=r.datasetScopeKeys(this._type),l=r.getOptionScopes(this.getDataset(),o,!0);this.options=r.createResolver(l,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(r,o){const{_cachedMeta:l,_data:p}=this,{iScale:y,_stacked:S}=l,I=y.axis;let pe,Fe,Qe,N=0===r&&o===p.length||l._sorted,J=r>0&&l._parsed[r-1];if(!1===this._parsing)l._parsed=p,l._sorted=!0,Qe=p;else{Qe=ve(p[r])?this.parseArrayData(l,p,r,o):se(p[r])?this.parseObjectData(l,p,r,o):this.parsePrimitiveData(l,p,r,o);const Ct=()=>null===Fe[I]||J&&Fe[I]<J[I];for(pe=0;pe<o;++pe)l._parsed[pe+r]=Fe=Qe[pe],N&&(Ct()&&(N=!1),J=Fe);l._sorted=N}S&&Ya(this,Qe)}parsePrimitiveData(r,o,l,p){const{iScale:y,vScale:S}=r,I=y.axis,N=S.axis,J=y.getLabels(),pe=y===S,Fe=new Array(p);let Qe,Ct,Lt;for(Qe=0,Ct=p;Qe<Ct;++Qe)Lt=Qe+l,Fe[Qe]={[I]:pe||y.parse(J[Lt],Lt),[N]:S.parse(o[Lt],Lt)};return Fe}parseArrayData(r,o,l,p){const{xScale:y,yScale:S}=r,I=new Array(p);let N,J,pe,Fe;for(N=0,J=p;N<J;++N)pe=N+l,Fe=o[pe],I[N]={x:y.parse(Fe[0],pe),y:S.parse(Fe[1],pe)};return I}parseObjectData(r,o,l,p){const{xScale:y,yScale:S}=r,{xAxisKey:I="x",yAxisKey:N="y"}=this._parsing,J=new Array(p);let pe,Fe,Qe,Ct;for(pe=0,Fe=p;pe<Fe;++pe)Qe=pe+l,Ct=o[Qe],J[pe]={x:y.parse(Rt(Ct,I),Qe),y:S.parse(Rt(Ct,N),Qe)};return J}getParsed(r){return this._cachedMeta._parsed[r]}getDataElement(r){return this._cachedMeta.data[r]}applyStack(r,o,l){const y=this._cachedMeta,S=o[r.axis];return Ns({keys:Yo(this.chart,!0),values:o._stacks[r.axis]},S,y.index,{mode:l})}updateRangeFromParsed(r,o,l,p){const y=l[o.axis];let S=null===y?NaN:y;const I=p&&l._stacks[o.axis];p&&I&&(p.values=I,S=Ns(p,y,this._cachedMeta.index)),r.min=Math.min(r.min,S),r.max=Math.max(r.max,S)}getMinMax(r,o){const l=this._cachedMeta,p=l._parsed,y=l._sorted&&r===l.iScale,S=p.length,I=this._getOtherScale(r),N=((g,s,r)=>g&&!s.hidden&&s._stacked&&{keys:Yo(this.chart,!0),values:null})(o,l),J={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:pe,max:Fe}=function ts(g){const{min:s,max:r,minDefined:o,maxDefined:l}=g.getUserBounds();return{min:o?s:Number.NEGATIVE_INFINITY,max:l?r:Number.POSITIVE_INFINITY}}(I);let Qe,Ct;function Lt(){Ct=p[Qe];const Gt=Ct[I.axis];return!me(Ct[r.axis])||pe>Gt||Fe<Gt}for(Qe=0;Qe<S&&(Lt()||(this.updateRangeFromParsed(J,r,Ct,N),!y));++Qe);if(y)for(Qe=S-1;Qe>=0;--Qe)if(!Lt()){this.updateRangeFromParsed(J,r,Ct,N);break}return J}getAllParsedValues(r){const o=this._cachedMeta._parsed,l=[];let p,y,S;for(p=0,y=o.length;p<y;++p)S=o[p][r.axis],me(S)&&l.push(S);return l}getMaxOverflow(){return!1}getLabelAndValue(r){const o=this._cachedMeta,l=o.iScale,p=o.vScale,y=this.getParsed(r);return{label:l?""+l.getLabelForValue(y[l.axis]):"",value:p?""+p.getLabelForValue(y[p.axis]):""}}_update(r){const o=this._cachedMeta;this.update(r||"default"),o._clip=function Sa(g){let s,r,o,l;return se(g)?(s=g.top,r=g.right,o=g.bottom,l=g.left):s=r=o=l=g,{top:s,right:r,bottom:o,left:l,disabled:!1===g}}(Ne(this.options.clip,function ws(g,s,r){if(!1===r)return!1;const o=ss(g,r),l=ss(s,r);return{top:l.end,right:o.end,bottom:l.start,left:o.start}}(o.xScale,o.yScale,this.getMaxOverflow())))}update(r){}draw(){const r=this._ctx,l=this._cachedMeta,p=l.data||[],y=this.chart.chartArea,S=[],I=this._drawStart||0,N=this._drawCount||p.length-I;let J;for(l.dataset&&l.dataset.draw(r,y,I,N),J=I;J<I+N;++J){const pe=p[J];pe.hidden||(pe.active?S.push(pe):pe.draw(r,y))}for(J=0;J<S.length;++J)S[J].draw(r,y)}getStyle(r,o){const l=o?"active":"default";return void 0===r&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(l):this.resolveDataElementOptions(r||0,l)}getContext(r,o,l){const p=this.getDataset();let y;if(r>=0&&r<this._cachedMeta.data.length){const S=this._cachedMeta.data[r];y=S.$context||(S.$context=function Gl(g,s,r){return Bo(g,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:r,index:s,mode:"default",type:"data"})}(this.getContext(),r,S)),y.parsed=this.getParsed(r),y.raw=p.data[r],y.index=y.dataIndex=r}else y=this.$context||(this.$context=function al(g,s){return Bo(g,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),y.dataset=p,y.index=y.datasetIndex=this.index;return y.active=!!o,y.mode=l,y}resolveDatasetElementOptions(r){return this._resolveElementOptions(this.datasetElementType.id,r)}resolveDataElementOptions(r,o){return this._resolveElementOptions(this.dataElementType.id,o,r)}_resolveElementOptions(r,o="default",l){const p="active"===o,y=this._cachedDataOpts,S=r+"-"+o,I=y[S],N=this.enableOptionSharing&&mt(l);if(I)return ml(I,N);const J=this.chart.config,pe=J.datasetElementScopeKeys(this._type,r),Fe=p?[`${r}Hover`,"hover",r,""]:[r,""],Qe=J.getOptionScopes(this.getDataset(),pe),Ct=Object.keys(lr.elements[r]),Gt=J.resolveNamedOptions(Qe,Ct,()=>this.getContext(l,p),Fe);return Gt.$shared&&(Gt.$shared=N,y[S]=Object.freeze(ml(Gt,N))),Gt}_resolveAnimations(r,o,l){const p=this.chart,y=this._cachedDataOpts,S=`animation-${o}`,I=y[S];if(I)return I;let N;if(!1!==p.options.animation){const pe=this.chart.config,Fe=pe.datasetAnimationScopeKeys(this._type,o),Qe=pe.getOptionScopes(this.getDataset(),Fe);N=pe.createResolver(Qe,this.getContext(r,l,o))}const J=new $s(p,N&&N.animations);return N&&N._cacheable&&(y[S]=Object.freeze(J)),J}getSharedOptions(r){if(r.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},r))}includeOptions(r,o){return!o||gl(r)||this.chart._animationsDisabled}updateElement(r,o,l,p){gl(p)?Object.assign(r,l):this._resolveAnimations(o,p).update(r,l)}updateSharedOptions(r,o,l){r&&!gl(o)&&this._resolveAnimations(void 0,o).update(r,l)}_setStyle(r,o,l,p){r.active=p;const y=this.getStyle(o,p);this._resolveAnimations(o,l,p).update(r,{options:!p&&this.getSharedOptions(y)||y})}removeHoverStyle(r,o,l){this._setStyle(r,l,"active",!1)}setHoverStyle(r,o,l){this._setStyle(r,l,"active",!0)}_removeDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!1)}_setDatasetHoverStyle(){const r=this._cachedMeta.dataset;r&&this._setStyle(r,void 0,"active",!0)}_resyncElements(r){const o=this._data,l=this._cachedMeta.data;for(const[I,N,J]of this._syncList)this[I](N,J);this._syncList=[];const p=l.length,y=o.length,S=Math.min(y,p);S&&this.parse(0,S),y>p?this._insertElements(p,y-p,r):y<p&&this._removeElements(y,p-y)}_insertElements(r,o,l=!0){const p=this._cachedMeta,y=p.data,S=r+o;let I;const N=J=>{for(J.length+=o,I=J.length-1;I>=S;I--)J[I]=J[I-o]};for(N(y),I=r;I<S;++I)y[I]=new this.dataElementType;this._parsing&&N(p._parsed),this.parse(r,o),l&&this.updateElements(y,r,o,"reset")}updateElements(r,o,l,p){}_removeElements(r,o){const l=this._cachedMeta;if(this._parsing){const p=l._parsed.splice(r,o);l._stacked&&Xa(l,p)}l.data.splice(r,o)}_sync(r){if(this._parsing)this._syncList.push(r);else{const[o,l,p]=r;this[o](l,p)}this.chart._dataChanges.push([this.index,...r])}_onDataPush(){const r=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-r,r])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(r,o){o&&this._sync(["_removeElements",r,o]);const l=arguments.length-2;l&&this._sync(["_insertElements",r,l])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return g.defaults={},g})();function Pa(g){const s=g.iScale,r=function cc(g,s){if(!g._cache.$bar){const r=g.getMatchingVisibleMetas(s);let o=[];for(let l=0,p=r.length;l<p;l++)o=o.concat(r[l].controller.getAllParsedValues(g));g._cache.$bar=ks(o.sort((l,p)=>l-p))}return g._cache.$bar}(s,g.type);let l,p,y,S,o=s._length;const I=()=>{32767===y||-32768===y||(mt(S)&&(o=Math.min(o,Math.abs(y-S)||o)),S=y)};for(l=0,p=r.length;l<p;++l)y=s.getPixelForValue(r[l]),I();for(S=void 0,l=0,p=s.ticks.length;l<p;++l)y=s.getPixelForTick(l),I();return o}function _a(g,s,r,o){return ve(g)?function Zs(g,s,r,o){const l=r.parse(g[0],o),p=r.parse(g[1],o),y=Math.min(l,p),S=Math.max(l,p);let I=y,N=S;Math.abs(y)>Math.abs(S)&&(I=S,N=y),s[r.axis]=N,s._custom={barStart:I,barEnd:N,start:l,end:p,min:y,max:S}}(g,s,r,o):s[r.axis]=r.parse(g,o),s}function wl(g,s,r,o){const l=g.iScale,p=g.vScale,y=l.getLabels(),S=l===p,I=[];let N,J,pe,Fe;for(N=r,J=r+o;N<J;++N)Fe=s[N],pe={},pe[l.axis]=S||l.parse(y[N],N),I.push(_a(Fe,pe,p,N));return I}function Wl(g){return g&&void 0!==g.barStart&&void 0!==g.barEnd}function Uc(g,s,r,o){let l=s.borderSkipped;const p={};if(!l)return void(g.borderSkipped=p);const{start:y,end:S,reverse:I,top:N,bottom:J}=function uc(g){let s,r,o,l,p;return g.horizontal?(s=g.base>g.x,r="left",o="right"):(s=g.base<g.y,r="bottom",o="top"),s?(l="end",p="start"):(l="start",p="end"),{start:r,end:o,reverse:s,top:l,bottom:p}}(g);"middle"===l&&r&&(g.enableBorderRadius=!0,(r._top||0)===o?l=N:(r._bottom||0)===o?l=J:(p[fe(J,y,S,I)]=!0,l=N)),p[fe(l,y,S,I)]=!0,g.borderSkipped=p}function fe(g,s,r,o){return o?(g=function ne(g,s,r){return g===s?r:g===r?s:g}(g,s,r),g=Q(g,r,s)):g=Q(g,s,r),g}function Q(g,s,r){return"start"===g?s:"end"===g?r:g}function Oe(g,{inflateAmount:s},r){g.inflateAmount="auto"===s?1===r?.33:0:s}ma.prototype.datasetElementType=null,ma.prototype.dataElementType=null;let Ge=(()=>{class g extends ma{parsePrimitiveData(r,o,l,p){return wl(r,o,l,p)}parseArrayData(r,o,l,p){return wl(r,o,l,p)}parseObjectData(r,o,l,p){const{iScale:y,vScale:S}=r,{xAxisKey:I="x",yAxisKey:N="y"}=this._parsing,J="x"===y.axis?I:N,pe="x"===S.axis?I:N,Fe=[];let Qe,Ct,Lt,Gt;for(Qe=l,Ct=l+p;Qe<Ct;++Qe)Gt=o[Qe],Lt={},Lt[y.axis]=y.parse(Rt(Gt,J),Qe),Fe.push(_a(Rt(Gt,pe),Lt,S,Qe));return Fe}updateRangeFromParsed(r,o,l,p){super.updateRangeFromParsed(r,o,l,p);const y=l._custom;y&&o===this._cachedMeta.vScale&&(r.min=Math.min(r.min,y.min),r.max=Math.max(r.max,y.max))}getMaxOverflow(){return 0}getLabelAndValue(r){const o=this._cachedMeta,{iScale:l,vScale:p}=o,y=this.getParsed(r),S=y._custom,I=Wl(S)?"["+S.start+", "+S.end+"]":""+p.getLabelForValue(y[p.axis]);return{label:""+l.getLabelForValue(y[l.axis]),value:I}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(r){const o=this._cachedMeta;this.updateElements(o.data,0,o.data.length,r)}updateElements(r,o,l,p){const y="reset"===p,{index:S,_cachedMeta:{vScale:I}}=this,N=I.getBasePixel(),J=I.isHorizontal(),pe=this._getRuler(),Fe=this.resolveDataElementOptions(o,p),Qe=this.getSharedOptions(Fe),Ct=this.includeOptions(p,Qe);this.updateSharedOptions(Qe,p,Fe);for(let Lt=o;Lt<o+l;Lt++){const Gt=this.getParsed(Lt),Yt=y||Se(Gt[I.axis])?{base:N,head:N}:this._calculateBarValuePixels(Lt),Ci=this._calculateBarIndexPixels(Lt,pe),on=(Gt._stacks||{})[I.axis],Ki={horizontal:J,base:Yt.base,enableBorderRadius:!on||Wl(Gt._custom)||S===on._top||S===on._bottom,x:J?Yt.head:Ci.center,y:J?Ci.center:Yt.head,height:J?Ci.size:Math.abs(Yt.size),width:J?Math.abs(Yt.size):Ci.size};Ct&&(Ki.options=Qe||this.resolveDataElementOptions(Lt,r[Lt].active?"active":p));const Vi=Ki.options||r[Lt].options;Uc(Ki,Vi,on,S),Oe(Ki,Vi,pe.ratio),this.updateElement(r[Lt],Lt,Ki,p)}}_getStacks(r,o){const p=this._cachedMeta.iScale,y=p.getMatchingVisibleMetas(this._type),S=p.options.stacked,I=y.length,N=[];let J,pe;for(J=0;J<I;++J)if(pe=y[J],pe.controller.options.grouped){if(void 0!==o){const Fe=pe.controller.getParsed(o)[pe.controller._cachedMeta.vScale.axis];if(Se(Fe)||isNaN(Fe))continue}if((!1===S||-1===N.indexOf(pe.stack)||void 0===S&&void 0===pe.stack)&&N.push(pe.stack),pe.index===r)break}return N.length||N.push(void 0),N}_getStackCount(r){return this._getStacks(void 0,r).length}_getStackIndex(r,o,l){const p=this._getStacks(r,l),y=void 0!==o?p.indexOf(o):-1;return-1===y?p.length-1:y}_getRuler(){const r=this.options,o=this._cachedMeta,l=o.iScale,p=[];let y,S;for(y=0,S=o.data.length;y<S;++y)p.push(l.getPixelForValue(this.getParsed(y)[l.axis],y));const I=r.barThickness;return{min:I||Pa(o),pixels:p,start:l._startPixel,end:l._endPixel,stackCount:this._getStackCount(),scale:l,grouped:r.grouped,ratio:I?1:r.categoryPercentage*r.barPercentage}}_calculateBarValuePixels(r){const{_cachedMeta:{vScale:o,_stacked:l},options:{base:p,minBarLength:y}}=this,S=p||0,I=this.getParsed(r),N=I._custom,J=Wl(N);let Ct,Lt,pe=I[o.axis],Fe=0,Qe=l?this.applyStack(o,I,l):pe;Qe!==pe&&(Fe=Qe-pe,Qe=pe),J&&(pe=N.barStart,Qe=N.barEnd-N.barStart,0!==pe&&lt(pe)!==lt(N.barEnd)&&(Fe=0),Fe+=pe);const Gt=Se(p)||J?Fe:p;let Yt=o.getPixelForValue(Gt);if(Ct=this.chart.getDataVisibility(r)?o.getPixelForValue(Fe+Qe):Yt,Lt=Ct-Yt,Math.abs(Lt)<y&&(Lt=function Cc(g,s,r){return 0!==g?lt(g):(s.isHorizontal()?1:-1)*(s.min>=r?1:-1)}(Lt,o,S)*y,pe===S&&(Yt-=Lt/2),Ct=Yt+Lt),Yt===o.getPixelForValue(S)){const Ci=lt(Lt)*o.getLineWidthForValue(S)/2;Yt+=Ci,Lt-=Ci}return{size:Lt,base:Yt,head:Ct,center:Ct+Lt/2}}_calculateBarIndexPixels(r,o){const l=o.scale,p=this.options,y=p.skipNull,S=Ne(p.maxBarThickness,1/0);let I,N;if(o.grouped){const J=y?this._getStackCount(r):o.stackCount,pe="flex"===p.barThickness?function Ka(g,s,r,o){const l=s.pixels,p=l[g];let y=g>0?l[g-1]:null,S=g<l.length-1?l[g+1]:null;const I=r.categoryPercentage;null===y&&(y=p-(null===S?s.end-s.start:S-p)),null===S&&(S=p+p-y);const N=p-(p-Math.min(y,S))/2*I;return{chunk:Math.abs(S-y)/2*I/o,ratio:r.barPercentage,start:N}}(r,o,p,J):function Js(g,s,r,o){const l=r.barThickness;let p,y;return Se(l)?(p=s.min*r.categoryPercentage,y=r.barPercentage):(p=l*o,y=1),{chunk:p/o,ratio:y,start:s.pixels[g]-p/2}}(r,o,p,J),Fe=this._getStackIndex(this.index,this._cachedMeta.stack,y?r:void 0);I=pe.start+pe.chunk*Fe+pe.chunk/2,N=Math.min(S,pe.chunk*pe.ratio)}else I=l.getPixelForValue(this.getParsed(r)[l.axis],r),N=Math.min(S,o.min*o.ratio);return{base:I-N/2,head:I+N/2,center:I,size:N}}draw(){const r=this._cachedMeta,o=r.vScale,l=r.data,p=l.length;let y=0;for(;y<p;++y)null!==this.getParsed(y)[o.axis]&&l[y].draw(this._ctx)}}return g.id="bar",g.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},g.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},g})(),ft=(()=>{class g extends ma{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(r,o,l,p){const y=super.parsePrimitiveData(r,o,l,p);for(let S=0;S<y.length;S++)y[S]._custom=this.resolveDataElementOptions(S+l).radius;return y}parseArrayData(r,o,l,p){const y=super.parseArrayData(r,o,l,p);for(let S=0;S<y.length;S++)y[S]._custom=Ne(o[l+S][2],this.resolveDataElementOptions(S+l).radius);return y}parseObjectData(r,o,l,p){const y=super.parseObjectData(r,o,l,p);for(let S=0;S<y.length;S++){const I=o[l+S];y[S]._custom=Ne(I&&I.r&&+I.r,this.resolveDataElementOptions(S+l).radius)}return y}getMaxOverflow(){const r=this._cachedMeta.data;let o=0;for(let l=r.length-1;l>=0;--l)o=Math.max(o,r[l].size(this.resolveDataElementOptions(l))/2);return o>0&&o}getLabelAndValue(r){const o=this._cachedMeta,{xScale:l,yScale:p}=o,y=this.getParsed(r),S=l.getLabelForValue(y.x),I=p.getLabelForValue(y.y),N=y._custom;return{label:o.label,value:"("+S+", "+I+(N?", "+N:"")+")"}}update(r){const o=this._cachedMeta.data;this.updateElements(o,0,o.length,r)}updateElements(r,o,l,p){const y="reset"===p,{iScale:S,vScale:I}=this._cachedMeta,N=this.resolveDataElementOptions(o,p),J=this.getSharedOptions(N),pe=this.includeOptions(p,J),Fe=S.axis,Qe=I.axis;for(let Ct=o;Ct<o+l;Ct++){const Lt=r[Ct],Gt=!y&&this.getParsed(Ct),Yt={},Ci=Yt[Fe]=y?S.getPixelForDecimal(.5):S.getPixelForValue(Gt[Fe]),on=Yt[Qe]=y?I.getBasePixel():I.getPixelForValue(Gt[Qe]);Yt.skip=isNaN(Ci)||isNaN(on),pe&&(Yt.options=this.resolveDataElementOptions(Ct,Lt.active?"active":p),y&&(Yt.options.radius=0)),this.updateElement(Lt,Ct,Yt,p)}this.updateSharedOptions(J,p,N)}resolveDataElementOptions(r,o){const l=this.getParsed(r);let p=super.resolveDataElementOptions(r,o);p.$shared&&(p=Object.assign({},p,{$shared:!1}));const y=p.radius;return"active"!==o&&(p.radius=0),p.radius+=Ne(l&&l._custom,y),p}}return g.id="bubble",g.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},g.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},g})(),qt=(()=>{class g extends ma{constructor(r,o){super(r,o),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(r,o){const l=this.getDataset().data,p=this._cachedMeta;if(!1===this._parsing)p._parsed=l;else{let S,I,y=N=>+l[N];if(se(l[r])){const{key:N="value"}=this._parsing;y=J=>+Rt(l[J],N)}for(S=r,I=r+o;S<I;++S)p._parsed[S]=y(S)}}_getRotation(){return Ei(this.options.rotation-90)}_getCircumference(){return Ei(this.options.circumference)}_getRotationExtents(){let r=Re,o=-Re;for(let l=0;l<this.chart.data.datasets.length;++l)if(this.chart.isDatasetVisible(l)){const p=this.chart.getDatasetMeta(l).controller,y=p._getRotation(),S=p._getCircumference();r=Math.min(r,y),o=Math.max(o,y+S)}return{rotation:r,circumference:o-r}}update(r){const o=this.chart,{chartArea:l}=o,p=this._cachedMeta,y=p.data,S=this.getMaxBorderWidth()+this.getMaxOffset(y)+this.options.spacing,I=Math.max((Math.min(l.width,l.height)-S)/2,0),N=Math.min(((g,s)=>"string"==typeof g&&g.endsWith("%")?parseFloat(g)/100:g/s)(this.options.cutout,I),1),J=this._getRingWeight(this.index),{circumference:pe,rotation:Fe}=this._getRotationExtents(),{ratioX:Qe,ratioY:Ct,offsetX:Lt,offsetY:Gt}=function Vt(g,s,r){let o=1,l=1,p=0,y=0;if(s<Re){const S=g,I=S+s,N=Math.cos(S),J=Math.sin(S),pe=Math.cos(I),Fe=Math.sin(I),Qe=(on,Ki,Vi)=>Mt(on,S,I,!0)?1:Math.max(Ki,Ki*r,Vi,Vi*r),Ct=(on,Ki,Vi)=>Mt(on,S,I,!0)?-1:Math.min(Ki,Ki*r,Vi,Vi*r),Lt=Qe(0,N,pe),Gt=Qe(wt,J,Fe),Yt=Ct(ut,N,pe),Ci=Ct(ut+wt,J,Fe);o=(Lt-Yt)/2,l=(Gt-Ci)/2,p=-(Lt+Yt)/2,y=-(Gt+Ci)/2}return{ratioX:o,ratioY:l,offsetX:p,offsetY:y}}(Fe,pe,N),on=Math.max(Math.min((l.width-S)/Qe,(l.height-S)/Ct)/2,0),Ki=Ce(this.options.radius,on),vn=(Ki-Math.max(Ki*N,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Lt*Ki,this.offsetY=Gt*Ki,p.total=this.calculateTotal(),this.outerRadius=Ki-vn*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-vn*J,0),this.updateElements(y,0,y.length,r)}_circumference(r,o){const l=this.options,p=this._cachedMeta,y=this._getCircumference();return o&&l.animation.animateRotate||!this.chart.getDataVisibility(r)||null===p._parsed[r]||p.data[r].hidden?0:this.calculateCircumference(p._parsed[r]*y/Re)}updateElements(r,o,l,p){const y="reset"===p,S=this.chart,I=S.chartArea,pe=(I.left+I.right)/2,Fe=(I.top+I.bottom)/2,Qe=y&&S.options.animation.animateScale,Ct=Qe?0:this.innerRadius,Lt=Qe?0:this.outerRadius,Gt=this.resolveDataElementOptions(o,p),Yt=this.getSharedOptions(Gt),Ci=this.includeOptions(p,Yt);let Ki,on=this._getRotation();for(Ki=0;Ki<o;++Ki)on+=this._circumference(Ki,y);for(Ki=o;Ki<o+l;++Ki){const Vi=this._circumference(Ki,y),vn=r[Ki],yn={x:pe+this.offsetX,y:Fe+this.offsetY,startAngle:on,endAngle:on+Vi,circumference:Vi,outerRadius:Lt,innerRadius:Ct};Ci&&(yn.options=Yt||this.resolveDataElementOptions(Ki,vn.active?"active":p)),on+=Vi,this.updateElement(vn,Ki,yn,p)}this.updateSharedOptions(Yt,p,Gt)}calculateTotal(){const r=this._cachedMeta,o=r.data;let p,l=0;for(p=0;p<o.length;p++){const y=r._parsed[p];null!==y&&!isNaN(y)&&this.chart.getDataVisibility(p)&&!o[p].hidden&&(l+=Math.abs(y))}return l}calculateCircumference(r){const o=this._cachedMeta.total;return o>0&&!isNaN(r)?Re*(Math.abs(r)/o):0}getLabelAndValue(r){const l=this.chart,p=l.data.labels||[],y=cr(this._cachedMeta._parsed[r],l.options.locale);return{label:p[r]||"",value:y}}getMaxBorderWidth(r){let o=0;const l=this.chart;let p,y,S,I,N;if(!r)for(p=0,y=l.data.datasets.length;p<y;++p)if(l.isDatasetVisible(p)){S=l.getDatasetMeta(p),r=S.data,I=S.controller;break}if(!r)return 0;for(p=0,y=r.length;p<y;++p)N=I.resolveDataElementOptions(p),"inner"!==N.borderAlign&&(o=Math.max(o,N.borderWidth||0,N.hoverBorderWidth||0));return o}getMaxOffset(r){let o=0;for(let l=0,p=r.length;l<p;++l){const y=this.resolveDataElementOptions(l);o=Math.max(o,y.offset||0,y.hoverOffset||0)}return o}_getRingWeightOffset(r){let o=0;for(let l=0;l<r;++l)this.chart.isDatasetVisible(l)&&(o+=this._getRingWeight(l));return o}_getRingWeight(r){return Math.max(Ne(this.chart.data.datasets[r].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return g.id="doughnut",g.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},g.descriptors={_scriptable:s=>"spacing"!==s,_indexable:s=>"spacing"!==s},g.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const r=s.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:o}}=s.legend.options;return r.labels.map((l,p)=>{const S=s.getDatasetMeta(0).controller.getStyle(p);return{text:l,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,lineWidth:S.borderWidth,pointStyle:o,hidden:!s.getDataVisibility(p),index:p}})}return[]}},onClick(s,r,o){o.chart.toggleDataVisibility(r.index),o.chart.update()}},tooltip:{callbacks:{title:()=>"",label(s){let r=s.label;const o=": "+s.formattedValue;return ve(r)?(r=r.slice(),r[0]+=o):r+=o,r}}}}},g})(),Li=(()=>{class g extends ma{initialize(){this.enableOptionSharing=!0,super.initialize()}update(r){const o=this._cachedMeta,{dataset:l,data:p=[],_dataset:y}=o,S=this.chart._animationsDisabled;let{start:I,count:N}=function Mn(g,s,r){const o=s.length;let l=0,p=o;if(g._sorted){const{iScale:y,_parsed:S}=g,I=y.axis,{min:N,max:J,minDefined:pe,maxDefined:Fe}=y.getUserBounds();pe&&(l=_i(Math.min(Ho(S,y.axis,N).lo,r?o:Ho(s,I,y.getPixelForValue(N)).lo),0,o-1)),p=Fe?_i(Math.max(Ho(S,y.axis,J).hi+1,r?0:Ho(s,I,y.getPixelForValue(J)).hi+1),l,o)-l:o-l}return{start:l,count:p}}(o,p,S);this._drawStart=I,this._drawCount=N,function yr(g){const{xScale:s,yScale:r,_scaleRanges:o}=g,l={xmin:s.min,xmax:s.max,ymin:r.min,ymax:r.max};if(!o)return g._scaleRanges=l,!0;const p=o.xmin!==s.min||o.xmax!==s.max||o.ymin!==r.min||o.ymax!==r.max;return Object.assign(o,l),p}(o)&&(I=0,N=p.length),l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!y._decimated,l.points=p;const J=this.resolveDatasetElementOptions(r);this.options.showLine||(J.borderWidth=0),J.segment=this.options.segment,this.updateElement(l,void 0,{animated:!S,options:J},r),this.updateElements(p,I,N,r)}updateElements(r,o,l,p){const y="reset"===p,{iScale:S,vScale:I,_stacked:N,_dataset:J}=this._cachedMeta,pe=this.resolveDataElementOptions(o,p),Fe=this.getSharedOptions(pe),Qe=this.includeOptions(p,Fe),Ct=S.axis,Lt=I.axis,{spanGaps:Gt,segment:Yt}=this.options,Ci=Ke(Gt)?Gt:Number.POSITIVE_INFINITY,on=this.chart._animationsDisabled||y||"none"===p;let Ki=o>0&&this.getParsed(o-1);for(let Vi=o;Vi<o+l;++Vi){const vn=r[Vi],yn=this.getParsed(Vi),Rn=on?vn:{},Vn=Se(yn[Lt]),Tn=Rn[Ct]=S.getPixelForValue(yn[Ct],Vi),qi=Rn[Lt]=y||Vn?I.getBasePixel():I.getPixelForValue(N?this.applyStack(I,yn,N):yn[Lt],Vi);Rn.skip=isNaN(Tn)||isNaN(qi)||Vn,Rn.stop=Vi>0&&yn[Ct]-Ki[Ct]>Ci,Yt&&(Rn.parsed=yn,Rn.raw=J.data[Vi]),Qe&&(Rn.options=Fe||this.resolveDataElementOptions(Vi,vn.active?"active":p)),on||this.updateElement(vn,Vi,Rn,p),Ki=yn}this.updateSharedOptions(Fe,p,pe)}getMaxOverflow(){const r=this._cachedMeta,o=r.dataset,l=o.options&&o.options.borderWidth||0,p=r.data||[];if(!p.length)return l;const y=p[0].size(this.resolveDataElementOptions(0)),S=p[p.length-1].size(this.resolveDataElementOptions(p.length-1));return Math.max(l,y,S)/2}draw(){const r=this._cachedMeta;r.dataset.updateControlPoints(this.chart.chartArea,r.iScale.axis),super.draw()}}return g.id="line",g.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},g.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},g})();var Bs=Object.freeze({__proto__:null,BarController:Ge,BubbleController:ft,DoughnutController:qt,LineController:Li,PolarAreaController:(()=>{class g extends ma{constructor(r,o){super(r,o),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(r){const l=this.chart,p=l.data.labels||[],y=cr(this._cachedMeta._parsed[r].r,l.options.locale);return{label:p[r]||"",value:y}}update(r){const o=this._cachedMeta.data;this._updateRadius(),this.updateElements(o,0,o.length,r)}_updateRadius(){const r=this.chart,o=r.chartArea,l=r.options,p=Math.min(o.right-o.left,o.bottom-o.top),y=Math.max(p/2,0),I=(y-Math.max(l.cutoutPercentage?y/100*l.cutoutPercentage:1,0))/r.getVisibleDatasetCount();this.outerRadius=y-I*this.index,this.innerRadius=this.outerRadius-I}updateElements(r,o,l,p){const y="reset"===p,S=this.chart,I=this.getDataset(),J=S.options.animation,pe=this._cachedMeta.rScale,Fe=pe.xCenter,Qe=pe.yCenter,Ct=pe.getIndexAngle(0)-.5*ut;let Gt,Lt=Ct;const Yt=360/this.countVisibleElements();for(Gt=0;Gt<o;++Gt)Lt+=this._computeAngle(Gt,p,Yt);for(Gt=o;Gt<o+l;Gt++){const Ci=r[Gt];let on=Lt,Ki=Lt+this._computeAngle(Gt,p,Yt),Vi=S.getDataVisibility(Gt)?pe.getDistanceFromCenterForValue(I.data[Gt]):0;Lt=Ki,y&&(J.animateScale&&(Vi=0),J.animateRotate&&(on=Ki=Ct));const vn={x:Fe,y:Qe,innerRadius:0,outerRadius:Vi,startAngle:on,endAngle:Ki,options:this.resolveDataElementOptions(Gt,Ci.active?"active":p)};this.updateElement(Ci,Gt,vn,p)}}countVisibleElements(){const r=this.getDataset();let l=0;return this._cachedMeta.data.forEach((p,y)=>{!isNaN(r.data[y])&&this.chart.getDataVisibility(y)&&l++}),l}_computeAngle(r,o,l){return this.chart.getDataVisibility(r)?Ei(this.resolveDataElementOptions(r,o).angle||l):0}}return g.id="polarArea",g.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},g.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const r=s.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:o}}=s.legend.options;return r.labels.map((l,p)=>{const S=s.getDatasetMeta(0).controller.getStyle(p);return{text:l,fillStyle:S.backgroundColor,strokeStyle:S.borderColor,lineWidth:S.borderWidth,pointStyle:o,hidden:!s.getDataVisibility(p),index:p}})}return[]}},onClick(s,r,o){o.chart.toggleDataVisibility(r.index),o.chart.update()}},tooltip:{callbacks:{title:()=>"",label:s=>s.chart.data.labels[s.dataIndex]+": "+s.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},g})(),PieController:(()=>{class g extends qt{}return g.id="pie",g.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},g})(),RadarController:(()=>{class g extends ma{getLabelAndValue(r){const o=this._cachedMeta.vScale,l=this.getParsed(r);return{label:o.getLabels()[r],value:""+o.getLabelForValue(l[o.axis])}}update(r){const o=this._cachedMeta,l=o.dataset,p=o.data||[],y=o.iScale.getLabels();if(l.points=p,"resize"!==r){const S=this.resolveDatasetElementOptions(r);this.options.showLine||(S.borderWidth=0),this.updateElement(l,void 0,{_loop:!0,_fullLoop:y.length===p.length,options:S},r)}this.updateElements(p,0,p.length,r)}updateElements(r,o,l,p){const y=this.getDataset(),S=this._cachedMeta.rScale,I="reset"===p;for(let N=o;N<o+l;N++){const J=r[N],pe=this.resolveDataElementOptions(N,J.active?"active":p),Fe=S.getPointPositionForValue(N,y.data[N]),Qe=I?S.xCenter:Fe.x,Ct=I?S.yCenter:Fe.y,Lt={x:Qe,y:Ct,angle:Fe.angle,skip:isNaN(Qe)||isNaN(Ct),options:pe};this.updateElement(J,N,Lt,p)}}}return g.id="radar",g.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},g.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},g})(),ScatterController:(()=>{class g extends Li{}return g.id="scatter",g.defaults={showLine:!1,fill:!1},g.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:s=>"("+s.label+", "+s.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},g})()});function Ss(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Da={_date:(()=>{class g{constructor(r){this.options=r||{}}formats(){return Ss()}parse(r,o){return Ss()}format(r,o){return Ss()}add(r,o,l){return Ss()}diff(r,o,l){return Ss()}startOf(r,o,l){return Ss()}endOf(r,o){return Ss()}}return g.override=function(s){Object.assign(g.prototype,s)},g})()};function as(g,s){return"native"in g?{x:g.x,y:g.y}:G(g,s)}function $a(g,s,r,o){const{controller:l,data:p,_sorted:y}=g,S=l._cachedMeta.iScale;if(S&&s===S.axis&&y&&p.length){const I=S._reversePixels?fa:Ho;if(!o)return I(p,s,r);if(l._sharedOptions){const N=p[0],J="function"==typeof N.getRange&&N.getRange(s);if(J){const pe=I(p,s,r-J),Fe=I(p,s,r+J);return{lo:pe.lo,hi:Fe.hi}}}}return{lo:0,hi:p.length-1}}function Gc(g,s,r,o,l){const p=g.getSortedVisibleDatasetMetas(),y=r[s];for(let S=0,I=p.length;S<I;++S){const{index:N,data:J}=p[S],{lo:pe,hi:Fe}=$a(p[S],s,y,l);for(let Qe=pe;Qe<=Fe;++Qe){const Ct=J[Qe];Ct.skip||o(Ct,N,Qe)}}}function jl(g,s,r,o){const l=[];return hs(s,g.chartArea,g._minPadding)&&Gc(g,r,s,function(y,S,I){y.inRange(s.x,s.y,o)&&l.push({element:y,datasetIndex:S,index:I})},!0),l}function gs(g,s,r,o,l){const p=function va(g){const s=-1!==g.indexOf("x"),r=-1!==g.indexOf("y");return function(o,l){const p=s?Math.abs(o.x-l.x):0,y=r?Math.abs(o.y-l.y):0;return Math.sqrt(Math.pow(p,2)+Math.pow(y,2))}}(r);let y=Number.POSITIVE_INFINITY,S=[];return hs(s,g.chartArea,g._minPadding)&&Gc(g,r,s,function(N,J,pe){if(o&&!N.inRange(s.x,s.y,l))return;const Fe=N.getCenterPoint(l);if(!hs(Fe,g.chartArea,g._minPadding)&&!N.inRange(s.x,s.y,l))return;const Qe=p(s,Fe);Qe<y?(S=[{element:N,datasetIndex:J,index:pe}],y=Qe):Qe===y&&S.push({element:N,datasetIndex:J,index:pe})}),S}function To(g,s,r,o){const l=as(s,g),p=[],y=r.axis,S="x"===y?"inXRange":"inYRange";let I=!1;return function Dl(g,s){const r=g.getSortedVisibleDatasetMetas();let o,l,p;for(let y=0,S=r.length;y<S;++y){({index:o,data:l}=r[y]);for(let I=0,N=l.length;I<N;++I)p=l[I],p.skip||s(p,o,I)}}(g,(N,J,pe)=>{N[S](l[y],o)&&p.push({element:N,datasetIndex:J,index:pe}),N.inRange(l.x,l.y,o)&&(I=!0)}),r.intersect&&!I?[]:p}var xo={modes:{index(g,s,r,o){const l=as(s,g),p=r.axis||"x",y=r.intersect?jl(g,l,p,o):gs(g,l,p,!1,o),S=[];return y.length?(g.getSortedVisibleDatasetMetas().forEach(I=>{const N=y[0].index,J=I.data[N];J&&!J.skip&&S.push({element:J,datasetIndex:I.index,index:N})}),S):[]},dataset(g,s,r,o){const l=as(s,g),p=r.axis||"xy";let y=r.intersect?jl(g,l,p,o):gs(g,l,p,!1,o);if(y.length>0){const S=y[0].datasetIndex,I=g.getDatasetMeta(S).data;y=[];for(let N=0;N<I.length;++N)y.push({element:I[N],datasetIndex:S,index:N})}return y},point:(g,s,r,o)=>jl(g,as(s,g),r.axis||"xy",o),nearest:(g,s,r,o)=>gs(g,as(s,g),r.axis||"xy",r.intersect,o),x:(g,s,r,o)=>To(g,s,{axis:"x",intersect:r.intersect},o),y:(g,s,r,o)=>To(g,s,{axis:"y",intersect:r.intersect},o)}};const eo=["left","top","right","bottom"];function Ml(g,s){return g.filter(r=>r.pos===s)}function ru(g,s){return g.filter(r=>-1===eo.indexOf(r.pos)&&r.box.axis===s)}function vo(g,s){return g.sort((r,o)=>{const l=s?o:r,p=s?r:o;return l.weight===p.weight?l.index-p.index:l.weight-p.weight})}function Wu(g,s,r,o){return Math.max(g[r],s[r])+Math.max(g[o],s[o])}function Su(g,s){g.top=Math.max(g.top,s.top),g.left=Math.max(g.left,s.left),g.bottom=Math.max(g.bottom,s.bottom),g.right=Math.max(g.right,s.right)}function od(g,s,r,o){const{pos:l,box:p}=r,y=g.maxPadding;if(!se(l)){r.size&&(g[l]-=r.size);const pe=o[r.stack]||{size:0,count:1};pe.size=Math.max(pe.size,r.horizontal?p.height:p.width),r.size=pe.size/pe.count,g[l]+=r.size}p.getPadding&&Su(y,p.getPadding());const S=Math.max(0,s.outerWidth-Wu(y,g,"left","right")),I=Math.max(0,s.outerHeight-Wu(y,g,"top","bottom")),N=S!==g.w,J=I!==g.h;return g.w=S,g.h=I,r.horizontal?{same:N,other:J}:{same:J,other:N}}function Du(g,s){const r=s.maxPadding;return function o(l){const p={left:0,top:0,right:0,bottom:0};return l.forEach(y=>{p[y]=Math.max(s[y],r[y])}),p}(g?["left","right"]:["top","bottom"])}function No(g,s,r,o){const l=[];let p,y,S,I,N,J;for(p=0,y=g.length,N=0;p<y;++p){S=g[p],I=S.box,I.update(S.width||s.w,S.height||s.h,Du(S.horizontal,s));const{same:pe,other:Fe}=od(s,r,S,o);N|=pe&&l.length,J=J||Fe,I.fullSize||l.push(S)}return N&&No(l,s,r,o)||J}function zl(g,s,r,o,l){g.top=r,g.left=s,g.right=s+o,g.bottom=r+l,g.width=o,g.height=l}function tc(g,s,r,o){const l=r.padding;let{x:p,y}=s;for(const S of g){const I=S.box,N=o[S.stack]||{count:1,placed:0,weight:1},J=S.stackWeight/N.weight||1;if(S.horizontal){const pe=s.w*J,Fe=N.size||I.height;mt(N.start)&&(y=N.start),I.fullSize?zl(I,l.left,y,r.outerWidth-l.right-l.left,Fe):zl(I,s.left+N.placed,y,pe,Fe),N.start=y,N.placed+=pe,y=I.bottom}else{const pe=s.h*J,Fe=N.size||I.width;mt(N.start)&&(p=N.start),I.fullSize?zl(I,p,l.top,Fe,r.outerHeight-l.bottom-l.top):zl(I,p,s.top+N.placed,Fe,pe),N.start=p,N.placed+=pe,p=I.right}}s.x=p,s.y=y}lr.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var ya={addBox(g,s){g.boxes||(g.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(r){s.draw(r)}}]},g.boxes.push(s)},removeBox(g,s){const r=g.boxes?g.boxes.indexOf(s):-1;-1!==r&&g.boxes.splice(r,1)},configure(g,s,r){s.fullSize=r.fullSize,s.position=r.position,s.weight=r.weight},update(g,s,r,o){if(!g)return;const l=Ur(g.options.layout.padding),p=Math.max(s-l.width,0),y=Math.max(r-l.height,0),S=function Tc(g){const s=function rd(g){const s=[];let r,o,l,p,y,S;for(r=0,o=(g||[]).length;r<o;++r)l=g[r],({position:p,options:{stack:y,stackWeight:S=1}}=l),s.push({index:r,box:l,pos:p,horizontal:l.isHorizontal(),weight:l.weight,stack:y&&p+y,stackWeight:S});return s}(g),r=vo(s.filter(N=>N.box.fullSize),!0),o=vo(Ml(s,"left"),!0),l=vo(Ml(s,"right")),p=vo(Ml(s,"top"),!0),y=vo(Ml(s,"bottom")),S=ru(s,"x"),I=ru(s,"y");return{fullSize:r,leftAndTop:o.concat(p),rightAndBottom:l.concat(I).concat(y).concat(S),chartArea:Ml(s,"chartArea"),vertical:o.concat(l).concat(I),horizontal:p.concat(y).concat(S)}}(g.boxes),I=S.vertical,N=S.horizontal;re(g.boxes,Lt=>{"function"==typeof Lt.beforeLayout&&Lt.beforeLayout()});const J=I.reduce((Lt,Gt)=>Gt.box.options&&!1===Gt.box.options.display?Lt:Lt+1,0)||1,pe=Object.freeze({outerWidth:s,outerHeight:r,padding:l,availableWidth:p,availableHeight:y,vBoxMaxWidth:p/2/J,hBoxMaxHeight:y/2}),Fe=Object.assign({},l);Su(Fe,Ur(o));const Qe=Object.assign({maxPadding:Fe,w:p,h:y,x:l.left,y:l.top},l),Ct=function wu(g,s){const r=function Gu(g){const s={};for(const r of g){const{stack:o,pos:l,stackWeight:p}=r;if(!o||!eo.includes(l))continue;const y=s[o]||(s[o]={count:0,placed:0,weight:0,size:0});y.count++,y.weight+=p}return s}(g),{vBoxMaxWidth:o,hBoxMaxHeight:l}=s;let p,y,S;for(p=0,y=g.length;p<y;++p){S=g[p];const{fullSize:I}=S.box,N=r[S.stack],J=N&&S.stackWeight/N.weight;S.horizontal?(S.width=J?J*o:I&&s.availableWidth,S.height=l):(S.width=o,S.height=J?J*l:I&&s.availableHeight)}return r}(I.concat(N),pe);No(S.fullSize,Qe,pe,Ct),No(I,Qe,pe,Ct),No(N,Qe,pe,Ct)&&No(I,Qe,pe,Ct),function dc(g){const s=g.maxPadding;function r(o){const l=Math.max(s[o]-g[o],0);return g[o]+=l,l}g.y+=r("top"),g.x+=r("left"),r("right"),r("bottom")}(Qe),tc(S.leftAndTop,Qe,pe,Ct),Qe.x+=Qe.w,Qe.y+=Qe.h,tc(S.rightAndBottom,Qe,pe,Ct),g.chartArea={left:Qe.left,top:Qe.top,right:Qe.left+Qe.w,bottom:Qe.top+Qe.h,height:Qe.h,width:Qe.w},re(S.chartArea,Lt=>{const Gt=Lt.box;Object.assign(Gt,g.chartArea),Gt.update(Qe.w,Qe.h,{left:0,top:0,right:0,bottom:0})})}};class _l{acquireContext(s,r){}releaseContext(s){return!1}addEventListener(s,r,o){}removeEventListener(s,r,o){}getDevicePixelRatio(){return 1}getMaximumSize(s,r,o,l){return r=Math.max(0,r||s.width),o=o||s.height,{width:r,height:Math.max(0,l?Math.floor(r/l):o)}}isAttached(s){return!0}updateConfig(s){}}class Ds extends _l{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const aa="$chartjs",Ja={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ma=g=>null===g||""===g,wc=!!Xt&&{passive:!0};function Br(g,s,r){g.canvas.removeEventListener(s,r,wc)}function vl(g,s){for(const r of g)if(r===s||r.contains(s))return!0}function Yl(g,s,r){const o=g.canvas,l=new MutationObserver(p=>{let y=!1;for(const S of p)y=y||vl(S.addedNodes,o),y=y&&!vl(S.removedNodes,o);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}function Ms(g,s,r){const o=g.canvas,l=new MutationObserver(p=>{let y=!1;for(const S of p)y=y||vl(S.removedNodes,o),y=y&&!vl(S.addedNodes,o);y&&r()});return l.observe(document,{childList:!0,subtree:!0}),l}const Xl=new Map;let ll=0;function sd(){const g=window.devicePixelRatio;g!==ll&&(ll=g,Xl.forEach((s,r)=>{r.currentDevicePixelRatio!==g&&s()}))}function ou(g,s,r){const o=g.canvas,l=o&&es(o);if(!l)return;const p=q((S,I)=>{const N=l.clientWidth;r(S,I),N<l.clientWidth&&r()},window),y=new ResizeObserver(S=>{const I=S[0],N=I.contentRect.width,J=I.contentRect.height;0===N&&0===J||p(N,J)});return y.observe(l),function xl(g,s){Xl.size||window.addEventListener("resize",sd),Xl.set(g,s)}(g,p),y}function ls(g,s,r){r&&r.disconnect(),"resize"===s&&function ic(g){Xl.delete(g),Xl.size||window.removeEventListener("resize",sd)}(g)}function cl(g,s,r){const o=g.canvas,l=q(p=>{null!==g.ctx&&r(function Fa(g,s){const r=Ja[g.type]||g.type,{x:o,y:l}=G(g,s);return{type:r,chart:s,native:g,x:void 0!==o?o:null,y:void 0!==l?l:null}}(p,g))},g,p=>{const y=p[0];return[y,y.offsetX,y.offsetY]});return function Na(g,s,r){g.addEventListener(s,r,wc)}(o,s,l),l}class Rr extends _l{acquireContext(s,r){const o=s&&s.getContext&&s.getContext("2d");return o&&o.canvas===s?(function Wc(g,s){const r=g.style,o=g.getAttribute("height"),l=g.getAttribute("width");if(g[aa]={initial:{height:o,width:l,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Ma(l)){const p=Qt(g,"width");void 0!==p&&(g.width=p)}if(Ma(o))if(""===g.style.height)g.height=g.width/(s||2);else{const p=Qt(g,"height");void 0!==p&&(g.height=p)}}(s,r),o):null}releaseContext(s){const r=s.canvas;if(!r[aa])return!1;const o=r[aa].initial;["height","width"].forEach(p=>{const y=o[p];Se(y)?r.removeAttribute(p):r.setAttribute(p,y)});const l=o.style||{};return Object.keys(l).forEach(p=>{r.style[p]=l[p]}),r.width=r.width,delete r[aa],!0}addEventListener(s,r,o){this.removeEventListener(s,r),(s.$proxies||(s.$proxies={}))[r]=({attach:Yl,detach:Ms,resize:ou}[r]||cl)(s,r,o)}removeEventListener(s,r){const o=s.$proxies||(s.$proxies={}),l=o[r];l&&(({attach:ls,detach:ls,resize:ls}[r]||Br)(s,r,l),o[r]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,r,o,l){return function qe(g,s,r,o){const l=Ls(g),p=$i(l,"margin"),y=za(l.maxWidth,g,"clientWidth")||zt,S=za(l.maxHeight,g,"clientHeight")||zt,I=function X(g,s,r){let o,l;if(void 0===s||void 0===r){const p=es(g);if(p){const y=p.getBoundingClientRect(),S=Ls(p),I=$i(S,"border","width"),N=$i(S,"padding");s=y.width-N.width-I.width,r=y.height-N.height-I.height,o=za(S.maxWidth,p,"clientWidth"),l=za(S.maxHeight,p,"clientHeight")}else s=g.clientWidth,r=g.clientHeight}return{width:s,height:r,maxWidth:o||zt,maxHeight:l||zt}}(g,s,r);let{width:N,height:J}=I;if("content-box"===l.boxSizing){const pe=$i(l,"border","width"),Fe=$i(l,"padding");N-=Fe.width+pe.width,J-=Fe.height+pe.height}return N=Math.max(0,N-p.width),J=Math.max(0,o?Math.floor(N/o):J-p.height),N=ye(Math.min(N,y,I.maxWidth)),J=ye(Math.min(J,S,I.maxHeight)),N&&!J&&(J=ye(N/2)),{width:N,height:J}}(s,r,o,l)}isAttached(s){const r=es(s);return!(!r||!r.isConnected)}}class la{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(s){const{x:r,y:o}=this.getProps(["x","y"],s);return{x:r,y:o}}hasValue(){return Ke(this.x)&&Ke(this.y)}getProps(s,r){const o=this.$animations;if(!r||!o)return this;const l={};return s.forEach(p=>{l[p]=o[p]&&o[p].active()?o[p]._to:this[p]}),l}}la.defaults={},la.defaultRoutes=void 0;const hc={values:g=>ve(g)?g:""+g,numeric(g,s,r){if(0===g)return"0";const o=this.chart.options.locale;let l,p=g;if(r.length>1){const N=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(N<1e-4||N>1e15)&&(l="scientific"),p=function jc(g,s){let r=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(r)>=1&&g!==Math.floor(g)&&(r=g-Math.floor(g)),r}(g,r)}const y=At(Math.abs(p)),S=Math.max(Math.min(-1*Math.floor(y),20),0),I={notation:l,minimumFractionDigits:S,maximumFractionDigits:S};return Object.assign(I,this.options.ticks.format),cr(g,o,I)},logarithmic(g,s,r){if(0===g)return"0";const o=g/Math.pow(10,Math.floor(At(g)));return 1===o||2===o||5===o?hc.numeric.call(this,g,s,r):""}};var Rl={formatters:hc};function Al(g,s,r,o,l){const p=Ne(o,0),y=Math.min(Ne(l,g.length),g.length);let I,N,J,S=0;for(r=Math.ceil(r),l&&(I=l-o,r=I/Math.floor(I/r)),J=p;J<0;)S++,J=Math.round(p+S*r);for(N=Math.max(p,0);N<y;N++)N===J&&(s.push(g[N]),S++,J=Math.round(p+S*r))}lr.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(g,s)=>s.lineWidth,tickColor:(g,s)=>s.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Rl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),lr.route("scale.ticks","color","","color"),lr.route("scale.grid","color","","borderColor"),lr.route("scale.grid","borderColor","","borderColor"),lr.route("scale.title","color","","color"),lr.describe("scale",{_fallback:!1,_scriptable:g=>!g.startsWith("before")&&!g.startsWith("after")&&"callback"!==g&&"parser"!==g,_indexable:g=>"borderDash"!==g&&"tickBorderDash"!==g}),lr.describe("scales",{_fallback:"scale"}),lr.describe("scale.ticks",{_scriptable:g=>"backdropPadding"!==g&&"callback"!==g,_indexable:g=>"backdropPadding"!==g});const rc=(g,s,r)=>"top"===s||"left"===s?g[s]+r:g[s]-r;function ul(g,s){const r=[],o=g.length/s,l=g.length;let p=0;for(;p<l;p+=o)r.push(g[Math.floor(p)]);return r}function Xo(g,s,r){const o=g.ticks.length,l=Math.min(s,o-1),p=g._startPixel,y=g._endPixel,S=1e-6;let N,I=g.getPixelForTick(l);if(!(r&&(N=1===o?Math.max(I-p,y-I):0===s?(g.getPixelForTick(1)-I)/2:(I-g.getPixelForTick(l-1))/2,I+=l<s?N:-N,I<p-S||I>y+S)))return I}function Ha(g){return g.drawTicks?g.tickLength:0}function Ol(g,s){if(!g.display)return 0;const r=Pr(g.font,s),o=Ur(g.padding);return(ve(g.text)?g.text.length:1)*r.lineHeight+o.height}function xu(g,s,r){let o=Te(g);return(r&&"right"!==s||!r&&"right"===s)&&(o=(g=>"left"===g?"right":"right"===g?"left":g)(o)),o}class xa extends la{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,r){return s}getUserBounds(){let{_userMin:s,_userMax:r,_suggestedMin:o,_suggestedMax:l}=this;return s=ce(s,Number.POSITIVE_INFINITY),r=ce(r,Number.NEGATIVE_INFINITY),o=ce(o,Number.POSITIVE_INFINITY),l=ce(l,Number.NEGATIVE_INFINITY),{min:ce(s,o),max:ce(r,l),minDefined:me(s),maxDefined:me(r)}}getMinMax(s){let y,{min:r,max:o,minDefined:l,maxDefined:p}=this.getUserBounds();if(l&&p)return{min:r,max:o};const S=this.getMatchingVisibleMetas();for(let I=0,N=S.length;I<N;++I)y=S[I].controller.getMinMax(this,s),l||(r=Math.min(r,y.min)),p||(o=Math.max(o,y.max));return r=p&&r>o?o:r,o=l&&r>o?r:o,{min:ce(r,ce(o,r)),max:ce(o,ce(r,o))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){de(this.options.beforeUpdate,[this])}update(s,r,o){const{beginAtZero:l,grace:p,ticks:y}=this.options,S=y.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=r,this._margins=o=Object.assign({left:0,right:0,top:0,bottom:0},o),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+o.left+o.right:this.height+o.top+o.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function Oo(g,s,r){const{min:o,max:l}=g,p=Ce(s,(l-o)/2),y=(S,I)=>r&&0===S?0:S+I;return{min:y(o,-Math.abs(p)),max:y(l,p)}}(this,p,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const I=S<this.ticks.length;this._convertTicksToLabels(I?ul(this.ticks,S):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),y.display&&(y.autoSkip||"auto"===y.source)&&(this.ticks=function su(g,s){const r=g.options.ticks,o=r.maxTicksLimit||function Ro(g){const s=g.options.offset,r=g._tickSize();return Math.floor(Math.min(g._length/r+(s?0:1),g._maxLength/r))}(g),l=r.major.enabled?function nc(g){const s=[];let r,o;for(r=0,o=g.length;r<o;r++)g[r].major&&s.push(r);return s}(s):[],p=l.length,y=l[0],S=l[p-1],I=[];if(p>o)return function au(g,s,r,o){let y,l=0,p=r[0];for(o=Math.ceil(o),y=0;y<g.length;y++)y===p&&(s.push(g[y]),l++,p=r[l*o])}(s,I,l,p/o),I;const N=function Mu(g,s,r){const o=function Za(g){const s=g.length;let r,o;if(s<2)return!1;for(o=g[0],r=1;r<s;++r)if(g[r]-g[r-1]!==o)return!1;return o}(g),l=s.length/r;if(!o)return Math.max(l,1);const p=function Et(g){const s=[],r=Math.sqrt(g);let o;for(o=1;o<r;o++)g%o==0&&(s.push(o),s.push(g/o));return r===(0|r)&&s.push(r),s.sort((l,p)=>l-p).pop(),s}(o);for(let y=0,S=p.length-1;y<S;y++){const I=p[y];if(I>l)return I}return Math.max(l,1)}(l,s,o);if(p>0){let J,pe;const Fe=p>1?Math.round((S-y)/(p-1)):null;for(Al(s,I,N,Se(Fe)?0:y-Fe,y),J=0,pe=p-1;J<pe;J++)Al(s,I,N,l[J],l[J+1]);return Al(s,I,N,S,Se(Fe)?s.length:S+Fe),I}return Al(s,I,N),I}(this,this.ticks),this._labelSizes=null),I&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let r,o,s=this.options.reverse;this.isHorizontal()?(r=this.left,o=this.right):(r=this.top,o=this.bottom,s=!s),this._startPixel=r,this._endPixel=o,this._reversePixels=s,this._length=o-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){de(this.options.afterUpdate,[this])}beforeSetDimensions(){de(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){de(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),de(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){de(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const r=this.options.ticks;let o,l,p;for(o=0,l=s.length;o<l;o++)p=s[o],p.label=de(r.callback,[p.value,o,s],this)}afterTickToLabelConversion(){de(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){de(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,r=s.ticks,o=this.ticks.length,l=r.minRotation||0,p=r.maxRotation;let S,I,N,y=l;if(!this._isVisible()||!r.display||l>=p||o<=1||!this.isHorizontal())return void(this.labelRotation=l);const J=this._getLabelSizes(),pe=J.widest.width,Fe=J.highest.height,Qe=_i(this.chart.width-pe,0,this.maxWidth);S=s.offset?this.maxWidth/o:Qe/(o-1),pe+6>S&&(S=Qe/(o-(s.offset?.5:1)),I=this.maxHeight-Ha(s.grid)-r.padding-Ol(s.title,this.chart.options.font),N=Math.sqrt(pe*pe+Fe*Fe),y=vi(Math.min(Math.asin(_i((J.highest.height+6)/S,-1,1)),Math.asin(_i(I/N,-1,1))-Math.asin(_i(Fe/N,-1,1)))),y=Math.max(l,Math.min(p,y))),this.labelRotation=y}afterCalculateLabelRotation(){de(this.options.afterCalculateLabelRotation,[this])}beforeFit(){de(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:r,options:{ticks:o,title:l,grid:p}}=this,y=this._isVisible(),S=this.isHorizontal();if(y){const I=Ol(l,r.options.font);if(S?(s.width=this.maxWidth,s.height=Ha(p)+I):(s.height=this.maxHeight,s.width=Ha(p)+I),o.display&&this.ticks.length){const{first:N,last:J,widest:pe,highest:Fe}=this._getLabelSizes(),Qe=2*o.padding,Ct=Ei(this.labelRotation),Lt=Math.cos(Ct),Gt=Math.sin(Ct);S?s.height=Math.min(this.maxHeight,s.height+(o.mirror?0:Gt*pe.width+Lt*Fe.height)+Qe):s.width=Math.min(this.maxWidth,s.width+(o.mirror?0:Lt*pe.width+Gt*Fe.height)+Qe),this._calculatePadding(N,J,Gt,Lt)}}this._handleMargins(),S?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,r,o,l){const{ticks:{align:p,padding:y},position:S}=this.options,I=0!==this.labelRotation,N="top"!==S&&"x"===this.axis;if(this.isHorizontal()){const J=this.getPixelForTick(0)-this.left,pe=this.right-this.getPixelForTick(this.ticks.length-1);let Fe=0,Qe=0;I?N?(Fe=l*s.width,Qe=o*r.height):(Fe=o*s.height,Qe=l*r.width):"start"===p?Qe=r.width:"end"===p?Fe=s.width:(Fe=s.width/2,Qe=r.width/2),this.paddingLeft=Math.max((Fe-J+y)*this.width/(this.width-J),0),this.paddingRight=Math.max((Qe-pe+y)*this.width/(this.width-pe),0)}else{let J=r.height/2,pe=s.height/2;"start"===p?(J=0,pe=s.height):"end"===p&&(J=r.height,pe=0),this.paddingTop=J+y,this.paddingBottom=pe+y}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){de(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:r}=this.options;return"top"===r||"bottom"===r||"x"===s}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){let r,o;for(this.beforeTickToLabelConversion(),this.generateTickLabels(s),r=0,o=s.length;r<o;r++)Se(s[r].label)&&(s.splice(r,1),o--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const r=this.options.ticks.sampleSize;let o=this.ticks;r<o.length&&(o=ul(o,r)),this._labelSizes=s=this._computeLabelSizes(o,o.length)}return s}_computeLabelSizes(s,r){const{ctx:o,_longestTextCache:l}=this,p=[],y=[];let N,J,pe,Fe,Qe,Ct,Lt,Gt,Yt,Ci,on,S=0,I=0;for(N=0;N<r;++N){if(Fe=s[N].label,Qe=this._resolveTickFontOptions(N),o.font=Ct=Qe.string,Lt=l[Ct]=l[Ct]||{data:{},gc:[]},Gt=Qe.lineHeight,Yt=Ci=0,Se(Fe)||ve(Fe)){if(ve(Fe))for(J=0,pe=Fe.length;J<pe;++J)on=Fe[J],!Se(on)&&!ve(on)&&(Yt=jo(o,Lt.data,Lt.gc,Yt,on),Ci+=Gt)}else Yt=jo(o,Lt.data,Lt.gc,Yt,Fe),Ci=Gt;p.push(Yt),y.push(Ci),S=Math.max(Yt,S),I=Math.max(Ci,I)}!function Il(g,s){re(g,r=>{const o=r.gc,l=o.length/2;let p;if(l>s){for(p=0;p<l;++p)delete r.data[o[p]];o.splice(0,l)}})}(l,r);const Ki=p.indexOf(S),Vi=y.indexOf(I),vn=yn=>({width:p[yn]||0,height:y[yn]||0});return{first:vn(0),last:vn(r-1),widest:vn(Ki),highest:vn(Vi),widths:p,heights:y}}getLabelForValue(s){return s}getPixelForValue(s,r){return NaN}getValueForPixel(s){}getPixelForTick(s){const r=this.ticks;return s<0||s>r.length-1?null:this.getPixelForValue(r[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const r=this._startPixel+s*this._length;return function yi(g){return _i(g,-32768,32767)}(this._alignToPixels?Eo(this.chart,r,0):r)}getDecimalForPixel(s){const r=(s-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:r}=this;return s<0&&r<0?r:s>0&&r>0?s:0}getContext(s){const r=this.ticks||[];if(s>=0&&s<r.length){const o=r[s];return o.$context||(o.$context=function ad(g,s,r){return Bo(g,{tick:r,index:s,type:"tick"})}(this.getContext(),s,o))}return this.$context||(this.$context=function Dc(g,s){return Bo(g,{scale:s,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,r=Ei(this.labelRotation),o=Math.abs(Math.cos(r)),l=Math.abs(Math.sin(r)),p=this._getLabelSizes(),y=s.autoSkipPadding||0,S=p?p.widest.width+y:0,I=p?p.highest.height+y:0;return this.isHorizontal()?I*o>S*l?S/o:I/l:I*l<S*o?I/o:S/l}_isVisible(){const s=this.options.display;return"auto"!==s?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const r=this.axis,o=this.chart,l=this.options,{grid:p,position:y}=l,S=p.offset,I=this.isHorizontal(),J=this.ticks.length+(S?1:0),pe=Ha(p),Fe=[],Qe=p.setContext(this.getContext()),Ct=Qe.drawBorder?Qe.borderWidth:0,Lt=Ct/2,Gt=function(En){return Eo(o,En,Ct)};let Yt,Ci,on,Ki,Vi,vn,yn,Rn,Vn,Tn,qi,Wn;if("top"===y)Yt=Gt(this.bottom),vn=this.bottom-pe,Rn=Yt-Lt,Tn=Gt(s.top)+Lt,Wn=s.bottom;else if("bottom"===y)Yt=Gt(this.top),Tn=s.top,Wn=Gt(s.bottom)-Lt,vn=Yt+Lt,Rn=this.top+pe;else if("left"===y)Yt=Gt(this.right),Vi=this.right-pe,yn=Yt-Lt,Vn=Gt(s.left)+Lt,qi=s.right;else if("right"===y)Yt=Gt(this.left),Vn=s.left,qi=Gt(s.right)-Lt,Vi=Yt+Lt,yn=this.left+pe;else if("x"===r){if("center"===y)Yt=Gt((s.top+s.bottom)/2+.5);else if(se(y)){const En=Object.keys(y)[0];Yt=Gt(this.chart.scales[En].getPixelForValue(y[En]))}Tn=s.top,Wn=s.bottom,vn=Yt+Lt,Rn=vn+pe}else if("y"===r){if("center"===y)Yt=Gt((s.left+s.right)/2);else if(se(y)){const En=Object.keys(y)[0];Yt=Gt(this.chart.scales[En].getPixelForValue(y[En]))}Vi=Yt-Lt,yn=Vi-pe,Vn=s.left,qi=s.right}const pr=Ne(l.ticks.maxTicksLimit,J),mn=Math.max(1,Math.ceil(J/pr));for(Ci=0;Ci<J;Ci+=mn){const En=p.setContext(this.getContext(Ci)),gr=En.lineWidth,Wo=En.color,ji=p.borderDash||[],tn=En.borderDashOffset,Lr=En.tickWidth,Ni=En.tickColor,Dn=En.tickBorderDash||[],Kr=En.tickBorderDashOffset;on=Xo(this,Ci,S),void 0!==on&&(Ki=Eo(o,on,gr),I?Vi=yn=Vn=qi=Ki:vn=Rn=Tn=Wn=Ki,Fe.push({tx1:Vi,ty1:vn,tx2:yn,ty2:Rn,x1:Vn,y1:Tn,x2:qi,y2:Wn,width:gr,color:Wo,borderDash:ji,borderDashOffset:tn,tickWidth:Lr,tickColor:Ni,tickBorderDash:Dn,tickBorderDashOffset:Kr}))}return this._ticksLength=J,this._borderValue=Yt,Fe}_computeLabelItems(s){const r=this.axis,o=this.options,{position:l,ticks:p}=o,y=this.isHorizontal(),S=this.ticks,{align:I,crossAlign:N,padding:J,mirror:pe}=p,Fe=Ha(o.grid),Qe=Fe+J,Ct=pe?-J:Qe,Lt=-Ei(this.labelRotation),Gt=[];let Yt,Ci,on,Ki,Vi,vn,yn,Rn,Vn,Tn,qi,Wn,pr="middle";if("top"===l)vn=this.bottom-Ct,yn=this._getXAxisLabelAlignment();else if("bottom"===l)vn=this.top+Ct,yn=this._getXAxisLabelAlignment();else if("left"===l){const En=this._getYAxisLabelAlignment(Fe);yn=En.textAlign,Vi=En.x}else if("right"===l){const En=this._getYAxisLabelAlignment(Fe);yn=En.textAlign,Vi=En.x}else if("x"===r){if("center"===l)vn=(s.top+s.bottom)/2+Qe;else if(se(l)){const En=Object.keys(l)[0];vn=this.chart.scales[En].getPixelForValue(l[En])+Qe}yn=this._getXAxisLabelAlignment()}else if("y"===r){if("center"===l)Vi=(s.left+s.right)/2-Qe;else if(se(l)){const En=Object.keys(l)[0];Vi=this.chart.scales[En].getPixelForValue(l[En])}yn=this._getYAxisLabelAlignment(Fe).textAlign}"y"===r&&("start"===I?pr="top":"end"===I&&(pr="bottom"));const mn=this._getLabelSizes();for(Yt=0,Ci=S.length;Yt<Ci;++Yt){on=S[Yt],Ki=on.label;const En=p.setContext(this.getContext(Yt));Rn=this.getPixelForTick(Yt)+p.labelOffset,Vn=this._resolveTickFontOptions(Yt),Tn=Vn.lineHeight,qi=ve(Ki)?Ki.length:1;const gr=qi/2,Wo=En.color,ji=En.textStrokeColor,tn=En.textStrokeWidth;let Lr;if(y?(Vi=Rn,Wn="top"===l?"near"===N||0!==Lt?-qi*Tn+Tn/2:"center"===N?-mn.highest.height/2-gr*Tn+Tn:Tn/2-mn.highest.height:"near"===N||0!==Lt?Tn/2:"center"===N?mn.highest.height/2-gr*Tn:mn.highest.height-qi*Tn,pe&&(Wn*=-1)):(vn=Rn,Wn=(1-qi)*Tn/2),En.showLabelBackdrop){const Ni=Ur(En.backdropPadding),Dn=mn.heights[Yt],Kr=mn.widths[Yt];let Jo=vn+Wn-Ni.top,el=Vi-Ni.left;switch(pr){case"middle":Jo-=Dn/2;break;case"bottom":Jo-=Dn}switch(yn){case"center":el-=Kr/2;break;case"right":el-=Kr}Lr={left:el,top:Jo,width:Kr+Ni.width,height:Dn+Ni.height,color:En.backdropColor}}Gt.push({rotation:Lt,label:Ki,font:Vn,color:Wo,strokeColor:ji,strokeWidth:tn,textOffset:Wn,textAlign:yn,textBaseline:pr,translation:[Vi,vn],backdrop:Lr})}return Gt}_getXAxisLabelAlignment(){const{position:s,ticks:r}=this.options;if(-Ei(this.labelRotation))return"top"===s?"left":"right";let l="center";return"start"===r.align?l="left":"end"===r.align&&(l="right"),l}_getYAxisLabelAlignment(s){const{position:r,ticks:{crossAlign:o,mirror:l,padding:p}}=this.options,S=s+p,I=this._getLabelSizes().widest.width;let N,J;return"left"===r?l?(J=this.right+p,"near"===o?N="left":"center"===o?(N="center",J+=I/2):(N="right",J+=I)):(J=this.right-S,"near"===o?N="right":"center"===o?(N="center",J-=I/2):(N="left",J=this.left)):"right"===r?l?(J=this.left+p,"near"===o?N="right":"center"===o?(N="center",J-=I/2):(N="left",J-=I)):(J=this.left+S,"near"===o?N="left":"center"===o?(N="center",J+=I/2):(N="right",J=this.right)):N="right",{textAlign:N,x:J}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,r=this.options.position;return"left"===r||"right"===r?{top:0,left:this.left,bottom:s.height,right:this.right}:"top"===r||"bottom"===r?{top:this.top,left:0,bottom:this.bottom,right:s.width}:void 0}drawBackground(){const{ctx:s,options:{backgroundColor:r},left:o,top:l,width:p,height:y}=this;r&&(s.save(),s.fillStyle=r,s.fillRect(o,l,p,y),s.restore())}getLineWidthForValue(s){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const l=this.ticks.findIndex(p=>p.value===s);return l>=0?r.setContext(this.getContext(l)).lineWidth:0}drawGrid(s){const r=this.options.grid,o=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let p,y;const S=(I,N,J)=>{!J.width||!J.color||(o.save(),o.lineWidth=J.width,o.strokeStyle=J.color,o.setLineDash(J.borderDash||[]),o.lineDashOffset=J.borderDashOffset,o.beginPath(),o.moveTo(I.x,I.y),o.lineTo(N.x,N.y),o.stroke(),o.restore())};if(r.display)for(p=0,y=l.length;p<y;++p){const I=l[p];r.drawOnChartArea&&S({x:I.x1,y:I.y1},{x:I.x2,y:I.y2},I),r.drawTicks&&S({x:I.tx1,y:I.ty1},{x:I.tx2,y:I.ty2},{color:I.tickColor,width:I.tickWidth,borderDash:I.tickBorderDash,borderDashOffset:I.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:r,options:{grid:o}}=this,l=o.setContext(this.getContext()),p=o.drawBorder?l.borderWidth:0;if(!p)return;const y=o.setContext(this.getContext(0)).lineWidth,S=this._borderValue;let I,N,J,pe;this.isHorizontal()?(I=Eo(s,this.left,p)-p/2,N=Eo(s,this.right,y)+y/2,J=pe=S):(J=Eo(s,this.top,p)-p/2,pe=Eo(s,this.bottom,y)+y/2,I=N=S),r.save(),r.lineWidth=l.borderWidth,r.strokeStyle=l.borderColor,r.beginPath(),r.moveTo(I,J),r.lineTo(N,pe),r.stroke(),r.restore()}drawLabels(s){if(!this.options.ticks.display)return;const o=this.ctx,l=this._computeLabelArea();l&&ia(o,l);const p=this._labelItems||(this._labelItems=this._computeLabelItems(s));let y,S;for(y=0,S=p.length;y<S;++y){const I=p[y],N=I.font,J=I.label;I.backdrop&&(o.fillStyle=I.backdrop.color,o.fillRect(I.backdrop.left,I.backdrop.top,I.backdrop.width,I.backdrop.height)),Os(o,J,0,I.textOffset,N,I)}l&&Gr(o)}drawTitle(){const{ctx:s,options:{position:r,title:o,reverse:l}}=this;if(!o.display)return;const p=Pr(o.font),y=Ur(o.padding),S=o.align;let I=p.lineHeight/2;"bottom"===r||"center"===r||se(r)?(I+=y.bottom,ve(o.text)&&(I+=p.lineHeight*(o.text.length-1))):I+=y.top;const{titleX:N,titleY:J,maxWidth:pe,rotation:Fe}=function ca(g,s,r,o){const{top:l,left:p,bottom:y,right:S,chart:I}=g,{chartArea:N,scales:J}=I;let Fe,Qe,Ct,pe=0;const Lt=y-l,Gt=S-p;if(g.isHorizontal()){if(Qe=le(o,p,S),se(r)){const Yt=Object.keys(r)[0];Ct=J[Yt].getPixelForValue(r[Yt])+Lt-s}else Ct="center"===r?(N.bottom+N.top)/2+Lt-s:rc(g,r,s);Fe=S-p}else{if(se(r)){const Yt=Object.keys(r)[0];Qe=J[Yt].getPixelForValue(r[Yt])-Gt+s}else Qe="center"===r?(N.left+N.right)/2-Gt+s:rc(g,r,s);Ct=le(o,y,l),pe="left"===r?-wt:wt}return{titleX:Qe,titleY:Ct,maxWidth:Fe,rotation:pe}}(this,I,r,S);Os(s,o.text,0,0,p,{color:o.color,maxWidth:pe,rotation:Fe,textAlign:xu(S,r,l),textBaseline:"middle",translation:[N,J]})}draw(s){!this._isVisible()||(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,r=s.ticks&&s.ticks.z||0,o=Ne(s.grid&&s.grid.z,-1);return this._isVisible()&&this.draw===xa.prototype.draw?[{z:o,draw:l=>{this.drawBackground(),this.drawGrid(l),this.drawTitle()}},{z:o+1,draw:()=>{this.drawBorder()}},{z:r,draw:l=>{this.drawLabels(l)}}]:[{z:r,draw:l=>{this.draw(l)}}]}getMatchingVisibleMetas(s){const r=this.chart.getSortedVisibleDatasetMetas(),o=this.axis+"AxisID",l=[];let p,y;for(p=0,y=r.length;p<y;++p){const S=r[p];S[o]===this.id&&(!s||S.type===s)&&l.push(S)}return l}_resolveTickFontOptions(s){return Pr(this.options.ticks.setContext(this.getContext(s)).font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class yl{constructor(s,r,o){this.type=s,this.scope=r,this.override=o,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const r=Object.getPrototypeOf(s);let o;(function Kl(g){return"id"in g&&"defaults"in g})(r)&&(o=this.register(r));const l=this.items,p=s.id,y=this.scope+"."+p;if(!p)throw new Error("class does not have id: "+s);return p in l||(l[p]=s,function Mc(g,s,r){const o=pt(Object.create(null),[r?lr.get(r):{},lr.get(s),g.defaults]);lr.set(s,o),g.defaultRoutes&&function kl(g,s){Object.keys(s).forEach(r=>{const o=r.split("."),l=o.pop(),p=[g].concat(o).join("."),y=s[r].split("."),S=y.pop(),I=y.join(".");lr.route(p,l,I,S)})}(s,g.defaultRoutes),g.descriptors&&lr.describe(s,g.descriptors)}(s,y,o),this.override&&lr.override(s.id,s.overrides)),y}get(s){return this.items[s]}unregister(s){const r=this.items,o=s.id,l=this.scope;o in r&&delete r[o],l&&o in lr[l]&&(delete lr[l][o],this.override&&delete Sn[o])}}var Ra=new class zc{constructor(){this.controllers=new yl(ma,"datasets",!0),this.elements=new yl(la,"elements"),this.plugins=new yl(Object,"plugins"),this.scales=new yl(xa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,r,o){[...r].forEach(l=>{const p=o||this._getRegistryForType(l);o||p.isForType(l)||p===this.plugins&&l.id?this._exec(s,p,l):re(l,y=>{const S=o||this._getRegistryForType(y);this._exec(s,S,y)})})}_exec(s,r,o){const l=ii(s);de(o["before"+l],[],o),r[s](o),de(o["after"+l],[],o)}_getRegistryForType(s){for(let r=0;r<this._typedRegistries.length;r++){const o=this._typedRegistries[r];if(o.isForType(s))return o}return this.plugins}_get(s,r,o){const l=r.get(s);if(void 0===l)throw new Error('"'+s+'" is not a registered '+o+".");return l}};class Yc{constructor(){this._init=[]}notify(s,r,o,l){"beforeInit"===r&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install"));const p=l?this._descriptors(s).filter(l):this._descriptors(s),y=this._notify(p,s,r,o);return"destroy"===r&&(this._notify(p,s,"stop"),this._notify(this._init,s,"uninstall")),y}_notify(s,r,o,l){l=l||{};for(const p of s){const y=p.plugin;if(!1===de(y[o],[r,l,p.options],y)&&l.cancelable)return!1}return!0}invalidate(){Se(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),r}_createDescriptors(s,r){const o=s&&s.config,l=Ne(o.options&&o.options.plugins,{}),p=function Xc(g){const s=[],r=Object.keys(Ra.plugins.items);for(let l=0;l<r.length;l++)s.push(Ra.getPlugin(r[l]));const o=g.plugins||[];for(let l=0;l<o.length;l++){const p=o[l];-1===s.indexOf(p)&&s.push(p)}return s}(o);return!1!==l||r?function so(g,s,r,o){const l=[],p=g.getContext();for(let y=0;y<s.length;y++){const S=s[y],N=pc(r[S.id],o);null!==N&&l.push({plugin:S,options:Ll(g.config,S,N,p)})}return l}(s,p,l,r):[]}_notifyStateChanges(s){const r=this._oldCache||[],o=this._cache,l=(p,y)=>p.filter(S=>!y.some(I=>S.plugin.id===I.plugin.id));this._notify(l(r,o),s,"stop"),this._notify(l(o,r),s,"start")}}function pc(g,s){return s||!1!==g?!0===g?{}:g:null}function Ll(g,s,r,o){const l=g.pluginScopeKeys(s),p=g.getOptionScopes(r,l);return g.createResolver(p,o,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pl(g,s){return((s.datasets||{})[g]||{}).indexAxis||s.indexAxis||(lr.datasets[g]||{}).indexAxis||"x"}function Rc(g,s){return"x"===g||"y"===g?g:s.axis||function $l(g){return"top"===g||"bottom"===g?"x":"left"===g||"right"===g?"y":void 0}(s.position)||g.charAt(0).toLowerCase()}function lu(g){const s=g.options||(g.options={});s.plugins=Ne(s.plugins,{}),s.scales=function oc(g,s){const r=Sn[g.type]||{scales:{}},o=s.scales||{},l=Pl(g.type,s),p=Object.create(null),y=Object.create(null);return Object.keys(o).forEach(S=>{const I=o[S];if(!se(I))return console.error(`Invalid scale configuration for scale: ${S}`);if(I._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${S}`);const N=Rc(S,I),J=function ju(g,s){return g===s?"_index_":"_value_"}(N,l),pe=r.scales||{};p[N]=p[N]||S,y[S]=dt(Object.create(null),[{axis:N},I,pe[N],pe[J]])}),g.data.datasets.forEach(S=>{const I=S.type||g.type,N=S.indexAxis||Pl(I,s),pe=(Sn[I]||{}).scales||{};Object.keys(pe).forEach(Fe=>{const Qe=function xc(g,s){let r=g;return"_index_"===g?r=s:"_value_"===g&&(r="x"===s?"y":"x"),r}(Fe,N),Ct=S[Qe+"AxisID"]||p[Qe]||Qe;y[Ct]=y[Ct]||Object.create(null),dt(y[Ct],[{axis:Qe},o[Ct],pe[Fe]])})}),Object.keys(y).forEach(S=>{const I=y[S];dt(I,[lr.scales[I.type],lr.scale])}),y}(g,s)}function Ac(g){return(g=g||{}).datasets=g.datasets||[],g.labels=g.labels||[],g}const Nl=new Map,Fl=new Set;function Qa(g,s){let r=Nl.get(g);return r||(r=s(),Nl.set(g,r),Fl.add(r)),r}const $c=(g,s,r)=>{const o=Rt(s,r);void 0!==o&&g.add(o)};class zu{constructor(s){this._config=function Kc(g){return(g=g||{}).data=Ac(g.data),lu(g),g}(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=Ac(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),lu(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Qa(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,r){return Qa(`${s}.transition.${r}`,()=>[[`datasets.${s}.transitions.${r}`,`transitions.${r}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,r){return Qa(`${s}-${r}`,()=>[[`datasets.${s}.elements.${r}`,`datasets.${s}`,`elements.${r}`,""]])}pluginScopeKeys(s){const r=s.id;return Qa(`${this.type}-plugin-${r}`,()=>[[`plugins.${r}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,r){const o=this._scopeCache;let l=o.get(s);return(!l||r)&&(l=new Map,o.set(s,l)),l}getOptionScopes(s,r,o){const{options:l,type:p}=this,y=this._cachedScopes(s,o),S=y.get(r);if(S)return S;const I=new Set;r.forEach(J=>{s&&(I.add(s),J.forEach(pe=>$c(I,s,pe))),J.forEach(pe=>$c(I,l,pe)),J.forEach(pe=>$c(I,Sn[p]||{},pe)),J.forEach(pe=>$c(I,lr,pe)),J.forEach(pe=>$c(I,Qo,pe))});const N=Array.from(I);return 0===N.length&&N.push(Object.create(null)),Fl.has(r)&&y.set(r,N),N}chartOptionScopes(){const{options:s,type:r}=this;return[s,Sn[r]||{},lr.datasets[r]||{},{type:r},lr,Qo]}resolveNamedOptions(s,r,o,l=[""]){const p={$shared:!0},{resolver:y,subPrefixes:S}=Jl(this._resolverCache,s,l);let I=y;(function dl(g,s){const{isScriptable:r,isIndexable:o}=ho(g);for(const l of s){const p=r(l),y=o(l),S=(y||p)&&g[l];if(p&&(Ye(S)||qa(S))||y&&ve(S))return!0}return!1})(y,r)&&(p.$shared=!1,I=Es(y,o=Ye(o)?o():o,this.createResolver(s,o,S)));for(const N of r)p[N]=I[N];return p}createResolver(s,r,o=[""],l){const{resolver:p}=Jl(this._resolverCache,s,o);return se(r)?Es(p,r,void 0,l):p}}function Jl(g,s,r){let o=g.get(s);o||(o=new Map,g.set(s,o));const l=r.join();let p=o.get(l);return p||(p={resolver:Ar(s,r),subPrefixes:r.filter(S=>!S.toLowerCase().includes("hover"))},o.set(l,p)),p}const qa=g=>se(g)&&Object.getOwnPropertyNames(g).reduce((s,r)=>s||Ye(g[r]),!1),ba=["top","bottom","left","right","chartArea"];function Ru(g,s){return"top"===g||"bottom"===g||-1===ba.indexOf(g)&&"x"===s}function Bl(g,s){return function(r,o){return r[g]===o[g]?r[s]-o[s]:r[g]-o[g]}}function Au(g){const s=g.chart,r=s.options.animation;s.notifyPlugins("afterRender"),de(r&&r.onComplete,[g],s)}function xs(g){const s=g.chart,r=s.options.animation;de(r&&r.onProgress,[g],s)}function gc(g){return rl()&&"string"==typeof g?g=document.getElementById(g):g&&g.length&&(g=g[0]),g&&g.canvas&&(g=g.canvas),g}const be={},xe=g=>{const s=gc(g);return Object.values(be).filter(r=>r.canvas===s).pop()};function et(g,s,r){const o=Object.keys(g);for(const l of o){const p=+l;if(p>=s){const y=g[l];delete g[l],(r>0||p>s)&&(g[p+r]=y)}}}class Dt{constructor(s,r){const o=this.config=new zu(r),l=gc(s),p=xe(l);if(p)throw new Error("Canvas is already in use. Chart with ID '"+p.id+"' must be destroyed before the canvas can be reused.");const y=o.createResolver(o.chartOptionScopes(),this.getContext());this.platform=new(o.platform||function Sc(g){return!rl()||"undefined"!=typeof OffscreenCanvas&&g instanceof OffscreenCanvas?Ds:Rr}(l)),this.platform.updateConfig(o);const S=this.platform.acquireContext(l,y.aspectRatio),I=S&&S.canvas,N=I&&I.height,J=I&&I.width;this.id=Ue(),this.ctx=S,this.canvas=I,this.width=J,this.height=N,this._options=y,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yc,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function ue(g,s){let r;return function(...o){return s?(clearTimeout(r),r=setTimeout(g,s,o)):g.apply(this,o),s}}(pe=>this.update(pe),y.resizeDelay||0),this._dataChanges=[],be[this.id]=this,S&&I?(wn.listen(this,"complete",Au),wn.listen(this,"progress",xs),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:r},width:o,height:l,_aspectRatio:p}=this;return Se(s)?r&&p?p:l?o/l:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():bt(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ua(this.canvas,this.ctx),this}stop(){return wn.stop(this),this}resize(s,r){wn.running(this)?this._resizeBeforeDraw={width:s,height:r}:this._resize(s,r)}_resize(s,r){const o=this.options,y=this.platform.getMaximumSize(this.canvas,s,r,o.maintainAspectRatio&&this.aspectRatio),S=o.devicePixelRatio||this.platform.getDevicePixelRatio(),I=this.width?"resize":"attach";this.width=y.width,this.height=y.height,this._aspectRatio=this.aspectRatio,bt(this,S,!0)&&(this.notifyPlugins("resize",{size:y}),de(o.onResize,[this,y],this),this.attached&&this._doResize(I)&&this.render())}ensureScalesHaveIDs(){re(this.options.scales||{},(o,l)=>{o.id=l})}buildOrUpdateScales(){const s=this.options,r=s.scales,o=this.scales,l=Object.keys(o).reduce((y,S)=>(y[S]=!1,y),{});let p=[];r&&(p=p.concat(Object.keys(r).map(y=>{const S=r[y],I=Rc(y,S),N="r"===I,J="x"===I;return{options:S,dposition:N?"chartArea":J?"bottom":"left",dtype:N?"radialLinear":J?"category":"linear"}}))),re(p,y=>{const S=y.options,I=S.id,N=Rc(I,S),J=Ne(S.type,y.dtype);(void 0===S.position||Ru(S.position,N)!==Ru(y.dposition))&&(S.position=y.dposition),l[I]=!0;let pe=null;I in o&&o[I].type===J?pe=o[I]:(pe=new(Ra.getScale(J))({id:I,type:J,ctx:this.ctx,chart:this}),o[pe.id]=pe),pe.init(S,s)}),re(l,(y,S)=>{y||delete o[S]}),re(o,y=>{ya.configure(this,y,y.options),ya.addBox(this,y)})}_updateMetasets(){const s=this._metasets,r=this.data.datasets.length,o=s.length;if(s.sort((l,p)=>l.index-p.index),o>r){for(let l=r;l<o;++l)this._destroyDatasetMeta(l);s.splice(r,o-r)}this._sortedMetasets=s.slice(0).sort(Bl("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:r}}=this;s.length>r.length&&delete this._stacks,s.forEach((o,l)=>{0===r.filter(p=>p===o._dataset).length&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const s=[],r=this.data.datasets;let o,l;for(this._removeUnreferencedMetasets(),o=0,l=r.length;o<l;o++){const p=r[o];let y=this.getDatasetMeta(o);const S=p.type||this.config.type;if(y.type&&y.type!==S&&(this._destroyDatasetMeta(o),y=this.getDatasetMeta(o)),y.type=S,y.indexAxis=p.indexAxis||Pl(S,this.options),y.order=p.order||0,y.index=o,y.label=""+p.label,y.visible=this.isDatasetVisible(o),y.controller)y.controller.updateIndex(o),y.controller.linkScales();else{const I=Ra.getController(S),{datasetElementType:N,dataElementType:J}=lr.datasets[S];Object.assign(I.prototype,{dataElementType:Ra.getElement(J),datasetElementType:N&&Ra.getElement(N)}),y.controller=new I(this,o),s.push(y.controller)}}return this._updateMetasets(),s}_resetElements(){re(this.data.datasets,(s,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const r=this.config;r.update();const o=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!o.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0}))return;const p=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let y=0;for(let S=0,I=this.data.datasets.length;S<I;S++){const{controller:N}=this.getDatasetMeta(S),J=!l&&-1===p.indexOf(N);N.buildOrUpdateElements(J),y=Math.max(+N.getMaxOverflow(),y)}y=this._minPadding=o.layout.autoPadding?y:0,this._updateLayout(y),l||re(p,S=>{S.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(Bl("z","_idx")),this._lastEvent&&this._eventHandler(this._lastEvent,!0),this.render()}_updateScales(){re(this.scales,s=>{ya.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,r=new Set(Object.keys(this._listeners)),o=new Set(s.events);(!Je(r,o)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,r=this._getUniformDataChanges()||[];for(const{method:o,start:l,count:p}of r)et(s,l,"_removeElements"===o?-p:p)}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const r=this.data.datasets.length,o=p=>new Set(s.filter(y=>y[0]===p).map((y,S)=>S+","+y.splice(1).join(","))),l=o(0);for(let p=1;p<r;p++)if(!Je(l,o(p)))return;return Array.from(l).map(p=>p.split(",")).map(p=>({method:p[1],start:+p[2],count:+p[3]}))}_updateLayout(s){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ya.update(this,this.width,this.height,s);const r=this.chartArea,o=r.width<=0||r.height<=0;this._layers=[],re(this.boxes,l=>{o&&"chartArea"===l.position||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,p)=>{l._idx=p}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})){for(let r=0,o=this.data.datasets.length;r<o;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,o=this.data.datasets.length;r<o;++r)this._updateDataset(r,Ye(s)?s({datasetIndex:r}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,r){const o=this.getDatasetMeta(s),l={meta:o,index:s,mode:r,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",l)&&(o.controller._update(r),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(wn.has(this)?this.attached&&!wn.running(this)&&wn.start(this):(this.draw(),Au({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:o,height:l}=this._resizeBeforeDraw;this._resize(o,l),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const r=this._layers;for(s=0;s<r.length&&r[s].z<=0;++s)r[s].draw(this.chartArea);for(this._drawDatasets();s<r.length;++s)r[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const r=this._sortedMetasets,o=[];let l,p;for(l=0,p=r.length;l<p;++l){const y=r[l];(!s||y.visible)&&o.push(y)}return o}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const s=this.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r)this._drawDataset(s[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const r=this.ctx,o=s._clip,l=!o.disabled,p=this.chartArea,y={meta:s,index:s.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",y)&&(l&&ia(r,{left:!1===o.left?0:p.left-o.left,right:!1===o.right?this.width:p.right+o.right,top:!1===o.top?0:p.top-o.top,bottom:!1===o.bottom?this.height:p.bottom+o.bottom}),s.controller.draw(),l&&Gr(r),y.cancelable=!1,this.notifyPlugins("afterDatasetDraw",y))}getElementsAtEventForMode(s,r,o,l){const p=xo.modes[r];return"function"==typeof p?p(this,s,o,l):[]}getDatasetMeta(s){const r=this.data.datasets[s],o=this._metasets;let l=o.filter(p=>p&&p._dataset===r).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:s,_dataset:r,_parsed:[],_sorted:!1},o.push(l)),l}getContext(){return this.$context||(this.$context=Bo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const r=this.data.datasets[s];if(!r)return!1;const o=this.getDatasetMeta(s);return"boolean"==typeof o.hidden?!o.hidden:!r.hidden}setDatasetVisibility(s,r){this.getDatasetMeta(s).hidden=!r}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,r,o){const l=o?"show":"hide",p=this.getDatasetMeta(s),y=p.controller._resolveAnimations(void 0,l);mt(r)?(p.data[r].hidden=!o,this.update()):(this.setDatasetVisibility(s,o),y.update(p,{visible:o}),this.update(S=>S.datasetIndex===s?l:void 0))}hide(s,r){this._updateVisibility(s,r,!1)}show(s,r){this._updateVisibility(s,r,!0)}_destroyDatasetMeta(s){const r=this._metasets[s];r&&r.controller&&r.controller._destroy(),delete this._metasets[s]}_stop(){let s,r;for(this.stop(),wn.remove(this),s=0,r=this.data.datasets.length;s<r;++s)this._destroyDatasetMeta(s)}destroy(){const{canvas:s,ctx:r}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),Ua(s,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete be[this.id]}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,r=this.platform,o=(p,y)=>{r.addEventListener(this,p,y),s[p]=y},l=(p,y,S)=>{p.offsetX=y,p.offsetY=S,this._eventHandler(p)};re(this.options.events,p=>o(p,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,r=this.platform,o=(I,N)=>{r.addEventListener(this,I,N),s[I]=N},l=(I,N)=>{s[I]&&(r.removeEventListener(this,I,N),delete s[I])},p=(I,N)=>{this.canvas&&this.resize(I,N)};let y;const S=()=>{l("attach",S),this.attached=!0,this.resize(),o("resize",p),o("detach",y)};y=()=>{this.attached=!1,l("resize",p),this._stop(),this._resize(0,0),o("attach",S)},r.isAttached(this.canvas)?S():y()}unbindEvents(){re(this._listeners,(s,r)=>{this.platform.removeEventListener(this,r,s)}),this._listeners={},re(this._responsiveListeners,(s,r)=>{this.platform.removeEventListener(this,r,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,r,o){const l=o?"set":"remove";let p,y,S,I;for("dataset"===r&&(p=this.getDatasetMeta(s[0].datasetIndex),p.controller["_"+l+"DatasetHoverStyle"]()),S=0,I=s.length;S<I;++S){y=s[S];const N=y&&this.getDatasetMeta(y.datasetIndex).controller;N&&N[l+"HoverStyle"](y.element,y.datasetIndex,y.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const r=this._active||[],o=s.map(({datasetIndex:p,index:y})=>{const S=this.getDatasetMeta(p);if(!S)throw new Error("No dataset found at index "+p);return{datasetIndex:p,element:S.data[y],index:y}});!ot(o,r)&&(this._active=o,this._updateHoverStyles(o,r))}notifyPlugins(s,r,o){return this._plugins.notify(this,s,r,o)}_updateHoverStyles(s,r,o){const l=this.options.hover,p=(I,N)=>I.filter(J=>!N.some(pe=>J.datasetIndex===pe.datasetIndex&&J.index===pe.index)),y=p(r,s),S=o?s:p(s,r);y.length&&this.updateHoverStyle(y,l.mode,!1),S.length&&l.mode&&this.updateHoverStyle(S,l.mode,!0)}_eventHandler(s,r){const o={event:s,replay:r,cancelable:!0},l=y=>(y.options.events||this.options.events).includes(s.native.type);if(!1===this.notifyPlugins("beforeEvent",o,l))return;const p=this._handleEvent(s,r);return o.cancelable=!1,this.notifyPlugins("afterEvent",o,l),(p||o.changed)&&this.render(),this}_handleEvent(s,r){const{_active:o=[],options:l}=this,p=l.hover;let S=[],I=!1,N=null;return"mouseout"!==s.type&&(S=this.getElementsAtEventForMode(s,p.mode,p,r),N="click"===s.type?this._lastEvent:s),this._lastEvent=null,hs(s,this.chartArea,this._minPadding)&&(de(l.onHover,[s,S,this],this),("mouseup"===s.type||"click"===s.type||"contextmenu"===s.type)&&de(l.onClick,[s,S,this],this)),I=!ot(S,o),(I||r)&&(this._active=S,this._updateHoverStyles(S,o,r)),this._lastEvent=N,I}}const Ht=()=>re(Dt.instances,g=>g._plugins.invalidate()),ui=!0;function Zt(g,s,r){const{startAngle:o,pixelMargin:l,x:p,y,outerRadius:S,innerRadius:I}=s;let N=l/S;g.beginPath(),g.arc(p,y,S,o-N,r+N),I>l?(N=l/I,g.arc(p,y,I,r+N,o-N,!0)):g.arc(p,y,l,r+wt,o-wt),g.closePath(),g.clip()}function Ii(g,s,r,o){return{x:r+g*Math.cos(s),y:o+g*Math.sin(s)}}function Ui(g,s,r,o,l){const{x:p,y,startAngle:S,pixelMargin:I,innerRadius:N}=s,J=Math.max(s.outerRadius+o+r-I,0),pe=N>0?N+o+r+I:0;let Fe=0;const Qe=l-S;if(o){const ji=((N>0?N-o:0)+(J>0?J-o:0))/2;Fe=(Qe-(0!==ji?Qe*ji/(ji+o):Qe))/2}const Lt=(Qe-Math.max(.001,Qe*J-r/ut)/J)/2,Gt=S+Lt+Fe,Yt=l-Lt-Fe,{outerStart:Ci,outerEnd:on,innerStart:Ki,innerEnd:Vi}=function Oi(g,s,r,o){const l=function li(g){return nl(g,["outerStart","outerEnd","innerStart","innerEnd"])}(g.options.borderRadius),p=(r-s)/2,y=Math.min(p,o*s/2),S=I=>{const N=(r-Math.min(p,I))*o/2;return _i(I,0,Math.min(p,N))};return{outerStart:S(l.outerStart),outerEnd:S(l.outerEnd),innerStart:_i(l.innerStart,0,y),innerEnd:_i(l.innerEnd,0,y)}}(s,pe,J,Yt-Gt),vn=J-Ci,yn=J-on,Rn=Gt+Ci/vn,Vn=Yt-on/yn,Tn=pe+Ki,qi=pe+Vi,Wn=Gt+Ki/Tn,pr=Yt-Vi/qi;if(g.beginPath(),g.arc(p,y,J,Rn,Vn),on>0){const gr=Ii(yn,Vn,p,y);g.arc(gr.x,gr.y,on,Vn,Yt+wt)}const mn=Ii(qi,Yt,p,y);if(g.lineTo(mn.x,mn.y),Vi>0){const gr=Ii(qi,pr,p,y);g.arc(gr.x,gr.y,Vi,Yt+wt,pr+Math.PI)}if(g.arc(p,y,pe,Yt-Vi/pe,Gt+Ki/pe,!0),Ki>0){const gr=Ii(Tn,Wn,p,y);g.arc(gr.x,gr.y,Ki,Wn+Math.PI,Gt-wt)}const En=Ii(vn,Gt,p,y);if(g.lineTo(En.x,En.y),Ci>0){const gr=Ii(vn,Rn,p,y);g.arc(gr.x,gr.y,Ci,Gt-wt,Rn)}g.closePath()}Object.defineProperties(Dt,{defaults:{enumerable:ui,value:lr},instances:{enumerable:ui,value:be},overrides:{enumerable:ui,value:Sn},registry:{enumerable:ui,value:Ra},version:{enumerable:ui,value:"3.6.2"},getChart:{enumerable:ui,value:xe},register:{enumerable:ui,value:(...g)=>{Ra.add(...g),Ht()}},unregister:{enumerable:ui,value:(...g)=>{Ra.remove(...g),Ht()}}});class Uo extends la{constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,r,o){const l=this.getProps(["x","y"],o),{angle:p,distance:y}=function Gi(g,s){const r=s.x-g.x,o=s.y-g.y,l=Math.sqrt(r*r+o*o);let p=Math.atan2(o,r);return p<-.5*ut&&(p+=Re),{angle:p,distance:l}}(l,{x:s,y:r}),{startAngle:S,endAngle:I,innerRadius:N,outerRadius:J,circumference:pe}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],o),Fe=this.options.spacing/2,Ct=Ne(pe,I-S)>=Re||Mt(p,S,I),Lt=Fi(y,N+Fe,J+Fe);return Ct&&Lt}getCenterPoint(s){const{x:r,y:o,startAngle:l,endAngle:p,innerRadius:y,outerRadius:S}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],s),{offset:I,spacing:N}=this.options,J=(l+p)/2,pe=(y+S+N+I)/2;return{x:r+Math.cos(J)*pe,y:o+Math.sin(J)*pe}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:r,circumference:o}=this,l=(r.offset||0)/2,p=(r.spacing||0)/2;if(this.pixelMargin="inner"===r.borderAlign?.33:0,this.fullCircles=o>Re?Math.floor(o/Re):0,0===o||this.innerRadius<0||this.outerRadius<0)return;s.save();let y=0;if(l){y=l/2;const I=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(I)*y,Math.sin(I)*y),this.circumference>=ut&&(y=l)}s.fillStyle=r.backgroundColor,s.strokeStyle=r.borderColor;const S=function er(g,s,r,o){const{fullCircles:l,startAngle:p,circumference:y}=s;let S=s.endAngle;if(l){Ui(g,s,r,o,p+Re);for(let I=0;I<l;++I)g.fill();isNaN(y)||(S=p+y%Re,y%Re==0&&(S+=Re))}return Ui(g,s,r,o,S),g.fill(),S}(s,this,y,p);(function ur(g,s,r,o,l){const{options:p}=s,y="inner"===p.borderAlign;!p.borderWidth||(y?(g.lineWidth=2*p.borderWidth,g.lineJoin="round"):(g.lineWidth=p.borderWidth,g.lineJoin="bevel"),s.fullCircles&&function zn(g,s,r){const{x:o,y:l,startAngle:p,pixelMargin:y,fullCircles:S}=s,I=Math.max(s.outerRadius-y,0),N=s.innerRadius+y;let J;for(r&&Zt(g,s,p+Re),g.beginPath(),g.arc(o,l,N,p+Re,p,!0),J=0;J<S;++J)g.stroke();for(g.beginPath(),g.arc(o,l,I,p,p+Re),J=0;J<S;++J)g.stroke()}(g,s,y),y&&Zt(g,s,l),Ui(g,s,r,o,l),g.stroke())})(s,this,y,p,S),s.restore()}}function yo(g,s,r=s){g.lineCap=Ne(r.borderCapStyle,s.borderCapStyle),g.setLineDash(Ne(r.borderDash,s.borderDash)),g.lineDashOffset=Ne(r.borderDashOffset,s.borderDashOffset),g.lineJoin=Ne(r.borderJoinStyle,s.borderJoinStyle),g.lineWidth=Ne(r.borderWidth,s.borderWidth),g.strokeStyle=Ne(r.borderColor,s.borderColor)}function zr(g,s,r){g.lineTo(r.x,r.y)}function Go(g,s,r={}){const o=g.length,{start:l=0,end:p=o-1}=r,{start:y,end:S}=s,I=Math.max(l,y),N=Math.min(p,S);return{count:o,start:I,loop:s.loop,ilen:N<I&&!(l<y&&p<y||l>S&&p>S)?o+N-I:N-I}}function fo(g,s,r,o){const{points:l,options:p}=s,{count:y,start:S,loop:I,ilen:N}=Go(l,r,o),J=function po(g){return g.stepped?Ia:g.tension||"monotone"===g.cubicInterpolationMode?pl:zr}(p);let Qe,Ct,Lt,{move:pe=!0,reverse:Fe}=o||{};for(Qe=0;Qe<=N;++Qe)Ct=l[(S+(Fe?N-Qe:Qe))%y],!Ct.skip&&(pe?(g.moveTo(Ct.x,Ct.y),pe=!1):J(g,Lt,Ct,Fe,p.stepped),Lt=Ct);return I&&(Ct=l[(S+(Fe?N:0))%y],J(g,Lt,Ct,Fe,p.stepped)),!!I}function ua(g,s,r,o){const l=s.points,{count:p,start:y,ilen:S}=Go(l,r,o),{move:I=!0,reverse:N}=o||{};let Fe,Qe,Ct,Lt,Gt,Yt,J=0,pe=0;const Ci=Ki=>(y+(N?S-Ki:Ki))%p,on=()=>{Lt!==Gt&&(g.lineTo(J,Gt),g.lineTo(J,Lt),g.lineTo(J,Yt))};for(I&&(Qe=l[Ci(0)],g.moveTo(Qe.x,Qe.y)),Fe=0;Fe<=S;++Fe){if(Qe=l[Ci(Fe)],Qe.skip)continue;const Ki=Qe.x,Vi=Qe.y,vn=0|Ki;vn===Ct?(Vi<Lt?Lt=Vi:Vi>Gt&&(Gt=Vi),J=(pe*J+Ki)/++pe):(on(),g.lineTo(Ki,Vi),Ct=vn,pe=0,Lt=Gt=Vi),Yt=Vi}on()}function cs(g){const s=g.options;return g._decimated||g._loop||s.tension||"monotone"===s.cubicInterpolationMode||s.stepped||s.borderDash&&s.borderDash.length?fo:ua}Uo.id="arc",Uo.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},Uo.defaultRoutes={backgroundColor:"backgroundColor"};const Yd="function"==typeof Path2D;let Ic=(()=>{class g extends la{constructor(r){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,r&&Object.assign(this,r)}updateControlPoints(r,o){const l=this.options;!l.tension&&"monotone"!==l.cubicInterpolationMode||l.stepped||this._pointsUpdated||(zs(this._points,l,r,l.spanGaps?this._loop:this._fullLoop,o),this._pointsUpdated=!0)}set points(r){this._points=r,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function Xs(g,s){const r=g.points,o=g.options.spanGaps,l=r.length;if(!l)return[];const p=!!g._loop,{start:y,end:S}=function Ps(g,s,r,o){let l=0,p=s-1;if(r&&!o)for(;l<s&&!g[l].skip;)l++;for(;l<s&&g[l].skip;)l++;for(l%=s,r&&(p+=l);p>l&&g[p%s].skip;)p--;return p%=s,{start:l,end:p}}(r,l,p,o);return function ka(g,s,r,o){return o&&o.setContext&&r?function lo(g,s,r,o){const l=g._chart.getContext(),p=Cs(g.options),{_datasetIndex:y,options:{spanGaps:S}}=g,I=r.length,N=[];let J=p,pe=s[0].start,Fe=pe;function Qe(Ct,Lt,Gt,Yt){const Ci=S?-1:1;if(Ct!==Lt){for(Ct+=I;r[Ct%I].skip;)Ct-=Ci;for(;r[Lt%I].skip;)Lt+=Ci;Ct%I!=Lt%I&&(N.push({start:Ct%I,end:Lt%I,loop:Gt,style:Yt}),J=Yt,pe=Lt%I)}}for(const Ct of s){pe=S?pe:Ct.start;let Gt,Lt=r[pe%I];for(Fe=pe+1;Fe<=Ct.end;Fe++){const Yt=r[Fe%I];Gt=Cs(o.setContext(Bo(l,{type:"segment",p0:Lt,p1:Yt,p0DataIndex:(Fe-1)%I,p1DataIndex:Fe%I,datasetIndex:y}))),ol(Gt,J)&&Qe(pe,Fe-1,Ct.loop,J),Lt=Yt,J=Gt}pe<Fe-1&&Qe(pe,Fe-1,Ct.loop,J)}return N}(g,s,r,o):s}(g,!0===o?[{start:y,end:S,loop:p}]:function Ys(g,s,r,o){const l=g.length,p=[];let I,y=s,S=g[s];for(I=s+1;I<=r;++I){const N=g[I%l];N.skip||N.stop?S.skip||(p.push({start:s%l,end:(I-1)%l,loop:o=!1}),s=y=N.stop?I:null):(y=I,S.skip&&(s=I)),S=N}return null!==y&&p.push({start:s%l,end:y%l,loop:o}),p}(r,y,S<y?S+l:S,!!g._fullLoop&&0===y&&S===l-1),r,s)}(this,this.options.segment))}first(){const r=this.segments;return r.length&&this.points[r[0].start]}last(){const r=this.segments,l=r.length;return l&&this.points[r[l-1].end]}interpolate(r,o){const l=this.options,p=r[o],y=this.points,S=Co(this,{property:o,start:p,end:p});if(!S.length)return;const I=[],N=function qs(g){return g.stepped?Hi:g.tension||"monotone"===g.cubicInterpolationMode?hn:mi}(l);let J,pe;for(J=0,pe=S.length;J<pe;++J){const{start:Fe,end:Qe}=S[J],Ct=y[Fe],Lt=y[Qe];if(Ct===Lt){I.push(Ct);continue}const Yt=N(Ct,Lt,Math.abs((p-Ct[o])/(Lt[o]-Ct[o])),l.stepped);Yt[o]=r[o],I.push(Yt)}return 1===I.length?I[0]:I}pathSegment(r,o,l){return cs(this)(r,this,o,l)}path(r,o,l){const p=this.segments,y=cs(this);let S=this._loop;o=o||0,l=l||this.points.length-o;for(const I of p)S&=y(r,this,I,{start:o,end:o+l-1});return!!S}draw(r,o,l,p){(this.points||[]).length&&(this.options||{}).borderWidth&&(r.save(),function Iu(g,s,r,o){Yd&&!s.options.segment?function hl(g,s,r,o){let l=s._path;l||(l=s._path=new Path2D,s.path(l,r,o)&&l.closePath()),yo(g,s.options),g.stroke(l)}(g,s,r,o):function cu(g,s,r,o){const{segments:l,options:p}=s,y=cs(s);for(const S of l)yo(g,p,S.style),g.beginPath(),y(g,s,S,{start:r,end:r+o-1})&&g.closePath(),g.stroke()}(g,s,r,o)}(r,this,l,p),r.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return g.id="line",g.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},g.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},g.descriptors={_scriptable:!0,_indexable:s=>"borderDash"!==s&&"fill"!==s},g})();function Yu(g,s,r,o){const l=g.options,{[r]:p}=g.getProps([r],o);return Math.abs(s-p)<l.radius+l.hitRadius}let Ou=(()=>{class g extends la{constructor(r){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,o,l){const p=this.options,{x:y,y:S}=this.getProps(["x","y"],l);return Math.pow(r-y,2)+Math.pow(o-S,2)<Math.pow(p.hitRadius+p.radius,2)}inXRange(r,o){return Yu(this,r,"x",o)}inYRange(r,o){return Yu(this,r,"y",o)}getCenterPoint(r){const{x:o,y:l}=this.getProps(["x","y"],r);return{x:o,y:l}}size(r){let o=(r=r||this.options||{}).radius||0;return o=Math.max(o,o&&r.hoverRadius||0),2*(o+(o&&r.borderWidth||0))}draw(r,o){const l=this.options;this.skip||l.radius<.1||!hs(this,o,this.size(l)/2)||(r.strokeStyle=l.borderColor,r.lineWidth=l.borderWidth,r.fillStyle=l.backgroundColor,So(r,l,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}return g.id="point",g.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},g.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},g})();function mc(g,s){const{x:r,y:o,base:l,width:p,height:y}=g.getProps(["x","y","base","width","height"],s);let S,I,N,J,pe;return g.horizontal?(pe=y/2,S=Math.min(r,l),I=Math.max(r,l),N=o-pe,J=o+pe):(pe=p/2,S=r-pe,I=r+pe,N=Math.min(o,l),J=Math.max(o,l)),{left:S,top:N,right:I,bottom:J}}function _c(g,s,r,o){return g?0:_i(s,r,o)}function Ku(g,s,r,o){const l=null===s,p=null===r,S=g&&!(l&&p)&&mc(g,o);return S&&(l||Fi(s,S.left,S.right))&&(p||Fi(r,S.top,S.bottom))}function uu(g,s){g.rect(s.x,s.y,s.w,s.h)}function Oc(g,s,r={}){const o=g.x!==r.x?-s:0,l=g.y!==r.y?-s:0;return{x:g.x+o,y:g.y+l,w:g.w+((g.x+g.w!==r.x+r.w?s:0)-o),h:g.h+((g.y+g.h!==r.y+r.h?s:0)-l),radius:g.radius}}class Jc extends la{constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:r,options:{borderColor:o,backgroundColor:l}}=this,{inner:p,outer:y}=function ld(g){const s=mc(g),r=s.right-s.left,o=s.bottom-s.top,l=function Xu(g,s,r){const l=g.borderSkipped,p=Wa(g.options.borderWidth);return{t:_c(l.top,p.top,0,r),r:_c(l.right,p.right,0,s),b:_c(l.bottom,p.bottom,0,r),l:_c(l.left,p.left,0,s)}}(g,r/2,o/2),p=function ku(g,s,r){const{enableBorderRadius:o}=g.getProps(["enableBorderRadius"]),l=g.options.borderRadius,p=rs(l),y=Math.min(s,r),S=g.borderSkipped,I=o||se(l);return{topLeft:_c(!I||S.top||S.left,p.topLeft,0,y),topRight:_c(!I||S.top||S.right,p.topRight,0,y),bottomLeft:_c(!I||S.bottom||S.left,p.bottomLeft,0,y),bottomRight:_c(!I||S.bottom||S.right,p.bottomRight,0,y)}}(g,r/2,o/2);return{outer:{x:s.left,y:s.top,w:r,h:o,radius:p},inner:{x:s.left+l.l,y:s.top+l.t,w:r-l.l-l.r,h:o-l.t-l.b,radius:{topLeft:Math.max(0,p.topLeft-Math.max(l.t,l.l)),topRight:Math.max(0,p.topRight-Math.max(l.t,l.r)),bottomLeft:Math.max(0,p.bottomLeft-Math.max(l.b,l.l)),bottomRight:Math.max(0,p.bottomRight-Math.max(l.b,l.r))}}}}(this),S=function cd(g){return g.topLeft||g.topRight||g.bottomLeft||g.bottomRight}(y.radius)?il:uu;s.save(),(y.w!==p.w||y.h!==p.h)&&(s.beginPath(),S(s,Oc(y,r,p)),s.clip(),S(s,Oc(p,-r,y)),s.fillStyle=o,s.fill("evenodd")),s.beginPath(),S(s,Oc(p,r)),s.fillStyle=l,s.fill(),s.restore()}inRange(s,r,o){return Ku(this,s,r,o)}inXRange(s,r){return Ku(this,s,null,r)}inYRange(s,r){return Ku(this,null,s,r)}getCenterPoint(s){const{x:r,y:o,base:l,horizontal:p}=this.getProps(["x","y","base","horizontal"],s);return{x:p?(r+l)/2:r,y:p?o:(o+l)/2}}getRange(s){return"x"===s?this.width/2:this.height/2}}Jc.id="bar",Jc.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Jc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var $u=Object.freeze({__proto__:null,ArcElement:Uo,LineElement:Ic,PointElement:Ou,BarElement:Jc});function Lu(g){if(g._decimated){const s=g._data;delete g._decimated,delete g._data,Object.defineProperty(g,"data",{value:s})}}function du(g){g.data.datasets.forEach(s=>{Lu(s)})}var Sd={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(g,s,r)=>{if(!r.enabled)return void du(g);const o=g.width;g.data.datasets.forEach((l,p)=>{const{_data:y,indexAxis:S}=l,I=g.getDatasetMeta(p),N=y||l.data;if("y"===na([S,g.options.indexAxis])||"line"!==I.type)return;const J=g.scales[I.xAxisID];if("linear"!==J.type&&"time"!==J.type||g.options.parsing)return;let Ct,{start:pe,count:Fe}=function Zc(g,s){const r=s.length;let l,o=0;const{iScale:p}=g,{min:y,max:S,minDefined:I,maxDefined:N}=p.getUserBounds();return I&&(o=_i(Ho(s,p.axis,y).lo,0,r-1)),l=N?_i(Ho(s,p.axis,S).hi+1,o,r)-o:r-o,{start:o,count:l}}(I,N);if(Fe<=(r.threshold||4*o))Lu(l);else{switch(Se(y)&&(l._data=N,delete l.data,Object.defineProperty(l,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Lt){this._data=Lt}})),r.algorithm){case"lttb":Ct=function wd(g,s,r,o,l){const p=l.samples||o;if(p>=r)return g.slice(s,s+r);const y=[],S=(r-2)/(p-2);let I=0;const N=s+r-1;let pe,Fe,Qe,Ct,Lt,J=s;for(y[I++]=g[J],pe=0;pe<p-2;pe++){let Ci,Gt=0,Yt=0;const on=Math.floor((pe+1)*S)+1+s,Ki=Math.min(Math.floor((pe+2)*S)+1,r)+s,Vi=Ki-on;for(Ci=on;Ci<Ki;Ci++)Gt+=g[Ci].x,Yt+=g[Ci].y;Gt/=Vi,Yt/=Vi;const vn=Math.floor(pe*S)+1+s,yn=Math.min(Math.floor((pe+1)*S)+1,r)+s,{x:Rn,y:Vn}=g[J];for(Qe=Ct=-1,Ci=vn;Ci<yn;Ci++)Ct=.5*Math.abs((Rn-Gt)*(g[Ci].y-Vn)-(Rn-g[Ci].x)*(Yt-Vn)),Ct>Qe&&(Qe=Ct,Fe=g[Ci],Lt=Ci);y[I++]=Fe,J=Lt}return y[I++]=g[N],y}(N,pe,Fe,o,r);break;case"min-max":Ct=function ms(g,s,r,o){let y,S,I,N,J,pe,Fe,Qe,Ct,Lt,l=0,p=0;const Gt=[],Ci=g[s].x,Ki=g[s+r-1].x-Ci;for(y=s;y<s+r;++y){S=g[y],I=(S.x-Ci)/Ki*o,N=S.y;const Vi=0|I;if(Vi===J)N<Ct?(Ct=N,pe=y):N>Lt&&(Lt=N,Fe=y),l=(p*l+S.x)/++p;else{const vn=y-1;if(!Se(pe)&&!Se(Fe)){const yn=Math.min(pe,Fe),Rn=Math.max(pe,Fe);yn!==Qe&&yn!==vn&&Gt.push(Nm(Pm({},g[yn]),{x:l})),Rn!==Qe&&Rn!==vn&&Gt.push(Nm(Pm({},g[Rn]),{x:l}))}y>0&&vn!==Qe&&Gt.push(g[vn]),Gt.push(S),J=Vi,p=0,Ct=Lt=N,pe=Fe=Qe=y}}return Gt}(N,pe,Fe,o);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}l._decimated=Ct}})},destroy(g){du(g)}};function xd(g,s,r){const o=function Md(g){const s=g.options,r=s.fill;let o=Ne(r&&r.target,r);return void 0===o&&(o=!!s.backgroundColor),!1!==o&&null!==o&&(!0===o?"origin":o)}(g);if(se(o))return!isNaN(o.value)&&o;let l=parseFloat(o);return me(l)&&Math.floor(l)===l?(("-"===o[0]||"+"===o[0])&&(l=s+l),!(l===s||l<0||l>=r)&&l):["origin","start","end","stack","shape"].indexOf(o)>=0&&o}class Pu{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,r,o){const{x:l,y:p,radius:y}=this;return s.arc(l,p,y,(r=r||{start:0,end:Re}).end,r.start,!0),!o.bounds}interpolate(s){const{x:r,y:o,radius:l}=this,p=s.angle;return{x:r+Math.cos(p)*l,y:o+Math.sin(p)*l,angle:p}}}function kc(g,s,r){for(;s>g;s--){const o=r[s];if(!isNaN(o.x)&&!isNaN(o.y))break}return s}function Ju(g,s,r){const o=[];for(let l=0;l<r.length;l++){const p=r[l],{first:y,last:S,point:I}=da(p,s,"x");if(!(!I||y&&S))if(y)o.unshift(I);else if(g.push(I),!S)break}g.push(...o)}function da(g,s,r){const o=g.interpolate(s,r);if(!o)return{};const l=o[r],p=g.segments,y=g.points;let S=!1,I=!1;for(let N=0;N<p.length;N++){const J=p[N],pe=y[J.start][r],Fe=y[J.end][r];if(Fi(l,pe,Fe)){S=l===pe,I=l===Fe;break}}return{first:S,last:I,point:o}}function Hl(g){const{chart:s,fill:r,line:o}=g;if(me(r))return function Dd(g,s){const r=g.getDatasetMeta(s);return r&&g.isDatasetVisible(s)?r.dataset:null}(s,r);if("stack"===r)return function hu(g){const{scale:s,index:r,line:o}=g,l=[],p=o.segments,y=o.points,S=function Zl(g,s){const r=[],o=g.getMatchingVisibleMetas("line");for(let l=0;l<o.length;l++){const p=o[l];if(p.index===s)break;p.hidden||r.unshift(p.dataset)}return r}(s,r);S.push(Qc({x:null,y:s.bottom},o));for(let I=0;I<p.length;I++){const N=p[I];for(let J=N.start;J<=N.end;J++)Ju(l,y[J],S)}return new Ic({points:l,options:{}})}(g);if("shape"===r)return!0;const l=function Ad(g){return(g.scale||{}).getPointPositionForValue?function Nu(g){const{scale:s,fill:r}=g,o=s.options,l=s.getLabels().length,p=[],y=o.reverse?s.max:s.min;let I,N,J;if(J="start"===r?y:"end"===r?o.reverse?s.min:s.max:se(r)?r.value:s.getBaseValue(),o.grid.circular)return N=s.getPointPositionForValue(0,y),new Pu({x:N.x,y:N.y,radius:s.getDistanceFromCenterForValue(J)});for(I=0;I<l;++I)p.push(s.getPointPositionForValue(I,J));return p}(g):function Rd(g){const{scale:s={},fill:r}=g;let l,o=null;return"start"===r?o=s.bottom:"end"===r?o=s.top:se(r)?o=s.getPixelForValue(r.value):s.getBasePixel&&(o=s.getBasePixel()),me(o)?(l=s.isHorizontal(),{x:l?o:null,y:l?null:o}):null}(g)}(g);return l instanceof Pu?l:Qc(l,o)}function Qc(g,s){let r=[],o=!1;return ve(g)?(o=!0,r=g):r=function Ea(g,s){const{x:r=null,y:o=null}=g||{},l=s.points,p=[];return s.segments.forEach(({start:y,end:S})=>{S=kc(y,S,l);const I=l[y],N=l[S];null!==o?(p.push({x:I.x,y:o}),p.push({x:N.x,y:o})):null!==r&&(p.push({x:r,y:I.y}),p.push({x:r,y:N.y}))}),p}(g,s),r.length?new Ic({points:r,options:{tension:0},_loop:o,_fullLoop:o}):null}function pu(g,s,r){let l=g[s].fill;const p=[s];let y;if(!r)return l;for(;!1!==l&&-1===p.indexOf(l);){if(!me(l))return l;if(y=g[l],!y)return!1;if(y.visible)return l;p.push(l),l=y.fill}return!1}function Id(g,s,r){g.beginPath(),s.path(g),g.lineTo(s.last().x,r),g.lineTo(s.first().x,r),g.closePath(),g.clip()}function Lc(g,s,r,o){if(o)return;let l=s[g],p=r[g];return"angle"===g&&(l=_t(l),p=_t(p)),{property:g,start:l,end:p}}function ud(g,s,r,o){return g&&s?o(g[r],s[r]):g?g[r]:s?s[r]:0}function bl(g,s,r){const{top:o,bottom:l}=s.chart.chartArea,{property:p,start:y,end:S}=r||{};"x"===p&&(g.beginPath(),g.rect(y,o,S-y,l-o),g.clip())}function fu(g,s,r,o){const l=s.interpolate(r,o);l&&g.lineTo(l.x,l.y)}function Pc(g,s){const{line:r,target:o,property:l,color:p,scale:y}=s,S=function Fo(g,s,r){const o=g.segments,l=g.points,p=s.points,y=[];for(const S of o){let{start:I,end:N}=S;N=kc(I,N,l);const J=Lc(r,l[I],l[N],S.loop);if(!s.segments){y.push({source:S,target:J,start:l[I],end:l[N]});continue}const pe=Co(s,J);for(const Fe of pe){const Qe=Lc(r,p[Fe.start],p[Fe.end],Fe.loop),Ct=fs(S,l,Qe);for(const Lt of Ct)y.push({source:Lt,target:Fe,start:{[r]:ud(J,Qe,"start",Math.max)},end:{[r]:ud(J,Qe,"end",Math.min)}})}}return y}(r,o,l);for(const{source:I,target:N,start:J,end:pe}of S){const{style:{backgroundColor:Fe=p}={}}=I,Qe=!0!==o;g.save(),g.fillStyle=Fe,bl(g,y,Qe&&Lc(l,J,pe)),g.beginPath();const Ct=!!r.pathSegment(g,I);let Lt;if(Qe){Ct?g.closePath():fu(g,o,pe,l);const Gt=!!o.pathSegment(g,N,{move:Ct,reverse:!0});Lt=Ct&&Gt,Lt||fu(g,o,J,l)}g.closePath(),g.fill(Lt?"evenodd":"nonzero"),g.restore()}}function Nc(g,s,r){const o=Hl(s),{line:l,scale:p,axis:y}=s,S=l.options,I=S.fill,N=S.backgroundColor,{above:J=N,below:pe=N}=I||{};o&&l.points.length&&(ia(g,r),function El(g,s){const{line:r,target:o,above:l,below:p,area:y,scale:S}=s,I=r._loop?"angle":s.axis;g.save(),"x"===I&&p!==l&&(Id(g,o,y.top),Pc(g,{line:r,target:o,color:l,scale:S,property:I}),g.restore(),g.save(),Id(g,o,y.bottom)),Pc(g,{line:r,target:o,color:p,scale:S,property:I}),g.restore()}(g,{line:l,target:o,above:J,below:pe,area:r,scale:p,axis:y}),Gr(g))}var gu={id:"filler",afterDatasetsUpdate(g,s,r){const o=(g.data.datasets||[]).length,l=[];let p,y,S,I;for(y=0;y<o;++y)p=g.getDatasetMeta(y),S=p.dataset,I=null,S&&S.options&&S instanceof Ic&&(I={visible:g.isDatasetVisible(y),index:y,fill:xd(S,y,o),chart:g,axis:p.controller.options.indexAxis,scale:p.vScale,line:S}),p.$filler=I,l.push(I);for(y=0;y<o;++y)I=l[y],I&&!1!==I.fill&&(I.fill=pu(l,y,r.propagate))},beforeDraw(g,s,r){const o="beforeDraw"===r.drawTime,l=g.getSortedVisibleDatasetMetas(),p=g.chartArea;for(let y=l.length-1;y>=0;--y){const S=l[y].$filler;!S||(S.line.updateControlPoints(p,S.axis),o&&Nc(g.ctx,S,p))}},beforeDatasetsDraw(g,s,r){if("beforeDatasetsDraw"!==r.drawTime)return;const o=g.getSortedVisibleDatasetMetas();for(let l=o.length-1;l>=0;--l){const p=o[l].$filler;p&&Nc(g.ctx,p,g.chartArea)}},beforeDatasetDraw(g,s,r){const o=s.meta.$filler;!o||!1===o.fill||"beforeDatasetDraw"!==r.drawTime||Nc(g.ctx,o,g.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Fu=(g,s)=>{let{boxHeight:r=s,boxWidth:o=s}=g;return g.usePointStyle&&(r=Math.min(r,s),o=Math.min(o,s)),{boxWidth:o,boxHeight:r,itemHeight:Math.max(s,r)}};class qc extends la{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,r,o){this.maxWidth=s,this.maxHeight=r,this._margins=o,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let r=de(s.generateLabels,[this.chart],this)||[];s.filter&&(r=r.filter(o=>s.filter(o,this.chart.data))),s.sort&&(r=r.sort((o,l)=>s.sort(o,l,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:s,ctx:r}=this;if(!s.display)return void(this.width=this.height=0);const o=s.labels,l=Pr(o.font),p=l.size,y=this._computeTitleHeight(),{boxWidth:S,itemHeight:I}=Fu(o,p);let N,J;r.font=l.string,this.isHorizontal()?(N=this.maxWidth,J=this._fitRows(y,p,S,I)+10):(J=this.maxHeight,N=this._fitCols(y,p,S,I)+10),this.width=Math.min(N,s.maxWidth||this.maxWidth),this.height=Math.min(J,s.maxHeight||this.maxHeight)}_fitRows(s,r,o,l){const{ctx:p,maxWidth:y,options:{labels:{padding:S}}}=this,I=this.legendHitBoxes=[],N=this.lineWidths=[0],J=l+S;let pe=s;p.textAlign="left",p.textBaseline="middle";let Fe=-1,Qe=-J;return this.legendItems.forEach((Ct,Lt)=>{const Gt=o+r/2+p.measureText(Ct.text).width;(0===Lt||N[N.length-1]+Gt+2*S>y)&&(pe+=J,N[N.length-(Lt>0?0:1)]=0,Qe+=J,Fe++),I[Lt]={left:0,top:Qe,row:Fe,width:Gt,height:l},N[N.length-1]+=Gt+S}),pe}_fitCols(s,r,o,l){const{ctx:p,maxHeight:y,options:{labels:{padding:S}}}=this,I=this.legendHitBoxes=[],N=this.columnSizes=[],J=y-s;let pe=S,Fe=0,Qe=0,Ct=0,Lt=0;return this.legendItems.forEach((Gt,Yt)=>{const Ci=o+r/2+p.measureText(Gt.text).width;Yt>0&&Qe+l+2*S>J&&(pe+=Fe+S,N.push({width:Fe,height:Qe}),Ct+=Fe+S,Lt++,Fe=Qe=0),I[Yt]={left:Ct,top:Qe,col:Lt,width:Ci,height:l},Fe=Math.max(Fe,Ci),Qe+=l+S}),pe+=Fe,N.push({width:Fe,height:Qe}),pe}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:o,labels:{padding:l},rtl:p}}=this,y=nr(p,this.left,this.width);if(this.isHorizontal()){let S=0,I=le(o,this.left+l,this.right-this.lineWidths[S]);for(const N of r)S!==N.row&&(S=N.row,I=le(o,this.left+l,this.right-this.lineWidths[S])),N.top+=this.top+s+l,N.left=y.leftForLtr(y.x(I),N.width),I+=N.width+l}else{let S=0,I=le(o,this.top+s+l,this.bottom-this.columnSizes[S].height);for(const N of r)N.col!==S&&(S=N.col,I=le(o,this.top+s+l,this.bottom-this.columnSizes[S].height)),N.top=I,N.left+=this.left+l,N.left=y.leftForLtr(y.x(N.left),N.width),I+=N.height+l}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const s=this.ctx;ia(s,this),this._draw(),Gr(s)}}_draw(){const{options:s,columnSizes:r,lineWidths:o,ctx:l}=this,{align:p,labels:y}=s,S=lr.color,I=nr(s.rtl,this.left,this.width),N=Pr(y.font),{color:J,padding:pe}=y,Fe=N.size,Qe=Fe/2;let Ct;this.drawTitle(),l.textAlign=I.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=N.string;const{boxWidth:Lt,boxHeight:Gt,itemHeight:Yt}=Fu(y,Fe),Ki=this.isHorizontal(),Vi=this._computeTitleHeight();Ct=Ki?{x:le(p,this.left+pe,this.right-o[0]),y:this.top+pe+Vi,line:0}:{x:this.left+pe,y:le(p,this.top+Vi+pe,this.bottom-r[0].height),line:0},jr(this.ctx,s.textDirection);const vn=Yt+pe;this.legendItems.forEach((yn,Rn)=>{l.strokeStyle=yn.fontColor||J,l.fillStyle=yn.fontColor||J;const Vn=l.measureText(yn.text).width,Tn=I.textAlign(yn.textAlign||(yn.textAlign=y.textAlign)),qi=Lt+Qe+Vn;let Wn=Ct.x,pr=Ct.y;I.setWidth(this.width),Ki?Rn>0&&Wn+qi+pe>this.right&&(pr=Ct.y+=vn,Ct.line++,Wn=Ct.x=le(p,this.left+pe,this.right-o[Ct.line])):Rn>0&&pr+vn>this.bottom&&(Wn=Ct.x=Wn+r[Ct.line].width+pe,Ct.line++,pr=Ct.y=le(p,this.top+Vi+pe,this.bottom-r[Ct.line].height)),function(yn,Rn,Vn){if(isNaN(Lt)||Lt<=0||isNaN(Gt)||Gt<0)return;l.save();const Tn=Ne(Vn.lineWidth,1);if(l.fillStyle=Ne(Vn.fillStyle,S),l.lineCap=Ne(Vn.lineCap,"butt"),l.lineDashOffset=Ne(Vn.lineDashOffset,0),l.lineJoin=Ne(Vn.lineJoin,"miter"),l.lineWidth=Tn,l.strokeStyle=Ne(Vn.strokeStyle,S),l.setLineDash(Ne(Vn.lineDash,[])),y.usePointStyle){const qi={radius:Lt*Math.SQRT2/2,pointStyle:Vn.pointStyle,rotation:Vn.rotation,borderWidth:Tn},Wn=I.xPlus(yn,Lt/2);So(l,qi,Wn,Rn+Qe)}else{const qi=Rn+Math.max((Fe-Gt)/2,0),Wn=I.leftForLtr(yn,Lt),pr=rs(Vn.borderRadius);l.beginPath(),Object.values(pr).some(mn=>0!==mn)?il(l,{x:Wn,y:qi,w:Lt,h:Gt,radius:pr}):l.rect(Wn,qi,Lt,Gt),l.fill(),0!==Tn&&l.stroke()}l.restore()}(I.x(Wn),pr,yn),Wn=((g,s,r,o)=>g===(o?"left":"right")?r:"center"===g?(s+r)/2:s)(Tn,Wn+Lt+Qe,Ki?Wn+qi:this.right,s.rtl),function(yn,Rn,Vn){Os(l,Vn.text,yn,Rn+Yt/2,N,{strikethrough:Vn.hidden,textAlign:I.textAlign(Vn.textAlign)})}(I.x(Wn),pr,yn),Ki?Ct.x+=qi+pe:Ct.y+=vn}),_o(this.ctx,s.textDirection)}drawTitle(){const s=this.options,r=s.title,o=Pr(r.font),l=Ur(r.padding);if(!r.display)return;const p=nr(s.rtl,this.left,this.width),y=this.ctx,S=r.position,N=l.top+o.size/2;let J,pe=this.left,Fe=this.width;if(this.isHorizontal())Fe=Math.max(...this.lineWidths),J=this.top+N,pe=le(s.align,pe,this.right-Fe);else{const Ct=this.columnSizes.reduce((Lt,Gt)=>Math.max(Lt,Gt.height),0);J=N+le(s.align,this.top,this.bottom-Ct-s.labels.padding-this._computeTitleHeight())}const Qe=le(S,pe,pe+Fe);y.textAlign=p.textAlign(Te(S)),y.textBaseline="middle",y.strokeStyle=r.color,y.fillStyle=r.color,y.font=o.string,Os(y,r.text,Qe,J,o)}_computeTitleHeight(){const s=this.options.title,r=Pr(s.font),o=Ur(s.padding);return s.display?r.lineHeight+o.height:0}_getLegendItemAt(s,r){let o,l,p;if(Fi(s,this.left,this.right)&&Fi(r,this.top,this.bottom))for(p=this.legendHitBoxes,o=0;o<p.length;++o)if(l=p[o],Fi(s,l.left,l.left+l.width)&&Fi(r,l.top,l.top+l.height))return this.legendItems[o];return null}handleEvent(s){const r=this.options;if(!function vc(g,s){return!!("mousemove"===g&&(s.onHover||s.onLeave)||s.onClick&&("click"===g||"mouseup"===g))}(s.type,r))return;const o=this._getLegendItemAt(s.x,s.y);if("mousemove"===s.type){const l=this._hoveredItem,p=((g,s)=>null!==g&&null!==s&&g.datasetIndex===s.datasetIndex&&g.index===s.index)(l,o);l&&!p&&de(r.onLeave,[s,l,this],this),this._hoveredItem=o,o&&!p&&de(r.onHover,[s,o,this],this)}else o&&de(r.onClick,[s,o,this],this)}}var mu={id:"legend",_element:qc,start(g,s,r){const o=g.legend=new qc({ctx:g.ctx,options:r,chart:g});ya.configure(g,o,r),ya.addBox(g,o)},stop(g){ya.removeBox(g,g.legend),delete g.legend},beforeUpdate(g,s,r){const o=g.legend;ya.configure(g,o,r),o.options=r},afterUpdate(g){const s=g.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(g,s){s.replay||g.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(g,s,r){const o=s.datasetIndex,l=r.chart;l.isDatasetVisible(o)?(l.hide(o),s.hidden=!0):(l.show(o),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:g=>g.chart.options.color,boxWidth:40,padding:10,generateLabels(g){const s=g.data.datasets,{labels:{usePointStyle:r,pointStyle:o,textAlign:l,color:p}}=g.legend.options;return g._getSortedDatasetMetas().map(y=>{const S=y.controller.getStyle(r?0:void 0),I=Ur(S.borderWidth);return{text:s[y.index].label,fillStyle:S.backgroundColor,fontColor:p,hidden:!y.visible,lineCap:S.borderCapStyle,lineDash:S.borderDash,lineDashOffset:S.borderDashOffset,lineJoin:S.borderJoinStyle,lineWidth:(I.width+I.height)/4,strokeStyle:S.borderColor,pointStyle:o||S.pointStyle,rotation:S.rotation,textAlign:l||S.textAlign,borderRadius:0,datasetIndex:y.index}},this)}},title:{color:g=>g.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:g=>!g.startsWith("on"),labels:{_scriptable:g=>!["generateLabels","filter","sort"].includes(g)}}};class _u extends la{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,r){const o=this.options;if(this.left=0,this.top=0,!o.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=s,this.height=this.bottom=r;const l=ve(o.text)?o.text.length:1;this._padding=Ur(o.padding);const p=l*Pr(o.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=p:this.width=p}isHorizontal(){const s=this.options.position;return"top"===s||"bottom"===s}_drawArgs(s){const{top:r,left:o,bottom:l,right:p,options:y}=this,S=y.align;let N,J,pe,I=0;return this.isHorizontal()?(J=le(S,o,p),pe=r+s,N=p-o):("left"===y.position?(J=o+s,pe=le(S,l,r),I=-.5*ut):(J=p-s,pe=le(S,r,l),I=.5*ut),N=l-r),{titleX:J,titleY:pe,maxWidth:N,rotation:I}}draw(){const s=this.ctx,r=this.options;if(!r.display)return;const o=Pr(r.font),p=o.lineHeight/2+this._padding.top,{titleX:y,titleY:S,maxWidth:I,rotation:N}=this._drawArgs(p);Os(s,r.text,0,0,o,{color:r.color,maxWidth:I,rotation:N,textAlign:Te(r.align),textBaseline:"middle",translation:[y,S]})}}var eu={id:"title",_element:_u,start(g,s,r){!function Fc(g,s){const r=new _u({ctx:g.ctx,options:s,chart:g});ya.configure(g,r,s),ya.addBox(g,r),g.titleBlock=r}(g,r)},stop(g){ya.removeBox(g,g.titleBlock),delete g.titleBlock},beforeUpdate(g,s,r){const o=g.titleBlock;ya.configure(g,o,r),o.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ao=new WeakMap;var Od={id:"subtitle",start(g,s,r){const o=new _u({ctx:g.ctx,options:r,chart:g});ya.configure(g,o,r),ya.addBox(g,o),ao.set(g,o)},stop(g){ya.removeBox(g,ao.get(g)),ao.delete(g)},beforeUpdate(g,s,r){const o=ao.get(g);ya.configure(g,o,r),o.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const vu={average(g){if(!g.length)return!1;let s,r,o=0,l=0,p=0;for(s=0,r=g.length;s<r;++s){const y=g[s].element;if(y&&y.hasValue()){const S=y.tooltipPosition();o+=S.x,l+=S.y,++p}}return{x:o/p,y:l/p}},nearest(g,s){if(!g.length)return!1;let p,y,S,r=s.x,o=s.y,l=Number.POSITIVE_INFINITY;for(p=0,y=g.length;p<y;++p){const I=g[p].element;if(I&&I.hasValue()){const J=Di(s,I.getCenterPoint());J<l&&(l=J,S=I)}}if(S){const I=S.tooltipPosition();r=I.x,o=I.y}return{x:r,y:o}}};function Va(g,s){return s&&(ve(s)?Array.prototype.push.apply(g,s):g.push(s)),g}function Vl(g){return("string"==typeof g||g instanceof String)&&g.indexOf("\n")>-1?g.split("\n"):g}function Bu(g,s){const{element:r,datasetIndex:o,index:l}=s,p=g.getDatasetMeta(o).controller,{label:y,value:S}=p.getLabelAndValue(l);return{chart:g,label:y,parsed:p.getParsed(l),raw:g.data.datasets[o].data[l],formattedValue:S,dataset:p.getDataset(),dataIndex:l,datasetIndex:o,element:r}}function hd(g,s){const r=g._chart.ctx,{body:o,footer:l,title:p}=g,{boxWidth:y,boxHeight:S}=s,I=Pr(s.bodyFont),N=Pr(s.titleFont),J=Pr(s.footerFont),pe=p.length,Fe=l.length,Qe=o.length,Ct=Ur(s.padding);let Lt=Ct.height,Gt=0,Yt=o.reduce((Ki,Vi)=>Ki+Vi.before.length+Vi.lines.length+Vi.after.length,0);Yt+=g.beforeBody.length+g.afterBody.length,pe&&(Lt+=pe*N.lineHeight+(pe-1)*s.titleSpacing+s.titleMarginBottom),Yt&&(Lt+=Qe*(s.displayColors?Math.max(S,I.lineHeight):I.lineHeight)+(Yt-Qe)*I.lineHeight+(Yt-1)*s.bodySpacing),Fe&&(Lt+=s.footerMarginTop+Fe*J.lineHeight+(Fe-1)*s.footerSpacing);let Ci=0;const on=function(Ki){Gt=Math.max(Gt,r.measureText(Ki).width+Ci)};return r.save(),r.font=N.string,re(g.title,on),r.font=I.string,re(g.beforeBody.concat(g.afterBody),on),Ci=s.displayColors?y+2+s.boxPadding:0,re(o,Ki=>{re(Ki.before,on),re(Ki.lines,on),re(Ki.after,on)}),Ci=0,r.font=J.string,re(g.footer,on),r.restore(),Gt+=Ct.width,{width:Gt,height:Lt}}function fd(g,s,r,o){const{x:l,width:p}=r,{width:y,chartArea:{left:S,right:I}}=g;let N="center";return"center"===o?N=l<=(S+I)/2?"left":"right":l<=p/2?N="left":l>=y-p/2&&(N="right"),function pd(g,s,r,o){const{x:l,width:p}=o,y=r.caretSize+r.caretPadding;if("left"===g&&l+p+y>s.width||"right"===g&&l-p-y<0)return!0}(N,g,s,r)&&(N="center"),N}function gd(g,s,r){const o=s.yAlign||function _s(g,s){const{y:r,height:o}=s;return r<o/2?"top":r>g.height-o/2?"bottom":"center"}(g,r);return{xAlign:s.xAlign||fd(g,s,r,o),yAlign:o}}function b(g,s,r,o){const{caretSize:l,caretPadding:p,cornerRadius:y}=g,{xAlign:S,yAlign:I}=r,N=l+p,{topLeft:J,topRight:pe,bottomLeft:Fe,bottomRight:Qe}=rs(y);let Ct=function Hu(g,s){let{x:r,width:o}=g;return"right"===s?r-=o:"center"===s&&(r-=o/2),r}(s,S);const Lt=function h(g,s,r){let{y:o,height:l}=g;return"top"===s?o+=r:o-="bottom"===s?l+r:l/2,o}(s,I,N);return"center"===I?"left"===S?Ct+=N:"right"===S&&(Ct-=N):"left"===S?Ct-=Math.max(J,Fe)+l:"right"===S&&(Ct+=Math.max(pe,Qe)+l),{x:_i(Ct,0,o.width-s.width),y:_i(Lt,0,o.height-s.height)}}function x(g,s,r){const o=Ur(r.padding);return"center"===s?g.x+g.width/2:"right"===s?g.x+g.width-o.right:g.x+o.left}function M(g){return Va([],Vl(g))}function Y(g,s){const r=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return r?g.override(r):g}let he=(()=>{class g extends la{constructor(r){super(),this.opacity=0,this._active=[],this._chart=r._chart,this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.options=r.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(r){this.options=r,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const r=this._cachedAnimations;if(r)return r;const o=this._chart,l=this.options.setContext(this.getContext()),p=l.enabled&&o.options.animation&&l.animations,y=new $s(this._chart,p);return p._cacheable&&(this._cachedAnimations=Object.freeze(y)),y}getContext(){return this.$context||(this.$context=function L(g,s,r){return Bo(g,{tooltip:s,tooltipItems:r,type:"tooltip"})}(this._chart.getContext(),this,this._tooltipItems))}getTitle(r,o){const{callbacks:l}=o,p=l.beforeTitle.apply(this,[r]),y=l.title.apply(this,[r]),S=l.afterTitle.apply(this,[r]);let I=[];return I=Va(I,Vl(p)),I=Va(I,Vl(y)),I=Va(I,Vl(S)),I}getBeforeBody(r,o){return M(o.callbacks.beforeBody.apply(this,[r]))}getBody(r,o){const{callbacks:l}=o,p=[];return re(r,y=>{const S={before:[],lines:[],after:[]},I=Y(l,y);Va(S.before,Vl(I.beforeLabel.call(this,y))),Va(S.lines,I.label.call(this,y)),Va(S.after,Vl(I.afterLabel.call(this,y))),p.push(S)}),p}getAfterBody(r,o){return M(o.callbacks.afterBody.apply(this,[r]))}getFooter(r,o){const{callbacks:l}=o,p=l.beforeFooter.apply(this,[r]),y=l.footer.apply(this,[r]),S=l.afterFooter.apply(this,[r]);let I=[];return I=Va(I,Vl(p)),I=Va(I,Vl(y)),I=Va(I,Vl(S)),I}_createItems(r){const o=this._active,l=this._chart.data,p=[],y=[],S=[];let N,J,I=[];for(N=0,J=o.length;N<J;++N)I.push(Bu(this._chart,o[N]));return r.filter&&(I=I.filter((pe,Fe,Qe)=>r.filter(pe,Fe,Qe,l))),r.itemSort&&(I=I.sort((pe,Fe)=>r.itemSort(pe,Fe,l))),re(I,pe=>{const Fe=Y(r.callbacks,pe);p.push(Fe.labelColor.call(this,pe)),y.push(Fe.labelPointStyle.call(this,pe)),S.push(Fe.labelTextColor.call(this,pe))}),this.labelColors=p,this.labelPointStyles=y,this.labelTextColors=S,this.dataPoints=I,I}update(r,o){const l=this.options.setContext(this.getContext()),p=this._active;let y,S=[];if(p.length){const I=vu[l.position].call(this,p,this._eventPosition);S=this._createItems(l),this.title=this.getTitle(S,l),this.beforeBody=this.getBeforeBody(S,l),this.body=this.getBody(S,l),this.afterBody=this.getAfterBody(S,l),this.footer=this.getFooter(S,l);const N=this._size=hd(this,l),J=Object.assign({},I,N),pe=gd(this._chart,l,J),Fe=b(l,J,pe,this._chart);this.xAlign=pe.xAlign,this.yAlign=pe.yAlign,y={opacity:1,x:Fe.x,y:Fe.y,width:N.width,height:N.height,caretX:I.x,caretY:I.y}}else 0!==this.opacity&&(y={opacity:0});this._tooltipItems=S,this.$context=void 0,y&&this._resolveAnimations().update(this,y),r&&l.external&&l.external.call(this,{chart:this._chart,tooltip:this,replay:o})}drawCaret(r,o,l,p){const y=this.getCaretPosition(r,l,p);o.lineTo(y.x1,y.y1),o.lineTo(y.x2,y.y2),o.lineTo(y.x3,y.y3)}getCaretPosition(r,o,l){const{xAlign:p,yAlign:y}=this,{caretSize:S,cornerRadius:I}=l,{topLeft:N,topRight:J,bottomLeft:pe,bottomRight:Fe}=rs(I),{x:Qe,y:Ct}=r,{width:Lt,height:Gt}=o;let Yt,Ci,on,Ki,Vi,vn;return"center"===y?(Vi=Ct+Gt/2,"left"===p?(Yt=Qe,Ci=Yt-S,Ki=Vi+S,vn=Vi-S):(Yt=Qe+Lt,Ci=Yt+S,Ki=Vi-S,vn=Vi+S),on=Yt):(Ci="left"===p?Qe+Math.max(N,pe)+S:"right"===p?Qe+Lt-Math.max(J,Fe)-S:this.caretX,"top"===y?(Ki=Ct,Vi=Ki-S,Yt=Ci-S,on=Ci+S):(Ki=Ct+Gt,Vi=Ki+S,Yt=Ci+S,on=Ci-S),vn=Ki),{x1:Yt,x2:Ci,x3:on,y1:Ki,y2:Vi,y3:vn}}drawTitle(r,o,l){const p=this.title,y=p.length;let S,I,N;if(y){const J=nr(l.rtl,this.x,this.width);for(r.x=x(this,l.titleAlign,l),o.textAlign=J.textAlign(l.titleAlign),o.textBaseline="middle",S=Pr(l.titleFont),I=l.titleSpacing,o.fillStyle=l.titleColor,o.font=S.string,N=0;N<y;++N)o.fillText(p[N],J.x(r.x),r.y+S.lineHeight/2),r.y+=S.lineHeight+I,N+1===y&&(r.y+=l.titleMarginBottom-I)}}_drawColorBox(r,o,l,p,y){const S=this.labelColors[l],I=this.labelPointStyles[l],{boxHeight:N,boxWidth:J,boxPadding:pe}=y,Fe=Pr(y.bodyFont),Qe=x(this,"left",y),Ct=p.x(Qe),Gt=o.y+(N<Fe.lineHeight?(Fe.lineHeight-N)/2:0);if(y.usePointStyle){const Yt={radius:Math.min(J,N)/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:1},Ci=p.leftForLtr(Ct,J)+J/2,on=Gt+N/2;r.strokeStyle=y.multiKeyBackground,r.fillStyle=y.multiKeyBackground,So(r,Yt,Ci,on),r.strokeStyle=S.borderColor,r.fillStyle=S.backgroundColor,So(r,Yt,Ci,on)}else{r.lineWidth=S.borderWidth||1,r.strokeStyle=S.borderColor,r.setLineDash(S.borderDash||[]),r.lineDashOffset=S.borderDashOffset||0;const Yt=p.leftForLtr(Ct,J-pe),Ci=p.leftForLtr(p.xPlus(Ct,1),J-pe-2),on=rs(S.borderRadius);Object.values(on).some(Ki=>0!==Ki)?(r.beginPath(),r.fillStyle=y.multiKeyBackground,il(r,{x:Yt,y:Gt,w:J,h:N,radius:on}),r.fill(),r.stroke(),r.fillStyle=S.backgroundColor,r.beginPath(),il(r,{x:Ci,y:Gt+1,w:J-2,h:N-2,radius:on}),r.fill()):(r.fillStyle=y.multiKeyBackground,r.fillRect(Yt,Gt,J,N),r.strokeRect(Yt,Gt,J,N),r.fillStyle=S.backgroundColor,r.fillRect(Ci,Gt+1,J-2,N-2))}r.fillStyle=this.labelTextColors[l]}drawBody(r,o,l){const{body:p}=this,{bodySpacing:y,bodyAlign:S,displayColors:I,boxHeight:N,boxWidth:J,boxPadding:pe}=l,Fe=Pr(l.bodyFont);let Qe=Fe.lineHeight,Ct=0;const Lt=nr(l.rtl,this.x,this.width),Gt=function(Vn){o.fillText(Vn,Lt.x(r.x+Ct),r.y+Qe/2),r.y+=Qe+y},Yt=Lt.textAlign(S);let Ci,on,Ki,Vi,vn,yn,Rn;for(o.textAlign=S,o.textBaseline="middle",o.font=Fe.string,r.x=x(this,Yt,l),o.fillStyle=l.bodyColor,re(this.beforeBody,Gt),Ct=I&&"right"!==Yt?"center"===S?J/2+pe:J+2+pe:0,Vi=0,yn=p.length;Vi<yn;++Vi){for(Ci=p[Vi],on=this.labelTextColors[Vi],o.fillStyle=on,re(Ci.before,Gt),Ki=Ci.lines,I&&Ki.length&&(this._drawColorBox(o,r,Vi,Lt,l),Qe=Math.max(Fe.lineHeight,N)),vn=0,Rn=Ki.length;vn<Rn;++vn)Gt(Ki[vn]),Qe=Fe.lineHeight;re(Ci.after,Gt)}Ct=0,Qe=Fe.lineHeight,re(this.afterBody,Gt),r.y-=y}drawFooter(r,o,l){const p=this.footer,y=p.length;let S,I;if(y){const N=nr(l.rtl,this.x,this.width);for(r.x=x(this,l.footerAlign,l),r.y+=l.footerMarginTop,o.textAlign=N.textAlign(l.footerAlign),o.textBaseline="middle",S=Pr(l.footerFont),o.fillStyle=l.footerColor,o.font=S.string,I=0;I<y;++I)o.fillText(p[I],N.x(r.x),r.y+S.lineHeight/2),r.y+=S.lineHeight+l.footerSpacing}}drawBackground(r,o,l,p){const{xAlign:y,yAlign:S}=this,{x:I,y:N}=r,{width:J,height:pe}=l,{topLeft:Fe,topRight:Qe,bottomLeft:Ct,bottomRight:Lt}=rs(p.cornerRadius);o.fillStyle=p.backgroundColor,o.strokeStyle=p.borderColor,o.lineWidth=p.borderWidth,o.beginPath(),o.moveTo(I+Fe,N),"top"===S&&this.drawCaret(r,o,l,p),o.lineTo(I+J-Qe,N),o.quadraticCurveTo(I+J,N,I+J,N+Qe),"center"===S&&"right"===y&&this.drawCaret(r,o,l,p),o.lineTo(I+J,N+pe-Lt),o.quadraticCurveTo(I+J,N+pe,I+J-Lt,N+pe),"bottom"===S&&this.drawCaret(r,o,l,p),o.lineTo(I+Ct,N+pe),o.quadraticCurveTo(I,N+pe,I,N+pe-Ct),"center"===S&&"left"===y&&this.drawCaret(r,o,l,p),o.lineTo(I,N+Fe),o.quadraticCurveTo(I,N,I+Fe,N),o.closePath(),o.fill(),p.borderWidth>0&&o.stroke()}_updateAnimationTarget(r){const o=this._chart,l=this.$animations,p=l&&l.x,y=l&&l.y;if(p||y){const S=vu[r.position].call(this,this._active,this._eventPosition);if(!S)return;const I=this._size=hd(this,r),N=Object.assign({},S,this._size),J=gd(o,r,N),pe=b(r,N,J,o);(p._to!==pe.x||y._to!==pe.y)&&(this.xAlign=J.xAlign,this.yAlign=J.yAlign,this.width=I.width,this.height=I.height,this.caretX=S.x,this.caretY=S.y,this._resolveAnimations().update(this,pe))}}draw(r){const o=this.options.setContext(this.getContext());let l=this.opacity;if(!l)return;this._updateAnimationTarget(o);const p={width:this.width,height:this.height},y={x:this.x,y:this.y};l=Math.abs(l)<.001?0:l;const S=Ur(o.padding);o.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(r.save(),r.globalAlpha=l,this.drawBackground(y,r,p,o),jr(r,o.textDirection),y.y+=S.top,this.drawTitle(y,r,o),this.drawBody(y,r,o),this.drawFooter(y,r,o),_o(r,o.textDirection),r.restore())}getActiveElements(){return this._active||[]}setActiveElements(r,o){const l=this._active,p=r.map(({datasetIndex:I,index:N})=>{const J=this._chart.getDatasetMeta(I);if(!J)throw new Error("Cannot find a dataset at index "+I);return{datasetIndex:I,element:J.data[N],index:N}}),y=!ot(l,p),S=this._positionChanged(p,o);(y||S)&&(this._active=p,this._eventPosition=o,this.update(!0))}handleEvent(r,o){const l=this.options,p=this._active||[];let y=!1,S=[];"mouseout"!==r.type&&(S=this._chart.getElementsAtEventForMode(r,l.mode,l,o),l.reverse&&S.reverse());const I=this._positionChanged(S,r);return y=o||!ot(S,p)||I,y&&(this._active=S,(l.enabled||l.external)&&(this._eventPosition={x:r.x,y:r.y},this.update(!0,o))),y}_positionChanged(r,o){const{caretX:l,caretY:p,options:y}=this,S=vu[y.position].call(this,r,o);return!1!==S&&(l!==S.x||p!==S.y)}}return g.positioners=vu,g})();var Be=Object.freeze({__proto__:null,Decimation:Sd,Filler:gu,Legend:mu,SubTitle:Od,Title:eu,Tooltip:{id:"tooltip",_element:he,positioners:vu,afterInit(g,s,r){r&&(g.tooltip=new he({_chart:g,options:r}))},beforeUpdate(g,s,r){g.tooltip&&g.tooltip.initialize(r)},reset(g,s,r){g.tooltip&&g.tooltip.initialize(r)},afterDraw(g){const s=g.tooltip,r={tooltip:s};!1!==g.notifyPlugins("beforeTooltipDraw",r)&&(s&&s.draw(g.ctx),g.notifyPlugins("afterTooltipDraw",r))},afterEvent(g,s){g.tooltip&&g.tooltip.handleEvent(s.event,s.replay)&&(s.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(g,s)=>s.bodyFont.size,boxWidth:(g,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Pe,title(g){if(g.length>0){const s=g[0],r=s.chart.data.labels,o=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return s.dataset.label||"";if(s.label)return s.label;if(o>0&&s.dataIndex<o)return r[s.dataIndex]}return""},afterTitle:Pe,beforeBody:Pe,beforeLabel:Pe,label(g){if(this&&this.options&&"dataset"===this.options.mode)return g.label+": "+g.formattedValue||g.formattedValue;let s=g.dataset.label||"";s&&(s+=": ");const r=g.formattedValue;return Se(r)||(s+=r),s},labelColor(g){const r=g.chart.getDatasetMeta(g.datasetIndex).controller.getStyle(g.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(g){const r=g.chart.getDatasetMeta(g.datasetIndex).controller.getStyle(g.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Pe,afterBody:Pe,beforeFooter:Pe,footer:Pe,afterFooter:Pe}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:g=>"filter"!==g&&"itemSort"!==g&&"external"!==g,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class fi extends xa{constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const r=this._addedLabels;if(r.length){const o=this.getLabels();for(const{index:l,label:p}of r)o[l]===p&&o.splice(l,1);this._addedLabels=[]}super.init(s)}parse(s,r){if(Se(s))return null;const o=this.getLabels();return((g,s)=>null===g?null:_i(Math.round(g),0,s))(r=isFinite(r)&&o[r]===s?r:function It(g,s,r,o){const l=g.indexOf(s);return-1===l?((g,s,r,o)=>("string"==typeof s?(r=g.push(s)-1,o.unshift({index:r,label:s})):isNaN(s)&&(r=null),r))(g,s,r,o):l!==g.lastIndexOf(s)?r:l}(o,s,Ne(r,s),this._addedLabels),o.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:r}=this.getUserBounds();let{min:o,max:l}=this.getMinMax(!0);"ticks"===this.options.bounds&&(s||(o=0),r||(l=this.getLabels().length-1)),this.min=o,this.max=l}buildTicks(){const s=this.min,r=this.max,o=this.options.offset,l=[];let p=this.getLabels();p=0===s&&r===p.length-1?p:p.slice(s,r+1),this._valueRange=Math.max(p.length-(o?0:1),1),this._startValue=this.min-(o?.5:0);for(let y=s;y<=r;y++)l.push({value:y});return l}getLabelForValue(s){const r=this.getLabels();return s>=0&&s<r.length?r[s]:s}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return"number"!=typeof s&&(s=this.parse(s)),null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const r=this.ticks;return s<0||s>r.length-1?null:this.getPixelForValue(r[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}function ki(g,s,{horizontal:r,minRotation:o}){const l=Ei(o),p=(r?Math.sin(l):Math.cos(l))||.001;return Math.min(s/p,.75*s*(""+g).length)}fi.id="category",fi.defaults={ticks:{callback:fi.prototype.getLabelForValue}};class zi extends xa{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,r){return Se(s)||("number"==typeof s||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:r,maxDefined:o}=this.getUserBounds();let{min:l,max:p}=this;const y=I=>l=r?l:I,S=I=>p=o?p:I;if(s){const I=lt(l),N=lt(p);I<0&&N<0?S(0):I>0&&N>0&&y(0)}if(l===p){let I=1;(p>=Number.MAX_SAFE_INTEGER||l<=Number.MIN_SAFE_INTEGER)&&(I=Math.abs(.05*p)),S(p+I),s||y(l-I)}this.min=l,this.max=p}getTickLimit(){const s=this.options.ticks;let l,{maxTicksLimit:r,stepSize:o}=s;return o?(l=Math.ceil(this.max/o)-Math.floor(this.min/o)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${o} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),r=r||11),r&&(l=Math.min(r,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,r=s.ticks;let o=this.getTickLimit();o=Math.max(2,o);const y=function ci(g,s){const r=[],{bounds:l,step:p,min:y,max:S,precision:I,count:N,maxTicks:J,maxDigits:pe,includeBounds:Fe}=g,Qe=p||1,Ct=J-1,{min:Lt,max:Gt}=s,Yt=!Se(y),Ci=!Se(S),on=!Se(N),Ki=(Gt-Lt)/(pe+1);let vn,yn,Rn,Vn,Vi=vt((Gt-Lt)/Ct/Qe)*Qe;if(Vi<1e-14&&!Yt&&!Ci)return[{value:Lt},{value:Gt}];Vn=Math.ceil(Gt/Vi)-Math.floor(Lt/Vi),Vn>Ct&&(Vi=vt(Vn*Vi/Ct/Qe)*Qe),Se(I)||(vn=Math.pow(10,I),Vi=Math.ceil(Vi*vn)/vn),"ticks"===l?(yn=Math.floor(Lt/Vi)*Vi,Rn=Math.ceil(Gt/Vi)*Vi):(yn=Lt,Rn=Gt),Yt&&Ci&&p&&function Wt(g,s){const r=Math.round(g);return r-s<=g&&r+s>=g}((S-y)/p,Vi/1e3)?(Vn=Math.round(Math.min((S-y)/Vi,J)),Vi=(S-y)/Vn,yn=y,Rn=S):on?(yn=Yt?y:yn,Rn=Ci?S:Rn,Vn=N-1,Vi=(Rn-yn)/Vn):(Vn=(Rn-yn)/Vi,Vn=Ze(Vn,Math.round(Vn),Vi/1e3)?Math.round(Vn):Math.ceil(Vn));const Tn=Math.max(pi(Vi),pi(yn));vn=Math.pow(10,Se(I)?Tn:I),yn=Math.round(yn*vn)/vn,Rn=Math.round(Rn*vn)/vn;let qi=0;for(Yt&&(Fe&&yn!==y?(r.push({value:y}),yn<y&&qi++,Ze(Math.round((yn+qi*Vi)*vn)/vn,y,ki(y,Ki,g))&&qi++):yn<y&&qi++);qi<Vn;++qi)r.push({value:Math.round((yn+qi*Vi)*vn)/vn});return Ci&&Fe&&Rn!==S?r.length&&Ze(r[r.length-1].value,S,ki(S,Ki,g))?r[r.length-1].value=S:r.push({value:S}):(!Ci||Rn===S)&&r.push({value:Rn}),r}({maxTicks:o,bounds:s.bounds,min:s.min,max:s.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:!1!==r.includeBounds},this._range||this);return"ticks"===s.bounds&&Kt(y,this,"value"),s.reverse?(y.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),y}configure(){const s=this.ticks;let r=this.min,o=this.max;if(super.configure(),this.options.offset&&s.length){const l=(o-r)/Math.max(s.length-1,1)/2;r-=l,o+=l}this._startValue=r,this._endValue=o,this._valueRange=o-r}getLabelForValue(s){return cr(s,this.chart.options.locale,this.options.ticks.format)}}class cn extends zi{determineDataLimits(){const{min:s,max:r}=this.getMinMax(!0);this.min=me(s)?s:0,this.max=me(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),r=s?this.width:this.height,o=Ei(this.options.ticks.minRotation),l=(s?Math.sin(o):Math.cos(o))||.001,p=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,p.lineHeight/l))}getPixelForValue(s){return null===s?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}function _n(g){return g/Math.pow(10,Math.floor(At(g)))==1}cn.id="linear",cn.defaults={ticks:{callback:Rl.formatters.numeric}};class pn extends xa{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,r){const o=zi.prototype.parse.apply(this,[s,r]);if(0!==o)return me(o)&&o>0?o:null;this._zero=!0}determineDataLimits(){const{min:s,max:r}=this.getMinMax(!0);this.min=me(s)?Math.max(0,s):null,this.max=me(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:r}=this.getUserBounds();let o=this.min,l=this.max;const p=I=>o=s?o:I,y=I=>l=r?l:I,S=(I,N)=>Math.pow(10,Math.floor(At(I))+N);o===l&&(o<=0?(p(1),y(10)):(p(S(o,-1)),y(S(l,1)))),o<=0&&p(S(l,-1)),l<=0&&y(S(o,1)),this._zero&&this.min!==this._suggestedMin&&o===S(this.min,0)&&p(S(o,-1)),this.min=o,this.max=l}buildTicks(){const s=this.options,o=function xn(g,s){const r=Math.floor(At(s.max)),o=Math.ceil(s.max/Math.pow(10,r)),l=[];let p=ce(g.min,Math.pow(10,Math.floor(At(s.min)))),y=Math.floor(At(p)),S=Math.floor(p/Math.pow(10,y)),I=y<0?Math.pow(10,Math.abs(y)):1;do{l.push({value:p,major:_n(p)}),++S,10===S&&(S=1,++y,I=y>=0?1:I),p=Math.round(S*Math.pow(10,y)*I)/I}while(y<r||y===r&&S<o);const N=ce(g.max,p);return l.push({value:N,major:_n(p)}),l}({min:this._userMin,max:this._userMax},this);return"ticks"===s.bounds&&Kt(o,this,"value"),s.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}getLabelForValue(s){return void 0===s?"0":cr(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=At(s),this._valueRange=At(this.max)-At(s)}getPixelForValue(s){return(void 0===s||0===s)&&(s=this.min),null===s||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(At(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const r=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+r*this._valueRange)}}function In(g){const s=g.ticks;if(s.display&&g.display){const r=Ur(s.backdropPadding);return Ne(s.font&&s.font.size,lr.font.size)+r.height}return 0}function ir(g,s,r){return r=ve(r)?r:[r],{w:no(g,s.string,r),h:r.length*s.lineHeight}}function Zn(g,s,r,o,l){return g===o||g===l?{start:s-r/2,end:s+r/2}:g<o||g>l?{start:s-r,end:s}:{start:s,end:s+r}}function Hs(g){return 0===g||180===g?"center":g<180?"left":"right"}function Ko(g,s,r){return"right"===r?g-=s:"center"===r&&(g-=s/2),g}function Aa(g,s,r){return 90===r||270===r?g-=s/2:(r>270||r<90)&&(g-=s),g}function vs(g,s,r,o){const{ctx:l}=g;if(r)l.arc(g.xCenter,g.yCenter,s,0,Re);else{let p=g.getPointPosition(0,s);l.moveTo(p.x,p.y);for(let y=1;y<o;y++)p=g.getPointPosition(y,s),l.lineTo(p.x,p.y)}}function us(g){return Ke(g)?g:0}pn.id="logarithmic",pn.defaults={ticks:{callback:Rl.formatters.logarithmic,major:{enabled:!0}}};class T extends zi{constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){this.width=this.maxWidth,this.height=this.maxHeight,this.paddingTop=In(this.options)/2,this.xCenter=Math.floor(this.width/2),this.yCenter=Math.floor((this.height-this.paddingTop)/2),this.drawingArea=Math.min(this.height-this.paddingTop,this.width)/2}determineDataLimits(){const{min:s,max:r}=this.getMinMax(!1);this.min=me(s)&&!isNaN(s)?s:0,this.max=me(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/In(this.options))}generateTickLabels(s){zi.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((r,o)=>{const l=de(this.options.pointLabels.callback,[r,o],this);return l||0===l?l:""})}fit(){const s=this.options;s.display&&s.pointLabels.display?function Tr(g){const s={l:0,r:g.width,t:0,b:g.height-g.paddingTop},r={},o=[],l=[],p=g.getLabels().length;for(let y=0;y<p;y++){const S=g.options.pointLabels.setContext(g.getPointLabelContext(y));l[y]=S.padding;const I=g.getPointPosition(y,g.drawingArea+l[y]),N=Pr(S.font),J=ir(g.ctx,N,g._pointLabels[y]);o[y]=J;const pe=g.getIndexAngle(y),Fe=vi(pe),Qe=Zn(Fe,I.x,J.w,0,180),Ct=Zn(Fe,I.y,J.h,90,270);Qe.start<s.l&&(s.l=Qe.start,r.l=pe),Qe.end>s.r&&(s.r=Qe.end,r.r=pe),Ct.start<s.t&&(s.t=Ct.start,r.t=pe),Ct.end>s.b&&(s.b=Ct.end,r.b=pe)}g._setReductions(g.drawingArea,s,r),g._pointLabelItems=function go(g,s,r){const o=[],l=g.getLabels().length,p=g.options,y=In(p),S=g.getDistanceFromCenterForValue(p.ticks.reverse?g.min:g.max);for(let I=0;I<l;I++){const J=g.getPointPosition(I,S+(0===I?y/2:0)+r[I]),pe=vi(g.getIndexAngle(I)),Fe=s[I],Qe=Aa(J.y,Fe.h,pe),Ct=Hs(pe),Lt=Ko(J.x,Fe.w,Ct);o.push({x:J.x,y:Qe,textAlign:Ct,left:Lt,top:Qe,right:Lt+Fe.w,bottom:Qe+Fe.h})}return o}(g,o,l)}(this):this.setCenterPoint(0,0,0,0)}_setReductions(s,r,o){let l=r.l/Math.sin(o.l),p=Math.max(r.r-this.width,0)/Math.sin(o.r),y=-r.t/Math.cos(o.t),S=-Math.max(r.b-(this.height-this.paddingTop),0)/Math.cos(o.b);l=us(l),p=us(p),y=us(y),S=us(S),this.drawingArea=Math.max(s/2,Math.min(Math.floor(s-(l+p)/2),Math.floor(s-(y+S)/2))),this.setCenterPoint(l,p,y,S)}setCenterPoint(s,r,o,l){const S=o+this.drawingArea,I=this.height-this.paddingTop-l-this.drawingArea;this.xCenter=Math.floor((s+this.drawingArea+(this.width-r-this.drawingArea))/2+this.left),this.yCenter=Math.floor((S+I)/2+this.top+this.paddingTop)}getIndexAngle(s){return _t(s*(Re/this.getLabels().length)+Ei(this.options.startAngle||0))}getDistanceFromCenterForValue(s){if(Se(s))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*r:(s-this.min)*r}getValueForDistanceFromCenter(s){if(Se(s))return NaN;const r=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(s){const r=this._pointLabels||[];if(s>=0&&s<r.length){const o=r[s];return function Rs(g,s,r){return Bo(g,{label:r,index:s,type:"pointLabel"})}(this.getContext(),s,o)}}getPointPosition(s,r){const o=this.getIndexAngle(s)-wt;return{x:Math.cos(o)*r+this.xCenter,y:Math.sin(o)*r+this.yCenter,angle:o}}getPointPositionForValue(s,r){return this.getPointPosition(s,this.getDistanceFromCenterForValue(r))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:r,top:o,right:l,bottom:p}=this._pointLabelItems[s];return{left:r,top:o,right:l,bottom:p}}drawBackground(){const{backgroundColor:s,grid:{circular:r}}=this.options;if(s){const o=this.ctx;o.save(),o.beginPath(),vs(this,this.getDistanceFromCenterForValue(this._endValue),r,this.getLabels().length),o.closePath(),o.fillStyle=s,o.fill(),o.restore()}}drawGrid(){const s=this.ctx,r=this.options,{angleLines:o,grid:l}=r,p=this.getLabels().length;let y,S,I;if(r.pointLabels.display&&function Ca(g,s){const{ctx:r,options:{pointLabels:o}}=g;for(let l=s-1;l>=0;l--){const p=o.setContext(g.getPointLabelContext(l)),y=Pr(p.font),{x:S,y:I,textAlign:N,left:J,top:pe,right:Fe,bottom:Qe}=g._pointLabelItems[l],{backdropColor:Ct}=p;if(!Se(Ct)){const Lt=Ur(p.backdropPadding);r.fillStyle=Ct,r.fillRect(J-Lt.left,pe-Lt.top,Fe-J+Lt.width,Qe-pe+Lt.height)}Os(r,g._pointLabels[l],S,I+y.lineHeight/2,y,{color:p.color,textAlign:N,textBaseline:"middle"})}}(this,p),l.display&&this.ticks.forEach((N,J)=>{0!==J&&(S=this.getDistanceFromCenterForValue(N.value),function Yr(g,s,r,o){const l=g.ctx,p=s.circular,{color:y,lineWidth:S}=s;!p&&!o||!y||!S||r<0||(l.save(),l.strokeStyle=y,l.lineWidth=S,l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset,l.beginPath(),vs(g,r,p,o),l.closePath(),l.stroke(),l.restore())}(this,l.setContext(this.getContext(J-1)),S,p))}),o.display){for(s.save(),y=this.getLabels().length-1;y>=0;y--){const N=o.setContext(this.getPointLabelContext(y)),{color:J,lineWidth:pe}=N;!pe||!J||(s.lineWidth=pe,s.strokeStyle=J,s.setLineDash(N.borderDash),s.lineDashOffset=N.borderDashOffset,S=this.getDistanceFromCenterForValue(r.ticks.reverse?this.min:this.max),I=this.getPointPosition(y,S),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(I.x,I.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,r=this.options,o=r.ticks;if(!o.display)return;const l=this.getIndexAngle(0);let p,y;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(l),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((S,I)=>{if(0===I&&!r.reverse)return;const N=o.setContext(this.getContext(I)),J=Pr(N.font);if(p=this.getDistanceFromCenterForValue(this.ticks[I].value),N.showLabelBackdrop){s.font=J.string,y=s.measureText(S.label).width,s.fillStyle=N.backdropColor;const pe=Ur(N.backdropPadding);s.fillRect(-y/2-pe.left,-p-J.size/2-pe.top,y+pe.width,J.size+pe.height)}Os(s,S.label,0,-p,J,{color:N.color})}),s.restore()}drawTitle(){}}T.id="radialLinear",T.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Rl.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:g=>g,padding:5}},T.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},T.descriptors={angleLines:{_fallback:"grid"}};const H={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},z=Object.keys(H);function ie(g,s){return g-s}function ge(g,s){if(Se(s))return null;const r=g._adapter,{parser:o,round:l,isoWeekday:p}=g._parseOpts;let y=s;return"function"==typeof o&&(y=o(y)),me(y)||(y="string"==typeof o?r.parse(y,o):r.parse(y)),null===y?null:(l&&(y="week"!==l||!Ke(p)&&!0!==p?r.startOf(y,l):r.startOf(y,"isoWeek",p)),+y)}function We(g,s,r,o){const l=z.length;for(let p=z.indexOf(g);p<l-1;++p){const y=H[z[p]],S=y.steps?y.steps:Number.MAX_SAFE_INTEGER;if(y.common&&Math.ceil((r-s)/(S*y.size))<=o)return z[p]}return z[l-1]}function St(g,s,r){if(r){if(r.length){const{lo:o,hi:l}=ra(r,s);g[r[o]>=s?r[o]:r[l]]=!0}}else g[s]=!0}function ei(g,s,r){const o=[],l={},p=s.length;let y,S;for(y=0;y<p;++y)S=s[y],l[S]=y,o.push({value:S,major:!1});return 0!==p&&r?function xt(g,s,r,o){const l=g._adapter,p=+l.startOf(s[0].value,o),y=s[s.length-1].value;let S,I;for(S=p;S<=y;S=+l.add(S,1,o))I=r[S],I>=0&&(s[I].major=!0);return s}(g,o,l,r):o}let ri=(()=>{class g extends xa{constructor(r){super(r),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(r,o){const l=r.time||(r.time={}),p=this._adapter=new Da._date(r.adapters.date);dt(l.displayFormats,p.formats()),this._parseOpts={parser:l.parser,round:l.round,isoWeekday:l.isoWeekday},super.init(r),this._normalized=o.normalized}parse(r,o){return void 0===r?null:ge(this,r)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const r=this.options,o=this._adapter,l=r.time.unit||"day";let{min:p,max:y,minDefined:S,maxDefined:I}=this.getUserBounds();function N(J){!S&&!isNaN(J.min)&&(p=Math.min(p,J.min)),!I&&!isNaN(J.max)&&(y=Math.max(y,J.max))}(!S||!I)&&(N(this._getLabelBounds()),("ticks"!==r.bounds||"labels"!==r.ticks.source)&&N(this.getMinMax(!1))),p=me(p)&&!isNaN(p)?p:+o.startOf(Date.now(),l),y=me(y)&&!isNaN(y)?y:+o.endOf(Date.now(),l)+1,this.min=Math.min(p,y-1),this.max=Math.max(p+1,y)}_getLabelBounds(){const r=this.getLabelTimestamps();let o=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY;return r.length&&(o=r[0],l=r[r.length-1]),{min:o,max:l}}buildTicks(){const r=this.options,o=r.time,l=r.ticks,p="labels"===l.source?this.getLabelTimestamps():this._generate();"ticks"===r.bounds&&p.length&&(this.min=this._userMin||p[0],this.max=this._userMax||p[p.length-1]);const y=this.min,I=function Vo(g,s,r){let o=0,l=g.length;for(;o<l&&g[o]<s;)o++;for(;l>o&&g[l-1]>r;)l--;return o>0||l<g.length?g.slice(o,l):g}(p,y,this.max);return this._unit=o.unit||(l.autoSkip?We(o.minUnit,this.min,this.max,this._getLabelCapacity(y)):function Xe(g,s,r,o,l){for(let p=z.length-1;p>=z.indexOf(r);p--){const y=z[p];if(H[y].common&&g._adapter.diff(l,o,y)>=s-1)return y}return z[r?z.indexOf(r):0]}(this,I.length,o.minUnit,this.min,this.max)),this._majorUnit=l.major.enabled&&"year"!==this._unit?function ct(g){for(let s=z.indexOf(g)+1,r=z.length;s<r;++s)if(H[z[s]].common)return z[s]}(this._unit):void 0,this.initOffsets(p),r.reverse&&I.reverse(),ei(this,I,this._majorUnit)}initOffsets(r){let p,y,o=0,l=0;this.options.offset&&r.length&&(p=this.getDecimalForValue(r[0]),o=1===r.length?1-p:(this.getDecimalForValue(r[1])-p)/2,y=this.getDecimalForValue(r[r.length-1]),l=1===r.length?y:(y-this.getDecimalForValue(r[r.length-2]))/2);const S=r.length<3?.5:.25;o=_i(o,0,S),l=_i(l,0,S),this._offsets={start:o,end:l,factor:1/(o+1+l)}}_generate(){const r=this._adapter,o=this.min,l=this.max,p=this.options,y=p.time,S=y.unit||We(y.minUnit,o,l,this._getLabelCapacity(o)),I=Ne(y.stepSize,1),N="week"===S&&y.isoWeekday,J=Ke(N)||!0===N,pe={};let Qe,Ct,Fe=o;if(J&&(Fe=+r.startOf(Fe,"isoWeek",N)),Fe=+r.startOf(Fe,J?"day":S),r.diff(l,o,S)>1e5*I)throw new Error(o+" and "+l+" are too far apart with stepSize of "+I+" "+S);const Lt="data"===p.ticks.source&&this.getDataTimestamps();for(Qe=Fe,Ct=0;Qe<l;Qe=+r.add(Qe,I,S),Ct++)St(pe,Qe,Lt);return(Qe===l||"ticks"===p.bounds||1===Ct)&&St(pe,Qe,Lt),Object.keys(pe).sort((Gt,Yt)=>Gt-Yt).map(Gt=>+Gt)}getLabelForValue(r){const l=this.options.time;return this._adapter.format(r,l.tooltipFormat?l.tooltipFormat:l.displayFormats.datetime)}_tickFormatFunction(r,o,l,p){const y=this.options,S=y.time.displayFormats,I=this._unit,N=this._majorUnit,pe=N&&S[N],Fe=l[o],Ct=this._adapter.format(r,p||(N&&pe&&Fe&&Fe.major?pe:I&&S[I])),Lt=y.ticks.callback;return Lt?de(Lt,[Ct,o,l],this):Ct}generateTickLabels(r){let o,l,p;for(o=0,l=r.length;o<l;++o)p=r[o],p.label=this._tickFormatFunction(p.value,o,r)}getDecimalForValue(r){return null===r?NaN:(r-this.min)/(this.max-this.min)}getPixelForValue(r){const o=this._offsets,l=this.getDecimalForValue(r);return this.getPixelForDecimal((o.start+l)*o.factor)}getValueForPixel(r){const o=this._offsets,l=this.getDecimalForPixel(r)/o.factor-o.end;return this.min+l*(this.max-this.min)}_getLabelSize(r){const o=this.options.ticks,l=this.ctx.measureText(r).width,p=Ei(this.isHorizontal()?o.maxRotation:o.minRotation),y=Math.cos(p),S=Math.sin(p),I=this._resolveTickFontOptions(0).size;return{w:l*y+I*S,h:l*S+I*y}}_getLabelCapacity(r){const o=this.options.time,l=o.displayFormats,p=l[o.unit]||l.millisecond,y=this._tickFormatFunction(r,0,ei(this,[r],this._majorUnit),p),S=this._getLabelSize(y),I=Math.floor(this.isHorizontal()?this.width/S.w:this.height/S.h)-1;return I>0?I:1}getDataTimestamps(){let o,l,r=this._cache.data||[];if(r.length)return r;const p=this.getMatchingVisibleMetas();if(this._normalized&&p.length)return this._cache.data=p[0].controller.getAllParsedValues(this);for(o=0,l=p.length;o<l;++o)r=r.concat(p[o].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const r=this._cache.labels||[];let o,l;if(r.length)return r;const p=this.getLabels();for(o=0,l=p.length;o<l;++o)r.push(ge(this,p[o]));return this._cache.labels=this._normalized?r:this.normalize(r)}normalize(r){return ks(r.sort(ie))}}return g.id="time",g.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},g})();function hi(g,s,r){let p,y,S,I,o=0,l=g.length-1;r?(s>=g[o].pos&&s<=g[l].pos&&({lo:o,hi:l}=Ho(g,"pos",s)),({pos:p,time:S}=g[o]),({pos:y,time:I}=g[l])):(s>=g[o].time&&s<=g[l].time&&({lo:o,hi:l}=Ho(g,"time",s)),({time:p,pos:S}=g[o]),({time:y,pos:I}=g[l]));const N=y-p;return N?S+(I-S)*(s-p)/N:S}class Si extends ri{constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(s);this._minPos=hi(r,this.min),this._tableRange=hi(r,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:r,max:o}=this,l=[],p=[];let y,S,I,N,J;for(y=0,S=s.length;y<S;++y)N=s[y],N>=r&&N<=o&&l.push(N);if(l.length<2)return[{time:r,pos:0},{time:o,pos:1}];for(y=0,S=l.length;y<S;++y)J=l[y+1],I=l[y-1],N=l[y],Math.round((J+I)/2)!==N&&p.push({time:N,pos:y/(S-1)});return p}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const r=this.getDataTimestamps(),o=this.getLabelTimestamps();return s=r.length&&o.length?this.normalize(r.concat(o)):r.length?r:o,s=this._cache.all=s,s}getDecimalForValue(s){return(hi(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const r=this._offsets,o=this.getDecimalForPixel(s)/r.factor-r.end;return hi(this._table,o*this._tableRange+this._minPos,!0)}}Si.id="timeseries",Si.defaults=ri.defaults,Dt.register(Bs,$u,Be,Object.freeze({__proto__:null,CategoryScale:fi,LinearScale:cn,LogarithmicScale:pn,RadialLinearScale:T,TimeScale:ri,TimeSeriesScale:Si}));const un=Dt;var On=f(54968),rn=f(70262),Er=f(93075),Cr=f(68675),is=f(54004),Ao=f(39841),nt=f(5e3),ea=f(48966),As=f(36170),ds=f(53251),Is=f(67322),Xr=f(77531),ys=f(91079),Vs=f(69808),sc=f(47423),yc=f(63874),Zu=f(90508);function Xd(g,s){if(1&g&&(nt.TgZ(0,"mat-option",14),nt._uU(1),nt.qZA()),2&g){const r=s.$implicit;nt.Q6J("value",r),nt.xp6(1),nt.hij(" ",r," ")}}function sh(g,s){if(1&g&&(nt.TgZ(0,"mat-option",14),nt._uU(1),nt.qZA()),2&g){const r=s.$implicit;nt.Q6J("value",r),nt.xp6(1),nt.hij(" ",r," ")}}function Ql(g,s){if(1&g){const r=nt.EpF();nt.TgZ(0,"tr"),nt.TgZ(1,"td"),nt._uU(2),nt.qZA(),nt.TgZ(3,"td"),nt.TgZ(4,"button",15),nt.NdJ("click",function(){const p=nt.CHM(r).$implicit;return nt.oxw().chooseDemo(p)}),nt._uU(5),nt.qZA(),nt.qZA(),nt.TgZ(6,"td"),nt.TgZ(7,"b"),nt._uU(8),nt.qZA(),nt._uU(9),nt.qZA(),nt.qZA()}if(2&g){const r=s.$implicit,o=s.index;let l,p;nt.xp6(2),nt.hij(" ",o+1," "),nt.xp6(3),nt.hij(" ",r.description," "),nt.xp6(3),nt.Oqu(null==r.categories||null==(l=r.categories.split(";"))?null:l.join(", ")),nt.xp6(1),nt.hij(" ",null==r.blocks||null==(p=r.blocks.split(";"))?null:p.join(", ")," ")}}function ah(g,s){if(1&g){const r=nt.EpF();nt.TgZ(0,"button",15),nt.NdJ("click",function(){return nt.CHM(r),nt.oxw().Verify()}),nt.TgZ(1,"mat-icon"),nt._uU(2,"save"),nt.qZA(),nt._uU(3," Verify LocalAPI "),nt.qZA()}}function Dh(g,s){if(1&g){const r=nt.EpF();nt.TgZ(0,"tr"),nt.TgZ(1,"td"),nt._uU(2),nt.qZA(),nt.TgZ(3,"td"),nt.TgZ(4,"button",15),nt.NdJ("click",function(){const p=nt.CHM(r).$implicit;return nt.oxw().chooseDemo(p)}),nt._uU(5),nt.qZA(),nt.qZA(),nt.TgZ(6,"td"),nt.TgZ(7,"b"),nt._uU(8),nt.qZA(),nt._uU(9),nt.qZA(),nt.qZA()}if(2&g){const r=s.$implicit,o=s.index;let l,p;nt.xp6(2),nt.hij(" ",o+1," "),nt.xp6(3),nt.hij(" ",r.description||r.id," "),nt.xp6(3),nt.Oqu(null==r.categories||null==(l=r.categories.split(";"))?null:l.join(", ")),nt.xp6(1),nt.hij(" ",null==r.blocks||null==(p=r.blocks.split(";"))?null:p.join(", ")," ")}}let Cl=(()=>{class g{constructor(r,o){this.dialogRef=r,this.DetailsApp=o,this.BlocksLocal=[],this.demos=[],this.demosCategories=new Map,this.demosBlocks=new Map,this.demosArray=null,this.myBlocks=new Er.NI,this.optionsBlocks=[],this.filteredOptionsBlocks=null,this.myCategories=new Er.NI,this.mySearchText=new Er.NI,this.optionsCategories=[],this.filteredOptionsCategories=null,this.InitiateDemos(),this.loadFromLocalAPI()}loadFromLocalAPI(){var r,o;(null===(r=this.DetailsApp.LocalAPI)||void 0===r?void 0:r.WasAlive)&&(null===(o=this.DetailsApp.LocalAPI)||void 0===o||o.LoadBlocks().subscribe(l=>{this.BlocksLocal=l}))}Verify(){var r;null===(r=this.DetailsApp.LocalAPI)||void 0===r||r.IsAlive().subscribe(o=>{o&&this.loadFromLocalAPI()})}InitiateDemos(){var r=this.DetailsApp.demoBlocks;this.demos=r.sort((o,l)=>o.description.localeCompare(l.description)),this.optionsCategories=[...new Set(r.map(o=>o.categories).filter(o=>(null==o?void 0:o.length)>0).flatMap(o=>o.split(";")).filter(o=>(null==o?void 0:o.length)>0).sort((o,l)=>o.toLocaleLowerCase().localeCompare(l.toLocaleLowerCase())))],this.optionsBlocks=[...new Set(r.map(o=>o.blocks).filter(o=>(null==o?void 0:o.length)>0).flatMap(o=>o.split(";")).filter(o=>(null==o?void 0:o.length)>0).sort((o,l)=>o.toLowerCase().localeCompare(l.toLowerCase())))],this.filteredOptionsBlocks=this.myBlocks.valueChanges.pipe((0,Cr.O)(""),(0,is.U)(o=>{var l=(o||"").trim();return this._filter(l,this.optionsBlocks)})),this.filteredOptionsCategories=this.myCategories.valueChanges.pipe((0,Cr.O)(""),(0,is.U)(o=>{var l=(o||"").trim();return this._filter(l,this.optionsCategories)})),this.demosArray=(0,Ao.a)([this.myBlocks.valueChanges.pipe((0,Cr.O)("")),this.myCategories.valueChanges.pipe((0,Cr.O)("")),this.mySearchText.valueChanges.pipe((0,Cr.O)(""))]).pipe((0,Cr.O)(this.demos),(0,is.U)(([o,l,p])=>((Array.isArray(o)||"object"==typeof o)&&(o=""),(Array.isArray(l)||"object"==typeof l)&&(l=""),(Array.isArray(p)||"object"==typeof p)&&(p=""),o=(o||"").trim().toLowerCase(),l=(l||"").trim().toLowerCase(),p=(null==p?void 0:p.trim().toLowerCase())||"",this.demos.filter(S=>{var I,N,J,pe,Fe,Qe;return(0==o.length||(null===(I=S.blocks)||void 0===I?void 0:I.toLowerCase().indexOf(o))>-1)&&(0==l.length||(null===(N=S.categories)||void 0===N?void 0:N.toLowerCase().indexOf(l))>-1)&&(0==p.length||(null===(J=S.description)||void 0===J?void 0:J.toLowerCase().indexOf(p))>-1||(null===(pe=S.blocks)||void 0===pe?void 0:pe.toLowerCase().indexOf(p))>-1||(null===(Fe=S.categories)||void 0===Fe?void 0:Fe.toLowerCase().indexOf(p))>-1||(null===(Qe=S.id)||void 0===Qe?void 0:Qe.toLowerCase().indexOf(p))>-1)}))))}ngOnInit(){}_filter(r,o){const l=r.toLowerCase();return 0==l.length?o:o.filter(p=>p.toLowerCase().includes(l))}chooseDemo(r){return this.dialogRef.close(r)}Close(){this.dialogRef.close()}}return g.\u0275fac=function(r){return new(r||g)(nt.Y36(ea.so),nt.Y36(As.d))},g.\u0275cmp=nt.Xpm({type:g,selectors:[["app-find-saved-blocks"]],decls:52,vars:16,consts:[["label","Demos"],[1,"example-form"],["appearance","fill",1,"example-full-width"],["type","text","placeholder","Pick one","aria-label","Categories","matInput","",3,"formControl","matAutocomplete"],["autoCategories","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Pick one","aria-label","Blocks","matInput","",3,"formControl","matAutocomplete"],["autoBlocks","matAutocomplete"],["type","text","placeholder","enter text to search","matInput","",3,"formControl"],[4,"ngFor","ngForOf"],["label","Saved on local"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["label","CLOUD","disabled","disabled"],["mat-raised-button","","id","blocks","color","accent",3,"click"],[3,"value"],["mat-raised-button","","color","primary",3,"click"]],template:function(r,o){if(1&r&&(nt.TgZ(0,"mat-tab-group"),nt.TgZ(1,"mat-tab",0),nt.TgZ(2,"form",1),nt.TgZ(3,"mat-form-field",2),nt.TgZ(4,"mat-label"),nt._uU(5,"Categories"),nt.qZA(),nt._UZ(6,"input",3),nt.TgZ(7,"mat-autocomplete",null,4),nt.YNc(9,Xd,2,2,"mat-option",5),nt.ALo(10,"async"),nt.qZA(),nt.qZA(),nt.TgZ(11,"mat-form-field",2),nt.TgZ(12,"mat-label"),nt._uU(13,"Blocks"),nt.qZA(),nt._UZ(14,"input",6),nt.TgZ(15,"mat-autocomplete",null,7),nt.YNc(17,sh,2,2,"mat-option",5),nt.ALo(18,"async"),nt.qZA(),nt.qZA(),nt.TgZ(19,"mat-form-field",2),nt.TgZ(20,"mat-label"),nt._uU(21,"Search"),nt.qZA(),nt._UZ(22,"input",8),nt.qZA(),nt.qZA(),nt.TgZ(23,"table"),nt.TgZ(24,"thead"),nt.TgZ(25,"tr"),nt.TgZ(26,"th"),nt._uU(27,"Number"),nt.qZA(),nt.TgZ(28,"th"),nt._uU(29,"Name"),nt.qZA(),nt.TgZ(30,"th"),nt._uU(31,"Details"),nt.qZA(),nt.qZA(),nt.qZA(),nt.YNc(32,Ql,10,4,"tr",9),nt.ALo(33,"async"),nt.qZA(),nt.qZA(),nt.TgZ(34,"mat-tab",10),nt.YNc(35,ah,4,0,"button",11),nt.TgZ(36,"table"),nt.TgZ(37,"thead"),nt.TgZ(38,"tr"),nt.TgZ(39,"th"),nt._uU(40,"Number"),nt.qZA(),nt.TgZ(41,"th"),nt._uU(42,"Name"),nt.qZA(),nt.TgZ(43,"th"),nt._uU(44,"Details"),nt.qZA(),nt.qZA(),nt.qZA(),nt.YNc(45,Dh,10,4,"tr",9),nt.qZA(),nt.qZA(),nt.TgZ(46,"mat-tab",12),nt._uU(47," Saved on Cloud "),nt.qZA(),nt.qZA(),nt.TgZ(48,"button",13),nt.NdJ("click",function(){return o.Close()}),nt.TgZ(49,"mat-icon"),nt._uU(50,"close"),nt.qZA(),nt._uU(51," Close\n"),nt.qZA()),2&r){const l=nt.MAs(8),p=nt.MAs(16);nt.xp6(6),nt.Q6J("formControl",o.myCategories)("matAutocomplete",l),nt.xp6(3),nt.Q6J("ngForOf",nt.lcZ(10,10,o.filteredOptionsCategories)),nt.xp6(5),nt.Q6J("formControl",o.myBlocks)("matAutocomplete",p),nt.xp6(3),nt.Q6J("ngForOf",nt.lcZ(18,12,o.filteredOptionsBlocks)),nt.xp6(5),nt.Q6J("formControl",o.mySearchText),nt.xp6(10),nt.Q6J("ngForOf",nt.lcZ(33,14,o.demosArray)),nt.xp6(3),nt.Q6J("ngIf",!(null!=o.DetailsApp.LocalAPI&&o.DetailsApp.LocalAPI.WasAlive)),nt.xp6(10),nt.Q6J("ngForOf",o.BlocksLocal)}},directives:[ds.SP,ds.uX,Er._Y,Er.JL,Er.F,Is.KE,Is.hX,Xr.Nt,Er.Fj,ys.ZL,Er.JJ,Er.oH,ys.XC,Vs.sg,Vs.O5,sc.lW,yc.Hw,Zu.ey],pipes:[Vs.Ov],styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{border:1px solid}table[_ngcontent-%COMP%]{width:100%;height:480px;margin:0 auto;display:block;overflow-x:auto;border-spacing:0}tbody[_ngcontent-%COMP%]{white-space:nowrap}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:5px 10px;border-top-width:0;border-left-width:0}th[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;vertical-align:bottom}th[_ngcontent-%COMP%]:last-child, td[_ngcontent-%COMP%]:last-child{border-right-width:0}tr[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom-width:0}"]}),g})();class lh{constructor(){}definitionBlocks(s,r){s.headersbeforehttp={init:function(){this.appendDummyInput().appendField("Add Headers"),this.appendValueInput("HttpDomain").setCheck("String").appendField("Domain"),this.appendValueInput("HeaderName").setCheck("String").appendField("Header Name"),this.appendValueInput("HeaderValue").setCheck("String").appendField("Header Value"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip("at domain put (localSite) or *")}},r.headersbeforehttp=function(p){var y=r.valueToCode(p,"HttpDomain",0)||"(localSite)",N="\n";return N+="{\n",N+="if(!("+y+" in headersForDomain))\n",N+="{\n",N+="headersForDomain["+y+"]=[];\n",N+="};\n",N+="var arr = headersForDomain["+y+"];\n",N+="arr.push({name:"+r.valueToCode(p,"HeaderName",0)+", value:"+r.valueToCode(p,"HeaderValue",0)+"});\n",N+='//alert("a" + JSON.stringify(arr)+"a");\n',(N+='//alert("a" + JSON.stringify(headersForDomain['+y+'])+"a");\n')+"};\n"},s.httprequest={init:function(){this.appendDummyInput().appendField(new t.FieldDropdown([["JSON","JSON"],["Text","Text"]]),"TypeOutput").appendField("HttpRequest"),this.appendValueInput("TheUrl").setCheck(null).appendField(new t.FieldDropdown([["GET","GET"],["POST","POST"],["PUT","PUT"],["DELETE","DELETE"]]),"TypeRequest").appendField("URL"),this.appendValueInput("Data").setCheck(null).appendField("Data"),this.setOutput(!0,null)}},r.httprequest=function(p){var y=p.getFieldValue("TypeOutput"),S=p.getFieldValue("TypeRequest"),I=r.valueToCode(p,"TheUrl",0),N=r.valueToCode(p,"Data",0),J="";switch(S.toString()){case"GET":J="(function(url){ var res=JSON.parse(getXhr(url)); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+I+") )";break;case"POST":J="(function(url,data){ var res=JSON.parse(postXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+I,N&&(J+=","+N),J+=") )";break;case"DELETE":J="(function(url,data){ var res=JSON.parse(deleteXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+I,N&&(J+=","+N),J+=") )";break;case"PUT":J="(function(url,data){ var res=JSON.parse(putXhr(url,JSON.stringify(data))); if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;}("+I,N&&(J+=","+N),J+=") )";break;default:alert("Do not understand : "+S.toString())}var pe=J;return"JSON"===y&&(pe="JSON.parse("+pe+")"),[pe,99]}}fieldXML(){return'\n    \n    <block type="headersbeforehttp">\n    <value name="HttpDomain">\n        <shadow type="text">\n            <field name="TEXT">(localSite)</field>\n        </shadow>\n    </value>\n    <value name="HeaderName">\n        <shadow type="text">\n            <field name="TEXT">Authorization</field>\n        </shadow>\n    </value>\n    <value name="HeaderValue">\n        <shadow type="text_join">\n\n        </shadow>\n    </value>\n</block>\n<block type="text_print">\n<value name="TEXT">\n\n    <block type="httprequest">\n    <value name="TheUrl">\n        <shadow type="text">\n            <field name="TEXT">https://httpbin.org/get</field>\n        </shadow>\n    </value>\n</block>\n</value>\n</block>  \n  }\n}\n'}}class tp{fieldXML(){return'\n    \n    <category name="Blockly Core">\n\n    <category id="catLogic" colour="210" name="Logic">\n        <block type="controls_if"></block>\n        <block type="logic_compare"></block>\n        <block type="logic_operation"></block>\n        <block type="logic_negate"></block>\n        <block type="logic_boolean"></block>\n        <block type="logic_null"></block>\n        <block type="logic_ternary"></block>\n    </category>\n    <category id="catLoops" colour="120" name="Loops">\n        <block type="controls_repeat_ext">\n            <value name="TIMES">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="controls_whileUntil"></block>\n        <block type="controls_for">\n            <value name="FROM">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="TO">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n            <value name="BY">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="controls_forEach"></block>\n        <block type="controls_flow_statements"></block>\n    </category>\n    <category id="catMath" colour="230" name="Math">\n        <block type="math_number"></block>\n        <block type="math_arithmetic">\n            <value name="A">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="B">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_single">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">9</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_trig">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">45</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_constant"></block>\n        <block type="math_number_property">\n            <value name="NUMBER_TO_CHECK">\n                <shadow type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_change">\n            <value name="DELTA">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_round">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">3.1</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_on_list"></block>\n        <block type="math_modulo">\n            <value name="DIVIDEND">\n                <shadow type="math_number">\n                    <field name="NUM">64</field>\n                </shadow>\n            </value>\n            <value name="DIVISOR">\n                <shadow type="math_number">\n                    <field name="NUM">10</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_constrain">\n            <value name="VALUE">\n                <shadow type="math_number">\n                    <field name="NUM">50</field>\n                </shadow>\n            </value>\n            <value name="LOW">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="HIGH">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_random_int">\n            <value name="FROM">\n                <shadow type="math_number">\n                    <field name="NUM">1</field>\n                </shadow>\n            </value>\n            <value name="TO">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="math_random_float"></block>\n    </category>\n    <category id="catText" colour="160" name="Text">\n        <block type="text"></block>\n        <block type="text_join"></block>\n        <block type="text_append">\n            <value name="TEXT">\n                <shadow type="text"></shadow>\n            </value>\n        </block>\n        <block type="text_length">\n            <value name="VALUE">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_isEmpty">\n            <value name="VALUE">\n                <shadow type="text">\n                    <field name="TEXT"></field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_indexOf">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n            <value name="FIND">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_charAt">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n        </block>\n        <block type="text_getSubstring">\n            <value name="STRING">\n                <block type="variables_get">\n                    <field name="VAR">text</field>\n                </block>\n            </value>\n        </block>\n        <block type="text_changeCase">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_trim">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_print">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="text_prompt_ext">\n            <value name="TEXT">\n                <shadow type="text">\n                    <field name="TEXT">abc</field>\n                </shadow>\n            </value>\n        </block>\n    </category>\n    <category id="catLists" colour="260" name="Lists">\n        <block type="lists_create_with">\n            <mutation items="0"></mutation>\n        </block>\n        <block type="lists_create_with"></block>\n        <block type="lists_repeat">\n            <value name="NUM">\n                <shadow type="math_number">\n                    <field name="NUM">5</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="lists_length"></block>\n        <block type="lists_isEmpty"></block>\n        <block type="lists_indexOf">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_getIndex">\n            <value name="VALUE">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_setIndex">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_getSublist">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n        </block>\n        <block type="lists_split">\n            <value name="DELIM">\n                <shadow type="text">\n                    <field name="TEXT">,</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="lists_sort"></block>\n    </category>\n    <category id="catColour" colour="20" name="Color">\n        <block type="colour_picker"></block>\n        <block type="colour_random"></block>\n        <block type="colour_rgb">\n            <value name="RED">\n                <shadow type="math_number">\n                    <field name="NUM">100</field>\n                </shadow>\n            </value>\n            <value name="GREEN">\n                <shadow type="math_number">\n                    <field name="NUM">50</field>\n                </shadow>\n            </value>\n            <value name="BLUE">\n                <shadow type="math_number">\n                    <field name="NUM">0</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="colour_blend">\n            <value name="COLOUR1">\n                <shadow type="colour_picker">\n                    <field name="COLOUR">#ff0000</field>\n                </shadow>\n            </value>\n            <value name="COLOUR2">\n                <shadow type="colour_picker">\n                    <field name="COLOUR">#3333ff</field>\n                </shadow>\n            </value>\n            <value name="RATIO">\n                <shadow type="math_number">\n                    <field name="NUM">0.5</field>\n                </shadow>\n            </value>\n        </block>\n    </category>\n    <category id="catVariables" colour="330" custom="VARIABLE" name="Variables"></category>\n    <category id="catFunctions" colour="290" custom="PROCEDURE" name="Functions"></category>\n</category>\n\n      '}}class Kd{definitionBlocks(s,r){s.trycatchfinally={init:function(){this.appendStatementInput("TRY").appendField("try"),this.appendStatementInput("CATCH").appendField("catch"),this.appendStatementInput("FINALLY").appendField("finally"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},r.trycatchfinally=function(p){var N="try {\n"+r.statementToCode(p,"TRY")+"}\n";return(N+="catch(err){\n "+r.statementToCode(p,"CATCH")+"\n}")+"finally{\n "+r.statementToCode(p,"FINALLY")+"\n}\n"}}fieldXML(){return'\n    \n    <block type="trycatchfinally">\n    \n</block>\n'}}class kd{definitionBlocks(s,r){s.ttsBlock={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("Voice").appendField(new t.FieldDropdown(this.generateOptions),"voiceSelected"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")},generateOptions:function(){if(window.speechSynthesis){var l=window.speechSynthesis.getVoices().map((p,y)=>[p.name,"voice"+y]);if(l.length>0)return l}return[["no voice","NoVoice"]]}},r.ttsBlock=function(o){var l=o.getFieldValue("voiceSelected");return"NoVoice"==(l=l.replace("voice",""))&&(l="-1"),"speakDefault("+r.valueToCode(o,"NAME",r.ORDER_ATOMIC)+","+l+");\n"}}fieldXML(){return'<block type="ttsBlock">\n        <value name="NAME">\n            <shadow type="text">\n            <field name="TEXT">Hello</field></shadow>\n        </value>       \n        </block>\n'}}class $d{definitionBlocks(s,r){s.pianoBlock={init:function(){this.appendValueInput("Note").setCheck("String").appendField("Note(A-G)"),this.appendValueInput("Sharp").setCheck("Boolean").appendField("#"),this.appendValueInput("Octave").setCheck("Number").appendField("Octave"),this.appendValueInput("Duration").setCheck("Number").appendField("Duration"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("https://github.com/keithwhor/audiosynth")}},r.pianoBlock=function(o){var l=r.valueToCode(o,"Note",r.ORDER_ATOMIC),I="";return"true"==(r.valueToCode(o,"Sharp",r.ORDER_ATOMIC)||!1)&&(I="#"),"playPiano("+l+I+","+r.valueToCode(o,"Octave",r.ORDER_ATOMIC)+","+(r.valueToCode(o,"Duration",r.ORDER_ATOMIC)||2)+");\n"},s.cmajor={init:function(){this.appendDummyInput().appendField("CMajor "),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.cmajor=function(o){return['["C","D","E","F","G","A","B"]',r.ORDER_NONE]}}fieldXML(){return'<block type="pianoBlock">\n        <value name="Note">\n            <shadow type="text">\n            <field name="TEXT">C</field></shadow>\n        </value>       \n        <value name="Octave">\n            <shadow type="math_number">\n            <field name="NUM">4</field></shadow>\n        </value>       \n        <value name="Sharp">\n            <shadow type="logic_boolean">\n            <field name="BOOL">FALSE</field></shadow>\n        </value>       \n        \n        <value name="Duration">\n            <shadow type="math_number">\n            <field name="NUM">2</field></shadow>\n        </value>       \n        </block>\n        <block type="cmajor"></block>\n\n'}}class Jd{constructor(){this.definitionBlocks=function(s,r){s.concatList={init:function(){this.appendDummyInput().appendField("concatArray"),this.appendValueInput("LIST1").setCheck("Array"),this.appendValueInput("LIST2").setCheck("Array"),this.setInputsInline(!1),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.concatList=function(o){var y="";return y+="(function(a1,a2){ return [].concat(a1).concat(a2);})("+(r.valueToCode(o,"LIST1",r.ORDER_MEMBER)||"[]")+","+(r.valueToCode(o,"LIST2",r.ORDER_MEMBER)||"[]")+")",[y+="",r.ORDER_FUNCTION_CALL]},s.filterList={init:function(){this.appendDummyInput().appendField("filterList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("Logic").setCheck("String").appendField("item=>"),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.filterList=function(o){var l=r.valueToCode(o,"LIST",r.ORDER_MEMBER)||"[]",p=r.valueToCode(o,"Logic",r.ORDER_ATOMIC);"string"==typeof p&&(p=p.substr(1,p.length-2));var y="";return y+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+l+")).filter(function (item){ return "+p+";})",[y+="",r.ORDER_FUNCTION_CALL]},s.mapList={init:function(){this.appendDummyInput().appendField("mapList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("Logic").setCheck("String").appendField("item=>"),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.mapList=function(o){var l=r.valueToCode(o,"LIST",r.ORDER_MEMBER)||"[]",p=r.valueToCode(o,"Logic",r.ORDER_ATOMIC);"string"==typeof p&&(p=p.substr(1,p.length-2));var y="";return y+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+l+")).map(function (item){ return "+p+";})",[y+="",r.ORDER_FUNCTION_CALL]},s.reduceList={init:function(){this.appendDummyInput().appendField("reduceList"),this.appendValueInput("LIST").setCheck("Array"),this.appendValueInput("initValue").setCheck(null).appendField("initialValue"),this.appendValueInput("Logic").setCheck("String").appendField("callback(acc,curVal,index, array)=>"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.reduceList=function(o){var l=r.valueToCode(o,"LIST",r.ORDER_MEMBER)||"[]",p="";try{p=r.valueToCode(o,"initValue",r.ORDER_ATOMIC)}catch(I){window.alert(I)}var y=r.valueToCode(o,"Logic",r.ORDER_ATOMIC);"string"==typeof y&&(y=y.substr(1,y.length-2));var S="";return S+='(function(t){ if (typeof t === "string") return JSON.parse(t);  return t;}('+l+")).reduce(function (acc,curVal,index,array){ "+y+";}",p&&p.toString().length>0&&(S+=","+p),S+=")",[S+="",r.ORDER_FUNCTION_CALL]}}}fieldXML(){return'\n        <category id="catA" name="Array">\n            <block type="filterList">\n                <value name="LIST">\n                    <block type="variables_get">\n                        <field name="VAR">list</field>\n                    </block>\n                </value>\n                <value name="initValue">\n                    <shadow type="text">\n                        <field name="TEXT"> </field>\n                    </shadow>\n                </value>\n                <value name="Logic">\n                    <shadow type="text">\n                        <field name="TEXT">item.property == "value"</field>\n                    </shadow>\n                </value>\n            </block>\n            <block type="concatList"></block>\n            <block type="mapList">\n            <value name="LIST">\n                <block type="variables_get">\n                    <field name="VAR">list</field>\n                </block>\n            </value>\n            <value name="Logic">\n                <shadow type="text">\n                    <field name="TEXT">item.property</field>\n                </shadow>\n            </value>\n        </block>\n        <block type="reduceList">\n        <value name="LIST">\n        <block type="variables_get">\n                <field name="VAR">list</field>\n            </block>\n            </value>\n            <value name="Logic">\n                <shadow type="text">\n                    <field name="TEXT">...</field>\n                </shadow>\n            </value>\n        </block>\n        </category>\n\n'}}class Wp{definitionBlocks(s,r){s.auth0webapidata={init:function(){this.appendDummyInput().appendField("Auth0"),this.appendValueInput("client_id").setCheck(null).appendField("client_id"),this.appendValueInput("client_secret").setCheck(null).appendField("client_secret"),this.appendValueInput("audience").setCheck(null).appendField("audience"),this.appendValueInput("grant_type").setCheck(null).appendField("grant_type"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.auth0webapidata=function(p){var J='{"client_id":'+r.valueToCode(p,"client_id",0);return J+=',"client_secret":'+r.valueToCode(p,"client_secret",0),J+=',"audience":'+r.valueToCode(p,"audience",0),J+=',"grant_type":'+r.valueToCode(p,"grant_type",0),[J+="}",99]}}fieldXML(){return'<category id="Auth0" name="Auth0">\n    <block type="auth0webapidata">\n        <value name="client_id">\n            <shadow type="text">\n                <field name="TEXT">client_id?</field>\n            </shadow>\n\n        </value>\n        <value name="client_secret">\n            <shadow type="text">\n                <field name="TEXT">client_secret?</field>\n            </shadow>\n\n        </value>\n        <value name="audience">\n            <shadow type="text">\n                <field name="TEXT">audience</field>\n            </shadow>\n\n        </value>\n        <value name="grant_type">\n            <shadow type="text">\n                <field name="TEXT">grant_type?</field>\n            </shadow>\n\n        </value>\n    </block>\n</category>\n'}}class Hr{definitionBlocks(s,r){s.converttojson={init:function(){this.appendDummyInput().appendField("ConvertToJSON"),this.appendValueInput("ValueToConvert").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,null),this.setTooltip("Convert to JSON"),this.setHelpUrl("")}},r.converttojson=function(p){return["JSON.parse("+r.valueToCode(p,"ValueToConvert",0)+")",99]},s.converttostring={init:function(){this.appendDummyInput().appendField("ConvertToString"),this.appendValueInput("ValueToConvert").setCheck(null),this.setInputsInline(!0),this.setOutput(!0,null),this.setTooltip("Convert to String"),this.setHelpUrl("")}},r.converttostring=function(p){return["JSON.stringify("+r.valueToCode(p,"ValueToConvert",0)+")",99]},s.convertcsv={init:function(){this.appendDummyInput().appendField("Convert To CSV"),this.appendValueInput("ArrayToConvert").setCheck(null).appendField("Array to convert"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("")}},r.convertcsv=function(p){return["convertToCSV("+r.valueToCode(p,"ArrayToConvert",r.ORDER_ATOMIC)+")",99]},s.convertToTable={init:function(){this.appendDummyInput().appendField("Convert To Table"),this.appendValueInput("ArrayToConvert").setCheck(null).appendField("Array to convert"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("")}},r.convertToTable=function(p){return["convertArrToTable("+r.valueToCode(p,"ArrayToConvert",r.ORDER_ATOMIC)+")",99]}}fieldXML(){return'<block type="converttojson"></block>\n <block type="converttostring"></block>\n <block type="convertcsv"></block>\n <block type="convertToTable"></block>\n\n'}}class Ld{definitionBlocks(s,r){s.displayCurrentDate={init:function(){this.appendDummyInput().appendField("Current Date"),this.appendDummyInput().appendField("Pick date format:").appendField(new t.FieldDropdown([["Unix format","unix"],["ISO format","iso"],["Human format","human"]]),"dateFormat"),this.setOutput(!0,null),this.setColour(100),this.setTooltip("Show current date."),this.setHelpUrl("https://www.w3schools.com/jsref/jsref_obj_date.asp")}};r.displayCurrentDate=p=>{let S="";switch(p.getFieldValue("dateFormat").toString()){case"human":S="displayDateFormatted('human')";break;case"iso":S="displayDateFormatted('iso')";break;case"unix":S="displayDateFormatted('unix')";break;default:console.log("Date time format not suported")}return[S,99]}}fieldXML(){return'<block type="displayCurrentDate"></block>'}}class Pd{definitionBlocks(s,r){s.DateFromText={init:function(){this.appendValueInput("VALUE").appendField("Date from "),this.setOutput(!0,null),this.setHelpUrl("https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse#Date_Time_String_Format")}},r.DateFromText=l=>["Date.parse("+(r.valueToCode(l,"VALUE",r.ORDER_ATOMIC)||"")+")",99]}fieldXML(){return'<block type="DateFromText">\n    <value name="VALUE">\n        <shadow type="text">\n            <field name="TEXT">1970-04-16T02:00:00</field>\n        </shadow>\n    </value>\n</block>\n'}}class ch{definitionBlocks(s,r){s.blockemail={init:function(){this.appendValueInput("from").setCheck(null).appendField("From:"),this.appendValueInput("to").setCheck(null).appendField("To:"),this.appendValueInput("cc").setCheck(null).appendField("CC:"),this.appendValueInput("bcc").setCheck(null).appendField("BCC:"),this.appendValueInput("subject").setCheck(null).appendField("Subject:"),this.appendValueInput("body").setCheck(null).appendField("Body:").appendField(new t.FieldDropdown([["HTML","Html"],["TEXT","Text"]]),"NAME"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},s.sendinblue={init:function(){this.appendDummyInput().appendField("SendInBlue"),this.appendValueInput("APIKey").setCheck(null).appendField("ApiKey"),this.appendValueInput("email").setCheck("blockemail").appendField("Email"),this.setColour(230),this.setTooltip("Please see https://account.sendinblue.com/advanced/api"),this.setHelpUrl("https://account.sendinblue.com/advanced/api"),this.setOutput(!0,null)}},r.sendinblue=function(l){var S='window.alert("SendInBlue");\n',I="api.sendinblue.com";return S=`(function(apiKey,email){if(!('${I}' in headersForDomain)){ headersForDomain['${I}']=[]; };\n`,S+=`headersForDomain['${I}'].push({"name":"api-key","value":apiKey});\n`,S+=`headersForDomain['${I}'].push({"name":"Content-Type","value":"application/json"});\n`,S+=`headersForDomain['${I}'].push({"name":"Accept","value":"application/json"});\n`,S+='var sendinblueData={"sender":{"email": email.from }, "to":[{"email":email.to }],"subject":email.subject,"htmlContent": email.body} ;\n',S+="\nwindow.alert(JSON.stringify(sendinblueData));\n",S+=`var res=JSON.parse(postXhr("https://${I}/v3/smtp/email",JSON.stringify(sendinblueData)));if(res.statusOK) return res.text;errHandler(JSON.stringify(res)); throw res;\n`,[S+="})("+r.valueToCode(l,"APIKey",r.ORDER_ATOMIC)+","+r.valueToCode(l,"email",r.ORDER_ATOMIC)+")",r.ORDER_NONE]},r.blockemail=function(l){var p=r.valueToCode(l,"from",r.ORDER_ATOMIC),y=r.valueToCode(l,"to",r.ORDER_ATOMIC),S=r.valueToCode(l,"cc",r.ORDER_ATOMIC),I=r.valueToCode(l,"bcc",r.ORDER_ATOMIC),N=r.valueToCode(l,"subject",r.ORDER_ATOMIC),J=l.getFieldValue("NAME"),Fe="{";return Fe+='"from":'+p+",",Fe+='"to":'+y+",",Fe+='"cc":'+S+",",Fe+='"bcc":'+I+",",Fe+='"subject":'+N+",",Fe+='"body":'+r.valueToCode(l,"body",r.ORDER_ATOMIC)+",",Fe+='"typeEmail":"'+J+'"',[""+(Fe+="}"),r.ORDER_NONE]}}fieldXML(){return'<block type="blockemail">\n        <value name="from">\n            <shadow type="text">\n                <field name="TEXT">test@test.com</field>\n            </shadow>\n        </value>\n        <value name="to">\n            <shadow type="text">\n                <field name="TEXT">ignatandrei@yahoo.com</field>\n            </shadow>\n        </value>\n        <value name="cc">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n        <value name="bcc">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n        <value name="subject">\n            <shadow type="text">\n                <field name="TEXT">My test email</field>\n            </shadow>\n        </value>\n        <value name="body">\n            <shadow type="text">\n                <field name="TEXT">This is the body</field>\n            </shadow>\n        </value>\n            </block>\n        <block type="sendinblue">\n        <value name="APIKey">\n            <shadow type="text">\n                <field name="TEXT">Please put here the API Key from SendInBlue</field>\n            </shadow>\n            \n        </value>\n        <value name="email">\n            <shadow type="blockemail">\n            </shadow>\n            \n        </value>\n        \n        </block>\n'}}class uh{definitionBlocks(s,r){s.exportfile={init:function(){this.appendDummyInput().appendField("ExportToFile"),this.appendValueInput("fileName").setCheck(null).appendField("FileName"),this.appendValueInput("contentFile").setCheck(null).appendField("Content"),this.appendValueInput("convertToByte").setCheck("Boolean").appendField("ConvertToByteFromBase64"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.exportfile=function(p){return"exportToFile("+r.valueToCode(p,"fileName",0)+","+r.valueToCode(p,"contentFile",0)+","+r.valueToCode(p,"convertToByte",0)+");\n"}}fieldXML(){return'<block type="exportfile">\n    <value name="fileName">\n        <shadow type="text">\n            <field name="TEXT">abc</field>\n        </shadow>\n    </value>\n    <value name="convertToByte">\n        <shadow type="logic_boolean">\n            <field name="BOOL">FALSE</field>\n        </shadow>\n    </value>\n</block>\n'}}class Bc{constructor(){this.definitionBlocks=function(s,r){s.window_open={init:function(){this.jsonInit({message0:"Open %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks"})}},r.window_open=function(p){var y=r.valueToCode(p,"TEXT",99)||"''";return"if((typeof "+y+' == "object") && ("to" in '+y+')){open("mailto:'+y.to+'")}else{ open('+y+")};\n"},s.text_message={init:function(){this.jsonInit({message0:"alert %1",args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks"})}},r.text_message=function(p){return"alert1("+(r.valueToCode(p,"TEXT",99)||"''")+");\n"},s.text_print_return={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("print return").appendField(new t.FieldLabelSerializable(""),"NAME"),this.setOutput(!0,null),this.setTooltip(""),this.setHelpUrl("")}},r.text_print_return=function(p){var y=r.valueToCode(p,"TEXT",0)||"''";return["(function(){window.alert("+y+");\n;return ("+y+");}())\n",99]},s.valuefromtext={init:function(){this.appendDummyInput().appendField("InputFromText"),this.appendValueInput("IdOfText").setCheck("String").appendField("Text id"),this.appendValueInput("ValueToObtain").setCheck("String").appendField("Property"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.valuefromtext=function(p){return["getIDProp("+r.valueToCode(p,"IdOfText",0)+","+(r.valueToCode(p,"ValueToObtain",0)||'"value"')+")",99]}}}fieldXML(){return'<block type="window_open"></block>\n    <block type="valuefromtext">\n        <value name="IdOfText">\n            <shadow type="text">\n                <field name="TEXT">output</field>\n            </shadow>\n        </value>\n        <value name="ValueToObtain">\n            <shadow type="text">\n                <field name="TEXT">value</field>\n            </shadow>\n        </value>\n    </block>\n    <block type="text_print"></block>\n    <block type="text_print_return"></block>  \n    <block type="text_prompt_ext"></block>\n    <block type="text_message"></block>\n    \n    '}}class Mh{definitionBlocks(s,r){s.chart_js={init:function(){this.appendDummyInput().appendField("ChartType").appendField(new t.FieldDropdown([["HBar","HBar"],["VBar","VBar"]]),"ChartTypeValue"),this.appendValueInput("ChartTitleValue").setCheck(null).appendField(new t.FieldLabelSerializable("Title"),"ChartTitle"),this.appendValueInput("LabelsValue").setCheck("Array").appendField(new t.FieldLabelSerializable("Labels"),"ChartLabels"),this.appendValueInput("DataSet1Label").setCheck("String").appendField(new t.FieldLabelSerializable("DataSet1 Label"),"DataSetLabel1"),this.appendValueInput("DataSet1Data").setCheck("Array").appendField(new t.FieldLabelSerializable("DataSet1 Data"),"DataSetData1"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.chart_js=function(o){var l=o.getFieldValue("ChartTypeValue"),y=(r.valueToCode(o,"ChartTitleValue",r.ORDER_ATOMIC),r.valueToCode(o,"LabelsValue",r.ORDER_ATOMIC)),S=r.valueToCode(o,"DataSet1Label",r.ORDER_ATOMIC),I=r.valueToCode(o,"DataSet1Data",r.ORDER_ATOMIC),N="",J="x";switch(l){case"HBar":N="bar",J="y";break;case"VBar":N="bar";break;default:throw"Unknown chart type:"+l}return[`JSON.stringify({ 'type': '${N}', 'options':{ 'indexAxis':'${J}'},  'data': {  'labels': ${y}, 'datasets': [{ 'backgroundColor': ['green','blue'],'label': ${S}, 'data': ${I} }] } })`,r.ORDER_NONE]}}fieldXML(){return'<block type="chart_js"></block>'}}class ip{definitionBlocks(s,r){s.HTMLheaders={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("Header").appendField(new t.FieldDropdown([["H1","H1"],["H2","H2"],["H3","H3"]]),"NAME"),this.setOutput(!0,null),this.setColour(240),this.setTooltip("string to Header "),this.setHelpUrl("")}},r.HTMLheaders=function(o){var l=o.getFieldValue("NAME");return[`'<${l}>'+ ${r.valueToCode(o,"NAME",r.ORDER_ATOMIC)} + '</${l}>'`,r.ORDER_NONE]},s.HTMLlist={init:function(){this.appendDummyInput().appendField("List ").appendField(new t.FieldDropdown([["OL","ol"],["UL","ul"]]),"listType"),this.appendStatementInput("Content").setCheck(null),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setColour(240),this.setTooltip("list - please add li block "),this.setHelpUrl("")}},r.HTMLlist=function(o){var l=o.getFieldValue("listType");return r.valueToCode(o,"ListType",r.ORDER_ATOMIC),`window.alert('<${l}>');\n;${r.statementToCode(o,"Content")};\n;window.alert('</${l}>');\n`},s.HTMLli={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("LI"),this.setOutput(!0,null),this.setColour(240),this.setTooltip("string to LI"),this.setHelpUrl("")}},r.HTMLli=function(o){return[`'<li>'+ ${r.valueToCode(o,"NAME",r.ORDER_ATOMIC)} + '</li>'`,r.ORDER_NONE]},s.HTMLliStart={init:function(){this.appendDummyInput().appendField("List").appendField(new t.FieldDropdown([["OL","OL"],["UL","UL"]]),"NAME"),this.setColour(240),this.setOutput(!0,null),this.setTooltip("LI start"),this.setHelpUrl("")}},r.HTMLliStart=function(o){return[`'<${o.getFieldValue("NAME")}>'`,r.ORDER_NONE]},s.HTMLliStop={init:function(){this.appendDummyInput().appendField("/List").appendField(new t.FieldDropdown([["OL","OL"],["UL","UL"]]),"NAME"),this.setColour(240),this.setOutput(!0,null),this.setTooltip("LI stop"),this.setHelpUrl("")}},r.HTMLliStop=function(o){return[`'</${o.getFieldValue("NAME")}>'`,r.ORDER_NONE]},s.HTMLlinkFromObject={init:function(){this.appendDummyInput().appendField("Object=>Link").appendField("target").appendField(new t.FieldDropdown([["_blank","_blank"],["_self","_self"],["_parent","_parent"],["_top","_top"]]),"targetDrop"),this.appendValueInput("objectProp").setCheck(null).appendField("objectProp"),this.appendValueInput("textProp").setCheck(null).appendField("textProp"),this.appendValueInput("hrefProp").setCheck(null).appendField("hrefProp"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.HTMLlinkFromObject=function(o){var l=o.getFieldValue("targetDrop"),p=r.valueToCode(o,"hrefProp",r.ORDER_MEMBER),y=r.valueToCode(o,"textProp",r.ORDER_ATOMIC),I="(function(obj,text,href){\n";return I+="return '<a href=\"'+ obj[href] ",I+=`+ '" target="${l}"'`,I+="+ '>'+ obj[text] + '</a>' ",[I+="}("+r.valueToCode(o,"objectProp",r.ORDER_ATOMIC)+","+(y=y||p)+","+p+"))",r.ORDER_FUNCTION_CALL]},s.HTMLlink={init:function(){this.appendDummyInput().appendField("A").appendField("target").appendField(new t.FieldDropdown([["_blank","_blank"],["_self","_self"],["_parent","_parent"],["_top","_top"]]),"targetDrop"),this.appendValueInput("HREF").setCheck(null).appendField("href"),this.appendValueInput("text").setCheck(null).appendField("text"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.HTMLlink=function(o){var l=o.getFieldValue("targetDrop"),p=r.valueToCode(o,"HREF",r.ORDER_ATOMIC),y=r.valueToCode(o,"text",r.ORDER_ATOMIC),S="'<a href=\"'+"+p;return S+=`+ '" target="${l}"'`,[S+="+ '>'+"+(y=y||p)+"+ '</a> '",r.ORDER_NONE]}}fieldXML(){return'\n    <block type=\'text_print\'>" \n               <value name=\'TEXT\'>" \n                 \n    <block type="HTMLheaders">\n        <value name="NAME">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n    </block>    \n      </value>\n\n\n      </block>\n        \n<block type="HTMLlist"></block>\n\n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n  \n<block type="HTMLli">\n</block>    \n</value>\n</block>\n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n\n<block type="HTMLliStart"></block>\n</value>\n</block>    \n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n\n<block type="HTMLliStop"></block>\n\n</value>\n</block>    \n\n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n\n<block type="HTMLlink">\n<value name="HREF">\n<shadow type="text">\n    <field name="TEXT">http://</field>\n</shadow>\n\n</value>\n<value name="text">\n<shadow type="text">\n    <field name="TEXT">My Text</field>\n</shadow>\n\n</value>\n\n</block>\n</value>\n</block>    \n\n\n<block type=\'text_print\'>" \n<value name=\'TEXT\'>" \n\n<block type="HTMLlinkFromObject">\n<value name="hrefProp">\n<shadow type="text">\n    <field name="TEXT">prop</field>\n</shadow>\n\n</value>\n<value name="textProp">\n<shadow type="text">\n    <field name="TEXT">prop</field>\n</shadow>\n\n</value>\n\n</block>\n</value>\n</block>    \n\n'}}class dh{definitionBlocks(s,r){s.simpleHtmlparser={init:function(){this.appendValueInput("NAME").setCheck(null).appendField("Find ").appendField(new t.FieldDropdown([["Tables","table"],["Links","a"],["Images","img"],["List","ul,ol"],["Headers","h1,h2,h3,h4,h5,h6"]]),"To"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},r.simpleHtmlparser=function(o){var y="(function(value){ \n";return y+=`var doc  = parseDOMFromStringElements(value,"text/html","${o.getFieldValue("To")}");\n`,y+="return doc;\n",[y+="})("+r.valueToCode(o,"NAME",r.ORDER_ATOMIC)+")",r.ORDER_NONE]}}fieldXML(){return'\n    <block type=\'text_print\'>" \n               <value name=\'TEXT\'>" \n                 \n    <block type="simpleHtmlparser">\n        <value name="NAME">\n            <shadow type="text">\n                <field name="TEXT"></field>\n            </shadow>\n        </value>\n    </block>    \n      </value>\n\n\n      </block>\n        '}}class yu{definitionBlocks(s,r){s.modifyproperty={init:function(){this.appendDummyInput().appendField("Modify "),this.appendValueInput("ObjectToChange").setCheck(null).setAlign(0).appendField(new t.FieldLabelSerializable("object"),"objectName"),this.appendValueInput("PropertyName").setCheck(null).setAlign(1).appendField(new t.FieldLabelSerializable(",property"),"prop"),this.appendValueInput("NewValue").setCheck(null).setAlign(1).appendField(new t.FieldLabelSerializable("toValue"),"newValue"),this.setInputsInline(!0),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},r.modifyproperty=function(S){return r.valueToCode(S,"ObjectToChange",0)+"["+r.valueToCode(S,"PropertyName",0)+"]="+r.valueToCode(S,"NewValue",0)+";"},s.getproperty={init:function(){this.appendDummyInput().appendField("Get from"),this.appendValueInput("ObjectToChange").setCheck(null).setAlign(0).appendField(new t.FieldLabelSerializable("object"),"objectName"),this.appendValueInput("PropertyName").setCheck(null).setAlign(1).appendField(new t.FieldLabelSerializable("property"),"prop"),this.setInputsInline(!0),this.setOutput(!0,null)}},r.getproperty=function(S){var I=r.valueToCode(S,"ObjectToChange",0);return["(function(t, val){   return findPropValue(val,t);})("+r.valueToCode(S,"PropertyName",0)+","+I+")",99]}}fieldXML(){return'\n    \n    <block type="modifyproperty">\n        <value name="PropertyName">\n            <shadow type="text">\n                <field name="TEXT">enter property name</field>\n            </shadow>\n        </value>\n    </block>\n    <block type="getproperty">\n        <value name="PropertyName">\n            <shadow type="text">\n                <field name="TEXT">enter property name</field>\n            </shadow>\n        </value>\n\n    </block>    \n'}}class hh{definitionBlocks(s,r,o,l){r.object_from_json=function(Tn){return[`JSON.parse(${r.valueToCode(Tn,"JSON",0)})`,99]},r.object_to_json=function(Tn){return[`JSON.stringify(${r.valueToCode(Tn,"object",0)})`,99]},r.object_get=function(Tn){const qi=Tn.getFieldValue("field_name");return[`${r.valueToCode(Tn,"object",0)}['${qi}']`,99]},r.object_set=function(Tn){const qi=Tn.getFieldValue("field_name");return`${r.valueToCode(Tn,"object_field",0)}['${qi}'] = ${r.valueToCode(Tn,"value_field",0)};\n`},r.object_create=function(Tn){if(!Tn.numFields)return["{}",99];let qi="";for(let pr=1;pr<=Tn.numFields;pr++)qi+=`"${Tn.getFieldValue("field"+pr)}": ${r.valueToCode(Tn,"field_input"+pr,0)}, `;return[`{ ${qi} }`,99]};const Ct="object_field",Lt="object_create_mutator_top",Gt="#F99EA3",Yt=Tn=>({object_from_json:"get object from JSON %1",object_from_json_tooltip:"Create object from JSON string.",object_to_json:"generate JSON from object %1",object_to_json_tooltip:"Save object as a JSON string.",object_get_json:"get property %1 %2 of object %3",object_get_json_tooltip:"Get a property of an object.",object_set_json:"set property %1 %2 of object %3 to %4",object_set_json_tooltip:"Set a property of an object.",object_create:"create object",object_create_tooltip:"Create a new object, optionally with some property values.",object_field_name:"property name"}[Tn]),Ci={type:"object_from_json",message0:Yt("object_from_json"),args0:[{type:"input_value",name:"JSON",check:"String"}],output:"Object",colour:Gt,tooltip:Yt("object_from_json_tooltip"),helpUrl:"http://www.json.org/"};s.object_from_json={init:function(){this.jsonInit(Ci)}};const on={type:"object_to_json",message0:Yt("object_to_json"),args0:[{type:"input_value",name:"object",check:"Object"}],output:null,colour:Gt,tooltip:Yt("object_to_json_tooltip"),helpUrl:"http://www.json.org/"};s.object_to_json={init:function(){this.jsonInit(on)}};const Ki={type:"object_get",message0:Yt("object_get_json"),args0:[{type:"field_input",name:"field_name",text:"default"},{type:"input_dummy"},{type:"input_value",name:"object",check:"Object",align:"RIGHT"}],output:null,colour:Gt,tooltip:Yt("object_get_json_tooltip"),helpUrl:""};s.object_get={init:function(){this.jsonInit(Ki)}};const Vi={type:"object_set",message0:Yt("object_set_json"),args0:[{type:"field_input",name:"field_name",text:Yt("object_field_name")},{type:"input_dummy"},{type:"input_value",name:"object_field",check:"Object",align:"RIGHT"},{type:"input_value",name:"value_field",align:"RIGHT"}],previousStatement:null,nextStatement:null,colour:Gt,tooltip:Yt("object_set_json_tooltip"),helpUrl:""};s.object_set={init:function(){this.jsonInit(Vi)}};const vn={type:"object_create",message0:Yt("object_create"),output:"Object",mutator:"controls_create_mutator",colour:15,tooltip:Yt("object_create_tooltip"),helpUrl:""};s.object_create={init:function(){this.jsonInit(vn)}};const yn={type:"object_field",message0:"%1 %2",args0:[{type:"field_input",name:"field_name",text:Yt("object_field_name")},{type:"input_value",name:"field_value"}],previousStatement:null,nextStatement:null,colour:15,tooltip:"",helpUrl:""};s[Ct]={init:function(){this.jsonInit(yn)}};const Rn={type:"object_create_mutator",message0:Yt("object_create"),nextStatement:null,colour:15,tooltip:Yt("object_create_tooltip"),helpUrl:""};s[Lt]={init:function(){this.jsonInit(Rn)}};const Vn={numFields:0,fields:new Array,domToMutation:function(Tn){this.fields=[];for(let Wn,qi=0;Wn=Tn.childNodes[qi];qi++)"field"==Wn.nodeName.toLowerCase()&&this.fields.push(Wn.getAttribute("name"));this.numFields=this.fields.length,this.updateShape()},mutationToDom:function(){if(!this.numFields)return null;const Tn=document.createElement("mutation");Tn.setAttribute("num_fields",""+this.numFields);for(let qi=0;qi<this.fields.length;qi++){const Wn=document.createElement("field");Wn.setAttribute("name",this.fields[qi]),Tn.appendChild(Wn)}return Tn},compose:function(Tn){let qi=Tn.nextConnection&&Tn.nextConnection.targetBlock();this.numFields=0,this.fields=[];let Wn=[null];for(;qi;)this.fields.push(qi.getFieldValue("field_name")),this.numFields++,Wn.push(qi.savedConnection),qi=qi.nextConnection&&qi.nextConnection.targetBlock();this.updateShape();for(let pr=1;pr<=this.numFields;pr++)l.reconnect(Wn[pr],this,"field_input"+pr)},decompose:function(Tn){const qi=Tn.newBlock(Lt);qi.initSvg();let Wn=qi.nextConnection;for(let pr=0;pr<this.fields.length;pr++){const mn=Tn.newBlock(Ct);mn.initSvg(),mn.setFieldValue(this.fields[pr],"field_name"),Wn.connect(mn.previousConnection),Wn=mn.nextConnection}return qi},saveConnections:function(Tn){let qi=Tn.nextConnection&&Tn.nextConnection.targetBlock(),Wn=1;for(;qi;){const pr=this.getInput("field_input"+Wn);qi.savedConnection=pr&&pr.connection.targetConnection,qi.setFieldValue(this.getFieldValue("field"+Wn),"field_name"),Wn++,qi=qi.nextConnection&&qi.nextConnection.targetBlock()}},updateShape:function(){this.getInput("with")&&this.removeInput("with");let Tn=1;for(;this.getInput("field_input"+Tn);)this.removeInput("field_input"+Tn),Tn++;this.numFields>0&&this.appendDummyInput("with").setAlign(1).appendField("with fields");for(let qi=1;qi<=this.numFields;qi++){const Wn=this.fields[qi-1];this.appendValueInput("field_input"+qi).setCheck(null).setAlign(1).appendField(new t.FieldTextInput(Wn),"field"+qi)}}};try{o.registerMutator("controls_create_mutator",Vn,null,["object_field"])}catch(Tn){}}fieldXML(){return'    \n    <block type="modifyproperty"></block>\n    <block type="getproperty"></block>\n    <block type="object_create"></block>\n    \x3c!--<block type="object_from_json"></block>\n<block type="object_to_json"></block>\n<block type="object_get"></block>\n<block type="object_set"></block>--\x3e\n\n'}}class xh{definitionBlocks(s,r){s.credsforhttp={init:function(){this.appendDummyInput().appendField("Http with Creds"),this.appendValueInput("HttpDomain").setCheck("String").appendField("Domain"),this.appendValueInput("WithCreds").setCheck("Boolean").appendField("With Creds ?"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},r.credsforhttp=function(p){return"withCredsForDomain["+(r.valueToCode(p,"HttpDomain",0)||"(localSite)")+"]="+r.valueToCode(p,"WithCreds",0)+";\n"}}fieldXML(){return'<block type="credsforhttp">\n    <value name="HttpDomain">\n        <shadow type="text">\n            <field name="TEXT">(localSite)</field>\n        </shadow>\n    </value>\n    <value name="WithCreds">\n        <shadow type="logic_boolean">\n            <field name="BOOL">FALSE</field>\n        </shadow>\n    </value>\n</block>\n'}}class Zd{definitionBlocks(s,r){s.wait={init:function(){this.appendValueInput("VALUE").appendField("wait secs"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},r.wait=function(l){return"waitTime("+(r.valueToCode(l,"VALUE",r.ORDER_ATOMIC)||"")+");"},s.wait_until={init:function(){this.appendValueInput("VALUE").appendField("wait until date"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null)}},r.wait_until=function(l){return"waitTime(("+(r.valueToCode(l,"VALUE",0)||"")+"-new Date())/1000);"}}fieldXML(){return'\n    <block type="wait">\n\n    <value name="VALUE">\n        <shadow type="math_number">\n            <field name="NUM">10</field>\n        </shadow>\n    </value>\n\n</block>\n<block type="wait_until">\n\n</block>'}}class np{definitionBlocks(s,r){s([{type:"wait_seconds",message0:" wait %1 seconds",args0:[{type:"field_number",name:"SECONDS",min:0,max:600,value:1}],previousStatement:null,nextStatement:null,colour:"%{BKY_LOOPS_HUE}"}]),r.wait_seconds=function(o){return"waitForSeconds("+Number(o.getFieldValue("SECONDS"))+");\n"}}fieldXML(){return'\n  <block type="wait_seconds"></block>\n'}}class Rh{definitionBlocks(s,r){s.comment={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("comment /* */").appendField(new t.FieldLabelSerializable(""),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},r.comment=function(l){return"/*\n"+(r.valueToCode(l,"TEXT",0)||"''")+"\n*/;\n"},s.debugger={init:function(){this.appendValueInput("TEXT").setCheck(null).appendField("debugger").appendField(new t.FieldLabelSerializable(""),"NAME"),this.setPreviousStatement(!0,null),this.setNextStatement(!0,null),this.setTooltip(""),this.setHelpUrl("")}},r.debugger=function(l){return"startDebugger("+(r.valueToCode(l,"TEXT",0)||"''")+",'"+l.id+"',this);\n"}}fieldXML(){return'<block type="comment">\n    <value name="TEXT">\n        <shadow type="text">\n            <field name="TEXT">Put here comments</field>\n        </shadow>\n    </value>\n</block>\n<block type="debugger">\n    <value name="TEXT">\n        <shadow type="text">\n            <field name="TEXT">my message for debug</field>\n        </shadow>\n    </value>\n</block>\n'}}var Nd=f(31841);class Fd{constructor(){this.docker=new Nd._E,this.DockerContainer=new Nd.j_,this.DockerVersionInfo=new Nd.s0,this.xhrBlocks=new lh,this.defaultBlocks=new tp,this.trycatchFinBlock=new Kd,this.ttsBlock=new kd,this.pianoBlock=new $d,this.filterBlocks=new Jd,this.auth0Blocks=new Wp,this.convertersBlocks=new Hr,this.currentDateBlock=new Ld,this.dateFromTextBlock=new Pd,this.emailBlocks=new ch,this.exportFileBlock=new uh,this.guiBlocks=new Bc,this.chartBlock=new Mh,this.htmlblocks=new ip,this.HTMLParserBlocks=new dh,this.propBlocks=new yu,this.createObjectBlocks=new hh,this.windowsCreds=new xh,this.waitBlocks1=new Zd,this.waitBlocks2=new np,this.commentBlock=new Rh}}var Bd=f(94327);class Qd{constructor(){}DownloadBlocks(s,r,o){var l=s.workspaceToDom(r,!0),p=s.domToPrettyText(l),y=new Blob([p],{type:"text/plain;charset=utf-16"});Bd.saveAs(y,o)}A(){return 1}LoadFile(s,r,o){r.clear();var l=s.textToDom(o);s.domToWorkspace(l,r)}formatInt(s){return s<10?"0"+s:s.toString(10)}formatDate(s){return`${this.formatInt(s.getFullYear())}${this.formatInt(s.getMonth()+1)}${this.formatInt(s.getDate())}${this.formatInt(s.getHours())}${this.formatInt(s.getMinutes())}${this.formatInt(s.getSeconds())}`}saveState(s,r,o){var l="BlocklyState"+(o||""),p=s.workspaceToDom(r,!0),y=s.domToPrettyText(p);window.localStorage.setItem(l,y)}restoreState(s,r,o){var p=window.localStorage.getItem("BlocklyState"+(o||""));if(((null==p?void 0:p.length)||0)>62){var y=s.textToDom(p);s.clearWorkspaceAndLoadFromXml(y,r)}return""}}const ph=f(86942);class qd{constructor(s,r){this.workspace=s,this.BlocklyJavaScript=r,this.latestCode="",this.step=0,this.highlightPause=!1,this.myInterpreter=null,this.runner=null}generateCodeAndLoadIntoInterpreter(){this.BlocklyJavaScript.STATEMENT_PREFIX="highlightBlock(%1);\n",this.BlocklyJavaScript.addReservedWords("highlightBlock"),this.latestCode=this.BlocklyJavaScript.workspaceToCode(this.workspace),this.resetStepUi(!0)}resetStepUi(s){this.step=0,this.workspace.highlightBlock(null),this.highlightPause=!1}resetInterpreter(){this.myInterpreter=null,this.runner&&(window.clearTimeout(this.runner),this.runner=null)}findPropValue1(s,[r,...o]){return"string"==typeof s&&(s=JSON.parse(s)),s.a&&s.L&&s.O&&(s=s.a),o.length>0?this.findPropValue(s[r],o):s[r]}findPropValue(s,[r,...o]){return console.log("this is",s),o.length?this.findPropValue(s[r],o):s[r]}highlightBlock(s){this.workspace.highlightBlock(s),this.highlightPause=!0}nextStep(s,r){console.log("next step"),s.myInterpreter.step()?setTimeout((o,l)=>{o.nextStep(o,l)},10,s,r):(r?r():console.log("\n\n<< Program complete >>"),s.resetInterpreter(),s.resetStepUi(!1))}runCode(s,r,o,l){""==l&&(l=this.latestCode),this.myInterpreter||this.resetStepUi(!0),this.generateCodeAndLoadIntoInterpreter();var p=this;p.myInterpreter=s(l,(y,S)=>p.initApiJS(y,S,p,r,o)),1!=window.runOneByOne?setTimeout(function(){p.highlightPause=!1,p.runner=function(){p.myInterpreter&&(p.myInterpreter.run()?setTimeout(p.runner,10):(o?o():console.log("\n\n<< Program complete >>"),p.resetInterpreter(),p.resetStepUi(!1)))},p.runner&&p.runner()},100):this.nextStep(p,o)}initInterpreterWaitForSeconds(s,r){this.BlocklyJavaScript.addReservedWords("waitForSeconds");var o=s.createAsyncFunction(function(l,p){setTimeout(p,1e3*l)});s.setProperty(r,"waitForSeconds",o)}getCreds(s,r,o){var l=s.pseudoToNative(r),p="(localSite)";(o.startsWith("http://")||o.startsWith("https://"))&&(p=new URL(o).hostname);var y=!1;return p in l?y=l[p]:"*"in l&&(y=l["*"]),y}getHeaders(s,r,o){var l=s.pseudoToNative(r),p="(localSite)";(o.startsWith("http://")||o.startsWith("https://"))&&(p=new URL(o).hostname);var y=[];return p in l?y=l[p]:"*"in l&&(y=l["*"]),y}doGet(s,r,o,l){let p=new XMLHttpRequest;p.open("GET",s,!0),this.generateDataAndCreds(p,o,l,!1),p.onreadystatechange=function(){if(4==p.readyState){if(p.status>=200&&p.status<300){var y=JSON.stringify({origHref:s,objectToSend:"",status:p.status,statusOK:!0,text:p.responseText});return r(y)}return y=JSON.stringify({origHref:s,objectToSend:"",status:p.status,statusOK:!1,text:p.responseText,headers:p.getAllResponseHeaders()}),r(y)}},p.send(null)}exportToFile(s,r,o){var l;return l=1==o?this.b64toBlob1(r,"",512):new Blob([r],{type:"text/plain;charset=utf-8"}),Bd.saveAs(l,s),s}b64toBlob1(s,r="",o=512){const l=atob(s),p=[];for(let S=0;S<l.length;S+=o){const I=l.slice(S,S+o),N=new Array(I.length);for(let pe=0;pe<I.length;pe++)N[pe]=I.charCodeAt(pe);const J=new Uint8Array(N);p.push(J)}return new Blob(p,{type:r})}displayDateCurrentAsHuman(){return(new Date).toLocaleDateString(void 0,{day:"numeric",month:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}displayDateCurrentAsIso(){return(new Date).toISOString()}displayDateCurrentAsUnix(){return Date.now()}displayDateFormatted(s){switch(s){case"human":return this.displayDateCurrentAsHuman();case"iso":return this.displayDateCurrentAsIso();case"unix":return this.displayDateCurrentAsUnix();default:return console.log("Date time format not suported"),""}}generateDataAndCreds(s,r,o,l){o&&(s.withCredentials=o);var p=!1;if(r&&r.length>0)for(var y=0;y<r.length;y++){var S=r[y];"Content-Type"==S.name&&(p=!0),s.setRequestHeader(S.name,S.value)}l&&!p&&s.setRequestHeader("Content-Type","application/json;charset=UTF-8")}doPut(s,r,o,l,p){let y=r,S=new XMLHttpRequest;S.open("PUT",s,!0),this.generateDataAndCreds(S,l,p,!!r),S.onreadystatechange=function(){if(4==S.readyState){if(S.status>=200&&S.status<300){var I=JSON.stringify({origHref:s,objectToSend:r,status:S.status,statusOK:!0,text:S.responseText});return o(I)}return I=JSON.stringify({origHref:s,objectToSend:r,status:S.status,statusOK:!1,text:S.responseText,headers:S.getAllResponseHeaders()}),o(I)}},S.send(y)}doDelete(s,r,o,l,p){let y=r;var S=new XMLHttpRequest;S.open("DELETE",s,!0),this.generateDataAndCreds(S,l,p,!!r),S.onreadystatechange=function(){if(4==S.readyState){if(S.status>=200&&S.status<300){var I=JSON.stringify({origHref:s,objectToSend:"",status:S.status,statusOK:!0,text:S.responseText});return o(I)}return I=JSON.stringify({origHref:s,status:S.status,statusOK:!1,text:S.responseText,objectToSend:r,headers:S.getAllResponseHeaders()}),o(I)}},S.send(y)}doPost(s,r,o,l,p){let y=r,S=new XMLHttpRequest;S.open("POST",s,!0),this.generateDataAndCreds(S,l,p,!!r),S.onreadystatechange=function(){if(4==S.readyState){if(S.status>=200&&S.status<300){var I=JSON.stringify({origHref:s,objectToSend:r,status:S.status,statusOK:!0,text:S.responseText});return o(I)}return I=JSON.stringify({origHref:s,objectToSend:r,status:S.status,statusOK:!1,text:S.responseText,headers:S.getAllResponseHeaders()}),o(I)}},S.send(y)}table2array(s){var r=s.rows,o=[];if(!r)return[];if(0==r.length)return[];for(var l=Array.from(r[0].children).map(N=>N.innerText),p=1;p<r.length;p++){for(var y=r[p].children,S={},I=0;I<y.length;I++)S[l[I]]=y[I].innerText;o.push(S)}return o}list2array(s){var r=s.getElementsByTagName("li"),o=[];if(0==r.length)return[];for(var l=0;l<r.length;l++)o.push({li:r[l].innerText});return o}parseDOMFromStringElements(s,r,o){var l,p=(new DOMParser).parseFromString(s,r),y=[];if(o.toString().indexOf(",")>-1)for(var S=o.split(","),I=0;I<S.length;I++)y=y.concat(Array.from(p.getElementsByTagName(S[I])));else y=(y=y.concat(p.getElementsByTagName(o)))[0];var N={};if(0==y.length)return N;switch(o){case"table":for(N={},I=0;I<y.length;I++)N["table"+I]=this.table2array(y[I]);break;case"a":N=[];var J=(null===(l=null==window?void 0:window.location)||void 0===l?void 0:l.host)||"";for(J.length>0&&(J=window.location.protocol+"//"+J),I=0;I<y.length;I++){var pe=y[I].href;J.length>0&&pe.startsWith(J)&&(pe=pe.substring(J.length)),N.push({href:pe,text:y[I].innerText})}break;case"img":for(N=[],I=0;I<y.length;I++)N.push({src:y[I].src});break;case"ul,ol":for(N={},I=0;I<y.length;I++)N["list"+I]=this.list2array(y[I]);break;case"h1,h2,h3,h4,h5,h6":for(N=[],I=0;I<y.length;I++)N.push({header:y[I].innerText});break;default:throw new Error(`tag !${o}! not supported`)}return JSON.stringify(N)}consoleLog(s,r){return console.log(s,r)}initApiJS(s,r,o,l,p){var y=ji=>{l?l("\n error --\n"+ji+"\n error --"):console.log(ji)};s.setProperty(r,"errHandler",s.createNativeFunction(y)),s.setProperty(r,"consoleLog",s.createNativeFunction(function(ji,tn){return s.createPrimitive(o.consoleLog(ji,tn))})),s.setProperty(r,"parseDOMFromStringElements",s.createNativeFunction(function(ji,tn,Lr){return ji=ji?ji.toString():"",s.createPrimitive(o.parseDOMFromStringElements(ji,tn,Lr))})),s.setProperty(r,"parseDomNative",s.createNativeFunction(y));var N=s.nativeToPseudo({"(localSite)":!1});s.setProperty(r,"withCredsForDomain",N);var J=s.nativeToPseudo({"(localSite)":[]});s.setProperty(r,"headersForDomain",J),s.setProperty(r,"alert1",s.createNativeFunction(function(ji){ji=ji?ji.toString():"",window.alert(ji)})),s.setProperty(r,"playPiano",s.createNativeFunction(function(ji,tn,Lr){ph.Synth.createInstrument("piano").play(ji,tn,Lr)})),s.setProperty(r,"startDebugger",s.createNativeFunction(function(ji,tn,Lr){o.highlightBlock(tn),console.log(ji,tn,Lr)})),s.setProperty(r,"alert",s.createNativeFunction(function(ji){ji=ji?ji.toString():"",l?l(ji):console.log(ji)})),s.setProperty(r,"waitTime",s.createAsyncFunction((ji,tn)=>{console.log(`waiting seconds ${ji}`),setTimeout(tn,1e3*ji)})),s.setProperty(r,"displayDateFormatted",s.createNativeFunction(ji=>o.displayDateFormatted(ji))),s.setProperty(r,"exportToFile",s.createNativeFunction((ji,tn,Lr)=>o.exportToFile(ji,tn,Lr))),s.setProperty(r,"convertToCSV",s.createNativeFunction(ji=>{var tn=null;return Array.isArray(ji)?tn=ji:((tn="object"!=typeof ji?JSON.parse(ji):{})&&tn.table0&&(tn=tn.table0),tn&&tn.list0&&(tn=tn.list0)),0==tn.length?"":(tn=[Object.keys(tn[0])].concat(tn)).map(Ni=>Object.values(Ni).toString()).join("\n")})),s.setProperty(r,"convertArrToTable",s.createNativeFunction(ji=>{var tn=null;if(Array.isArray(ji)?tn=ji:((tn="object"!=typeof ji?JSON.parse(ji):{})&&tn.table0&&(tn=tn.table0),tn&&tn.list0&&(tn=tn.list0)),0==tn.length)return"";var Ni="<table border='1'><tr><th>No</th>";return Ni+=Object.keys(tn[0]).map(Dn=>`<th>${Dn}</th>\n`).join(""),Ni+="</tr>",(Ni+=tn.map((Dn,Kr)=>`<tr><td>${Kr+1}</td>${Object.values(Dn).map(Jo=>`<td>${Jo}</td>`).join("")}</tr>`).join(""))+"</table>"})),s.setProperty(r,"open",s.createNativeFunction(function(ji){window.open(ji,"_blank")})),s.setProperty(r,"changeHost",s.createNativeFunction(function(ji,tn){if(0==(tn=(tn=tn?tn.toString():"").trim()).length)return ji;if(0==(ji=(ji=ji||"").trim()).length&&!(ji=tn).startsWith("http"))throw`please put in front of ${tn} http:// or https://`;var Lr=new URL(ji);if(tn.startsWith("http")){var Ni=new URL(tn);Lr.hostname=Ni.hostname,Lr.protocol=Ni.protocol}else Lr.hostname=tn.replace("https://","").replace("http://","");var Dn=Lr.href;return Dn.endsWith("/")&&(Dn=Dn.substring(0,Dn.length-1)),Dn})),s.setProperty(r,"changePort",s.createNativeFunction(function(ji,tn){var Lr=new URL(ji);console.log(`url ${Lr.href}`),Lr.port=tn,console.log(`url ${Lr.href}`);var Ni=Lr.href;return Ni.endsWith("/")&&(Ni=Ni.substring(0,Ni.length-1)),Ni})),s.setProperty(r,"speakDefault",s.createNativeFunction(function(ji,tn,Lr,Ni,Dn){var Kr=new SpeechSynthesisUtterance(ji),Jo=parseInt(tn);if(Jo<0)console.log(" no voice selected");else{var el=window.speechSynthesis.getVoices()[Jo];Kr.voice=el,window.speechSynthesis.speak(Kr)}})),s.setProperty(r,"prompt",s.createAsyncFunction(function(ji,tn,Lr){ji=ji?ji.toString():"",tn=tn?tn.toString():"",Lr(window.prompt(ji,tn))})),o.BlocklyJavaScript.addReservedWords("waitForSeconds");var Vn=s.createAsyncFunction(function(ji,tn){setTimeout(tn,1e3*ji)});s.setProperty(r,"waitForSeconds",Vn),s.setProperty(r,"getXhr",s.createAsyncFunction((ji,tn)=>{var Lr=o.getHeaders(s,J,ji),Ni=o.getCreds(s,N,ji);return o.doGet(ji,tn,Lr,Ni)})),s.setProperty(r,"postXhr",s.createAsyncFunction((ji,tn,Lr)=>{try{var Ni=o.getHeaders(s,J,ji),Dn=o.getCreds(s,N,ji);o.doPost(ji,tn,Lr,Ni,Dn)}catch(Kr){alert("is an error"+Kr)}})),s.setProperty(r,"deleteXhr",s.createAsyncFunction((ji,tn,Lr)=>{try{var Ni=o.getHeaders(s,J,ji),Dn=o.getCreds(s,N,ji);o.doDelete(ji,tn,Lr,Ni,Dn)}catch(Kr){alert("is an error"+Kr)}})),s.setProperty(r,"putXhr",s.createAsyncFunction((ji,tn,Lr)=>{try{var Ni=s.pseudoToNative(J),Dn="(localSite)";(ji.startsWith("http://")||ji.startsWith("https://"))&&(Dn=new URL(ji).hostname);var Kr=[];Dn in Ni&&(Kr=Ni[Dn]),o.doPut(ji,tn,Lr,Kr,!1)}catch(el){alert("is an error"+el)}})),s.setProperty(r,"highlightBlock",s.createNativeFunction(function(ji){return ji=ji?ji.toString():"",s.createPrimitive(o.highlightBlock(ji))})),s.setProperty(r,"findPropValue",s.createNativeFunction(function(ji,tn){return s.createPrimitive(o.findPropValue1(ji,tn.split(".")))})),s.setProperty(r,"execDockerCLI_JSONParser",s.createAsyncFunction((ji,tn,Lr)=>{var Ni=new Nd._E;if(!Ni.canConstruct)return Lr("please see error log in console");var Dn=JSON.parse(tn);Ni.execCli(ji,Dn).then(Jo=>{var el=Jo.lines();console.log("array of lines",el);for(var lc=[],ed=0;ed<el.length;ed++)try{lc.push(JSON.parse(el[ed]))}catch(Tl){console.error("error in line",el[ed],Tl)}console.log("array of json objects",lc),Lr(JSON.stringify(lc))})})),s.setProperty(r,"execDockerCLI_String",s.createAsyncFunction((ji,tn,Lr)=>{var Ni=new Nd._E;if(!Ni.canConstruct)return Lr("please see error log in console");var Dn=JSON.parse(tn);Ni.execCli(ji,Dn).then(Jo=>{var el=Jo.lines();console.log("lines",el);var lc=el.join("\n");console.log("single line",lc),Lr(lc)})}))}}class tu{constructor(s){this.table=s}reloadData(s,r){return this.table.dataLoader.load(s,void 0,void 0,void 0,r)}langText(){return this.table.modules.localize.getText(...arguments)}langBind(){return this.table.modules.localize.bind(...arguments)}langLocale(){return this.table.modules.localize.getLocale(...arguments)}commsConnections(){return this.table.modules.comms.getConnections(...arguments)}commsSend(){return this.table.modules.comms.send(...arguments)}layoutMode(){return this.table.modules.layout.getMode()}layoutRefresh(){return this.table.modules.layout.layout()}subscribe(){return this.table.eventBus.subscribe(...arguments)}unsubscribe(){return this.table.eventBus.unsubscribe(...arguments)}subscribed(s){return this.table.eventBus.subscribed(s)}subscriptionChange(){return this.table.eventBus.subscriptionChange(...arguments)}dispatch(){return this.table.eventBus.dispatch(...arguments)}chain(){return this.table.eventBus.chain(...arguments)}confirm(){return this.table.eventBus.confirm(...arguments)}dispatchExternal(){return this.table.externalEvents.dispatch(...arguments)}subscribedExternal(s){return this.table.externalEvents.subscribed(s)}subscriptionChangeExternal(){return this.table.externalEvents.subscriptionChange(...arguments)}options(s,r){return void 0!==r&&(this.table.options[s]=r),this.table.options[s]}setOption(s,r){return void 0!==r&&(this.table.options[s]=r),this.table.options[s]}module(s){return this.table.module(s)}}class mo extends tu{constructor(s,r){super(s),this._handler=null}initialize(){}registerTableOption(s,r){this.table.optionsList.register(s,r)}registerColumnOption(s,r){this.table.columnManager.optionsList.register(s,r)}registerTableFunction(s,r){void 0===this.table[s]?this.table[s]=r:console.warn("Unable to bind table function, name already in use",s)}registerComponentFunction(s,r,o){return this.table.componentFunctionBinder.bind(s,r,o)}registerDataHandler(s,r){this.table.rowManager.registerDataPipelineHandler(s,r),this._handler=s}registerDisplayHandler(s,r){this.table.rowManager.registerDisplayPipelineHandler(s,r),this._handler=s}refreshData(s,r){r||(r=this._handler),r&&this.table.rowManager.refreshActiveData(r,!1,s)}}class Us{static elVisible(s){return!(s.offsetWidth<=0&&s.offsetHeight<=0)}static elOffset(s){var r=s.getBoundingClientRect();return{top:r.top+window.pageYOffset-document.documentElement.clientTop,left:r.left+window.pageXOffset-document.documentElement.clientLeft}}static deepClone(s,r,o=[]){var l={}.__proto__,p=[].__proto__;for(var y in r||(r=Object.assign(Array.isArray(s)?[]:{},s)),s){let I,N,S=s[y];null!=S&&"object"==typeof S&&(S.__proto__===l||S.__proto__===p)&&(I=o.findIndex(J=>J.subject===S),I>-1?r[y]=o[I].copy:(N=Object.assign(Array.isArray(S)?[]:{},S),o.unshift({subject:S,copy:N}),r[y]=this.deepClone(S,N,o)))}return r}}var rp={};let op=(()=>{class g extends mo{constructor(r){super(r),this.allowedTypes=["","data","download","clipboard","print","htmlOutput"],this.registerColumnOption("accessor"),this.registerColumnOption("accessorParams"),this.registerColumnOption("accessorData"),this.registerColumnOption("accessorDataParams"),this.registerColumnOption("accessorDownload"),this.registerColumnOption("accessorDownloadParams"),this.registerColumnOption("accessorClipboard"),this.registerColumnOption("accessorClipboardParams"),this.registerColumnOption("accessorPrint"),this.registerColumnOption("accessorPrintParams"),this.registerColumnOption("accessorHtmlOutput"),this.registerColumnOption("accessorHtmlOutputParams")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-retrieve",this.transformRow.bind(this))}initializeColumn(r){var o=!1,l={};this.allowedTypes.forEach(p=>{var S,y="accessor"+(p.charAt(0).toUpperCase()+p.slice(1));r.definition[y]&&(S=this.lookupAccessor(r.definition[y]))&&(o=!0,l[y]={accessor:S,params:r.definition[y+"Params"]||{}})}),o&&(r.modules.accessor=l)}lookupAccessor(r){var o=!1;switch(typeof r){case"string":g.accessors[r]?o=g.accessors[r]:console.warn("Accessor Error - No such accessor found, ignoring: ",r);break;case"function":o=r}return o}transformRow(r,o){var l="accessor"+(o.charAt(0).toUpperCase()+o.slice(1)),p=r.getComponent(),y=Us.deepClone(r.data||{});return this.table.columnManager.traverse(function(S){var I,N,J,pe;S.modules.accessor&&(N=S.modules.accessor[l]||S.modules.accessor.accessor||!1)&&"undefined"!=(I=S.getFieldValue(y))&&(pe=S.getComponent(),J="function"==typeof N.params?N.params(I,y,o,pe,p):N.params,S.setFieldValue(y,N.accessor(I,y,o,J,pe,p)))}),y}}return g.moduleName="accessor",g.accessors=rp,g})();var Ah={method:"GET"};function sp(g,s){var r=[];if(s=s||"",Array.isArray(g))g.forEach((l,p)=>{r=r.concat(sp(l,s?s+"["+p+"]":p))});else if("object"==typeof g)for(var o in g)r=r.concat(sp(g[o],s?s+"["+o+"]":o));else r.push({key:s,value:g});return r}function ap(g){var s=sp(g),r=[];return s.forEach(function(o){r.push(encodeURIComponent(o.key)+"="+encodeURIComponent(o.value))}),r.join("&")}function jp(g,s,r){return g&&r&&Object.keys(r).length&&(!s.method||"get"==s.method.toLowerCase())&&(s.method="get",g+=(g.includes("?")?"&":"?")+ap(r)),g}function lp(g,s,r){var o;return new Promise((l,p)=>{if(g=this.urlGenerator.call(this.table,g,s,r),"GET"!=s.method.toUpperCase())if(o="object"==typeof this.table.options.ajaxContentType?this.table.options.ajaxContentType:this.contentTypeFormatters[this.table.options.ajaxContentType]){for(var y in o.headers)s.headers||(s.headers={}),void 0===s.headers[y]&&(s.headers[y]=o.headers[y]);s.body=o.body.call(this,g,s,r)}else console.warn("Ajax Error - Invalid ajaxContentType value:",this.table.options.ajaxContentType);g?(void 0===s.headers&&(s.headers={}),void 0===s.headers.Accept&&(s.headers.Accept="application/json"),void 0===s.headers["X-Requested-With"]&&(s.headers["X-Requested-With"]="XMLHttpRequest"),void 0===s.mode&&(s.mode="cors"),"cors"==s.mode?(void 0===s.headers.Origin&&(s.headers.Origin=window.location.origin),void 0===s.credentials&&(s.credentials="same-origin")):void 0===s.credentials&&(s.credentials="include"),fetch(g,s).then(S=>{S.ok?S.json().then(I=>{l(I)}).catch(I=>{p(I),console.warn("Ajax Load Error - Invalid JSON returned",I)}):(console.error("Ajax Load Error - Connection Error: "+S.status,S.statusText),p(S))}).catch(S=>{console.error("Ajax Load Error - Connection Error: ",S),p(S)})):(console.warn("Ajax Load Error - No URL Set"),l([]))})}function fh(g,s){var r=[];if(s=s||"",Array.isArray(g))g.forEach((l,p)=>{r=r.concat(fh(l,s?s+"["+p+"]":p))});else if("object"==typeof g)for(var o in g)r=r.concat(fh(g[o],s?s+"["+o+"]":o));else r.push({key:s,value:g});return r}var zp={json:{headers:{"Content-Type":"application/json"},body:function(g,s,r){return JSON.stringify(r)}},form:{headers:{},body:function(g,s,r){var o=fh(r),l=new FormData;return o.forEach(function(p){l.append(p.key,p.value)}),l}}};let Ih=(()=>{class g extends mo{constructor(r){super(r),this.config=!1,this.url="",this.urlGenerator=!1,this.params=!1,this.loaderPromise=!1,this.registerTableOption("ajaxURL",!1),this.registerTableOption("ajaxURLGenerator",!1),this.registerTableOption("ajaxParams",{}),this.registerTableOption("ajaxConfig","get"),this.registerTableOption("ajaxContentType","form"),this.registerTableOption("ajaxRequestFunc",!1),this.registerTableOption("ajaxRequesting",function(){}),this.registerTableOption("ajaxResponse",!1),this.contentTypeFormatters=g.contentTypeFormatters}initialize(){this.loaderPromise=this.table.options.ajaxRequestFunc||g.defaultLoaderPromise,this.urlGenerator=this.table.options.ajaxURLGenerator||g.defaultURLGenerator,this.table.options.ajaxParams&&this.setParams(this.table.options.ajaxParams),this.table.options.ajaxConfig&&this.setConfig(this.table.options.ajaxConfig),this.table.options.ajaxURL&&this.setUrl(this.table.options.ajaxURL),this.registerTableFunction("getAjaxUrl",this.getUrl.bind(this)),this.subscribe("data-loading",this.requestDataCheck.bind(this)),this.subscribe("data-load",this.requestData.bind(this))}requestDataCheck(r,o,l,p){return!((r||!this.url)&&"string"!=typeof r)}requestData(r,o,l,p,y){return this.requestDataCheck(r)?(r&&this.setUrl(r),o&&this.setParams(o,!0),l&&this.setConfig(l),this.sendRequest()):y}setParams(r,o){if(o){this.params=this.params||{};for(let l in r)this.params[l]=r[l]}else this.params=r}getParams(){return this.params||{}}setConfig(r){if(this._loadDefaultConfig(),"string"==typeof r)this.config.method=r;else for(let o in r)this.config[o]=r[o]}_loadDefaultConfig(r){if(!this.config||r){this.config={};for(let o in g.defaultConfig)this.config[o]=g.defaultConfig[o]}}setUrl(r){this.url=r}getUrl(){return this.url}sendRequest(r){var o=this.url;return this._loadDefaultConfig(),!1!==this.table.options.ajaxRequesting.call(this.table,this.url,this.params)?this.loaderPromise(o,this.config,this.params).then(l=>(this.table.options.ajaxResponse&&(l=this.table.options.ajaxResponse.call(this.table,this.url,this.params,l)),l)):Promise.reject()}}return g.moduleName="ajax",g.defaultConfig=Ah,g.defaultURLGenerator=jp,g.defaultLoaderPromise=lp,g.contentTypeFormatters=zp,g})();var jf={replace:function(g){return this.table.setData(g)},update:function(g){return this.table.updateOrAddData(g)},insert:function(g){return this.table.addData(g)}},gh={table:function(g){var s=[],r=!0,o=this.table.columnManager.columns,l=[],p=[];return(g=g.split("\n")).forEach(function(y){s.push(y.split("\t"))}),!(!s.length||1===s.length&&s[0].length<2)&&(s[0].forEach(function(y){var S=o.find(function(I){return y&&I.definition.title&&y.trim()&&I.definition.title.trim()===y.trim()});S?l.push(S):r=!1}),r||(r=!0,l=[],s[0].forEach(function(y){var S=o.find(function(I){return y&&I.field&&y.trim()&&I.field.trim()===y.trim()});S?l.push(S):r=!1}),r||(l=this.table.columnManager.columnsByIndex)),r&&s.shift(),s.forEach(function(y){var S={};y.forEach(function(I,N){l[N]&&(S[l[N].field]=I)}),p.push(S)}),p)}};let Hd=(()=>{class g extends mo{constructor(r){super(r),this.mode=!0,this.pasteParser=function(){},this.pasteAction=function(){},this.customSelection=!1,this.rowRange=!1,this.blocked=!0,this.registerTableOption("clipboard",!1),this.registerTableOption("clipboardCopyStyled",!0),this.registerTableOption("clipboardCopyConfig",!1),this.registerTableOption("clipboardCopyFormatter",!1),this.registerTableOption("clipboardCopyRowRange","active"),this.registerTableOption("clipboardPasteParser","table"),this.registerTableOption("clipboardPasteAction","insert"),this.registerColumnOption("clipboard"),this.registerColumnOption("titleClipboard")}initialize(){this.mode=this.table.options.clipboard,this.rowRange=this.table.options.clipboardCopyRowRange,(!0===this.mode||"copy"===this.mode)&&this.table.element.addEventListener("copy",r=>{var o,l;if(!this.blocked){if(r.preventDefault(),this.customSelection)o=this.customSelection,this.table.options.clipboardCopyFormatter&&(o=this.table.options.clipboardCopyFormatter("plain",o));else{var p=this.table.modules.export.generateExportList(this.table.options.clipboardCopyConfig,this.table.options.clipboardCopyStyled,this.rowRange,"clipboard");o=(l=this.table.modules.export.genereateHTMLTable(p))?this.generatePlainContent(p):"",this.table.options.clipboardCopyFormatter&&(o=this.table.options.clipboardCopyFormatter("plain",o),l=this.table.options.clipboardCopyFormatter("html",l))}window.clipboardData&&window.clipboardData.setData?window.clipboardData.setData("Text",o):r.clipboardData&&r.clipboardData.setData?(r.clipboardData.setData("text/plain",o),l&&r.clipboardData.setData("text/html",l)):r.originalEvent&&r.originalEvent.clipboardData.setData&&(r.originalEvent.clipboardData.setData("text/plain",o),l&&r.originalEvent.clipboardData.setData("text/html",l)),this.dispatchExternal("clipboardCopied",o,l),this.reset()}}),(!0===this.mode||"paste"===this.mode)&&this.table.element.addEventListener("paste",r=>{this.paste(r)}),this.setPasteParser(this.table.options.clipboardPasteParser),this.setPasteAction(this.table.options.clipboardPasteAction),this.registerTableFunction("copyToClipboard",this.copy.bind(this))}reset(){this.blocked=!0,this.customSelection=!1}generatePlainContent(r){var o=[];return r.forEach(l=>{var p=[];l.columns.forEach(y=>{var S="";if(y)if("group"===l.type&&(y.value=y.component.getKey()),null===y.value)S="";else switch(typeof y.value){case"object":S=JSON.stringify(y.value);break;case"undefined":S="";break;default:S=y.value}p.push(S)}),o.push(p.join("\t"))}),o.join("\n")}copy(l,o){var p,y;this.blocked=!1,this.customSelection=!1,(!0===this.mode||"copy"===this.mode)&&(this.rowRange=l||this.table.options.clipboardCopyRowRange,void 0!==window.getSelection&&void 0!==document.createRange?((l=document.createRange()).selectNodeContents(this.table.element),(p=window.getSelection()).toString()&&o&&(this.customSelection=p.toString()),p.removeAllRanges(),p.addRange(l)):void 0!==document.selection&&void 0!==document.body.createTextRange&&((y=document.body.createTextRange()).moveToElementText(this.table.element),y.select()),document.execCommand("copy"),p&&p.removeAllRanges())}setPasteAction(r){switch(typeof r){case"string":this.pasteAction=g.pasteActions[r],this.pasteAction||console.warn("Clipboard Error - No such paste action found:",r);break;case"function":this.pasteAction=r}}setPasteParser(r){switch(typeof r){case"string":this.pasteParser=g.pasteParsers[r],this.pasteParser||console.warn("Clipboard Error - No such paste parser found:",r);break;case"function":this.pasteParser=r}}paste(r){var o,l,p;this.checkPaseOrigin(r)&&(o=this.getPasteData(r),(l=this.pasteParser.call(this,o))?(r.preventDefault(),this.table.modExists("mutator")&&(l=this.mutateData(l)),p=this.pasteAction.call(this,l),this.dispatchExternal("clipboardPasted",o,l,p)):this.dispatchExternal("clipboardPasteError",o))}mutateData(r){var o=[];return Array.isArray(r)?r.forEach(l=>{o.push(this.table.modules.mutator.transformRow(l,"clipboard"))}):o=r,o}checkPaseOrigin(r){var o=!0;return("DIV"!=r.target.tagName||this.table.modules.edit.currentCell)&&(o=!1),o}getPasteData(r){var o;return window.clipboardData&&window.clipboardData.getData?o=window.clipboardData.getData("Text"):r.clipboardData&&r.clipboardData.getData?o=r.clipboardData.getData("text/plain"):r.originalEvent&&r.originalEvent.clipboardData.getData&&(o=r.originalEvent.clipboardData.getData("text/plain")),o}}return g.moduleName="clipboard",g.pasteActions=jf,g.pasteParsers=gh,g})();class Yp{constructor(s){return this._row=s,new Proxy(this,{get:function(r,o,l){return void 0!==r[o]?r[o]:r._row.table.componentFunctionBinder.handle("row",r._row,o)}})}getData(s){return this._row.getData(s)}getElement(){return this._row.getElement()}getTable(){return this._row.table}getCells(){var s=[];return this._row.getCells().forEach(function(r){s.push(r.getComponent())}),s}getCell(s){var r=this._row.getCell(s);return!!r&&r.getComponent()}_getSelf(){return this._row}}class eh{constructor(s){return this._cell=s,new Proxy(this,{get:function(r,o,l){return void 0!==r[o]?r[o]:r._cell.table.componentFunctionBinder.handle("cell",r._cell,o)}})}getValue(){return this._cell.getValue()}getOldValue(){return this._cell.getOldValue()}getInitialValue(){return this._cell.initialValue}getElement(){return this._cell.getElement()}getRow(){return this._cell.row.getComponent()}getData(){return this._cell.row.getData()}getField(){return this._cell.column.getField()}getColumn(){return this._cell.column.getComponent()}setValue(s,r){void 0===r&&(r=!0),this._cell.setValue(s,r)}restoreOldValue(){this._cell.setValueActual(this._cell.getOldValue())}restoreInitialValue(){this._cell.setValueActual(this._cell.initialValue)}checkHeight(){this._cell.checkHeight()}getTable(){return this._cell.table}_getSelf(){return this._cell}}class Oh extends tu{constructor(s,r){super(s.table),this.table=s.table,this.column=s,this.row=r,this.element=null,this.value=null,this.oldValue=null,this.modules={},this.height=null,this.width=null,this.minWidth=null,this.component=null,this.loaded=!1,this.build()}build(){this.generateElement(),this.setWidth(),this._configureCell(),this.setValueActual(this.column.getFieldValue(this.row.data)),this.initialValue=this.value}generateElement(){this.element=document.createElement("div"),this.element.className="tabulator-cell",this.element.setAttribute("role","gridcell"),this.element=this.element}_configureCell(){var s=this.element,r=this.column.getField();s.style.textAlign=this.column.hozAlign,this.column.vertAlign&&(s.style.display="inline-flex",s.style.alignItems={top:"flex-start",bottom:"flex-end",middle:"center"}[this.column.vertAlign]||"",this.column.hozAlign&&(s.style.justifyContent={left:"flex-start",right:"flex-end",center:"center"}[this.column.hozAlign]||"")),r&&s.setAttribute("tabulator-field",r),this.column.definition.cssClass&&this.column.definition.cssClass.split(" ").forEach(y=>{s.classList.add(y)}),"hover"===this.table.options.tooltipGenerationMode&&s.addEventListener("mouseenter",y=>{this._generateTooltip()}),this.dispatch("cell-init",this),this.column.visible||this.hide()}_generateContents(){var s;switch(typeof(s=this.chain("cell-format",this,null,()=>this.element.innerHTML=this.value))){case"object":if(s instanceof Node){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.appendChild(s)}else this.element.innerHTML="",null!=s&&console.warn("Format Error - Formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",s);break;case"undefined":case"null":this.element.innerHTML="";break;default:this.element.innerHTML=s}}cellRendered(){this.dispatch("cell-rendered",this)}_generateTooltip(){var s=this.column.tooltip;s?(!0===s?s=this.value:"function"==typeof s&&!1===(s=s(this.getComponent()))&&(s=""),void 0===s&&(s=""),this.element.setAttribute("title",s)):this.element.setAttribute("title","")}getElement(s){return this.loaded||(this.loaded=!0,s||this.layoutElement()),this.element}getValue(){return this.value}getOldValue(){return this.oldValue}setValue(s,r){this.setValueProcessData(s,r)&&(this.dispatch("cell-value-updated",this),this.cellRendered(),this.dispatchExternal("cellEdited",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()))}setValueProcessData(s,r){var o=!1;return this.value!=s&&(o=!0,r&&(s=this.chain("cell-value-changing",[this,s],null,s))),this.setValueActual(s),o&&this.dispatch("cell-value-changed",this),o}setValueActual(s){this.oldValue=this.value,this.value=s,this.dispatch("cell-value-save-before",this),this.column.setFieldValue(this.row.data,s),this.dispatch("cell-value-save-after",this),this.loaded&&this.layoutElement()}layoutElement(){this._generateContents(),this._generateTooltip(),this.dispatch("cell-layout",this)}setWidth(){this.width=this.column.width,this.element.style.width=this.column.widthStyled}clearWidth(){this.width="",this.element.style.width=""}getWidth(){return this.width||this.element.offsetWidth}setMinWidth(){this.minWidth=this.column.minWidth,this.element.style.minWidth=this.column.minWidthStyled}setMaxWidth(){this.maxWidth=this.column.maxWidth,this.element.style.maxWidth=this.column.maxWidthStyled}checkHeight(){this.row.reinitializeHeight()}clearHeight(){this.element.style.height="",this.height=null}setHeight(){this.height=this.row.height,this.element.style.height=this.row.heightStyled}getHeight(){return this.height||this.element.offsetHeight}show(){this.element.style.display=this.column.vertAlign?"inline-flex":""}hide(){this.element.style.display="none"}delete(){this.dispatch("cell-delete",this),!this.table.rowManager.redrawBlock&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.column.deleteCell(this),this.row.deleteCell(this),this.calcs={}}getIndex(){return this.row.getCellIndex(this)}getComponent(){return this.component||(this.component=new eh(this)),this.component}}class Xp{constructor(s){return this._column=s,this.type="ColumnComponent",new Proxy(this,{get:function(r,o,l){return void 0!==r[o]?r[o]:r._column.table.componentFunctionBinder.handle("column",r._column,o)}})}getElement(){return this._column.getElement()}getDefinition(){return this._column.getDefinition()}getField(){return this._column.getField()}getCells(){var s=[];return this._column.cells.forEach(function(r){s.push(r.getComponent())}),s}isVisible(){return this._column.visible}show(){this._column.isGroup?this._column.columns.forEach(function(s){s.show()}):this._column.show()}hide(){this._column.isGroup?this._column.columns.forEach(function(s){s.hide()}):this._column.hide()}toggle(){this._column.visible?this.hide():this.show()}delete(){return this._column.delete()}getSubColumns(){var s=[];return this._column.columns.length&&this._column.columns.forEach(function(r){s.push(r.getComponent())}),s}getParentColumn(){return this._column.parent instanceof Column&&this._column.parent.getComponent()}_getSelf(){return this._column}scrollTo(){return this._column.table.columnManager.scrollToColumn(this._column)}getTable(){return this._column.table}move(s,r){var o=this._column.table.columnManager.findColumn(s);o?this._column.table.columnManager.moveColumn(this._column,o,r):console.warn("Move Error - No matching column found:",o)}getNextColumn(){var s=this._column.nextColumn();return!!s&&s.getComponent()}getPrevColumn(){var s=this._column.prevColumn();return!!s&&s.getComponent()}updateDefinition(s){return this._column.updateDefinition(s)}getWidth(){return this._column.getWidth()}setWidth(s){var r;return r=!0===s?this._column.reinitializeWidth(!0):this._column.setWidth(s),this._column.table.columnManager.renderer.rerenderColumns(!0),r}}var zf={title:void 0,field:void 0,columns:void 0,visible:void 0,hozAlign:void 0,vertAlign:void 0,width:void 0,minWidth:40,maxWidth:void 0,tooltip:void 0,cssClass:void 0,variableHeight:void 0,headerTooltip:void 0,headerVertical:void 0,headerHozAlign:void 0,editableTitle:void 0};let mh=(()=>{class g extends tu{constructor(r,o){super(o.table),this.definition=r,this.parent=o,this.type="column",this.columns=[],this.cells=[],this.element=this.createElement(),this.contentElement=!1,this.titleHolderElement=!1,this.titleElement=!1,this.groupElement=this.createGroupElement(),this.isGroup=!1,this.tooltip=!1,this.hozAlign="",this.vertAlign="",this.field="",this.fieldStructure="",this.getFieldValue="",this.setFieldValue="",this.titleFormatterRendered=!1,this.mapDefinitions(),this.setField(this.definition.field),this.modules={},this.width=null,this.widthStyled="",this.maxWidth=null,this.maxWidthStyled="",this.minWidth=null,this.minWidthStyled="",this.widthFixed=!1,this.visible=!0,this.component=null,this.definition.columns?(this.isGroup=!0,this.definition.columns.forEach((l,p)=>{var y=new g(l,this);this.attachColumn(y)}),this.checkColumnVisibility()):o.registerColumnField(this),this._initialize(),this.bindModuleColumns()}createElement(){var r=document.createElement("div");return r.classList.add("tabulator-col"),r.setAttribute("role","columnheader"),r.setAttribute("aria-sort","none"),r}createGroupElement(){var r=document.createElement("div");return r.classList.add("tabulator-col-group-cols"),r}mapDefinitions(){var r=this.table.options.columnDefaults;if(r)for(let o in r)void 0===this.definition[o]&&(this.definition[o]=r[o]);this.definition=this.table.columnManager.optionsList.generate(g.defaultOptionList,this.definition)}checkDefinition(){Object.keys(this.definition).forEach(r=>{-1===g.defaultOptionList.indexOf(r)&&console.warn("Invalid column definition option in '"+(this.field||this.definition.title)+"' column:",r)})}setField(r){this.field=r,this.fieldStructure=r?this.table.options.nestedFieldSeparator?r.split(this.table.options.nestedFieldSeparator):[r]:[],this.getFieldValue=this.fieldStructure.length>1?this._getNestedData:this._getFlatData,this.setFieldValue=this.fieldStructure.length>1?this._setNestedData:this._setFlatData}registerColumnPosition(r){this.parent.registerColumnPosition(r)}registerColumnField(r){this.parent.registerColumnField(r)}reRegisterPosition(){this.isGroup?this.columns.forEach(function(r){r.reRegisterPosition()}):this.registerColumnPosition(this)}_mapDepricatedFunctionality(){}setTooltip(){var r=this.definition,o=void 0===r.headerTooltip?r.tooltip:r.headerTooltip;o?!0===o?r.field?this.langBind("columns|"+r.field,l=>{this.element.setAttribute("title",l||r.title)}):this.element.setAttribute("title",r.title):("function"==typeof o&&!1===(o=o(this.getComponent()))&&(o=""),this.element.setAttribute("title",o)):this.element.setAttribute("title","")}_initialize(){for(var r=this.definition;this.element.firstChild;)this.element.removeChild(this.element.firstChild);r.headerVertical&&(this.element.classList.add("tabulator-col-vertical"),"flip"===r.headerVertical&&this.element.classList.add("tabulator-col-vertical-flip")),this.contentElement=this._bindEvents(),this.contentElement=this._buildColumnHeaderContent(),this.element.appendChild(this.contentElement),this.isGroup?this._buildGroupHeader():this._buildColumnHeader(),this.setTooltip(),this.dispatch("column-init",this),this.element.addEventListener("mouseenter",o=>{this.setTooltip()})}_bindEvents(){var o,l,p,r=this.definition;"function"==typeof r.headerClick&&this.element.addEventListener("click",y=>{r.headerClick(y,this.getComponent())}),"function"==typeof r.headerDblClick&&this.element.addEventListener("dblclick",y=>{r.headerDblClick(y,this.getComponent())}),"function"==typeof r.headerContext&&this.element.addEventListener("contextmenu",y=>{r.headerContext(y,this.getComponent())}),"function"==typeof r.headerTap&&(p=!1,this.element.addEventListener("touchstart",y=>{p=!0},{passive:!0}),this.element.addEventListener("touchend",y=>{p&&r.headerTap(y,this.getComponent()),p=!1})),"function"==typeof r.headerDblTap&&(o=null,this.element.addEventListener("touchend",y=>{o?(clearTimeout(o),o=null,r.headerDblTap(y,this.getComponent())):o=setTimeout(()=>{clearTimeout(o),o=null},300)})),"function"==typeof r.headerTapHold&&(l=null,this.element.addEventListener("touchstart",y=>{clearTimeout(l),l=setTimeout(function(){clearTimeout(l),l=null,p=!1,r.headerTapHold(y,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",y=>{clearTimeout(l),l=null}))}_buildColumnHeader(){var r=this.definition;this.dispatch("column-layout",this),void 0!==r.visible&&(r.visible?this.show(!0):this.hide(!0)),r.cssClass&&r.cssClass.split(" ").forEach(p=>{this.element.classList.add(p)}),r.field&&this.element.setAttribute("tabulator-field",r.field),this.setMinWidth(parseInt(r.minWidth)),r.maxWidth&&this.setMaxWidth(parseInt(r.maxWidth)),this.reinitializeWidth(),this.tooltip=this.definition.tooltip,this.hozAlign=this.definition.hozAlign,this.vertAlign=this.definition.vertAlign,this.titleElement.style.textAlign=this.definition.headerHozAlign}_buildColumnHeaderContent(){var l=document.createElement("div");return l.classList.add("tabulator-col-content"),this.titleHolderElement=document.createElement("div"),this.titleHolderElement.classList.add("tabulator-col-title-holder"),l.appendChild(this.titleHolderElement),this.titleElement=this._buildColumnHeaderTitle(),this.titleHolderElement.appendChild(this.titleElement),l}_buildColumnHeaderTitle(){var r=this.definition,o=document.createElement("div");if(o.classList.add("tabulator-col-title"),r.editableTitle){var l=document.createElement("input");l.classList.add("tabulator-title-editor"),l.addEventListener("click",p=>{p.stopPropagation(),l.focus()}),l.addEventListener("change",()=>{r.title=l.value,this.dispatchExternal("columnTitleChanged",this.getComponent())}),o.appendChild(l),r.field?this.langBind("columns|"+r.field,p=>{l.value=p||r.title||"&nbsp;"}):l.value=r.title||"&nbsp;"}else r.field?this.langBind("columns|"+r.field,p=>{this._formatColumnHeaderTitle(o,p||r.title||"&nbsp;")}):this._formatColumnHeaderTitle(o,r.title||"&nbsp;");return o}_formatColumnHeaderTitle(r,o){var l=this.chain("column-format",[this,o,r],null,()=>o);switch(typeof l){case"object":l instanceof Node?r.appendChild(l):(r.innerHTML="",console.warn("Format Error - Title formatter has returned a type of object, the only valid formatter object return is an instance of Node, the formatter returned:",l));break;case"undefined":case"null":r.innerHTML="";break;default:r.innerHTML=l}}_buildGroupHeader(){this.element.classList.add("tabulator-col-group"),this.element.setAttribute("role","columngroup"),this.element.setAttribute("aria-title",this.definition.title),this.definition.cssClass&&this.definition.cssClass.split(" ").forEach(o=>{this.element.classList.add(o)}),this.titleElement.style.textAlign=this.definition.headerHozAlign,this.element.appendChild(this.groupElement)}_getFlatData(r){return r[this.field]}_getNestedData(r){var y,o=r,l=this.fieldStructure,p=l.length;for(let S=0;S<p&&(y=o=o[l[S]],o);S++);return y}_setFlatData(r,o){this.field&&(r[this.field]=o)}_setNestedData(r,o){var l=r,p=this.fieldStructure,y=p.length;for(let S=0;S<y;S++)if(S==y-1)l[p[S]]=o;else{if(!l[p[S]]){if(void 0===o)break;l[p[S]]={}}l=l[p[S]]}}attachColumn(r){this.groupElement?(this.columns.push(r),this.groupElement.appendChild(r.getElement())):console.warn("Column Warning - Column being attached to another column instead of column group")}verticalAlign(r,o){var l=this.parent.isGroup?this.parent.getGroupElement().clientHeight:o||this.parent.getHeadersElement().clientHeight;this.element.style.height=l+"px",this.isGroup&&(this.groupElement.style.minHeight=l-this.contentElement.offsetHeight+"px"),!this.isGroup&&"top"!==r&&(this.element.style.paddingTop="bottom"===r?this.element.clientHeight-this.contentElement.offsetHeight+"px":(this.element.clientHeight-this.contentElement.offsetHeight)/2+"px"),this.columns.forEach(function(p){p.verticalAlign(r)})}clearVerticalAlign(){this.element.style.paddingTop="",this.element.style.height="",this.element.style.minHeight="",this.groupElement.style.minHeight="",this.columns.forEach(function(r){r.clearVerticalAlign()})}bindModuleColumns(){"rownum"==this.definition.formatter&&(this.table.rowManager.rowNumColumn=this)}getElement(){return this.element}getGroupElement(){return this.groupElement}getField(){return this.field}getFirstColumn(){return this.isGroup?!!this.columns.length&&this.columns[0].getFirstColumn():this}getLastColumn(){return this.isGroup?!!this.columns.length&&this.columns[this.columns.length-1].getLastColumn():this}getColumns(){return this.columns}getCells(){return this.cells}getTopColumn(){return this.parent.isGroup?this.parent.getTopColumn():this}getDefinition(r){var o=[];return this.isGroup&&r&&(this.columns.forEach(function(l){o.push(l.getDefinition(!0))}),this.definition.columns=o),this.definition}checkColumnVisibility(){var r=!1;this.columns.forEach(function(o){o.visible&&(r=!0)}),r?(this.show(),this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1)):this.hide()}show(r,o){this.visible||(this.visible=!0,this.element.style.display="",this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(l){l.show()}),!this.isGroup&&null===this.width&&this.reinitializeWidth(),this.table.columnManager.verticalAlignHeaders(),this.dispatch("column-show",this,o),r||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!0),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}hide(r,o){this.visible&&(this.visible=!1,this.element.style.display="none",this.table.columnManager.verticalAlignHeaders(),this.parent.isGroup&&this.parent.checkColumnVisibility(),this.cells.forEach(function(l){l.hide()}),this.dispatch("column-hide",this),r||this.dispatchExternal("columnVisibilityChanged",this.getComponent(),!1),this.parent.isGroup&&this.parent.matchChildWidths(),this.silent||this.table.columnManager.renderer.rerenderColumns())}matchChildWidths(){var r=0;this.contentElement&&this.columns.length&&(this.columns.forEach(function(o){o.visible&&(r+=o.getWidth())}),this.contentElement.style.maxWidth=r-1+"px",this.parent.isGroup&&this.parent.matchChildWidths())}removeChild(r){var o=this.columns.indexOf(r);o>-1&&this.columns.splice(o,1),this.columns.length||this.delete()}setWidth(r){this.widthFixed=!0,this.setWidthActual(r)}setWidthActual(r){isNaN(r)&&(r=Math.floor(this.table.element.clientWidth/100*parseInt(r))),r=Math.max(this.minWidth,r),this.maxWidth&&(r=Math.min(this.maxWidth,r)),this.width=r,this.widthStyled=r?r+"px":"",this.element.style.width=this.widthStyled,this.isGroup||this.cells.forEach(function(o){o.setWidth()}),this.parent.isGroup&&this.parent.matchChildWidths(),this.dispatch("column-width",this)}checkCellHeights(){var r=[];this.cells.forEach(function(o){o.row.heightInitialized&&(null!==o.row.getElement().offsetParent?(r.push(o.row),o.row.clearCellHeight()):o.row.heightInitialized=!1)}),r.forEach(function(o){o.calcHeight()}),r.forEach(function(o){o.setCellHeight()})}getWidth(){var r=0;return this.isGroup?this.columns.forEach(function(o){o.visible&&(r+=o.getWidth())}):r=this.width,r}getHeight(){return this.element.offsetHeight}setMinWidth(r){this.minWidth=r,this.minWidthStyled=r?r+"px":"",this.element.style.minWidth=this.minWidthStyled,this.cells.forEach(function(o){o.setMinWidth()})}setMaxWidth(r){this.maxWidth=r,this.maxWidthStyled=r?r+"px":"",this.element.style.maxWidth=this.maxWidthStyled,this.cells.forEach(function(o){o.setMaxWidth()})}delete(){return new Promise((r,o)=>{this.isGroup&&this.columns.forEach(function(p){p.delete()}),this.dispatch("column-delete",this);var l=this.cells.length;for(let p=0;p<l;p++)this.cells[0].delete();this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=!1,this.contentElement=!1,this.titleElement=!1,this.groupElement=!1,this.parent.isGroup&&this.parent.removeChild(this),this.table.columnManager.deregisterColumn(this),this.table.columnManager.renderer.rerenderColumns(!0),r()})}columnRendered(){this.titleFormatterRendered&&this.titleFormatterRendered()}generateCell(r){var o=new Oh(this,r);return this.cells.push(o),o}nextColumn(){var r=this.table.columnManager.findColumnIndex(this);return r>-1&&this._nextVisibleColumn(r+1)}_nextVisibleColumn(r){var o=this.table.columnManager.getColumnByIndex(r);return!o||o.visible?o:this._nextVisibleColumn(r+1)}prevColumn(){var r=this.table.columnManager.findColumnIndex(this);return r>-1&&this._prevVisibleColumn(r-1)}_prevVisibleColumn(r){var o=this.table.columnManager.getColumnByIndex(r);return!o||o.visible?o:this._prevVisibleColumn(r-1)}reinitializeWidth(r){this.widthFixed=!1,void 0!==this.definition.width&&!r&&this.setWidth(this.definition.width),this.dispatch("column-width-fit-before",this),this.fitToData(),this.dispatch("column-width-fit-after",this)}fitToData(){if(!this.isGroup){this.widthFixed||(this.element.style.width="",this.cells.forEach(o=>{o.clearWidth()}));var r=this.element.offsetWidth;(!this.width||!this.widthFixed)&&(this.cells.forEach(o=>{var l=o.getWidth();l>r&&(r=l)}),r&&this.setWidthActual(r+1))}}updateDefinition(r){var o;return this.isGroup||this.parent.isGroup?(console.error("Column Update Error - The updateDefinition function is only available on ungrouped columns"),Promise.reject("Column Update Error - The updateDefinition function is only available on columns, not column groups")):(o=Object.assign({},this.getDefinition()),o=Object.assign(o,r),this.table.columnManager.addColumn(o,!1,this).then(l=>(o.field==this.field&&(this.field=!1),this.delete().then(()=>l.getComponent()))))}deleteCell(r){var o=this.cells.indexOf(r);o>-1&&this.cells.splice(o,1)}getComponent(){return this.component||(this.component=new Xp(this)),this.component}}return g.defaultOptionList=zf,g})();class cp{constructor(s){return this._row=s,new Proxy(this,{get:function(r,o,l){return void 0!==r[o]?r[o]:r._row.table.componentFunctionBinder.handle("row",r._row,o)}})}getData(s){return this._row.getData(s)}getElement(){return this._row.getElement()}getCells(){var s=[];return this._row.getCells().forEach(function(r){s.push(r.getComponent())}),s}getCell(s){var r=this._row.getCell(s);return!!r&&r.getComponent()}getIndex(){return this._row.getData("data")[this._row.table.options.index]}getPosition(s){return this._row.table.rowManager.getRowPosition(this._row,s)}delete(){return this._row.delete()}scrollTo(){return this._row.table.rowManager.scrollToRow(this._row)}move(s,r){this._row.moveToRow(s,r)}update(s){return this._row.updateData(s)}normalizeHeight(){this._row.normalizeHeight(!0)}_getSelf(){return this._row}reformat(){return this._row.reinitialize()}getTable(){return this._row.table}getNextRow(){var s=this._row.nextRow();return s&&s.getComponent()}getPrevRow(){var s=this._row.prevRow();return s&&s.getComponent()}}class $o extends tu{constructor(s,r,o="row"){super(r.table),this.parent=r,this.data={},this.type=o,this.element=!1,this.modules={},this.cells=[],this.height=0,this.heightStyled="",this.manualHeight=!1,this.outerHeight=0,this.initialized=!1,this.heightInitialized=!1,this.component=null,this.created=!1,this.setData(s)}create(){this.created||(this.created=!0,this.generateElement())}createElement(){var s=document.createElement("div");s.classList.add("tabulator-row"),s.setAttribute("role","row"),this.element=s}getElement(){return this.create(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}generateElement(){this.createElement(),this.dispatch("row-init",this)}generateCells(){this.cells=this.table.columnManager.generateCells(this)}initialize(s){if(this.create(),!this.initialized||s){for(this.deleteCells();this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.dispatch("row-layout-before",this),this.generateCells(),this.table.columnManager.renderer.renderRowCells(this),s&&this.normalizeHeight(),this.dispatch("row-layout",this),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent()),this.initialized=!0,this.dispatch("row-layout-after",this)}else this.table.columnManager.renderer.rerenderRowCells(this)}reinitializeHeight(){this.heightInitialized=!1,this.element&&null!==this.element.offsetParent&&this.normalizeHeight(!0)}deinitializeHeight(){this.heightInitialized=!1}reinitialize(s){this.initialized=!1,this.heightInitialized=!1,this.manualHeight||(this.height=0,this.heightStyled=""),this.element&&null!==this.element.offsetParent&&this.initialize(!0),this.dispatch("row-relayout",this)}calcHeight(s){var r=0,o=this.table.options.resizableRows?this.element.clientHeight:0;this.cells.forEach(function(l){var p=l.getHeight();p>r&&(r=p)}),this.height=s?Math.max(r,o):this.manualHeight?this.height:Math.max(r,o),this.heightStyled=this.height?this.height+"px":"",this.outerHeight=this.element.offsetHeight}setCellHeight(){this.cells.forEach(function(s){s.setHeight()}),this.heightInitialized=!0}clearCellHeight(){this.cells.forEach(function(s){s.clearHeight()})}normalizeHeight(s){s&&this.clearCellHeight(),this.calcHeight(s),this.setCellHeight()}setHeight(s,r){(this.height!=s||r)&&(this.manualHeight=!0,this.height=s,this.heightStyled=s?s+"px":"",this.setCellHeight(),this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getWidth(){return this.element.offsetWidth}deleteCell(s){var r=this.cells.indexOf(s);r>-1&&this.cells.splice(r,1)}setData(s){this.data=this.chain("row-data-init-before",[this,s],void 0,s),this.dispatch("row-data-init-after",this)}updateData(s){var l,r=this.element&&Us.elVisible(this.element),o={};return new Promise((p,y)=>{for(var S in"string"==typeof s&&(s=JSON.parse(s)),this.dispatch("row-data-save-before",this),this.subscribed("row-data-changing")&&(o=Object.assign(o,this.data),o=Object.assign(o,s)),l=this.chain("row-data-changing",[this,o,s],null,s))this.data[S]=l[S];for(var S in this.dispatch("row-data-save-after",this),s)this.table.columnManager.getColumnsByFieldRoot(S).forEach(J=>{let pe=this.getCell(J.getField());if(pe){let Fe=J.getFieldValue(l);pe.getValue()!=Fe&&(pe.setValueProcessData(Fe),r&&pe.cellRendered())}});r?(this.normalizeHeight(!0),this.table.options.rowFormatter&&this.table.options.rowFormatter(this.getComponent())):(this.initialized=!1,this.height=0,this.heightStyled=""),this.dispatch("row-data-changed",this,r,s),this.dispatchExternal("rowUpdated",this.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),p()})}getData(s){return s?this.chain("row-data-retrieve",[this,s],null,this.data):this.data}getCell(s){return s=this.table.columnManager.findColumn(s),this.initialized||this.generateCells(),this.cells.find(function(o){return o.column===s})}getCellIndex(s){return this.cells.findIndex(function(r){return r===s})}findCell(s){return this.cells.find(r=>r.element===s)}getCells(){return this.initialized||this.generateCells(),this.cells}nextRow(){return this.table.rowManager.nextDisplayRow(this,!0)||!1}prevRow(){return this.table.rowManager.prevDisplayRow(this,!0)||!1}moveToRow(s,r){var o=this.table.rowManager.findRow(s);o?(this.table.rowManager.moveRowActual(this,o,!r),this.table.rowManager.refreshActiveData("display",!1,!0)):console.warn("Move Error - No matching row found:",s)}delete(){return this.dispatch("row-delete",this),this.deleteActual(),Promise.resolve()}deleteActual(s){this.table.rowManager.getRowIndex(this),this.detatchModules(),this.table.rowManager.deleteRow(this,s),this.deleteCells(),this.initialized=!1,this.heightInitialized=!1,this.element=!1,this.dispatch("row-deleted",this)}detatchModules(){this.dispatch("row-deleting",this)}deleteCells(){var s=this.cells.length;for(let r=0;r<s;r++)this.cells[0].delete()}wipe(){if(this.detatchModules(),this.deleteCells(),this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.element.parentNode&&this.element.parentNode.removeChild(this.element)}this.element=!1,this.modules={}}getGroup(){return this.modules.group||!1}getComponent(){return this.component||(this.component=new cp(this)),this.component}}var bc={avg:function(g,s,r){var o=0,l=void 0!==r.precision?r.precision:2;return g.length&&(o=g.reduce(function(p,y){return Number(p)+Number(y)}),o/=g.length,o=!1!==l?o.toFixed(l):o),parseFloat(o).toString()},max:function(g,s,r){var o=null,l=void 0!==r.precision&&r.precision;return g.forEach(function(p){((p=Number(p))>o||null===o)&&(o=p)}),null!==o?!1!==l?o.toFixed(l):o:""},min:function(g,s,r){var o=null,l=void 0!==r.precision&&r.precision;return g.forEach(function(p){((p=Number(p))<o||null===o)&&(o=p)}),null!==o?!1!==l?o.toFixed(l):o:""},sum:function(g,s,r){var o=0,l=void 0!==r.precision&&r.precision;return g.length&&g.forEach(function(p){p=Number(p),o+=isNaN(p)?0:Number(p)}),!1!==l?o.toFixed(l):o},concat:function(g,s,r){var o=0;return g.length&&(o=g.reduce(function(l,p){return String(l)+String(p)})),o},count:function(g,s,r){var o=0;return g.length&&g.forEach(function(l){l&&o++}),o}};let up=(()=>{class g extends mo{constructor(r){super(r),this.topCalcs=[],this.botCalcs=[],this.genColumn=!1,this.topElement=this.createElement(),this.botElement=this.createElement(),this.topRow=!1,this.botRow=!1,this.topInitialized=!1,this.botInitialized=!1,this.registerTableOption("columnCalcs",!0),this.registerColumnOption("topCalc"),this.registerColumnOption("topCalcParams"),this.registerColumnOption("topCalcFormatter"),this.registerColumnOption("topCalcFormatterParams"),this.registerColumnOption("bottomCalc"),this.registerColumnOption("bottomCalcParams"),this.registerColumnOption("bottomCalcFormatter"),this.registerColumnOption("bottomCalcFormatterParams")}createElement(){var r=document.createElement("div");return r.classList.add("tabulator-calcs-holder"),r}initialize(){this.genColumn=new mh({field:"value"},this),this.subscribe("cell-value-changed",this.cellValueChanged.bind(this)),this.subscribe("column-init",this.initializeColumnCheck.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("column-moved",this.recalcActiveRows.bind(this)),this.subscribe("column-add",this.recalcActiveRows.bind(this)),this.subscribe("data-refeshed",this.recalcActiveRows.bind(this)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.registerTableFunction("getCalcResults",this.getResults.bind(this)),this.registerTableFunction("recalc",this.userRecalc.bind(this))}tableRedraw(r){this.recalc(this.table.rowManager.activeRows),r&&this.redraw()}userRecalc(){this.recalc(this.table.rowManager.activeRows)}rowsUpdated(r){this.table.options.groupBy?this.recalcRowGroup(this):this.recalcActiveRows()}recalcActiveRows(){this.recalc(this.table.rowManager.activeRows)}cellValueChanged(r){(r.column.definition.topCalc||r.column.definition.bottomCalc)&&(this.table.options.groupBy?(("table"==this.table.options.columnCalcs||"both"==this.table.options.columnCalcs)&&this.recalcActiveRows(),"table"!=this.table.options.columnCalcs&&this.recalcRowGroup(r.row)):this.recalcActiveRows())}initializeColumnCheck(r){(r.definition.topCalc||r.definition.bottomCalc)&&this.initializeColumn(r)}initializeColumn(r){var o=r.definition,l={topCalcParams:o.topCalcParams||{},botCalcParams:o.bottomCalcParams||{}};if(o.topCalc){switch(typeof o.topCalc){case"string":g.calculations[o.topCalc]?l.topCalc=g.calculations[o.topCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",o.topCalc);break;case"function":l.topCalc=o.topCalc}l.topCalc&&(r.modules.columnCalcs=l,this.topCalcs.push(r),"group"!=this.table.options.columnCalcs&&this.initializeTopRow())}if(o.bottomCalc){switch(typeof o.bottomCalc){case"string":g.calculations[o.bottomCalc]?l.botCalc=g.calculations[o.bottomCalc]:console.warn("Column Calc Error - No such calculation found, ignoring: ",o.bottomCalc);break;case"function":l.botCalc=o.bottomCalc}l.botCalc&&(r.modules.columnCalcs=l,this.botCalcs.push(r),"group"!=this.table.options.columnCalcs&&this.initializeBottomRow())}}registerColumnField(){}removeCalcs(){var r=!1;this.topInitialized&&(this.topInitialized=!1,this.topElement.parentNode.removeChild(this.topElement),r=!0),this.botInitialized&&(this.botInitialized=!1,this.table.footerManager.remove(this.botElement),r=!0),r&&this.table.rowManager.adjustTableSize()}initializeTopRow(){this.topInitialized||(this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.topInitialized=!0)}initializeBottomRow(){this.botInitialized||(this.table.footerManager.prepend(this.botElement),this.botInitialized=!0)}scrollHorizontal(r){this.botInitialized&&this.botRow&&(this.botRow.getElement().style.marginLeft=-r+"px")}recalc(r){var o;if(this.topInitialized||this.botInitialized){if(this.rowsToData(r),this.topInitialized){for(this.topRow&&this.topRow.deleteCells(),o=this.generateRow("top",this.rowsToData(r)),this.topRow=o;this.topElement.firstChild;)this.topElement.removeChild(this.topElement.firstChild);this.topElement.appendChild(o.getElement()),o.initialize(!0)}if(this.botInitialized){for(this.botRow&&this.botRow.deleteCells(),o=this.generateRow("bottom",this.rowsToData(r)),this.botRow=o;this.botElement.firstChild;)this.botElement.removeChild(this.botElement.firstChild);this.botElement.appendChild(o.getElement()),o.initialize(!0)}this.table.rowManager.adjustTableSize(),this.table.modExists("frozenColumns")&&this.table.modules.frozenColumns.layout()}}recalcRowGroup(r){this.recalcGroup(this.table.modules.groupRows.getRowGroup(r))}recalcAll(){(this.topCalcs.length||this.botCalcs.length)&&("group"!==this.table.options.columnCalcs&&this.recalcActiveRows(),this.table.options.groupBy&&"table"!==this.table.options.columnCalcs)&&this.table.modules.groupRows.getChildGroups().forEach(o=>{this.recalcGroup(o)})}recalcGroup(r){var o,l;r&&r.calcs&&(r.calcs.bottom&&(o=this.rowsToData(r.rows),l=this.generateRowData("bottom",o),r.calcs.bottom.updateData(l),r.calcs.bottom.reinitialize()),r.calcs.top&&(o=this.rowsToData(r.rows),l=this.generateRowData("top",o),r.calcs.top.updateData(l),r.calcs.top.reinitialize()))}generateTopRow(r){return this.generateRow("top",this.rowsToData(r))}generateBottomRow(r){return this.generateRow("bottom",this.rowsToData(r))}rowsToData(r){var o=[];return r.forEach(l=>{if(o.push(l.getData()),this.table.options.dataTree&&this.table.options.dataTreeChildColumnCalcs&&l.modules.dataTree.open){var p=this.rowsToData(this.table.modules.dataTree.getFilteredTreeChildren(l));o=o.concat(p)}}),o}generateRow(r,o){var p,l=this.generateRowData(r,o);return this.table.modExists("mutator")&&this.table.modules.mutator.disable(),p=new $o(l,this,"calc"),this.table.modExists("mutator")&&this.table.modules.mutator.enable(),p.getElement().classList.add("tabulator-calcs","tabulator-calcs-"+r),p.component=!1,p.getComponent=()=>(p.component||(p.component=new Yp(this)),p.component),p.generateCells=()=>{var y=[];this.table.columnManager.columnsByIndex.forEach(S=>{this.genColumn.setField(S.getField()),this.genColumn.hozAlign=S.hozAlign,this.genColumn.modules.format=S.definition[r+"CalcFormatter"]&&this.table.modExists("format")?{formatter:this.table.modules.format.getFormatter(S.definition[r+"CalcFormatter"]),params:S.definition[r+"CalcFormatterParams"]||{}}:{formatter:this.table.modules.format.getFormatter("plaintext"),params:{}},this.genColumn.definition.cssClass=S.definition.cssClass;var I=new Oh(this.genColumn,p);I.getElement(),I.column=S,I.setWidth(),S.cells.push(I),y.push(I),S.visible||I.hide()}),p.cells=y},p}generateRowData(r,o){var S,I,l={},y="top"==r?"topCalc":"botCalc";return("top"==r?this.topCalcs:this.botCalcs).forEach(function(N){var J=[];N.modules.columnCalcs&&N.modules.columnCalcs[y]&&(o.forEach(function(pe){J.push(N.getFieldValue(pe))}),S="function"==typeof N.modules.columnCalcs[I=y+"Params"]?N.modules.columnCalcs[I](J,o):N.modules.columnCalcs[I],N.setFieldValue(l,N.modules.columnCalcs[y](J,o,S)))}),l}hasTopCalcs(){return!!this.topCalcs.length}hasBottomCalcs(){return!!this.botCalcs.length}redraw(){this.topRow&&this.topRow.normalizeHeight(!0),this.botRow&&this.botRow.normalizeHeight(!0)}getResults(){var r={};return this.table.options.groupBy&&this.table.modExists("groupRows")?this.table.modules.groupRows.getGroups(!0).forEach(l=>{r[l.getKey()]=this.getGroupResults(l)}):r={top:this.topRow?this.topRow.getData():{},bottom:this.botRow?this.botRow.getData():{}},r}getGroupResults(r){var o=r._getSelf(),l=r.getSubGroups(),p={};return l.forEach(S=>{p[S.getKey()]=this.getGroupResults(S)}),{top:o.calcs.top?o.calcs.top.getData():{},bottom:o.calcs.bottom?o.calcs.bottom.getData():{},groups:p}}}return g.moduleName="columnCalcs",g.calculations=bc,g})(),kh=(()=>{class g extends mo{constructor(r){super(r),this.indent=10,this.field="",this.collapseEl=null,this.expandEl=null,this.branchEl=null,this.elementField=!1,this.startOpen=function(){},this.displayIndex=0,this.registerTableOption("dataTree",!1),this.registerTableOption("dataTreeFilter",!0),this.registerTableOption("dataTreeSort",!0),this.registerTableOption("dataTreeElementColumn",!1),this.registerTableOption("dataTreeBranchElement",!0),this.registerTableOption("dataTreeChildIndent",9),this.registerTableOption("dataTreeChildField","_children"),this.registerTableOption("dataTreeCollapseElement",!1),this.registerTableOption("dataTreeExpandElement",!1),this.registerTableOption("dataTreeStartExpanded",!1),this.registerTableOption("dataTreeChildColumnCalcs",!1),this.registerTableOption("dataTreeSelectPropagate",!1),this.registerComponentFunction("row","treeCollapse",this.collapseRow.bind(this)),this.registerComponentFunction("row","treeExpand",this.expandRow.bind(this)),this.registerComponentFunction("row","treeToggle",this.toggleRow.bind(this)),this.registerComponentFunction("row","getTreeParent",this.getTreeParent.bind(this)),this.registerComponentFunction("row","getTreeChildren",this.getRowChildren.bind(this)),this.registerComponentFunction("row","addTreeChild",this.addTreeChildRow.bind(this))}initialize(){if(this.table.options.dataTree){var r=null,o=this.table.columnManager.getFirstVisibileColumn(),l=this.table.options;switch(this.field=l.dataTreeChildField,this.indent=l.dataTreeChildIndent,this.elementField=l.dataTreeElementColumn||!!o&&o.field,l.dataTreeBranchElement&&(!0===l.dataTreeBranchElement?(this.branchEl=document.createElement("div"),this.branchEl.classList.add("tabulator-data-tree-branch")):"string"==typeof l.dataTreeBranchElement?((r=document.createElement("div")).innerHTML=l.dataTreeBranchElement,this.branchEl=r.firstChild):this.branchEl=l.dataTreeBranchElement),l.dataTreeCollapseElement?"string"==typeof l.dataTreeCollapseElement?((r=document.createElement("div")).innerHTML=l.dataTreeCollapseElement,this.collapseEl=r.firstChild):this.collapseEl=l.dataTreeCollapseElement:(this.collapseEl=document.createElement("div"),this.collapseEl.classList.add("tabulator-data-tree-control"),this.collapseEl.tabIndex=0,this.collapseEl.innerHTML="<div class='tabulator-data-tree-control-collapse'></div>"),l.dataTreeExpandElement?"string"==typeof l.dataTreeExpandElement?((r=document.createElement("div")).innerHTML=l.dataTreeExpandElement,this.expandEl=r.firstChild):this.expandEl=l.dataTreeExpandElement:(this.expandEl=document.createElement("div"),this.expandEl.classList.add("tabulator-data-tree-control"),this.expandEl.tabIndex=0,this.expandEl.innerHTML="<div class='tabulator-data-tree-control-expand'></div>"),typeof l.dataTreeStartExpanded){case"boolean":this.startOpen=function(p,y){return l.dataTreeStartExpanded};break;case"function":this.startOpen=l.dataTreeStartExpanded;break;default:this.startOpen=function(p,y){return l.dataTreeStartExpanded[y]}}this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout-after",this.layoutRow.bind(this)),this.subscribe("row-relayout",this.layoutRow.bind(this)),this.subscribe("row-deleted",this.rowDelete.bind(this),0),this.subscribe("row-data-changed",this.rowDataChanged.bind(this),10),this.subscribe("column-moving-rows",this.columnMoving.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),30)}}getRowChildren(r){return this.getTreeChildren(r,!0)}columnMoving(){var r=[];return this.table.rowManager.rows.forEach(o=>{r=r.concat(this.getTreeChildren(o,!1,!0))}),r}rowDataChanged(r,o,l){this.redrawNeeded(l)&&(this.initializeRow(r),o&&(this.layoutRow(r),this.refreshData(!0)))}initializeRow(r){var o=r.getData()[this.field],l=Array.isArray(o),p=l||!l&&"object"==typeof o&&null!==o;!p&&r.modules.dataTree&&r.modules.dataTree.branchEl&&r.modules.dataTree.branchEl.parentNode.removeChild(r.modules.dataTree.branchEl),!p&&r.modules.dataTree&&r.modules.dataTree.controlEl&&r.modules.dataTree.controlEl.parentNode.removeChild(r.modules.dataTree.controlEl),r.modules.dataTree={index:r.modules.dataTree?r.modules.dataTree.index:0,open:!!p&&(r.modules.dataTree?r.modules.dataTree.open:this.startOpen(r.getComponent(),0)),controlEl:!(!r.modules.dataTree||!p)&&r.modules.dataTree.controlEl,branchEl:!(!r.modules.dataTree||!p)&&r.modules.dataTree.branchEl,parent:!!r.modules.dataTree&&r.modules.dataTree.parent,children:p}}reinitializeRowChildren(r){this.getTreeChildren(r,!1,!0).forEach(function(l){l.reinitialize(!0)})}layoutRow(r){var l=(this.elementField?r.getCell(this.elementField):r.getCells()[0]).getElement(),p=r.modules.dataTree;p.branchEl&&(p.branchEl.parentNode&&p.branchEl.parentNode.removeChild(p.branchEl),p.branchEl=!1),p.controlEl&&(p.controlEl.parentNode&&p.controlEl.parentNode.removeChild(p.controlEl),p.controlEl=!1),this.generateControlElement(r,l),r.getElement().classList.add("tabulator-tree-level-"+p.index),p.index&&(this.branchEl?(p.branchEl=this.branchEl.cloneNode(!0),l.insertBefore(p.branchEl,l.firstChild),this.table.rtl?p.branchEl.style.marginRight=(p.branchEl.offsetWidth+p.branchEl.style.marginLeft)*(p.index-1)+p.index*this.indent+"px":p.branchEl.style.marginLeft=(p.branchEl.offsetWidth+p.branchEl.style.marginRight)*(p.index-1)+p.index*this.indent+"px"):this.table.rtl?l.style.paddingRight=parseInt(window.getComputedStyle(l,null).getPropertyValue("padding-right"))+p.index*this.indent+"px":l.style.paddingLeft=parseInt(window.getComputedStyle(l,null).getPropertyValue("padding-left"))+p.index*this.indent+"px")}generateControlElement(r,p){var l=r.modules.dataTree,y=(p=p||r.getCells()[0].getElement(),l.controlEl);!1!==l.children&&(l.open?(l.controlEl=this.collapseEl.cloneNode(!0),l.controlEl.addEventListener("click",S=>{S.stopPropagation(),this.collapseRow(r)})):(l.controlEl=this.expandEl.cloneNode(!0),l.controlEl.addEventListener("click",S=>{S.stopPropagation(),this.expandRow(r)})),l.controlEl.addEventListener("mousedown",S=>{S.stopPropagation()}),y&&y.parentNode===p?y.parentNode.replaceChild(l.controlEl,y):p.insertBefore(l.controlEl,p.firstChild))}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}getRows(r){var o=[];return r.forEach((l,p)=>{var y;o.push(l),l instanceof $o&&(l.create(),!(y=l.modules.dataTree.children).index&&!1!==y.children&&this.getChildren(l).forEach(I=>{I.create(),o.push(I)}))}),o}getChildren(r,o){var l=r.modules.dataTree,p=[],y=[];return!1!==l.children&&(l.open||o)&&(Array.isArray(l.children)||(l.children=this.generateChildren(r)),p=this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(l.children):l.children,this.table.modExists("sort")&&this.table.options.dataTreeSort&&this.table.modules.sort.sort(p),p.forEach(S=>{y.push(S),this.getChildren(S).forEach(N=>{y.push(N)})})),y}generateChildren(r){var o=[],l=r.getData()[this.field];return Array.isArray(l)||(l=[l]),l.forEach(p=>{var y=new $o(p||{},this.table.rowManager);y.create(),y.modules.dataTree.index=r.modules.dataTree.index+1,y.modules.dataTree.parent=r,y.modules.dataTree.children&&(y.modules.dataTree.open=this.startOpen(y.getComponent(),y.modules.dataTree.index)),o.push(y)}),o}expandRow(r,o){var l=r.modules.dataTree;!1!==l.children&&(l.open=!0,r.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowExpanded",r.getComponent(),r.modules.dataTree.index))}collapseRow(r){var o=r.modules.dataTree;!1!==o.children&&(o.open=!1,r.reinitialize(),this.refreshData(!0),this.dispatchExternal("dataTreeRowCollapsed",r.getComponent(),r.modules.dataTree.index))}toggleRow(r){var o=r.modules.dataTree;!1!==o.children&&(o.open?this.collapseRow(r):this.expandRow(r))}getTreeParent(r){return!!r.modules.dataTree.parent&&r.modules.dataTree.parent.getComponent()}getFilteredTreeChildren(r){var o=r.modules.dataTree,l=[];return o.children&&(Array.isArray(o.children)||(o.children=this.generateChildren(r)),(this.table.modExists("filter")&&this.table.options.dataTreeFilter?this.table.modules.filter.filter(o.children):o.children).forEach(y=>{y instanceof $o&&l.push(y)})),l}rowDelete(r){var l,o=r.modules.dataTree.parent;o&&(!1!==(l=this.findChildIndex(r,o))&&o.data[this.field].splice(l,1),o.data[this.field].length||delete o.data[this.field],this.initializeRow(o),this.layoutRow(o)),this.refreshData(!0)}addTreeChildRow(r,o,l,p){var y=!1;"string"==typeof o&&(o=JSON.parse(o)),Array.isArray(r.data[this.field])||(r.data[this.field]=[],r.modules.dataTree.open=this.startOpen(r.getComponent(),r.modules.dataTree.index)),void 0!==p&&!1!==(y=this.findChildIndex(p,r))&&r.data[this.field].splice(l?y:y+1,0,o),!1===y&&(l?r.data[this.field].unshift(o):r.data[this.field].push(o)),this.initializeRow(r),this.layoutRow(r),this.refreshData(!0)}findChildIndex(r,o){var l=!1;return"object"==typeof r?r instanceof $o?l=r.data:r instanceof RowComponent?l=r._getSelf().data:"undefined"!=typeof HTMLElement&&r instanceof HTMLElement&&o.modules.dataTree&&(l=o.modules.dataTree.children.find(p=>p instanceof $o&&p.element===r))&&(l=l.data):l=null!=r&&o.data[this.field].find(p=>p.data[this.table.options.index]==r),l&&(Array.isArray(o.data[this.field])&&(l=o.data[this.field].indexOf(l)),-1==l&&(l=!1)),l}getTreeChildren(r,o,l){var p=r.modules.dataTree,y=[];return p.children&&(Array.isArray(p.children)||(p.children=this.generateChildren(r)),p.children.forEach(S=>{S instanceof $o&&(y.push(o?S.getComponent():S),l&&(y=y.concat(this.getTreeChildren(S,o,l))))})),y}checkForRestyle(r){r.row.cells.indexOf(r)||this.layoutRow(r.row)}getChildField(){return this.field}redrawNeeded(r){return!!this.field&&void 0!==r[this.field]||!!this.elementField&&void 0!==r[this.elementField]}}return g.moduleName="dataTree",g})();var Ph={csv:function Vd(g,s,r){var o=s&&s.delimiter?s.delimiter:",",l=[],p=[];g.forEach(y=>{var S=[];switch(y.type){case"group":console.warn("Download Warning - CSV downloader cannot process row groups");break;case"calc":console.warn("Download Warning - CSV downloader cannot process column calculations");break;case"header":y.columns.forEach((I,N)=>{I&&1===I.depth&&(p[N]=null==I.value?"":'"'+String(I.value).split('"').join('""')+'"')});break;case"row":y.columns.forEach(I=>{if(I){switch(typeof I.value){case"object":I.value=JSON.stringify(I.value);break;case"undefined":case"null":I.value=""}S.push('"'+String(I.value).split('"').join('""')+'"')}}),l.push(S.join(o))}}),p.length&&l.unshift(p.join(o)),l=l.join("\n"),s.bom&&(l="\ufeff"+l),r(l,"text/csv")},json:function Lh(g,s,r){var o=[];g.forEach(l=>{var p={};switch(l.type){case"header":break;case"group":console.warn("Download Warning - JSON downloader cannot process row groups");break;case"calc":console.warn("Download Warning - JSON downloader cannot process column calculations");break;case"row":l.columns.forEach(y=>{y&&(p[y.component.getField()]=y.value)}),o.push(p)}}),r(o=JSON.stringify(o,null,"\t"),"application/json")},pdf:function Ud(g,s,r){var o=[],l=[],p={},y=s.rowGroupStyles||{fontStyle:"bold",fontSize:12,cellPadding:6,fillColor:220},S=s.rowCalcStyles||{fontStyle:"bold",fontSize:10,cellPadding:4,fillColor:232},I=s.jsPDF||{},N=s&&s.title?s.title:"";function J(Fe,Qe){var Ct=[];return Fe.columns.forEach(Lt=>{var Gt;if(Lt){switch(typeof Lt.value){case"object":Lt.value=JSON.stringify(Lt.value);break;case"undefined":case"null":Lt.value=""}Gt={content:Lt.value,colSpan:Lt.width,rowSpan:Lt.height},Qe&&(Gt.styles=Qe),Ct.push(Gt)}else Ct.push("")}),Ct}I.orientation||(I.orientation=s.orientation||"landscape"),I.unit||(I.unit="pt"),g.forEach(Fe=>{switch(Fe.type){case"header":o.push(J(Fe));break;case"group":l.push(J(Fe,y));break;case"calc":l.push(J(Fe,S));break;case"row":l.push(J(Fe))}});var pe=new jspdf.jsPDF(I);s&&s.autoTable&&(p="function"==typeof s.autoTable?s.autoTable(pe)||{}:s.autoTable),N&&(p.didDrawPage=function(Fe){pe.text(N,40,30)}),p.head=o,p.body=l,pe.autoTable(p),s&&s.documentProcessing&&s.documentProcessing(pe),r(pe.output("arraybuffer"),"application/pdf")},xlsx:function _h(g,s,r){var l=s.sheetName||"Sheet1",p=XLSX.utils.book_new(),y=new tu(this);function I(){var pe=[],Fe=[],Qe={},Ct={s:{c:0,r:0},e:{c:g[0]?g[0].columns.reduce((Lt,Gt)=>Lt+(Gt&&Gt.width?Gt.width:1),0):0,r:g.length}};return g.forEach((Lt,Gt)=>{var Yt=[];Lt.columns.forEach(function(Ci,on){Ci?(Yt.push(Ci.value instanceof Date||"object"!=typeof Ci.value?Ci.value:JSON.stringify(Ci.value)),(Ci.width>1||Ci.height>-1)&&Fe.push({s:{r:Gt,c:on},e:{r:Gt+Ci.height-1,c:on+Ci.width-1}})):Yt.push("")}),pe.push(Yt)}),XLSX.utils.sheet_add_aoa(Qe,pe),Qe["!ref"]=XLSX.utils.encode_range(Ct),Fe.length&&(Qe["!merges"]=Fe),Qe}if(p.SheetNames=[],p.Sheets={},s.sheetOnly)r(I());else{if(s.sheets)for(var N in s.sheets)!0===s.sheets[N]?(p.SheetNames.push(N),p.Sheets[N]=I()):(p.SheetNames.push(N),y.commsSend(s.sheets[N],"download","intercept",{type:"xlsx",options:{sheetOnly:!0},active:this.active,intercept:function(pe){p.Sheets[N]=pe}}));else p.SheetNames.push(l),p.Sheets[l]=I();s.documentProcessing&&(p=s.documentProcessing(p)),r(function J(pe){for(var Fe=new ArrayBuffer(pe.length),Qe=new Uint8Array(Fe),Ct=0;Ct!=pe.length;++Ct)Qe[Ct]=255&pe.charCodeAt(Ct);return Fe}(XLSX.write(p,{bookType:"xlsx",bookSST:!0,type:"binary"})),"application/octet-stream")}},html:function Qu(g,s,r){this.modExists("export",!0)&&r(this.modules.export.genereateHTMLTable(g),"text/html")}};let Nh=(()=>{class g extends mo{constructor(r){super(r),this.registerTableOption("downloadReady",function(o,l){return l}),this.registerTableOption("downloadConfig",{}),this.registerTableOption("downloadRowRange","active"),this.registerColumnOption("download"),this.registerColumnOption("titleDownload")}initialize(){this.registerTableFunction("download",this.download.bind(this)),this.registerTableFunction("downloadToTab",this.downloadToTab.bind(this))}downloadToTab(r,o,l,p){this.download(r,o,l,p,!0)}download(r,o,l,p,y){var S=!1;if("function"==typeof r?S=r:g.downloaders[r]?S=g.downloaders[r]:console.warn("Download Error - No such download type found: ",r),S){var N=this.generateExportList(p);S.call(this.table,N,l||{},function I(J,pe){y?!0===y?this.triggerDownload(J,pe,r,o,!0):y(J):this.triggerDownload(J,pe,r,o)}.bind(this))}}generateExportList(r){var o=this.table.modules.export.generateExportList(this.table.options.downloadConfig,!1,r||this.table.options.downloadRowRange,"download"),l=this.table.options.groupHeaderDownload;return l&&!Array.isArray(l)&&(l=[l]),o.forEach(p=>{var y;"group"===p.type&&(y=p.columns[0],l&&l[p.indent]&&(y.value=l[p.indent](y.value,p.component._group.getRowCount(),p.component._group.getData(),p.component)))}),o}triggerDownload(r,o,l,N,y){var S=document.createElement("a"),I=new Blob([r],{type:o});N=N||"Tabulator."+("function"==typeof l?"txt":l),(I=this.table.options.downloadReady(r,I))&&(y?window.open(window.URL.createObjectURL(I)):navigator.msSaveOrOpenBlob?navigator.msSaveOrOpenBlob(I,N):(S.setAttribute("href",window.URL.createObjectURL(I)),S.setAttribute("download",N),S.style.display="none",document.body.appendChild(S),S.click(),document.body.removeChild(S)),this.dispatchExternal("downloadComplete"))}commsReceived(r,o,l){"intercept"===o&&this.download(l.type,"",l.options,l.active,l.intercept)}}return g.moduleName="download",g.downloaders=Ph,g})();function md(g,s){var r=s.mask,o=void 0!==s.maskLetterChar?s.maskLetterChar:"A",l=void 0!==s.maskNumberChar?s.maskNumberChar:"9",p=void 0!==s.maskWildcardChar?s.maskWildcardChar:"*";function y(S){var I=r[S];void 0!==I&&I!==p&&I!==o&&I!==l&&(g.value=g.value+""+I,y(S+1))}g.addEventListener("keydown",S=>{var I=g.value.length,N=S.key;if(S.keyCode>46){if(I>=r.length)return S.preventDefault(),S.stopPropagation(),!1;switch(r[I]){case o:if(N.toUpperCase()==N.toLowerCase())return S.preventDefault(),S.stopPropagation(),!1;break;case l:if(isNaN(N))return S.preventDefault(),S.stopPropagation(),!1;break;case p:break;default:if(N!==r[I])return S.preventDefault(),S.stopPropagation(),!1}}}),g.addEventListener("keyup",S=>{S.keyCode>46&&s.maskAutoFill&&y(g.value.length)}),g.placeholder||(g.placeholder=r),s.maskAutoFill&&y(g.value.length)}var Wd={input:function dp(g,s,r,o,l){var p=g.getValue(),y=document.createElement("input");if(y.setAttribute("type",l.search?"search":"text"),y.style.padding="4px",y.style.width="100%",y.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let I in l.elementAttributes)"+"==I.charAt(0)?(I=I.slice(1),y.setAttribute(I,y.getAttribute(I)+l.elementAttributes["+"+I])):y.setAttribute(I,l.elementAttributes[I]);function S(I){null==p&&""!==y.value||y.value!==p?r(y.value)&&(p=y.value):o()}return y.value=void 0!==p?p:"",s(function(){y.focus({preventScroll:!0}),y.style.height="100%"}),y.addEventListener("change",S),y.addEventListener("blur",S),y.addEventListener("keydown",function(I){switch(I.keyCode){case 13:S();break;case 27:o();break;case 35:case 36:I.stopPropagation()}}),l.mask&&md(y,l),y},textarea:function Fh(g,s,r,o,l){var p=g.getValue(),y=l.verticalNavigation||"hybrid",S=String(null!=p?p:""),N=(S.match(/(?:\r\n|\r|\n)/g),document.createElement("textarea")),J=0;if(N.style.display="block",N.style.padding="2px",N.style.height="100%",N.style.width="100%",N.style.boxSizing="border-box",N.style.whiteSpace="pre-wrap",N.style.resize="none",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let Fe in l.elementAttributes)"+"==Fe.charAt(0)?(Fe=Fe.slice(1),N.setAttribute(Fe,N.getAttribute(Fe)+l.elementAttributes["+"+Fe])):N.setAttribute(Fe,l.elementAttributes[Fe]);function pe(Fe){null==p&&""!==N.value||N.value!==p?(r(N.value)&&(p=N.value),setTimeout(function(){g.getRow().normalizeHeight()},300)):o()}return N.value=S,s(function(){N.focus({preventScroll:!0}),N.style.height="100%",N.style.height=N.scrollHeight+"px",g.getRow().normalizeHeight()}),N.addEventListener("change",pe),N.addEventListener("blur",pe),N.addEventListener("keyup",function(){N.style.height="";var Fe=N.scrollHeight;N.style.height=Fe+"px",Fe!=J&&(J=Fe,g.getRow().normalizeHeight())}),N.addEventListener("keydown",function(Fe){switch(Fe.keyCode){case 27:o();break;case 38:("editor"==y||"hybrid"==y&&N.selectionStart)&&(Fe.stopImmediatePropagation(),Fe.stopPropagation());break;case 40:("editor"==y||"hybrid"==y&&N.selectionStart!==N.value.length)&&(Fe.stopImmediatePropagation(),Fe.stopPropagation());break;case 35:case 36:Fe.stopPropagation()}}),l.mask&&md(N,l),N},number:function hp(g,s,r,o,l){var p=g.getValue(),y=l.verticalNavigation||"editor",S=document.createElement("input");if(S.setAttribute("type","number"),void 0!==l.max&&S.setAttribute("max",l.max),void 0!==l.min&&S.setAttribute("min",l.min),void 0!==l.step&&S.setAttribute("step",l.step),S.style.padding="4px",S.style.width="100%",S.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let J in l.elementAttributes)"+"==J.charAt(0)?(J=J.slice(1),S.setAttribute(J,S.getAttribute(J)+l.elementAttributes["+"+J])):S.setAttribute(J,l.elementAttributes[J]);S.value=p;var I=function(J){N()};function N(){var J=S.value;!isNaN(J)&&""!==J&&(J=Number(J)),J!==p?r(J)&&(p=J):o()}return s(function(){S.removeEventListener("blur",I),S.focus({preventScroll:!0}),S.style.height="100%",S.addEventListener("blur",I)}),S.addEventListener("keydown",function(J){switch(J.keyCode){case 13:N();break;case 27:o();break;case 38:case 40:"editor"==y&&(J.stopImmediatePropagation(),J.stopPropagation());break;case 35:case 36:J.stopPropagation()}}),l.mask&&md(S,l),S},range:function vh(g,s,r,o,l){var p=g.getValue(),y=document.createElement("input");if(y.setAttribute("type","range"),void 0!==l.max&&y.setAttribute("max",l.max),void 0!==l.min&&y.setAttribute("min",l.min),void 0!==l.step&&y.setAttribute("step",l.step),y.style.padding="4px",y.style.width="100%",y.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let I in l.elementAttributes)"+"==I.charAt(0)?(I=I.slice(1),y.setAttribute(I,y.getAttribute(I)+l.elementAttributes["+"+I])):y.setAttribute(I,l.elementAttributes[I]);function S(){var I=y.value;!isNaN(I)&&""!==I&&(I=Number(I)),I!=p?r(I)&&(p=I):o()}return y.value=p,s(function(){y.focus({preventScroll:!0}),y.style.height="100%"}),y.addEventListener("blur",function(I){S()}),y.addEventListener("keydown",function(I){switch(I.keyCode){case 13:S();break;case 27:o()}}),y},select:function Gd(g,s,r,o,l){var p=this,y=g.getElement(),S=g.getValue(),I=l.verticalNavigation||"editor",N=void 0!==S||null===S?Array.isArray(S)?S:[S]:void 0!==l.defaultValue?l.defaultValue:[],J=document.createElement("input"),pe=document.createElement("div"),Fe=l.multiselect,Qe=[],Ct={},Lt=[],Gt=[],Yt=!0,Ci=!1,on="",Ki=null;function Vi(Ni){var Jo,Dn={},Kr=p.table.getData();return(Jo=Ni?p.table.columnManager.getColumnByField(Ni):g.getColumn()._getSelf())?Kr.forEach(function(el){var lc=Jo.getFieldValue(el);null!=lc&&""!==lc&&(Dn[lc]=!0)}):console.warn("unable to find matching column to create select lookup list:",Ni),Object.keys(Dn)}function Rn(Ni,Dn){!Fe&&Ct&&Ct.element&&Ct.element.classList.remove("active"),Ct&&Ct.element&&Ct.element.classList.remove("focused"),Ct=Ni,Ni.element&&(Ni.element.classList.add("focused"),Dn&&Ni.element.classList.add("active")),Ni&&Ni.element&&Ni.element.scrollIntoView&&Ni.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function Vn(Ni){-1==Gt.indexOf(Ni)&&(Gt.push(Ni),Rn(Ni,!0)),mn()}function Tn(Ni){var Dn=Gt[Ni];Ni>-1&&(Gt.splice(Ni,1),Dn.element&&Dn.element.classList.remove("active"))}function qi(Ni){Ni||(Ni=Ct);var Dn=Gt.indexOf(Ni);Dn>-1?Tn(Dn):(!0!==Fe&&Gt.length>=Fe&&Tn(0),Vn(Ni)),mn()}function Wn(Ni){ji(),Ni||(Ni=Ct),Ni&&(J.value=Ni.label,r(Ni.value)),N=[Ni.value]}function pr(Ni){Ni||ji();var Dn=[];Gt.forEach(Kr=>{Dn.push(Kr.value)}),N=Dn,r(Dn)}function mn(){var Ni=[];Gt.forEach(Dn=>{Ni.push(Dn.label)}),J.value=Ni.join(", "),!1===p.currentCell&&pr(!0)}function gr(){ji(),o()}function ji(){pe.parentNode&&pe.parentNode.removeChild(pe),function tn(){p.table.rowManager.element.removeEventListener("scroll",gr)}()}if((Array.isArray(l)||!Array.isArray(l)&&"object"==typeof l&&!l.values)&&(console.warn("DEPRECATION WARNING - values for the select editor must now be passed into the values property of the editorParams object, not as the editorParams object"),l={values:l}),J.setAttribute("type","text"),J.style.padding="4px",J.style.width="100%",J.style.boxSizing="border-box",J.style.cursor="default",J.readOnly=0!=this.currentCell,l.elementAttributes&&"object"==typeof l.elementAttributes)for(let Ni in l.elementAttributes)"+"==Ni.charAt(0)?(Ni=Ni.slice(1),J.setAttribute(Ni,J.getAttribute(Ni)+l.elementAttributes["+"+Ni])):J.setAttribute(Ni,l.elementAttributes[Ni]);return J.value=void 0!==S||null===S?S:"",J.addEventListener("search",function(Ni){J.value||(function En(){var Ni=Gt.length;for(let Dn=0;Dn<Ni;Dn++)Tn(0)}(),pr())}),J.addEventListener("keydown",function(Ni){var Dn;switch(Ni.keyCode){case 38:Dn=Qe.indexOf(Ct),("editor"==I||"hybrid"==I&&Dn)&&(Ni.stopImmediatePropagation(),Ni.stopPropagation(),Ni.preventDefault(),Dn>0&&Rn(Qe[Dn-1],!Fe));break;case 40:Dn=Qe.indexOf(Ct),("editor"==I||"hybrid"==I&&Dn<Qe.length-1)&&(Ni.stopImmediatePropagation(),Ni.stopPropagation(),Ni.preventDefault(),Dn<Qe.length-1&&Rn(-1==Dn?Qe[0]:Qe[Dn+1],!Fe));break;case 37:case 39:Ni.stopImmediatePropagation(),Ni.stopPropagation(),Ni.preventDefault();break;case 13:Fe?qi():Wn();break;case 27:gr();break;case 9:break;default:!1===p.currentCell&&Ni.preventDefault(),Ni.keyCode>=38&&Ni.keyCode<=90&&function Lr(Ni){clearTimeout(Ki);var Dn=String.fromCharCode(event.keyCode).toLowerCase();on+=Dn.toLowerCase();var Kr=Qe.find(Jo=>void 0!==Jo.label&&Jo.label.toLowerCase().startsWith(on));Kr&&Rn(Kr,!Fe),Ki=setTimeout(()=>{on=""},800)}()}}),J.addEventListener("blur",function(Ni){Yt&&(Fe?pr():gr())}),J.addEventListener("focus",function(Ni){Ci||function Wo(){if(Gt=[],!pe.parentNode){!function vn(Ni,Dn){var Kr=[],Jo=[];function el(ta){return Dn.indexOf((ta={label:ta.label,value:ta.value,itemParams:ta.itemParams,elementAttributes:ta.elementAttributes,element:!1}).value)>-1&&Vn(ta),Kr.push(ta),Jo.push(ta),ta}if("function"==typeof Ni&&(Ni=Ni(g)),Array.isArray(Ni))Ni.forEach(function(Tl){var ta;"object"==typeof Tl?Tl.options?(Jo.push(ta={label:Tl.label,group:!0,itemParams:Tl.itemParams,elementAttributes:Tl.elementAttributes,element:!1}),Tl.options.forEach(function(Eg){el(Eg)})):el(Tl):(Dn.indexOf((ta={label:Tl,value:Tl,element:!1}).value)>-1&&Vn(ta),Kr.push(ta),Jo.push(ta))});else for(var lc in Ni){var ed={label:Ni[lc],value:lc,element:!1};Dn.indexOf(ed.value)>-1&&Vn(ed),Kr.push(ed),Jo.push(ed)}l.sortValuesList&&(Kr.sort((Tl,ta)=>Tl.label<ta.label?-1:Tl.label>ta.label?1:0),Jo.sort((Tl,ta)=>Tl.label<ta.label?-1:Tl.label>ta.label?1:0),"asc"!==l.sortValuesList&&(Kr.reverse(),Jo.reverse())),Qe=Kr,Lt=Jo,function yn(){for(;pe.firstChild;)pe.removeChild(pe.firstChild);Lt.forEach(function(Ni){var Dn=Ni.element;if(!Dn){if(Dn=document.createElement("div"),Ni.label=l.listItemFormatter?l.listItemFormatter(Ni.value,Ni.label,g,Dn,Ni.itemParams):Ni.label,Ni.group?(Dn.classList.add("tabulator-edit-select-list-group"),Dn.tabIndex=0,Dn.innerHTML=""===Ni.label?"&nbsp;":Ni.label):(Dn.classList.add("tabulator-edit-select-list-item"),Dn.tabIndex=0,Dn.innerHTML=""===Ni.label?"&nbsp;":Ni.label,Dn.addEventListener("click",function(){Ci=!0,setTimeout(()=>{Ci=!1},10),Fe?(qi(Ni),J.focus()):Wn(Ni)}),Gt.indexOf(Ni)>-1&&Dn.classList.add("active")),Ni.elementAttributes&&"object"==typeof Ni.elementAttributes)for(let Kr in Ni.elementAttributes)"+"==Kr.charAt(0)?(Kr=Kr.slice(1),Dn.setAttribute(Kr,J.getAttribute(Kr)+Ni.elementAttributes["+"+Kr])):Dn.setAttribute(Kr,Ni.elementAttributes[Kr]);Dn.addEventListener("mousedown",function(){Yt=!1,setTimeout(function(){Yt=!0},10)}),Ni.element=Dn}pe.appendChild(Dn)})}()}(!0===l.values?Vi():"string"==typeof l.values?Vi(l.values):l.values||[],N);var Ni=Us.elOffset(y);pe.style.minWidth=y.offsetWidth+"px",pe.style.top=Ni.top+y.offsetHeight+"px",pe.style.left=Ni.left+"px",pe.addEventListener("mousedown",function(Dn){Yt=!1,setTimeout(function(){Yt=!0},10)}),document.body.appendChild(pe)}}()}),(pe=document.createElement("div")).classList.add("tabulator-edit-select-list"),s(function(){J.style.height="100%",J.focus({preventScroll:!0})}),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",gr)},10),J},autocomplete:function _d(g,s,r,o,l){var p=this,y=g.getElement(),S=g.getValue(),I=l.verticalNavigation||"editor",N=void 0!==S||null===S?S:void 0!==l.defaultValue?l.defaultValue:"",J=document.createElement("input"),pe=document.createElement("div"),Fe=[],Qe=!1,Ct=!0,Lt=!1;if(J.setAttribute("type","search"),J.style.padding="4px",J.style.width="100%",J.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let mn in l.elementAttributes)"+"==mn.charAt(0)?(mn=mn.slice(1),J.setAttribute(mn,J.getAttribute(mn)+l.elementAttributes["+"+mn])):J.setAttribute(mn,l.elementAttributes[mn]);function Gt(){!0===l.values?Lt=Yt():"string"==typeof l.values&&(Lt=Yt(l.values))}function Yt(mn){var Wo,En={},gr=p.table.getData();return(Wo=mn?p.table.columnManager.getColumnByField(mn):g.getColumn()._getSelf())?(gr.forEach(function(ji){var tn=Wo.getFieldValue(ji);null!=tn&&""!==tn&&(En[tn]=!0)}),En=l.sortValuesList?"asc"==l.sortValuesList?Object.keys(En).sort():Object.keys(En).sort().reverse():Object.keys(En)):console.warn("unable to find matching column to create autocomplete lookup list:",mn),En}function Ci(mn,En){var Wo,ji,gr=[];Wo=Lt||l.values||[],l.searchFunc?(gr=l.searchFunc(mn,Wo))instanceof Promise?(on(void 0!==l.searchingPlaceholder?l.searchingPlaceholder:"Searching..."),gr.then(tn=>{vn(Ki(tn),En)}).catch(tn=>{console.err("error in autocomplete search promise:",tn)})):vn(Ki(gr),En):(ji=Ki(Wo),""===mn?l.showListOnEmpty&&(gr=ji):ji.forEach(function(tn){(null!==tn.value||void 0!==tn.value)&&(String(tn.value).toLowerCase().indexOf(String(mn).toLowerCase())>-1||String(tn.title).toLowerCase().indexOf(String(mn).toLowerCase())>-1)&&gr.push(tn)}),vn(gr,En))}function on(mn){var En=document.createElement("div");Vi(),!1!==mn&&(En.classList.add("tabulator-edit-select-list-notice"),En.tabIndex=0,mn instanceof Node?En.appendChild(mn):En.innerHTML=mn,pe.appendChild(En))}function Ki(mn){var En=[];if(Array.isArray(mn))mn.forEach(function(ji){var tn={};"object"==typeof ji?(tn.title=l.listItemFormatter?l.listItemFormatter(ji.value,ji.label):ji.label,tn.value=ji.value):(tn.title=l.listItemFormatter?l.listItemFormatter(ji,ji):ji,tn.value=ji),En.push(tn)});else for(var gr in mn){var Wo={title:l.listItemFormatter?l.listItemFormatter(gr,mn[gr]):mn[gr],value:gr};En.push(Wo)}return En}function Vi(){for(;pe.firstChild;)pe.removeChild(pe.firstChild)}function vn(mn,En){mn.length?function yn(mn,En){var gr=!1;Vi(),(Fe=mn).forEach(function(Wo){var ji=Wo.element;ji||((ji=document.createElement("div")).classList.add("tabulator-edit-select-list-item"),ji.tabIndex=0,ji.innerHTML=Wo.title,ji.addEventListener("click",function(tn){Tn(Wo),Rn()}),ji.addEventListener("mousedown",function(tn){Ct=!1,setTimeout(function(){Ct=!0},10)}),Wo.element=ji,En&&Wo.value==S&&(J.value=Wo.title,Wo.element.classList.add("active"),gr=!0),Wo===Qe&&(Wo.element.classList.add("active"),gr=!0)),pe.appendChild(ji)}),gr||Tn(!1)}(mn,En):l.emptyPlaceholder&&on(l.emptyPlaceholder)}function Rn(){qi(),Qe?S!==Qe.value?(S=Qe.value,J.value=Qe.title,r(Qe.value)):o():l.freetext||l.allowEmpty&&""===J.value?(S=J.value,r(J.value)):o()}function Tn(mn,En){Qe&&Qe.element&&Qe.element.classList.remove("active"),Qe=mn,mn&&mn.element&&mn.element.classList.add("active"),mn&&mn.element&&mn.element.scrollIntoView&&mn.element.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})}function qi(){pe.parentNode&&pe.parentNode.removeChild(pe),function pr(){p.table.rowManager.element.removeEventListener("scroll",Wn)}()}function Wn(){qi(),o()}return pe.classList.add("tabulator-edit-select-list"),pe.addEventListener("mousedown",function(mn){Ct=!1,setTimeout(function(){Ct=!0},10)}),J.addEventListener("keydown",function(mn){var En;switch(mn.keyCode){case 38:En=Fe.indexOf(Qe),("editor"==I||"hybrid"==I&&En)&&(mn.stopImmediatePropagation(),mn.stopPropagation(),mn.preventDefault(),Tn(En>0&&Fe[En-1]));break;case 40:En=Fe.indexOf(Qe),("editor"==I||"hybrid"==I&&En<Fe.length-1)&&(mn.stopImmediatePropagation(),mn.stopPropagation(),mn.preventDefault(),En<Fe.length-1&&Tn(-1==En?Fe[0]:Fe[En+1]));break;case 37:case 39:mn.stopImmediatePropagation(),mn.stopPropagation();break;case 13:Rn();break;case 27:Wn();break;case 36:case 35:mn.stopImmediatePropagation()}}),J.addEventListener("keyup",function(mn){switch(mn.keyCode){case 38:case 37:case 39:case 40:case 13:case 27:break;default:Ci(J.value)}}),J.addEventListener("search",function(mn){Ci(J.value)}),J.addEventListener("blur",function(mn){Ct&&Rn()}),J.addEventListener("focus",function(mn){var En=N;Gt(),function Vn(){if(!pe.parentNode){for(;pe.firstChild;)pe.removeChild(pe.firstChild);var mn=Us.elOffset(y);pe.style.minWidth=y.offsetWidth+"px",pe.style.top=mn.top+y.offsetHeight+"px",pe.style.left=mn.left+"px",document.body.appendChild(pe)}}(),J.value=En,Ci(En,!0)}),s(function(){J.style.height="100%",J.focus({preventScroll:!0})}),l.mask&&md(J,l),setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",Wn)},10),Gt(),J.value=N,Ci(N,!0),J},star:function Bh(g,s,r,o,l){var p=this,y=g.getElement(),S=g.getValue(),I=y.getElementsByTagName("svg").length||5,N=y.getElementsByTagName("svg")[0]?y.getElementsByTagName("svg")[0].getAttribute("width"):14,J=[],pe=document.createElement("div"),Fe=document.createElementNS("http://www.w3.org/2000/svg","svg");function Qe(Yt){J.forEach(function(Ci,on){on<Yt?("ie"==p.table.browser?Ci.setAttribute("class","tabulator-star-active"):Ci.classList.replace("tabulator-star-inactive","tabulator-star-active"),Ci.innerHTML='<polygon fill="#488CE9" stroke="#014AAE" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>'):("ie"==p.table.browser?Ci.setAttribute("class","tabulator-star-inactive"):Ci.classList.replace("tabulator-star-active","tabulator-star-inactive"),Ci.innerHTML='<polygon fill="#010155" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>')})}function Ct(Yt){var Ci=document.createElement("span"),on=Fe.cloneNode(!0);J.push(on),Ci.addEventListener("mouseenter",function(Ki){Ki.stopPropagation(),Ki.stopImmediatePropagation(),Qe(Yt)}),Ci.addEventListener("mousemove",function(Ki){Ki.stopPropagation(),Ki.stopImmediatePropagation()}),Ci.addEventListener("click",function(Ki){Ki.stopPropagation(),Ki.stopImmediatePropagation(),r(Yt),y.blur()}),Ci.appendChild(on),pe.appendChild(Ci)}function Lt(Yt){S=Yt,Qe(Yt)}if(y.style.whiteSpace="nowrap",y.style.overflow="hidden",y.style.textOverflow="ellipsis",pe.style.verticalAlign="middle",pe.style.display="inline-block",pe.style.padding="4px",Fe.setAttribute("width",N),Fe.setAttribute("height",N),Fe.setAttribute("viewBox","0 0 512 512"),Fe.setAttribute("xml:space","preserve"),Fe.style.padding="0 1px",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let Yt in l.elementAttributes)"+"==Yt.charAt(0)?(Yt=Yt.slice(1),pe.setAttribute(Yt,pe.getAttribute(Yt)+l.elementAttributes["+"+Yt])):pe.setAttribute(Yt,l.elementAttributes[Yt]);for(var Gt=1;Gt<=I;Gt++)Ct(Gt);return Qe(S=Math.min(parseInt(S),I)),pe.addEventListener("mousemove",function(Yt){Qe(0)}),pe.addEventListener("click",function(Yt){r(0)}),y.addEventListener("blur",function(Yt){o()}),y.addEventListener("keydown",function(Yt){switch(Yt.keyCode){case 39:Lt(S+1);break;case 37:Lt(S-1);break;case 13:r(S);break;case 27:o()}}),pe},progress:function vd(g,s,r,o,l){var Lt,Gt,Fe,Qe,p=g.getElement(),y=void 0===l.max?(null==(Lt=p.getElementsByTagName("div")[0])?void 0:Lt.getAttribute("max"))||100:l.max,S=void 0===l.min?(null==(Gt=p.getElementsByTagName("div")[0])?void 0:Gt.getAttribute("min"))||0:l.min,I=(y-S)/100,N=g.getValue()||0,J=document.createElement("div"),pe=document.createElement("div");function Ct(){var Yt=window.getComputedStyle(p,null),Ci=I*Math.round(pe.offsetWidth/((p.clientWidth-parseInt(Yt.getPropertyValue("padding-left"))-parseInt(Yt.getPropertyValue("padding-right")))/100))+S;r(Ci),p.setAttribute("aria-valuenow",Ci),p.setAttribute("aria-label",N)}if(J.style.position="absolute",J.style.right="0",J.style.top="0",J.style.bottom="0",J.style.width="5px",J.classList.add("tabulator-progress-handle"),pe.style.display="inline-block",pe.style.position="relative",pe.style.height="100%",pe.style.backgroundColor="#488CE9",pe.style.maxWidth="100%",pe.style.minWidth="0%",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let Yt in l.elementAttributes)"+"==Yt.charAt(0)?(Yt=Yt.slice(1),pe.setAttribute(Yt,pe.getAttribute(Yt)+l.elementAttributes["+"+Yt])):pe.setAttribute(Yt,l.elementAttributes[Yt]);return p.style.padding="4px 4px",N=Math.min(parseFloat(N),y),N=Math.max(parseFloat(N),S),N=Math.round((N-S)/I),pe.style.width=N+"%",p.setAttribute("aria-valuemin",S),p.setAttribute("aria-valuemax",y),pe.appendChild(J),J.addEventListener("mousedown",function(Yt){Fe=Yt.screenX,Qe=pe.offsetWidth}),J.addEventListener("mouseover",function(){J.style.cursor="ew-resize"}),p.addEventListener("mousemove",function(Yt){Fe&&(pe.style.width=Qe+Yt.screenX-Fe+"px")}),p.addEventListener("mouseup",function(Yt){Fe&&(Yt.stopPropagation(),Yt.stopImmediatePropagation(),Fe=!1,Qe=!1,Ct())}),p.addEventListener("keydown",function(Yt){switch(Yt.keyCode){case 39:Yt.preventDefault(),pe.style.width=pe.clientWidth+p.clientWidth/100+"px";break;case 37:Yt.preventDefault(),pe.style.width=pe.clientWidth-p.clientWidth/100+"px";break;case 9:case 13:Ct();break;case 27:o()}}),p.addEventListener("blur",function(){o()}),pe},tickCross:function th(g,s,r,o,l){var p=g.getValue(),y=document.createElement("input"),S=l.tristate,I=void 0===l.indeterminateValue?null:l.indeterminateValue,N=!1;if(y.setAttribute("type","checkbox"),y.style.marginTop="5px",y.style.boxSizing="border-box",l.elementAttributes&&"object"==typeof l.elementAttributes)for(let pe in l.elementAttributes)"+"==pe.charAt(0)?(pe=pe.slice(1),y.setAttribute(pe,y.getAttribute(pe)+l.elementAttributes["+"+pe])):y.setAttribute(pe,l.elementAttributes[pe]);function J(pe){return S?pe?N?I:y.checked:y.checked&&!N?(y.checked=!1,y.indeterminate=!0,N=!0,I):(N=!1,y.checked):y.checked}return y.value=p,S&&(void 0===p||p===I||""===p)&&(N=!0,y.indeterminate=!0),"firefox"!=this.table.browser&&s(function(){y.focus({preventScroll:!0})}),y.checked=!0===p||"true"===p||"True"===p||1===p,s(function(){y.focus()}),y.addEventListener("change",function(pe){r(J())}),y.addEventListener("blur",function(pe){r(J(!0))}),y.addEventListener("keydown",function(pe){13==pe.keyCode&&r(J()),27==pe.keyCode&&o()}),y}};let Kp=(()=>{class g extends mo{constructor(r){super(r),this.currentCell=!1,this.mouseClick=!1,this.recursionBlock=!1,this.invalidEdit=!1,this.editedCells=[],this.editors=g.editors,this.registerColumnOption("editable"),this.registerColumnOption("editor"),this.registerColumnOption("editorParams"),this.registerColumnOption("cellEditing"),this.registerColumnOption("cellEdited"),this.registerColumnOption("cellEditCancelled"),this.registerTableFunction("getEditedCells",this.getEditedCells.bind(this)),this.registerTableFunction("clearCellEdited",this.clearCellEdited.bind(this)),this.registerTableFunction("navigatePrev",this.navigatePrev.bind(this)),this.registerTableFunction("navigateNext",this.navigateNext.bind(this)),this.registerTableFunction("navigateLeft",this.navigateLeft.bind(this)),this.registerTableFunction("navigateRight",this.navigateRight.bind(this)),this.registerTableFunction("navigateUp",this.navigateUp.bind(this)),this.registerTableFunction("navigateDown",this.navigateDown.bind(this)),this.registerComponentFunction("cell","isEdited",this.cellisEdited.bind(this)),this.registerComponentFunction("cell","clearEdited",this.clearEdited.bind(this)),this.registerComponentFunction("cell","edit",this.editCell.bind(this)),this.registerComponentFunction("cell","cancelEdit",this.cellCancelEdit.bind(this)),this.registerComponentFunction("cell","navigatePrev",this.navigatePrev.bind(this)),this.registerComponentFunction("cell","navigateNext",this.navigateNext.bind(this)),this.registerComponentFunction("cell","navigateLeft",this.navigateLeft.bind(this)),this.registerComponentFunction("cell","navigateRight",this.navigateRight.bind(this)),this.registerComponentFunction("cell","navigateUp",this.navigateUp.bind(this)),this.registerComponentFunction("cell","navigateDown",this.navigateDown.bind(this))}initialize(){this.subscribe("cell-init",this.bindEditor.bind(this)),this.subscribe("cell-delete",this.clearEdited.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this)),this.subscribe("column-delete",this.columnDeleteCheck.bind(this)),this.subscribe("row-deleting",this.rowDeleteCheck.bind(this)),this.subscribe("data-refeshing",this.cancelEdit.bind(this)),this.subscribe("keybinding-nav-prev",this.navigatePrev.bind(this)),this.subscribe("keybinding-nav-next",this.keybindingNavigateNext.bind(this)),this.subscribe("keybinding-nav-left",this.navigateLeft.bind(this)),this.subscribe("keybinding-nav-right",this.navigateRight.bind(this)),this.subscribe("keybinding-nav-up",this.navigateUp.bind(this)),this.subscribe("keybinding-nav-down",this.navigateDown.bind(this))}keybindingNavigateNext(r){var o=this.currentCell,l=this.options("tabEndNewRow");o&&(this.navigateNext(r)||l&&(o.getElement().firstChild.blur(),(l=this.table.addRow(!0===l?{}:"function"==typeof l?l(o.row.getComponent()):Object.assign({},l))).then(()=>{setTimeout(()=>{nav.next()})})))}cellisEdited(r){return!!r.modules.edit&&r.modules.edit.edited}cellCancelEdit(r){r===this.currentCell?this.table.modules.edit.cancelEdit():console.warn("Cancel Editor Error - This cell is not currently being edited ")}clearCellEdited(r){r||(r=this.modules.edit.getEditedCells()),Array.isArray(r)||(r=[r]),r.forEach(o=>{this.modules.edit.clearEdited(o._getSelf())})}navigatePrev(r){var l,p,o=this.currentCell;if(o){if(r&&r.preventDefault(),l=this.navigateLeft())return!0;if((p=this.table.rowManager.prevDisplayRow(o.row,!0))&&(l=this.findNextEditableCell(p,p.cells.length)))return l.getComponent().edit(),!0}return!1}navigateNext(r){var l,p,o=this.currentCell;if(o){if(r&&r.preventDefault(),l=this.navigateRight())return!0;if((p=this.table.rowManager.nextDisplayRow(o.row,!0))&&(l=this.findNextEditableCell(p,-1)))return l.getComponent().edit(),!0}return!1}navigateLeft(r){var l,p,o=this.currentCell;return!(!o||(r&&r.preventDefault(),l=o.getIndex(),p=this.findPrevEditableCell(o.row,l),!p)||(p.getComponent().edit(),0))}navigateRight(r){var l,p,o=this.currentCell;return!(!o||(r&&r.preventDefault(),l=o.getIndex(),p=this.findNextEditableCell(o.row,l),!p)||(p.getComponent().edit(),0))}navigateUp(r){var l,p,o=this.currentCell;return!(!o||(r&&r.preventDefault(),l=o.getIndex(),p=this.table.rowManager.prevDisplayRow(o.row,!0),!p)||(p.cells[l].getComponent().edit(),0))}navigateDown(r){var l,p,o=this.currentCell;return!(!o||(r&&r.preventDefault(),l=o.getIndex(),p=this.table.rowManager.nextDisplayRow(o.row,!0),!p)||(p.cells[l].getComponent().edit(),0))}findNextEditableCell(r,o){var l=!1;if(o<r.cells.length-1)for(var p=o+1;p<r.cells.length;p++){let y=r.cells[p];if(y.column.modules.edit&&Us.elVisible(y.getElement())){let S=!0;if("function"==typeof y.column.modules.edit.check&&(S=y.column.modules.edit.check(y.getComponent())),S){l=y;break}}}return l}findPrevEditableCell(r,o){var l=!1;if(o>0)for(var p=o-1;p>=0;p--){let y=r.cells[p],S=!0;if(y.column.modules.edit&&Us.elVisible(y.getElement())&&("function"==typeof y.column.modules.edit.check&&(S=y.column.modules.edit.check(y.getComponent())),S)){l=y;break}}return l}initializeColumnCheck(r){void 0!==r.definition.editor&&this.initializeColumn(r)}columnDeleteCheck(r){this.currentCell&&this.currentCell.column===r&&this.cancelEdit()}rowDeleteCheck(r){this.currentCell&&this.currentCell.row===r&&this.cancelEdit()}initializeColumn(r){var o={editor:!1,blocked:!1,check:r.definition.editable,params:r.definition.editorParams||{}};switch(typeof r.definition.editor){case"string":this.editors[r.definition.editor]?o.editor=this.editors[r.definition.editor]:console.warn("Editor Error - No such editor found: ",r.definition.editor);break;case"function":o.editor=r.definition.editor;break;case"boolean":!0===r.definition.editor&&("function"!=typeof r.definition.formatter?o.editor=this.editors[r.definition.formatter]?this.editors[r.definition.formatter]:this.editors.input:console.warn("Editor Error - Cannot auto lookup editor for a custom formatter: ",r.definition.formatter))}o.editor&&(r.modules.edit=o)}getCurrentCell(){return!!this.currentCell&&this.currentCell.getComponent()}clearEditor(r){var l,o=this.currentCell;if(this.invalidEdit=!1,o){for(this.currentCell=!1,l=o.getElement(),r?o.validate&&o.validate():l.classList.remove("tabulator-validation-fail"),l.classList.remove("tabulator-editing");l.firstChild;)l.removeChild(l.firstChild);o.row.getElement().classList.remove("tabulator-row-editing")}}cancelEdit(){if(this.currentCell){var r=this.currentCell,o=this.currentCell.getComponent();this.clearEditor(!0),r.setValueActual(r.getValue()),r.cellRendered(),("textarea"==r.column.definition.editor||r.column.definition.variableHeight)&&r.row.normalizeHeight(!0),r.column.definition.cellEditCancelled&&r.column.definition.cellEditCancelled.call(this.table,o),this.dispatchExternal("cellEditCancelled",o)}}bindEditor(r){if(r.column.modules.edit){var o=this,l=r.getElement(!0);l.setAttribute("tabindex",0),l.addEventListener("click",function(p){l.classList.contains("tabulator-editing")||l.focus({preventScroll:!0})}),l.addEventListener("mousedown",function(p){2===p.button?p.preventDefault():o.mouseClick=!0}),l.addEventListener("focus",function(p){o.recursionBlock||o.edit(r,p,!1)})}}focusCellNoEvent(r,o){this.recursionBlock=!0,o&&"ie"===this.table.browser||r.getElement().focus({preventScroll:!0}),this.recursionBlock=!1}editCell(r,o){this.focusCellNoEvent(r),this.edit(r,!1,o)}focusScrollAdjust(r){if("virtual"==this.table.rowManager.getRenderMode()){var o=this.table.rowManager.element.scrollTop,l=this.table.rowManager.element.clientHeight+this.table.rowManager.element.scrollTop,p=r.row.getElement();p.offsetTop<o?this.table.rowManager.element.scrollTop-=o-p.offsetTop:p.offsetTop+p.offsetHeight>l&&(this.table.rowManager.element.scrollTop+=p.offsetTop+p.offsetHeight-l);var y=this.table.rowManager.element.scrollLeft,S=this.table.rowManager.element.clientWidth+this.table.rowManager.element.scrollLeft,I=r.getElement();this.table.modExists("frozenColumns")&&(y+=parseInt(this.table.modules.frozenColumns.leftMargin),S-=parseInt(this.table.modules.frozenColumns.rightMargin)),"virtual"===this.table.options.renderHorizontal&&(y-=parseInt(this.table.columnManager.renderer.vDomPadLeft),S-=parseInt(this.table.columnManager.renderer.vDomPadLeft)),I.offsetLeft<y?this.table.rowManager.element.scrollLeft-=y-I.offsetLeft:I.offsetLeft+I.offsetWidth>S&&(this.table.rowManager.element.scrollLeft+=I.offsetLeft+I.offsetWidth-S)}}edit(r,o,l){var N,J,pe,p=this,y=!0,S=function(){},I=r.getElement();if(!this.currentCell){if(r.column.modules.edit.blocked)return this.mouseClick=!1,I.blur(),!1;switch(o&&o.stopPropagation(),typeof r.column.modules.edit.check){case"function":y=r.column.modules.edit.check(r.getComponent());break;case"boolean":y=r.column.modules.edit.check}if(y||l){if(p.cancelEdit(),p.currentCell=r,this.focusScrollAdjust(r),J=r.getComponent(),this.mouseClick&&(this.mouseClick=!1,r.column.definition.cellClick&&r.column.definition.cellClick.call(this.table,o,J)),r.column.definition.cellEditing&&r.column.definition.cellEditing.call(this.table,J),this.dispatchExternal("cellEditing",J),pe="function"==typeof r.column.modules.edit.params?r.column.modules.edit.params(J):r.column.modules.edit.params,!1===(N=r.column.modules.edit.editor.call(p,J,function Ct(Yt){S=Yt},function Fe(Yt){if(p.currentCell===r){var Ci=!0;return r.column.modules.validate&&p.table.modExists("validate")&&"manual"!=p.table.options.validationMode&&(Ci=p.table.modules.validate.validate(r.column.modules.validate,r,Yt)),!0===Ci||"highlight"===p.table.options.validationMode?(p.clearEditor(),r.modules.edit||(r.modules.edit={}),r.modules.edit.edited=!0,-1==p.editedCells.indexOf(r)&&p.editedCells.push(r),r.setValue(Yt,!0),p.table.options.dataTree&&p.table.modExists("dataTree")&&p.table.modules.dataTree.checkForRestyle(r),!0===Ci||(I.classList.add("tabulator-validation-fail"),p.table.externalEvents.dispatch("validationFailed",r.getComponent(),Yt,Ci),!1)):(p.invalidEdit=!0,I.classList.add("tabulator-validation-fail"),p.focusCellNoEvent(r,!0),S(),p.table.externalEvents.dispatch("validationFailed",r.getComponent(),Yt,Ci),!1)}},function Qe(){p.currentCell===r&&(p.cancelEdit(),p.table.options.dataTree&&p.table.modExists("dataTree")&&p.table.modules.dataTree.checkForRestyle(r))},pe)))return I.blur(),!1;if(!(N instanceof Node))return console.warn("Edit Error - Editor should return an instance of Node, the editor returned:",N),I.blur(),!1;for(I.classList.add("tabulator-editing"),r.row.getElement().classList.add("tabulator-row-editing");I.firstChild;)I.removeChild(I.firstChild);I.appendChild(N),S();for(var Lt=I.children,Gt=0;Gt<Lt.length;Gt++)Lt[Gt].addEventListener("click",function(Yt){Yt.stopPropagation()});return!0}return this.mouseClick=!1,I.blur(),!1}this.invalidEdit||this.cancelEdit()}getEditedCells(){var r=[];return this.editedCells.forEach(o=>{r.push(o.getComponent())}),r}clearEdited(r){var o;r.modules.edit&&r.modules.edit.edited&&(r.modules.edit.edited=!1,r.modules.validate&&(r.modules.validate.invalid=!1)),(o=this.editedCells.indexOf(r))>-1&&this.editedCells.splice(o,1)}}return g.moduleName="edit",g.editors=Wd,g})();class yh{constructor(s,r,o,l){this.type=s,this.columns=r,this.component=o||!1,this.indent=l||0}}class ih{constructor(s,r,o,l,p){this.value=s,this.component=r||!1,this.width=o,this.height=l,this.depth=p}}let bh=(()=>{class g extends mo{constructor(r){super(r),this.config={},this.cloneTableStyle=!0,this.colVisProp="",this.registerTableOption("htmlOutputConfig",!1),this.registerColumnOption("htmlOutput"),this.registerColumnOption("titleHtmlOutput")}initialize(){this.registerTableFunction("getHtml",this.getHtml.bind(this))}generateExportList(r,o,l,p){this.cloneTableStyle=o,this.config=r||{},this.colVisProp=p;var y=!1!==this.config.columnHeaders?this.headersToExportRows(this.generateColumnGroupHeaders()):[],S=this.bodyToExportRows(this.rowLookup(l));return y.concat(S)}genereateTable(r,o,l,p){var y=this.generateExportList(r,o,l,p);return this.genereateTableElement(y)}rowLookup(r){var o=[];if("function"==typeof r)r.call(this.table).forEach(l=>{(l=this.table.rowManager.findRow(l))&&o.push(l)});else switch(r){case!0:case"visible":o=this.table.rowManager.getVisibleRows(!0);break;case"all":o=this.table.rowManager.rows;break;case"selected":o=this.table.modules.selectRow.selectedRows;break;default:o=this.table.options.pagination?this.table.rowManager.getDisplayRows(this.table.rowManager.displayRows.length-2):this.table.rowManager.getDisplayRows()}return Object.assign([],o)}generateColumnGroupHeaders(){var r=[];return(!1!==this.config.columnGroups?this.table.columnManager.columns:this.table.columnManager.columnsByIndex).forEach(l=>{var p=this.processColumnGroup(l);p&&r.push(p)}),r}processColumnGroup(r){var o=r.columns,l=0,y={title:r.definition["title"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))]||r.definition.title,column:r,depth:1};if(o.length){if(y.subGroups=[],y.width=0,o.forEach(S=>{var I=this.processColumnGroup(S);I&&(y.width+=I.width,y.subGroups.push(I),I.depth>l&&(l=I.depth))}),y.depth+=l,!y.width)return!1}else{if(!this.columnVisCheck(r))return!1;y.width=1}return y}columnVisCheck(r){return!1!==r.definition[this.colVisProp]&&(r.visible||!r.visible&&r.definition[this.colVisProp])}headersToExportRows(r){var o=[],l=0,p=[];function y(S,I){var N=l-I;if(void 0===o[I]&&(o[I]=[]),S.height=S.subGroups?1:N-S.depth+1,o[I].push(S),S.height>1)for(let J=1;J<S.height;J++)void 0===o[I+J]&&(o[I+J]=[]),o[I+J].push(!1);if(S.width>1)for(let J=1;J<S.width;J++)o[I].push(!1);S.subGroups&&S.subGroups.forEach(function(J){y(J,I+1)})}return r.forEach(function(S){S.depth>l&&(l=S.depth)}),r.forEach(function(S){y(S,0)}),o.forEach(S=>{var I=[];S.forEach(N=>{I.push(N?new ih(N.title,N.column.getComponent(),N.width,N.height,N.depth):null)}),p.push(new yh("header",I))}),p}bodyToExportRows(r){var o=[],l=[];return this.table.columnManager.columnsByIndex.forEach(p=>{this.columnVisCheck(p)&&o.push(p.getComponent())}),!1!==this.config.columnCalcs&&this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&r.unshift(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&r.push(this.table.modules.columnCalcs.botRow)),(r=r.filter(p=>{switch(p.type){case"group":return!1!==this.config.rowGroups;case"calc":return!1!==this.config.columnCalcs;case"row":return!(this.table.options.dataTree&&!1===this.config.dataTree&&p.modules.dataTree.parent)}return!0})).forEach((p,y)=>{var S=p.getData(this.colVisProp),I=[],N=0;switch(p.type){case"group":N=p.level,I.push(new ih(p.key,p.getComponent(),o.length,1));break;case"calc":case"row":o.forEach(J=>{I.push(new ih(J._column.getFieldValue(S),J,1,1))}),this.table.options.dataTree&&!1!==this.config.dataTree&&(N=p.modules.dataTree.index)}l.push(new yh(p.type,I,p.getComponent(),N))}),l}genereateTableElement(r){var o=document.createElement("table"),l=document.createElement("thead"),p=document.createElement("tbody"),y=this.lookupTableStyles(),S=this.table.options["rowFormatter"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],I={};return I.rowFormatter=null!==S?S:this.table.options.rowFormatter,this.table.options.dataTree&&!1!==this.config.dataTree&&this.table.modExists("columnCalcs")&&(I.treeElementField=this.table.modules.dataTree.elementField),I.groupHeader=this.table.options["groupHeader"+(this.colVisProp.charAt(0).toUpperCase()+this.colVisProp.slice(1))],I.groupHeader&&!Array.isArray(I.groupHeader)&&(I.groupHeader=[I.groupHeader]),o.classList.add("tabulator-print-table"),this.mapElementStyles(this.table.columnManager.getHeadersElement(),l,["border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),r.length>1e3&&console.warn("It may take a long time to render an HTML table with more than 1000 rows"),r.forEach((N,J)=>{switch(N.type){case"header":l.appendChild(this.genereateHeaderElement(N,I,y));break;case"group":p.appendChild(this.genereateGroupElement(N,I,y));break;case"calc":p.appendChild(this.genereateCalcElement(N,I,y));break;case"row":let pe=this.genereateRowElement(N,I,y);this.mapElementStyles(J%2&&y.evenRow?y.evenRow:y.oddRow,pe,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),p.appendChild(pe)}}),l.innerHTML&&o.appendChild(l),o.appendChild(p),this.mapElementStyles(this.table.element,o,["border-top","border-left","border-right","border-bottom"]),o}lookupTableStyles(){var r={};return this.cloneTableStyle&&window.getComputedStyle&&(r.oddRow=this.table.element.querySelector(".tabulator-row-odd:not(.tabulator-group):not(.tabulator-calcs)"),r.evenRow=this.table.element.querySelector(".tabulator-row-even:not(.tabulator-group):not(.tabulator-calcs)"),r.calcRow=this.table.element.querySelector(".tabulator-row.tabulator-calcs"),r.firstRow=this.table.element.querySelector(".tabulator-row:not(.tabulator-group):not(.tabulator-calcs)"),r.firstGroup=this.table.element.getElementsByClassName("tabulator-group")[0],r.firstRow&&(r.styleCells=r.firstRow.getElementsByClassName("tabulator-cell"),r.firstCell=r.styleCells[0],r.lastCell=r.styleCells[r.styleCells.length-1])),r}genereateHeaderElement(r,o,l){var p=document.createElement("tr");return r.columns.forEach(y=>{if(y){var S=document.createElement("th"),I=y.component._column.definition.cssClass?y.component._column.definition.cssClass.split(" "):[];S.colSpan=y.width,S.rowSpan=y.height,S.innerHTML=y.value,this.cloneTableStyle&&(S.style.boxSizing="border-box"),I.forEach(function(N){S.classList.add(N)}),this.mapElementStyles(y.component.getElement(),S,["text-align","border-top","border-left","border-right","border-bottom","background-color","color","font-weight","font-family","font-size"]),this.mapElementStyles(y.component._column.contentElement,S,["padding-top","padding-left","padding-right","padding-bottom"]),y.component._column.visible?this.mapElementStyles(y.component.getElement(),S,["width"]):y.component._column.definition.width&&(S.style.width=y.component._column.definition.width+"px"),y.component._column.parent&&this.mapElementStyles(y.component._column.parent.groupElement,S,["border-top"]),p.appendChild(S)}}),p}genereateGroupElement(r,o,l){var p=document.createElement("tr"),y=document.createElement("td"),S=r.columns[0];return p.classList.add("tabulator-print-table-row"),S.value=o.groupHeader&&o.groupHeader[r.indent]?o.groupHeader[r.indent](S.value,r.component._group.getRowCount(),r.component._group.getData(),r.component):!1===o.groupHeader?S.value:r.component._group.generator(S.value,r.component._group.getRowCount(),r.component._group.getData(),r.component),y.colSpan=S.width,y.innerHTML=S.value,p.classList.add("tabulator-print-table-group"),p.classList.add("tabulator-group-level-"+r.indent),S.component.isVisible()&&p.classList.add("tabulator-group-visible"),this.mapElementStyles(l.firstGroup,p,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),this.mapElementStyles(l.firstGroup,y,["padding-top","padding-left","padding-right","padding-bottom"]),p.appendChild(y),p}genereateCalcElement(r,o,l){var p=this.genereateRowElement(r,o,l);return p.classList.add("tabulator-print-table-calcs"),this.mapElementStyles(l.calcRow,p,["border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size","background-color"]),p}genereateRowElement(r,o,l){var p=document.createElement("tr");return p.classList.add("tabulator-print-table-row"),r.columns.forEach(y=>{if(y){var S=document.createElement("td"),I=y.component._column,N=y.value,J={modules:{},getValue:function(){return N},getField:function(){return I.definition.field},getElement:function(){return S},getColumn:function(){return I.getComponent()},getData:function(){return r.component.getData()},getRow:function(){return r.component},getComponent:function(){return J},column:I};if((I.definition.cssClass?I.definition.cssClass.split(" "):[]).forEach(function(Fe){S.classList.add(Fe)}),this.table.modExists("format")&&!1!==this.config.formatCells)N=this.table.modules.format.formatExportValue(J,this.colVisProp);else switch(typeof N){case"object":N=JSON.stringify(N);break;case"undefined":case"null":N="";break;default:N=N}N instanceof Node?S.appendChild(N):S.innerHTML=N,l.firstCell&&(this.mapElementStyles(l.firstCell,S,["padding-top","padding-left","padding-right","padding-bottom","border-top","border-left","border-right","border-bottom","color","font-weight","font-family","font-size"]),I.definition.align&&(S.style.textAlign=I.definition.align)),this.table.options.dataTree&&!1!==this.config.dataTree&&(o.treeElementField&&o.treeElementField==I.field||!o.treeElementField&&0==i)&&(r.component._row.modules.dataTree.controlEl&&S.insertBefore(r.component._row.modules.dataTree.controlEl.cloneNode(!0),S.firstChild),r.component._row.modules.dataTree.branchEl&&S.insertBefore(r.component._row.modules.dataTree.branchEl.cloneNode(!0),S.firstChild)),p.appendChild(S),J.modules.format&&J.modules.format.renderedCallback&&J.modules.format.renderedCallback(),o.rowFormatter&&!1!==this.config.formatCells&&o.rowFormatter(r.component)}}),p}genereateHTMLTable(r){var o=document.createElement("div");return o.appendChild(this.genereateTableElement(r)),o.innerHTML}getHtml(r,o,l,p){var y=this.generateExportList(l||this.table.options.htmlOutputConfig,o,r,p||"htmlOutput");return this.genereateHTMLTable(y)}mapElementStyles(r,o,l){if(this.cloneTableStyle&&r&&o){var p={"background-color":"backgroundColor",color:"fontColor",width:"width","font-weight":"fontWeight","font-family":"fontFamily","font-size":"fontSize","text-align":"textAlign","border-top":"borderTop","border-left":"borderLeft","border-right":"borderRight","border-bottom":"borderBottom","padding-top":"paddingTop","padding-left":"paddingLeft","padding-right":"paddingRight","padding-bottom":"paddingBottom"};if(window.getComputedStyle){var y=window.getComputedStyle(r);l.forEach(function(S){o.style[p[S]]=y.getPropertyValue(S)})}}}}return g.moduleName="export",g})();var Eh={"=":function(g,s,r,o){return s==g},"<":function(g,s,r,o){return s<g},"<=":function(g,s,r,o){return s<=g},">":function(g,s,r,o){return s>g},">=":function(g,s,r,o){return s>=g},"!=":function(g,s,r,o){return s!=g},regex:function(g,s,r,o){return"string"==typeof g&&(g=new RegExp(g)),g.test(s)},like:function(g,s,r,o){return null==g?s===g:null!=s&&String(s).toLowerCase().indexOf(g.toLowerCase())>-1},keywords:function(g,s,r,o){var l=g.toLowerCase().split(void 0===o.separator?" ":o.separator),p=String(null==s?"":s).toLowerCase(),y=[];return l.forEach(S=>{p.includes(S)&&y.push(!0)}),o.matchAll?y.length===l.length:!!y.length},starts:function(g,s,r,o){return null==g?s===g:null!=s&&String(s).toLowerCase().startsWith(g.toLowerCase())},ends:function(g,s,r,o){return null==g?s===g:null!=s&&String(s).toLowerCase().endsWith(g.toLowerCase())},in:function(g,s,r,o){return Array.isArray(g)?!g.length||g.indexOf(s)>-1:(console.warn("Filter Error - filter value is not an array:",g),!1)}};let pp=(()=>{class g extends mo{constructor(r){super(r),this.filterList=[],this.headerFilters={},this.headerFilterColumns=[],this.prevHeaderFilterChangeCheck="",this.prevHeaderFilterChangeCheck="{}",this.changed=!1,this.tableInitialized=!1,this.registerTableOption("filterMode","local"),this.registerTableOption("initialFilter",!1),this.registerTableOption("initialHeaderFilter",!1),this.registerTableOption("headerFilterLiveFilterDelay",300),this.registerColumnOption("headerFilter"),this.registerColumnOption("headerFilterPlaceholder"),this.registerColumnOption("headerFilterParams"),this.registerColumnOption("headerFilterEmptyCheck"),this.registerColumnOption("headerFilterFunc"),this.registerColumnOption("headerFilterFuncParams"),this.registerColumnOption("headerFilterLiveFilter"),this.registerTableFunction("searchRows",this.searchRows.bind(this)),this.registerTableFunction("searchData",this.searchData.bind(this)),this.registerTableFunction("setFilter",this.userSetFilter.bind(this)),this.registerTableFunction("refreshFilter",this.userRefreshFilter.bind(this)),this.registerTableFunction("addFilter",this.userAddFilter.bind(this)),this.registerTableFunction("getFilters",this.getFilters.bind(this)),this.registerTableFunction("setHeaderFilterFocus",this.userSetHeaderFilterFocus.bind(this)),this.registerTableFunction("getHeaderFilterValue",this.userGetHeaderFilterValue.bind(this)),this.registerTableFunction("setHeaderFilterValue",this.userSetHeaderFilterValue.bind(this)),this.registerTableFunction("getHeaderFilters",this.getHeaderFilters.bind(this)),this.registerTableFunction("removeFilter",this.userRemoveFilter.bind(this)),this.registerTableFunction("clearFilter",this.userClearFilter.bind(this)),this.registerTableFunction("clearHeaderFilter",this.userClearHeaderFilter.bind(this)),this.registerComponentFunction("column","headerFilterFocus",this.setHeaderFilterFocus.bind(this)),this.registerComponentFunction("column","reloadHeaderFilter",this.reloadHeaderFilter.bind(this)),this.registerComponentFunction("column","getHeaderFilterValue",this.getHeaderFilterValue.bind(this)),this.registerComponentFunction("column","setHeaderFilterValue",this.setHeaderFilterValue.bind(this))}initialize(){this.subscribe("column-init",this.initializeColumnHeaderFilter.bind(this)),this.subscribe("column-width-fit-before",this.hideHeaderFilterElements.bind(this)),this.subscribe("column-width-fit-after",this.showHeaderFilterElements.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),"remote"===this.table.options.filterMode&&this.subscribe("data-params",this.remoteFilterParams.bind(this)),this.registerDataHandler(this.filter.bind(this),10)}tableBuilt(){this.table.options.initialFilter&&this.setFilter(this.table.options.initialFilter),this.table.options.initialHeaderFilter&&this.table.options.initialHeaderFilter.forEach(r=>{var o=this.table.columnManager.findColumn(r.field);if(!o)return console.warn("Column Filter Error - No matching column found:",r.field),!1;this.setHeaderFilterValue(o,r.value)}),this.tableInitialized=!0}remoteFilterParams(r,o,l,p){return p.filter=this.getFilters(!0,!0),p}userSetFilter(r,o,l,p){this.setFilter(r,o,l,p),this.refreshFilter()}userRefreshFilter(){this.refreshFilter()}userAddFilter(r,o,l,p){this.addFilter(r,o,l,p),this.refreshFilter()}userSetHeaderFilterFocus(r){var o=this.table.columnManager.findColumn(r);if(!o)return console.warn("Column Filter Focus Error - No matching column found:",r),!1;this.setHeaderFilterFocus(o)}userGetHeaderFilterValue(r){var o=this.table.columnManager.findColumn(r);if(o)return this.getHeaderFilterValue(o);console.warn("Column Filter Error - No matching column found:",r)}userSetHeaderFilterValue(r,o){var l=this.table.columnManager.findColumn(r);if(!l)return console.warn("Column Filter Error - No matching column found:",r),!1;this.setHeaderFilterValue(l,o)}userRemoveFilter(r,o,l){this.removeFilter(r,o,l),this.refreshFilter()}userClearFilter(r){this.clearFilter(r),this.refreshFilter()}userClearHeaderFilter(){this.clearHeaderFilter(),this.refreshFilter()}searchRows(r,o,l){return this.search("rows",r,o,l)}searchData(r,o,l){return this.search("data",r,o,l)}initializeColumnHeaderFilter(r){var o=r.definition;o.headerFilter&&(void 0!==o.headerFilterPlaceholder&&o.field&&this.module("localize").setHeaderFilterColumnPlaceholder(o.field,o.headerFilterPlaceholder),this.initializeColumn(r))}initializeColumn(r,o){var l=this,p=r.getField();r.modules.filter={success:function y(S){var pe,I="input"==r.modules.filter.tagType&&"text"==r.modules.filter.attrType||"textarea"==r.modules.filter.tagType?"partial":"match",N="",J="";if(void 0===r.modules.filter.prevSuccess||r.modules.filter.prevSuccess!==S){if(r.modules.filter.prevSuccess=S,r.modules.filter.emptyFunc(S))delete l.headerFilters[p];else{switch(r.modules.filter.value=S,typeof r.definition.headerFilterFunc){case"string":g.filters[r.definition.headerFilterFunc]?(N=r.definition.headerFilterFunc,pe=function(Fe){var Qe=r.definition.headerFilterFuncParams||{},Ct=r.getFieldValue(Fe);return Qe="function"==typeof Qe?Qe(S,Ct,Fe):Qe,g.filters[r.definition.headerFilterFunc](S,Ct,Fe,Qe)}):console.warn("Header Filter Error - Matching filter function not found: ",r.definition.headerFilterFunc);break;case"function":N=pe=function(Fe){var Qe=r.definition.headerFilterFuncParams||{},Ct=r.getFieldValue(Fe);return Qe="function"==typeof Qe?Qe(S,Ct,Fe):Qe,r.definition.headerFilterFunc(S,Ct,Fe,Qe)}}pe||("partial"===I?(pe=function(Fe){var Qe=r.getFieldValue(Fe);return null!=Qe&&String(Qe).toLowerCase().indexOf(String(S).toLowerCase())>-1},N="like"):(pe=function(Fe){return r.getFieldValue(Fe)==S},N="=")),l.headerFilters[p]={value:S,func:pe,type:N,params:{}}}J=JSON.stringify(l.headerFilters),l.prevHeaderFilterChangeCheck!==J&&(l.prevHeaderFilterChangeCheck=J,l.trackChanges(),l.refreshFilter())}return!0},attrType:!1,tagType:!1,emptyFunc:!1},this.generateHeaderFilterElement(r)}generateHeaderFilterElement(r,o,l){var I,N,J,pe,Fe,Qe,Ct,p=this,y=r.modules.filter.success,S=r.getField();if(r.modules.filter.headerElement&&r.modules.filter.headerElement.parentNode&&r.contentElement.removeChild(r.modules.filter.headerElement.parentNode),S){switch(r.modules.filter.emptyFunc=r.definition.headerFilterEmptyCheck||function(Gt){return!Gt&&"0"!==Gt&&0!==Gt},(I=document.createElement("div")).classList.add("tabulator-header-filter"),typeof r.definition.headerFilter){case"string":p.table.modules.edit.editors[r.definition.headerFilter]?(N=p.table.modules.edit.editors[r.definition.headerFilter],("tick"===r.definition.headerFilter||"tickCross"===r.definition.headerFilter)&&!r.definition.headerFilterEmptyCheck&&(r.modules.filter.emptyFunc=function(Gt){return!0!==Gt&&!1!==Gt})):console.warn("Filter Error - Cannot build header filter, No such editor found: ",r.definition.editor);break;case"function":N=r.definition.headerFilter;break;case"boolean":r.modules.edit&&r.modules.edit.editor?N=r.modules.edit.editor:r.definition.formatter&&p.table.modules.edit.editors[r.definition.formatter]?(N=p.table.modules.edit.editors[r.definition.formatter],("tick"===r.definition.formatter||"tickCross"===r.definition.formatter)&&!r.definition.headerFilterEmptyCheck&&(r.modules.filter.emptyFunc=function(Gt){return!0!==Gt&&!1!==Gt})):N=p.table.modules.edit.editors.input}if(N){if(pe={getValue:function(){return void 0!==o?o:""},getField:function(){return r.definition.field},getElement:function(){return I},getColumn:function(){return r.getComponent()},getRow:function(){return{normalizeHeight:function(){}}}},Ct="function"==typeof(Ct=r.definition.headerFilterParams||{})?Ct.call(p.table):Ct,!(J=N.call(this.table.modules.edit,pe,function(){},y,function Lt(){},Ct)))return void console.warn("Filter Error - Cannot add filter to "+S+" column, editor returned a value of false");if(!(J instanceof Node))return void console.warn("Filter Error - Cannot add filter to "+S+" column, editor should return an instance of Node, the editor returned:",J);S?p.langBind("headerFilters|columns|"+r.definition.field,function(Gt){J.setAttribute("placeholder",void 0!==Gt&&Gt?Gt:p.langText("headerFilters|default"))}):p.langBind("headerFilters|default",function(Gt){J.setAttribute("placeholder",Gt)}),J.addEventListener("click",function(Gt){Gt.stopPropagation(),J.focus()}),J.addEventListener("focus",Gt=>{var Yt=this.table.columnManager.element.scrollLeft;Yt!==this.table.rowManager.element.scrollLeft&&(this.table.rowManager.scrollHorizontal(Yt),this.table.columnManager.scrollHorizontal(Yt))}),Fe=!1,Qe=function(Gt){Fe&&clearTimeout(Fe),Fe=setTimeout(function(){y(J.value)},p.table.options.headerFilterLiveFilterDelay)},r.modules.filter.headerElement=J,r.modules.filter.attrType=J.hasAttribute("type")?J.getAttribute("type").toLowerCase():"",r.modules.filter.tagType=J.tagName.toLowerCase(),!1!==r.definition.headerFilterLiveFilter&&("autocomplete"===r.definition.headerFilter||"tickCross"===r.definition.headerFilter||("autocomplete"===r.definition.editor||"tickCross"===r.definition.editor)&&!0===r.definition.headerFilter||(J.addEventListener("keyup",Qe),J.addEventListener("search",Qe),"number"==r.modules.filter.attrType&&J.addEventListener("change",function(Gt){y(J.value)}),"text"==r.modules.filter.attrType&&"ie"!==this.table.browser&&J.setAttribute("type","search")),("input"==r.modules.filter.tagType||"select"==r.modules.filter.tagType||"textarea"==r.modules.filter.tagType)&&J.addEventListener("mousedown",function(Gt){Gt.stopPropagation()})),I.appendChild(J),r.contentElement.appendChild(I),l||p.headerFilterColumns.push(r)}}else console.warn("Filter Error - Cannot add header filter, column has no field set:",r.definition.title)}hideHeaderFilterElements(){this.headerFilterColumns.forEach(function(r){r.modules.filter&&r.modules.filter.headerElement&&(r.modules.filter.headerElement.style.display="none")})}showHeaderFilterElements(){this.headerFilterColumns.forEach(function(r){r.modules.filter&&r.modules.filter.headerElement&&(r.modules.filter.headerElement.style.display="")})}setHeaderFilterFocus(r){r.modules.filter&&r.modules.filter.headerElement?r.modules.filter.headerElement.focus():console.warn("Column Filter Focus Error - No header filter set on column:",r.getField())}getHeaderFilterValue(r){if(r.modules.filter&&r.modules.filter.headerElement)return r.modules.filter.headerElement.value;console.warn("Column Filter Error - No header filter set on column:",r.getField())}setHeaderFilterValue(r,o){r&&(r.modules.filter&&r.modules.filter.headerElement?(this.generateHeaderFilterElement(r,o,!0),r.modules.filter.success(o)):console.warn("Column Filter Error - No header filter set on column:",r.getField()))}reloadHeaderFilter(r){r&&(r.modules.filter&&r.modules.filter.headerElement?this.generateHeaderFilterElement(r,r.modules.filter.value,!0):console.warn("Column Filter Error - No header filter set on column:",r.getField()))}refreshFilter(){this.tableInitialized&&("remote"===this.table.options.filterMode?this.reloadData():this.refreshData())}trackChanges(){this.changed=!0,this.dispatch("filter-changed")}hasChanged(){var r=this.changed;return this.changed=!1,r}setFilter(r,o,l,p){this.filterList=[],Array.isArray(r)||(r=[{field:r,type:o,value:l,params:p}]),this.addFilter(r)}addFilter(r,o,l,p){Array.isArray(r)||(r=[{field:r,type:o,value:l,params:p}]),r.forEach(y=>{(y=this.findFilter(y))&&(this.filterList.push(y),this.changed=!0)})}findFilter(r){var o;if(Array.isArray(r))return this.findSubFilters(r);var l=!1;return"function"==typeof r.field?l=function(p){return r.field(p,r.type||{})}:g.filters[r.type]?l=(o=this.table.columnManager.getColumnByField(r.field))?function(p){return g.filters[r.type](r.value,o.getFieldValue(p),p,r.params||{})}:function(p){return g.filters[r.type](r.value,p[r.field],p,r.params||{})}:console.warn("Filter Error - No such filter type found, ignoring: ",r.type),r.func=l,!!r.func&&r}findSubFilters(r){var o=[];return r.forEach(l=>{(l=this.findFilter(l))&&o.push(l)}),!!o.length&&o}getFilters(r,o){var l=[];return r&&(l=this.getHeaderFilters()),o&&l.forEach(function(p){"function"==typeof p.type&&(p.type="function")}),l.concat(this.filtersToArray(this.filterList,o))}filtersToArray(r,o){var l=[];return r.forEach(p=>{var y;Array.isArray(p)?l.push(this.filtersToArray(p,o)):(y={field:p.field,type:p.type,value:p.value},o&&"function"==typeof y.type&&(y.type="function"),l.push(y))}),l}getHeaderFilters(){var r=[];for(var o in this.headerFilters)r.push({field:o,type:this.headerFilters[o].type,value:this.headerFilters[o].value});return r}removeFilter(r,o,l){Array.isArray(r)||(r=[{field:r,type:o,value:l}]),r.forEach(p=>{var y;(y=this.filterList.findIndex("object"==typeof p.field?S=>p===S:S=>p.field===S.field&&p.type===S.type&&p.value===S.value))>-1?this.filterList.splice(y,1):console.warn("Filter Error - No matching filter type found, ignoring: ",p.type)}),this.trackChanges()}clearFilter(r){this.filterList=[],r&&this.clearHeaderFilter(),this.trackChanges()}clearHeaderFilter(){this.headerFilters={},this.prevHeaderFilterChangeCheck="{}",this.headerFilterColumns.forEach(r=>{void 0!==r.modules.filter.value&&delete r.modules.filter.value,r.modules.filter.prevSuccess=void 0,this.reloadHeaderFilter(r)}),this.trackChanges()}search(r,o,l,p){var y=[],S=[];return Array.isArray(o)||(o=[{field:o,type:l,value:p}]),o.forEach(I=>{(I=this.findFilter(I))&&S.push(I)}),this.table.rowManager.rows.forEach(I=>{var N=!0;S.forEach(J=>{this.filterRecurse(J,I.getData())||(N=!1)}),N&&y.push("data"===r?I.getData("data"):I.getComponent())}),y}filter(r,o){var l=[],p=[];return this.subscribedExternal("dataFiltering")&&this.dispatchExternal("dataFiltering",this.getFilters()),"remote"!==this.table.options.filterMode&&(this.filterList.length||Object.keys(this.headerFilters).length)?r.forEach(y=>{this.filterRow(y)&&l.push(y)}):l=r.slice(0),this.subscribedExternal("dataFiltered")&&(l.forEach(y=>{p.push(y.getComponent())}),this.dispatchExternal("dataFiltered",this.getFilters(),p)),l}filterRow(r,o){var l=!0,p=r.getData();for(var y in this.filterList.forEach(S=>{this.filterRecurse(S,p)||(l=!1)}),this.headerFilters)this.headerFilters[y].func(p)||(l=!1);return l}filterRecurse(r,o){var l=!1;return Array.isArray(r)?r.forEach(p=>{this.filterRecurse(p,o)&&(l=!0)}):l=r.func(o),l}}return g.moduleName="filter",g.filters=Eh,g})();var fp={plaintext:function k(g,s,r){return this.emptyToSpace(this.sanitizeHTML(g.getValue()))},html:function U(g,s,r){return g.getValue()},textarea:function v(g,s,r){return g.getElement().style.whiteSpace="pre-wrap",this.emptyToSpace(this.sanitizeHTML(g.getValue()))},money:function O(g,s,r){var p,y,S,I,o=parseFloat(g.getValue()),l="",N=s.decimal||".",J=s.thousand||",",pe=s.negativeSign||"-",Fe=s.symbol||"",Qe=!!s.symbolAfter,Ct=void 0!==s.precision?s.precision:2;if(isNaN(o))return this.emptyToSpace(this.sanitizeHTML(g.getValue()));for(o<0&&(o=Math.abs(o),l=pe),p=!1!==Ct?o.toFixed(Ct):o,y=(p=String(p).split("."))[0],S=p.length>1?N+p[1]:"",I=/(\d+)(\d{3})/;I.test(y);)y=y.replace(I,"$1"+J+"$2");return Qe?l+y+S+Fe:l+Fe+y+S},link:function ee(g,s,r){var o=g.getValue(),l=s.urlPrefix||"",p=s.download,y=o,S=document.createElement("a");if(s.labelField&&(y=g.getData()[s.labelField]),s.label)switch(typeof s.label){case"string":y=s.label;break;case"function":y=s.label(g)}if(y){if(s.urlField&&(o=g.getData()[s.urlField]),s.url)switch(typeof s.url){case"string":o=s.url;break;case"function":o=s.url(g)}return S.setAttribute("href",l+o),s.target&&S.setAttribute("target",s.target),s.download&&(p="function"==typeof p?p(g):!0===p?"":p,S.setAttribute("download",p)),S.innerHTML=this.emptyToSpace(this.sanitizeHTML(y)),S}return"&nbsp;"},image:function Le(g,s,r){var o=document.createElement("img"),l=g.getValue();switch(s.urlPrefix&&(l=s.urlPrefix+g.getValue()),s.urlSuffix&&(l+=s.urlSuffix),o.setAttribute("src",l),typeof s.height){case"number":o.style.height=s.height+"px";break;case"string":o.style.height=s.height}switch(typeof s.width){case"number":o.style.width=s.width+"px";break;case"string":o.style.width=s.width}return o.addEventListener("load",function(){g.getRow().normalizeHeight()}),o},tickCross:function Jt(g,s,r){var o=g.getValue(),l=g.getElement(),p=s.allowEmpty,S=void 0!==s.tickElement?s.tickElement:'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>',I=void 0!==s.crossElement?s.crossElement:'<svg enable-background="new 0 0 24 24" height="14" width="14"  viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>';return s.allowTruthy&&o||!0===o||"true"===o||"True"===o||1===o||"1"===o?(l.setAttribute("aria-checked",!0),S||""):!p||"null"!==o&&""!==o&&null!=o?(l.setAttribute("aria-checked",!1),I||""):(l.setAttribute("aria-checked","mixed"),"")},datetime:function Mi(g,s,r){var o=window.DateTime||luxon.DateTime,l=s.inputFormat||"yyyy-MM-dd HH:mm:ss",p=s.outputFormat||"dd/MM/yyyy HH:mm:ss",y=void 0!==s.invalidPlaceholder?s.invalidPlaceholder:"",S=g.getValue();if(void 0!==o){var I=(window.DateTime||luxon.DateTime).fromFormat(S,l);return I.isValid?(s.timezone&&(I=I.shiftTimezone(s.timezone)),I.toFormat(p)):!0===y?S:"function"==typeof y?y(S):y}console.error("Format Error - 'datetime' formatter is dependant on luxon.js")},datetimediff:function Qi(g,s,r){var o=window.DateTime||luxon.DateTime,l=s.inputFormat||"yyyy-MM-dd HH:mm:ss",p=void 0!==s.invalidPlaceholder?s.invalidPlaceholder:"",y=void 0!==s.suffix&&s.suffix,S=void 0!==s.unit?s.unit:"days",I=void 0!==s.humanize&&s.humanize,N=void 0!==s.date?s.date:o.now(),J=g.getValue();if(void 0!==o){var pe=o.fromFormat(J,l);if(!pe.isValid)return!0===p?J:"function"==typeof p?p(J):p;if(!I)return parseInt(pe.diff(N,S)[S])+(y?" "+y:"")}else console.error("Format Error - 'datetimediff' formatter is dependant on luxon.js")},lookup:function Fn(g,s,r){var o=g.getValue();return void 0===s[o]?(console.warn("Missing display value for "+o),o):s[o]},star:function en(g,s,r){var o=g.getValue(),l=g.getElement(),p=s&&s.stars?s.stars:5,y=document.createElement("span"),S=document.createElementNS("http://www.w3.org/2000/svg","svg");y.style.verticalAlign="middle",S.setAttribute("width","14"),S.setAttribute("height","14"),S.setAttribute("viewBox","0 0 512 512"),S.setAttribute("xml:space","preserve"),S.style.padding="0 1px",o=o&&!isNaN(o)?parseInt(o):0,o=Math.max(0,Math.min(o,p));for(var J=1;J<=p;J++){var pe=S.cloneNode(!0);pe.innerHTML=J<=o?'<polygon fill="#FFEA00" stroke="#C1AB60" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>':'<polygon fill="#D2D2D2" stroke="#686868" stroke-width="37.6152" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" points="259.216,29.942 330.27,173.919 489.16,197.007 374.185,309.08 401.33,467.31 259.216,392.612 117.104,467.31 144.25,309.08 29.274,197.007 188.165,173.919 "/>',y.appendChild(pe)}return l.style.whiteSpace="nowrap",l.style.overflow="hidden",l.style.textOverflow="ellipsis",l.setAttribute("aria-label",o),y},traffic:function kr(g,s,r){var J,o=this.sanitizeHTML(g.getValue())||0,l=document.createElement("span"),p=s&&s.max?s.max:100,y=s&&s.min?s.min:0,S=s&&void 0!==s.color?s.color:["red","orange","green"],I="#666666";if(!isNaN(o)&&void 0!==g.getValue()){switch(l.classList.add("tabulator-traffic-light"),J=parseFloat(o)<=p?parseFloat(o):p,J=parseFloat(J)>=y?parseFloat(J):y,J=Math.round((J-y)/((p-y)/100)),typeof S){case"string":I=S;break;case"function":I=S(o);break;case"object":if(Array.isArray(S)){var Fe=Math.floor(J/(100/S.length));Fe=Math.min(Fe,S.length-1),I=S[Fe=Math.max(Fe,0)];break}}return l.style.backgroundColor=I,l}},progress:function to(g,s,r){var N,J,pe,Fe,o=this.sanitizeHTML(g.getValue())||0,l=g.getElement(),p=s&&s.max?s.max:100,y=s&&s.min?s.min:0,S=s&&s.legendAlign?s.legendAlign:"center";switch(N=parseFloat(o)<=p?parseFloat(o):p,N=parseFloat(N)>=y?parseFloat(N):y,N=Math.round((N-y)/((p-y)/100)),typeof s.color){case"string":J=s.color;break;case"function":J=s.color(o);break;case"object":if(Array.isArray(s.color)){var Qe=100/s.color.length,Ct=Math.floor(N/Qe);Ct=Math.min(Ct,s.color.length-1),Ct=Math.max(Ct,0),J=s.color[Ct];break}default:J="#2DC214"}switch(typeof s.legend){case"string":pe=s.legend;break;case"function":pe=s.legend(o);break;case"boolean":pe=o;break;default:pe=!1}switch(typeof s.legendColor){case"string":Fe=s.legendColor;break;case"function":Fe=s.legendColor(o);break;case"object":Array.isArray(s.legendColor)&&(Qe=100/s.legendColor.length,Ct=Math.floor(N/Qe),Ct=Math.min(Ct,s.legendColor.length-1),Ct=Math.max(Ct,0),Fe=s.legendColor[Ct]);break;default:Fe="#000"}l.style.minWidth="30px",l.style.position="relative",l.setAttribute("aria-label",N);var Lt=document.createElement("div");Lt.style.display="inline-block",Lt.style.position="absolute",Lt.style.width=N+"%",Lt.style.backgroundColor=J,Lt.style.height="100%",Lt.setAttribute("data-max",p),Lt.setAttribute("data-min",y);var Gt=document.createElement("div");if(Gt.style.position="relative",Gt.style.width="100%",Gt.style.height="100%",pe){var Yt=document.createElement("div");Yt.style.position="absolute",Yt.style.top=0,Yt.style.left=0,Yt.style.textAlign=S,Yt.style.width="100%",Yt.style.color=Fe,Yt.innerHTML=pe}return r(function(){if(!(g instanceof eh)){var Ci=document.createElement("div");Ci.style.position="absolute",Ci.style.top="4px",Ci.style.bottom="4px",Ci.style.left="4px",Ci.style.right="4px",l.appendChild(Ci),l=Ci}l.appendChild(Gt),Gt.appendChild(Lt),pe&&Gt.appendChild(Yt)}),""},color:function Vu(g,s,r){return g.getElement().style.backgroundColor=this.sanitizeHTML(g.getValue()),""},buttonTick:function nh(g,s,r){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#2DC214" clip-rule="evenodd" d="M21.652,3.211c-0.293-0.295-0.77-0.295-1.061,0L9.41,14.34  c-0.293,0.297-0.771,0.297-1.062,0L3.449,9.351C3.304,9.203,3.114,9.13,2.923,9.129C2.73,9.128,2.534,9.201,2.387,9.351  l-2.165,1.946C0.078,11.445,0,11.63,0,11.823c0,0.194,0.078,0.397,0.223,0.544l4.94,5.184c0.292,0.296,0.771,0.776,1.062,1.07  l2.124,2.141c0.292,0.293,0.769,0.293,1.062,0l14.366-14.34c0.293-0.294,0.293-0.777,0-1.071L21.652,3.211z" fill-rule="evenodd"/></svg>'},buttonCross:function bu(g,s,r){return'<svg enable-background="new 0 0 24 24" height="14" width="14" viewBox="0 0 24 24" xml:space="preserve" ><path fill="#CE1515" d="M22.245,4.015c0.313,0.313,0.313,0.826,0,1.139l-6.276,6.27c-0.313,0.312-0.313,0.826,0,1.14l6.273,6.272  c0.313,0.313,0.313,0.826,0,1.14l-2.285,2.277c-0.314,0.312-0.828,0.312-1.142,0l-6.271-6.271c-0.313-0.313-0.828-0.313-1.141,0  l-6.276,6.267c-0.313,0.313-0.828,0.313-1.141,0l-2.282-2.28c-0.313-0.313-0.313-0.826,0-1.14l6.278-6.269  c0.313-0.312,0.313-0.826,0-1.14L1.709,5.147c-0.314-0.313-0.314-0.827,0-1.14l2.284-2.278C4.308,1.417,4.821,1.417,5.135,1.73  L11.405,8c0.314,0.314,0.828,0.314,1.141,0.001l6.276-6.267c0.312-0.312,0.826-0.312,1.141,0L22.245,4.015z"/></svg>'},rownum:function ac(g,s,r){return this.table.rowManager.activeRows.indexOf(g.getRow()._getSelf())+1},handle:function Ch(g,s,r){return g.getElement().classList.add("tabulator-row-handle"),"<div class='tabulator-row-handle-box'><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div><div class='tabulator-row-handle-bar'></div></div>"},responsiveCollapse:function Hh(g,s,r){var o=document.createElement("div"),l=g.getRow()._row.modules.responsiveLayout;function p(y){var S=l.element;l.open=y,S&&(l.open?(o.classList.add("open"),S.style.display=""):(o.classList.remove("open"),S.style.display="none"))}return o.classList.add("tabulator-responsive-collapse-toggle"),o.innerHTML="<span class='tabulator-responsive-collapse-toggle-open'>+</span><span class='tabulator-responsive-collapse-toggle-close'>-</span>",g.getElement().classList.add("tabulator-row-handle"),o.addEventListener("click",function(y){y.stopImmediatePropagation(),p(!l.open)}),p(l.open),o},rowSelection:function rh(g,s,r){var o=document.createElement("input");if(o.type="checkbox",this.table.modExists("selectRow",!0))if(o.addEventListener("click",p=>{p.stopPropagation()}),"function"==typeof g.getRow){var l=g.getRow();l instanceof cp?(o.addEventListener("change",p=>{l.toggleSelect()}),o.checked=l.isSelected&&l.isSelected(),this.table.modules.selectRow.registerRowSelectCheckbox(l,o)):o=""}else o.addEventListener("change",p=>{this.table.modules.selectRow.selectedRows.length?this.table.deselectRow():this.table.selectRow(s.rowRange)}),this.table.modules.selectRow.registerHeaderSelectCheckbox(o);return o}};let $p=(()=>{class g extends mo{constructor(r){super(r),this.registerColumnOption("formatter"),this.registerColumnOption("formatterParams"),this.registerColumnOption("formatterPrint"),this.registerColumnOption("formatterPrintParams"),this.registerColumnOption("formatterClipboard"),this.registerColumnOption("formatterClipboardParams"),this.registerColumnOption("formatterHtmlOutput"),this.registerColumnOption("formatterHtmlOutputParams"),this.registerColumnOption("titleFormatter"),this.registerColumnOption("titleFormatterParams")}initialize(){this.subscribe("cell-format",this.formatValue.bind(this)),this.subscribe("cell-rendered",this.cellRendered.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-format",this.formatHeader.bind(this))}initializeColumn(r){r.modules.format=this.lookupFormatter(r,""),void 0!==r.definition.formatterPrint&&(r.modules.format.print=this.lookupFormatter(r,"Print")),void 0!==r.definition.formatterClipboard&&(r.modules.format.clipboard=this.lookupFormatter(r,"Clipboard")),void 0!==r.definition.formatterHtmlOutput&&(r.modules.format.htmlOutput=this.lookupFormatter(r,"HtmlOutput"))}lookupFormatter(r,o){var l={params:r.definition["formatter"+o+"Params"]||{}},p=r.definition["formatter"+o];switch(typeof p){case"string":g.formatters[p]?l.formatter=g.formatters[p]:(console.warn("Formatter Error - No such formatter found: ",p),l.formatter=g.formatters.plaintext);break;case"function":l.formatter=p;break;default:l.formatter=g.formatters.plaintext}return l}cellRendered(r){r.modules.format&&r.modules.format.renderedCallback&&!r.modules.format.rendered&&(r.modules.format.renderedCallback(),r.modules.format.rendered=!0)}formatHeader(r,o,l){var p,y,S,I;return r.definition.titleFormatter?(p=this.getFormatter(r.definition.titleFormatter),S=N=>{r.titleFormatterRendered=N},I={getValue:function(){return o},getElement:function(){return l}},y="function"==typeof(y=r.definition.titleFormatterParams||{})?y():y,p.call(this,I,y,S)):o}formatValue(r){var o=r.getComponent(),l="function"==typeof r.column.modules.format.params?r.column.modules.format.params(o):r.column.modules.format.params;return r.column.modules.format.formatter.call(this,o,l,function p(y){r.modules.format||(r.modules.format={}),r.modules.format.renderedCallback=y,r.modules.format.rendered=!1})}formatExportValue(r,o){var p,l=r.column.modules.format[o];if(l){let y=function(S){r.modules.format||(r.modules.format={}),r.modules.format.renderedCallback=S,r.modules.format.rendered=!1};return p="function"==typeof l.params?l.params(component):l.params,l.formatter.call(this,r.getComponent(),p,y)}return this.formatValue(r)}sanitizeHTML(r){if(r){var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(r).replace(/[&<>"'`=\/]/g,function(l){return o[l]})}return r}emptyToSpace(r){return null==r||""===r?"&nbsp;":r}getFormatter(o){switch(typeof o){case"string":g.formatters[o]?o=g.formatters[o]:(console.warn("Formatter Error - No such formatter found: ",o),o=g.formatters.plaintext);break;case"function":o=o;break;default:o=g.formatters.plaintext}return o}}return g.moduleName="format",g.formatters=fp,g})(),Yf=(()=>{class g extends mo{constructor(r){super(r),this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightPadding=0,this.initializationMode="left",this.active=!1,this.scrollEndTimer=!1,this.registerColumnOption("frozen")}reset(){this.initializationMode="left",this.leftColumns=[],this.rightColumns=[],this.leftMargin=0,this.rightMargin=0,this.rightMargin=0,this.active=!1,this.table.columnManager.headersElement.style.marginLeft=0,this.table.columnManager.element.style.paddingRight=0}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-width",this.layout.bind(this)),this.subscribe("row-layout-before",this.layoutRow.bind(this)),this.subscribe("table-layout",this.layout.bind(this)),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this)),this.subscribe("columns-loading",this.reset.bind(this)),this.subscribe("table-redraw",this.layout.bind(this))}layoutCell(r){this.layoutElement(r.element,r.column)}initializeColumn(r){var o={margin:0,edge:!1};r.isGroup||(this.frozenCheck(r)?(o.position=this.initializationMode,"left"==this.initializationMode?this.leftColumns.push(r):this.rightColumns.unshift(r),this.active=!0,r.modules.frozen=o):this.initializationMode="right")}frozenCheck(r){return r.parent.isGroup&&r.definition.frozen&&console.warn("Frozen Column Error - Parent column group must be frozen, not individual columns or sub column groups"),r.parent.isGroup?this.frozenCheck(r.parent):r.definition.frozen}scrollHorizontal(){var r;this.active&&(clearTimeout(this.scrollEndTimer),this.scrollEndTimer=setTimeout(()=>{this.layout()},100),r=this.table.rowManager.getVisibleRows(),this.calcMargins(),this.layoutColumnPosition(),this.layoutCalcRows(),r.forEach(o=>{"row"===o.type&&this.layoutRow(o)}),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}calcMargins(){this.leftMargin=this._calcSpace(this.leftColumns,this.leftColumns.length)+"px",this.table.columnManager.headersElement.style.marginLeft=this.leftMargin,this.rightMargin=this._calcSpace(this.rightColumns,this.rightColumns.length)+"px",this.table.columnManager.element.style.paddingRight=this.rightMargin,this.rightPadding=this.table.rowManager.element.clientWidth+this.table.columnManager.scrollLeft}layoutCalcRows(){this.table.modExists("columnCalcs")&&(this.table.modules.columnCalcs.topInitialized&&this.table.modules.columnCalcs.topRow&&this.layoutRow(this.table.modules.columnCalcs.topRow),this.table.modules.columnCalcs.botInitialized&&this.table.modules.columnCalcs.botRow&&this.layoutRow(this.table.modules.columnCalcs.botRow),this.table.modExists("groupRows")&&this.layoutGroupCalcs(this.table.modules.groupRows.getGroups()))}layoutGroupCalcs(r){r.forEach(o=>{o.calcs.top&&this.layoutRow(o.calcs.top),o.calcs.bottom&&this.layoutRow(o.calcs.bottom),o.groupList&&o.groupList.length&&this.layoutGroupCalcs(o.groupList&&o.groupList)})}layoutColumnPosition(r){var o=[];this.leftColumns.forEach((l,p)=>{if(l.modules.frozen.margin=this._calcSpace(this.leftColumns,p)+this.table.columnManager.scrollLeft+"px",l.modules.frozen.edge=p==this.leftColumns.length-1,l.parent.isGroup){var y=this.getColGroupParentElement(l);o.includes(y)||(this.layoutElement(y,l),o.push(y)),l.modules.frozen.edge&&y.classList.add("tabulator-frozen-"+l.modules.frozen.position)}else this.layoutElement(l.getElement(),l);r&&l.cells.forEach(S=>{this.layoutElement(S.getElement(!0),l)})}),this.rightColumns.forEach((l,p)=>{l.modules.frozen.margin=this.rightPadding-this._calcSpace(this.rightColumns,p+1)+"px",l.modules.frozen.edge=p==this.rightColumns.length-1,this.layoutElement(l.parent.isGroup?this.getColGroupParentElement(l):l.getElement(),l),r&&l.cells.forEach(y=>{this.layoutElement(y.getElement(!0),l)})})}getColGroupParentElement(r){return r.parent.isGroup?this.getColGroupParentElement(r.parent):r.getElement()}layout(){this.active&&(this.calcMargins(),this.table.rowManager.getDisplayRows().forEach(r=>{"row"===r.type&&this.layoutRow(r)}),this.layoutCalcRows(),this.layoutColumnPosition(!0),this.table.rowManager.tableElement.style.marginRight=this.rightMargin)}layoutRow(r){r.getElement().style.paddingLeft=this.leftMargin,this.leftColumns.forEach(l=>{var p=r.getCell(l);p&&this.layoutElement(p.getElement(!0),l)}),this.rightColumns.forEach(l=>{var p=r.getCell(l);p&&this.layoutElement(p.getElement(!0),l)})}layoutElement(r,o){o.modules.frozen&&(r.style.position="absolute",r.style.left=o.modules.frozen.margin,r.classList.add("tabulator-frozen"),o.modules.frozen.edge&&r.classList.add("tabulator-frozen-"+o.modules.frozen.position))}_calcSpace(r,o){var l=0;for(let p=0;p<o;p++)r[p].visible&&(l+=r[p].getWidth());return l}}return g.moduleName="frozenColumns",g})(),Jp=(()=>{class g extends mo{constructor(r){super(r),this.topElement=document.createElement("div"),this.rows=[],this.registerComponentFunction("row","freeze",this.freezeRow.bind(this)),this.registerComponentFunction("row","unfreeze",this.unfreezeRow.bind(this)),this.registerComponentFunction("row","isFrozen",this.isRowFrozen.bind(this))}initialize(){this.rows=[],this.topElement.classList.add("tabulator-frozen-rows-holder"),this.table.columnManager.getElement().insertBefore(this.topElement,this.table.columnManager.headersElement.nextSibling),this.subscribe("row-deleting",this.detachRow.bind(this)),this.registerDisplayHandler(this.getRows.bind(this),10)}isRowFrozen(r){return this.rows.indexOf(r)>-1}isFrozen(){return!!this.rows.length}getRows(r){var o=r.slice(0);return this.rows.forEach(function(l){var p=o.indexOf(l);p>-1&&o.splice(p,1)}),o}freezeRow(r){r.modules.frozen?console.warn("Freeze Error - Row is already frozen"):(r.modules.frozen=!0,this.topElement.appendChild(r.getElement()),r.initialize(),r.normalizeHeight(),this.table.rowManager.adjustTableSize(),this.rows.push(r),this.refreshData(!1,"display"),this.styleRows())}unfreezeRow(r){this.rows.indexOf(r),r.modules.frozen?(r.modules.frozen=!1,this.detachRow(r),this.table.rowManager.adjustTableSize(),this.refreshData(!1,"display"),this.rows.length&&this.styleRows()):console.warn("Freeze Error - Row is already unfrozen")}detachRow(r){var o=this.rows.indexOf(r);if(o>-1){var l=r.getElement();l.parentNode&&l.parentNode.removeChild(l),this.rows.splice(o,1)}}styleRows(r){this.rows.forEach((o,l)=>{this.table.rowManager.styleRow(o,l)})}}return g.moduleName="frozenRows",g})();class Xf{constructor(s){return this._group=s,this.type="GroupComponent",new Proxy(this,{get:function(r,o,l){return void 0!==r[o]?r[o]:r._group.table.componentFunctionBinder.handle("row",r._group,o)}})}getKey(){return this._group.key}getField(){return this._group.field}getElement(){return this._group.element}getRows(){return this._group.getRows(!0)}getSubGroups(){return this._group.getSubGroups(!0)}getParentGroup(){return!!this._group.parent&&this._group.parent.getComponent()}isVisible(){return this._group.visible}show(){this._group.show()}hide(){this._group.hide()}toggle(){this._group.toggleVisibility()}_getSelf(){return this._group}getTable(){return this._group.groupManager.table}}class jd{constructor(s,r,o,l,p,y,S){this.groupManager=s,this.parent=r,this.key=l,this.level=o,this.field=p,this.hasSubGroups=o<s.groupIDLookups.length-1,this.addRow=this.hasSubGroups?this._addRowToGroup:this._addRow,this.type="group",this.old=S,this.rows=[],this.groups=[],this.groupList=[],this.generator=y,this.elementContents=!1,this.height=0,this.outerHeight=0,this.initialized=!1,this.calcs={},this.initialized=!1,this.modules={},this.arrowElement=!1,this.visible=S?S.visible:void 0!==s.startOpen[o]?s.startOpen[o]:s.startOpen[0],this.component=null,this.createElements(),this.addBindings(),this.createValueGroups()}wipe(){this.groupList.length?this.groupList.forEach(function(s){s.wipe()}):(this.element=!1,this.arrowElement=!1,this.elementContents=!1)}createElements(){var s=document.createElement("div");s.classList.add("tabulator-arrow"),this.element=document.createElement("div"),this.element.classList.add("tabulator-row"),this.element.classList.add("tabulator-group"),this.element.classList.add("tabulator-group-level-"+this.level),this.element.setAttribute("role","rowgroup"),this.arrowElement=document.createElement("div"),this.arrowElement.classList.add("tabulator-group-toggle"),this.arrowElement.appendChild(s),!1!==this.groupManager.table.options.movableRows&&this.groupManager.table.modExists("moveRow")&&this.groupManager.table.modules.moveRow.initializeGroupHeader(this)}createValueGroups(){var s=this.level+1;this.groupManager.allowedValues&&this.groupManager.allowedValues[s]&&this.groupManager.allowedValues[s].forEach(r=>{this._createGroup(r,s)})}addBindings(){var s,r,o;(this.groupManager.table.options.groupContextMenu||this.groupManager.table.options.groupClickMenu)&&this.groupManager.table.modExists("menu")&&this.groupManager.table.modules.menu.initializeGroup.call(this.groupManager.table.modules.menu,this),this.groupManager.table.options.groupTap&&(o=!1,this.element.addEventListener("touchstart",p=>{o=!0},{passive:!0}),this.element.addEventListener("touchend",p=>{o&&this.groupManager.table.options.groupTap(p,this.getComponent()),o=!1})),this.groupManager.table.options.groupDblTap&&(s=null,this.element.addEventListener("touchend",p=>{s?(clearTimeout(s),s=null,this.groupManager.table.options.groupDblTap(p,this.getComponent())):s=setTimeout(()=>{clearTimeout(s),s=null},300)})),this.groupManager.table.options.groupTapHold&&(r=null,this.element.addEventListener("touchstart",p=>{clearTimeout(r),r=setTimeout(()=>{clearTimeout(r),r=null,o=!1,this.groupManager.table.options.groupTapHold(p,this.getComponent())},1e3)},{passive:!0}),this.element.addEventListener("touchend",p=>{clearTimeout(r),r=null})),this.groupManager.table.options.groupToggleElement&&("arrow"==this.groupManager.table.options.groupToggleElement?this.arrowElement:this.element).addEventListener("click",p=>{p.stopPropagation(),p.stopImmediatePropagation(),this.toggleVisibility()})}_createGroup(s,r){var o=r+"_"+s,l=new jd(this.groupManager,this,r,s,this.groupManager.groupIDLookups[r].field,this.groupManager.headerGenerator[r]||this.groupManager.headerGenerator[0],!!this.old&&this.old.groups[o]);this.groups[o]=l,this.groupList.push(l)}_addRowToGroup(s){var r=this.level+1;if(this.hasSubGroups){var o=this.groupManager.groupIDLookups[r].func(s.getData()),l=r+"_"+o;this.groupManager.allowedValues&&this.groupManager.allowedValues[r]?this.groups[l]&&this.groups[l].addRow(s):(this.groups[l]||this._createGroup(o,r),this.groups[l].addRow(s))}}_addRow(s){this.rows.push(s),s.modules.group=this}insertRow(s,r,o){var l=this.conformRowData({});s.updateData(l);var p=this.rows.indexOf(r);p>-1?this.rows.splice(o?p+1:p,0,s):o?this.rows.push(s):this.rows.unshift(s),s.modules.group=this,this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this),this.groupManager.updateGroupRows(!0)}scrollHeader(s){this.arrowElement.style.marginLeft=s,this.groupList.forEach(function(r){r.scrollHeader(s)})}getRowIndex(s){}conformRowData(s){return this.field?s[this.field]=this.key:console.warn("Data Conforming Error - Cannot conform row data to match new group as groupBy is a function"),this.parent&&(s=this.parent.conformRowData(s)),s}removeRow(s){var r=this.rows.indexOf(s),o=s.getElement();r>-1&&this.rows.splice(r,1),this.groupManager.table.options.groupValues||this.rows.length?(o.parentNode&&o.parentNode.removeChild(o),this.generateGroupHeaderContents(),this.groupManager.table.modExists("columnCalcs")&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modules.columnCalcs.recalcGroup(this)):(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this),this.groupManager.updateGroupRows(!0))}removeGroup(s){var o,r=s.level+"_"+s.key;this.groups[r]&&(delete this.groups[r],(o=this.groupList.indexOf(s))>-1&&this.groupList.splice(o,1),this.groupList.length||(this.parent?this.parent.removeGroup(this):this.groupManager.removeGroup(this)))}getHeadersAndRows(s){var r=[];return r.push(this),this._visSet(),this.visible?this.groupList.length?this.groupList.forEach(function(o){r=r.concat(o.getHeadersAndRows(s))}):(!s&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),r.push(this.calcs.top)),r=r.concat(this.rows),!s&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),r.push(this.calcs.bottom))):!this.groupList.length&&"table"!=this.groupManager.table.options.columnCalcs&&this.groupManager.table.modExists("columnCalcs")&&(!s&&this.groupManager.table.modules.columnCalcs.hasTopCalcs()&&(this.calcs.top&&(this.calcs.top.detachElement(),this.calcs.top.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.top=this.groupManager.table.modules.columnCalcs.generateTopRow(this.rows),r.push(this.calcs.top))),!s&&this.groupManager.table.modules.columnCalcs.hasBottomCalcs()&&(this.calcs.bottom&&(this.calcs.bottom.detachElement(),this.calcs.bottom.deleteCells()),this.groupManager.table.options.groupClosedShowCalcs&&(this.calcs.bottom=this.groupManager.table.modules.columnCalcs.generateBottomRow(this.rows),r.push(this.calcs.bottom)))),r}getData(s,r){var o=[];return this._visSet(),(!s||s&&this.visible)&&this.rows.forEach(l=>{o.push(l.getData(r||"data"))}),o}getRowCount(){var s=0;return this.groupList.length?this.groupList.forEach(r=>{s+=r.getRowCount()}):s=this.rows.length,s}toggleVisibility(){this.visible?this.hide():this.show()}hide(){this.visible=!1,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination?this.groupManager.updateGroupRows(!0):(this.element.classList.remove("tabulator-group-visible"),this.groupList.length?this.groupList.forEach(s=>{s.getHeadersAndRows().forEach(o=>{o.detachElement()})}):this.rows.forEach(s=>{var r=s.getElement();r.parentNode.removeChild(r)}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()),this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!1)}show(){if(this.visible=!0,"classic"!=this.groupManager.table.rowManager.getRenderMode()||this.groupManager.table.options.pagination)this.groupManager.updateGroupRows(!0);else{this.element.classList.add("tabulator-group-visible");var s=this.getElement();this.groupList.length?this.groupList.forEach(r=>{r.getHeadersAndRows().forEach(l=>{var p=l.getElement();s.parentNode.insertBefore(p,s.nextSibling),l.initialize(),s=p})}):this.rows.forEach(r=>{var o=r.getElement();s.parentNode.insertBefore(o,s.nextSibling),r.initialize(),s=o}),this.groupManager.table.rowManager.setDisplayRows(this.groupManager.updateGroupRows(),this.groupManager.getDisplayIndex()),this.groupManager.table.rowManager.checkClassicModeGroupHeaderWidth()}this.groupManager.table.externalEvents.dispatch("groupVisibilityChanged",this.getComponent(),!0)}_visSet(){var s=[];"function"==typeof this.visible&&(this.rows.forEach(function(r){s.push(r.getData())}),this.visible=this.visible(this.key,this.getRowCount(),s,this.getComponent()))}getRowGroup(s){var r=!1;return this.groupList.length?this.groupList.forEach(function(o){var l=o.getRowGroup(s);l&&(r=l)}):this.rows.find(function(o){return o===s})&&(r=this),r}getSubGroups(s){var r=[];return this.groupList.forEach(function(o){r.push(s?o.getComponent():o)}),r}getRows(s){var r=[];return this.rows.forEach(function(o){r.push(s?o.getComponent():o)}),r}generateGroupHeaderContents(){var s=[];for(this.rows.forEach(function(r){s.push(r.getData())}),this.elementContents=this.generator(this.key,this.getRowCount(),s,this.getComponent());this.element.firstChild;)this.element.removeChild(this.element.firstChild);"string"==typeof this.elementContents?this.element.innerHTML=this.elementContents:this.element.appendChild(this.elementContents),this.element.insertBefore(this.arrowElement,this.element.firstChild)}getPath(s=[]){return s.unshift(this.key),this.parent&&this.parent.getPath(s),s}getElement(){this.addBindingsd=!1,this._visSet(),this.visible?this.element.classList.add("tabulator-group-visible"):this.element.classList.remove("tabulator-group-visible");for(var s=0;s<this.element.childNodes.length;++s)this.element.childNodes[s].parentNode.removeChild(this.element.childNodes[s]);return this.generateGroupHeaderContents(),this.element}detachElement(){this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element)}normalizeHeight(){this.setHeight(this.element.clientHeight)}initialize(s){(!this.initialized||s)&&(this.normalizeHeight(),this.initialized=!0)}reinitialize(){this.initialized=!1,this.height=0,Us.elVisible(this.element)&&this.initialize(!0)}setHeight(s){this.height!=s&&(this.height=s,this.outerHeight=this.element.offsetHeight)}getHeight(){return this.outerHeight}getGroup(){return this}reinitializeHeight(){}calcHeight(){}setCellHeight(){}clearCellHeight(){}deinitializeHeight(){}getComponent(){return this.component||(this.component=new Xf(this)),this.component}}let Kf=(()=>{class g extends mo{constructor(r){super(r),this.groupIDLookups=!1,this.startOpen=[function(){return!1}],this.headerGenerator=[function(){return""}],this.groupList=[],this.allowedValues=!1,this.groups={},this.displayIndex=0,this.displayHandler=this.getRows.bind(this),this.registerTableOption("groupBy",!1),this.registerTableOption("groupStartOpen",!0),this.registerTableOption("groupValues",!1),this.registerTableOption("groupUpdateOnCellEdit",!1),this.registerTableOption("groupHeader",!1),this.registerTableOption("groupHeaderPrint",null),this.registerTableOption("groupHeaderClipboard",null),this.registerTableOption("groupHeaderHtmlOutput",null),this.registerTableOption("groupHeaderDownload",null),this.registerTableOption("groupToggleElement","arrow"),this.registerTableOption("groupClosedShowCalcs",!1),this.registerTableFunction("setGroupBy",this.setGroupBy.bind(this)),this.registerTableFunction("setGroupValues",this.setGroupValues.bind(this)),this.registerTableFunction("setGroupStartOpen",this.setGroupStartOpen.bind(this)),this.registerTableFunction("setGroupHeader",this.setGroupHeader.bind(this)),this.registerTableFunction("getGroups",this.userGetGroups.bind(this)),this.registerTableFunction("getGroupedData",this.userGetGroupedData.bind(this)),this.registerComponentFunction("row","getGroup",this.rowGetGroup.bind(this))}initialize(){this.table.options.groupBy&&(this.configureGroupSetup(),this.table.options.groupUpdateOnCellEdit&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("row-data-changed",this.reassignRowToGroup.bind(this),0)),this.subscribe("row-deleting",this.rowDeleting.bind(this)),this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("scroll-horizontal",this.scrollHeaders.bind(this)),this.subscribe("rows-wipe",this.wipe.bind(this)),this.subscribe("rows-added",this.rowsUpdated.bind(this)),this.subscribe("row-moving",this.rowMoving.bind(this)),this.subscribe("row-adding-index",this.rowAddingIndex.bind(this)),this.subscribe("rows-sample",this.rowSample.bind(this)),this.subscribe("render-virtual-fill",this.virtualRenderFill.bind(this)),this.registerDisplayHandler(this.displayHandler,20),this.initialized=!0)}configureGroupSetup(){if(this.table.options.groupBy){var r=this.table.options.groupBy,o=this.table.options.groupStartOpen,l=this.table.options.groupHeader;this.allowedValues=this.table.options.groupValues,Array.isArray(r)&&Array.isArray(l)&&r.length>l.length&&console.warn("Error creating group headers, groupHeader array is shorter than groupBy array"),this.headerGenerator=[function(){return""}],this.startOpen=[function(){return!1}],this.langBind("groups|item",(y,S)=>{this.headerGenerator[0]=(I,N,J)=>(void 0===I?"":I)+"<span>("+N+" "+(1===N?y:S.groups.items)+")</span>"}),this.groupIDLookups=[],Array.isArray(r)||r?this.table.modExists("columnCalcs")&&"table"!=this.table.options.columnCalcs&&"both"!=this.table.options.columnCalcs&&this.table.modules.columnCalcs.removeCalcs():this.table.modExists("columnCalcs")&&"group"!=this.table.options.columnCalcs&&this.table.columnManager.getRealColumns().forEach(y=>{y.definition.topCalc&&this.table.modules.columnCalcs.initializeTopRow(),y.definition.bottomCalc&&this.table.modules.columnCalcs.initializeBottomRow()}),Array.isArray(r)||(r=[r]),r.forEach((y,S)=>{var I,N;I="function"==typeof y?y:(N=this.table.columnManager.getColumnByField(y))?function(J){return N.getFieldValue(J)}:function(J){return J[y]},this.groupIDLookups.push({field:"function"!=typeof y&&y,func:I,values:!!this.allowedValues&&this.allowedValues[S]})}),o&&(Array.isArray(o)||(o=[o]),o.forEach(y=>{}),this.startOpen=o),l&&(this.headerGenerator=Array.isArray(l)?l:[l])}}rowSample(r,o){var l=this.getGroups(!1)[0];return o.push(l.getRows(!1)[0]),o}virtualRenderFill(){var r=this.table.rowManager.tableElement,o=this.table.rowManager.getVisibleRows();o=o.filter(l=>"group"!==l.type),r.style.minWidth=o.length?"":this.table.columnManager.getWidth()+"px"}rowAddingIndex(r,o,l){this.assignRowToGroup(r);var p=r.modules.group.rows;return p.length>1&&(!o||o&&-1==p.indexOf(o)?l?p[0]!==r&&this.table.rowManager.moveRowInArray(r.modules.group.rows,r,o=p[0],!l):p[p.length-1]!==r&&this.table.rowManager.moveRowInArray(r.modules.group.rows,r,o=p[p.length-1],!l):this.table.rowManager.moveRowInArray(r.modules.group.rows,r,o,!l)),o}trackChanges(){this.dispatch("group-changed")}setGroupBy(r){this.table.options.groupBy=r,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupValues(r){this.table.options.groupValues=r,this.configureGroupSetup(),this.refreshData(),this.trackChanges()}setGroupStartOpen(r){this.table.options.groupStartOpen=r,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}setGroupHeader(r){this.table.options.groupHeader=r,this.configureGroupSetup(),this.table.options.groupBy?(this.refreshData(),this.trackChanges()):console.warn("Grouping Update - cant refresh view, no groups have been set")}userGetGroups(r){return this.getGroups(!0)}userGetGroupedData(){return this.table.options.groupBy?this.getGroupedData():this.getData()}rowGetGroup(r){return!!r.modules.group&&r.modules.group.getComponent()}rowMoving(r,o,l){!l&&o instanceof jd&&(o=this.table.rowManager.prevDisplayRow(r)||o);var p=o instanceof jd?o:o.modules.group,y=r instanceof jd?r:r.modules.group;p===y?this.table.rowManager.moveRowInArray(p.rows,r,o,l):(y&&y.removeRow(r),p.insertRow(r,o,l))}rowDeleting(r){r.modules.group&&r.modules.group.removeRow(r)}rowsUpdated(r){this.updateGroupRows(!0)}cellUpdated(r){this.reassignRowToGroup(r.row)}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}getRows(r){return this.table.options.groupBy&&this.groupIDLookups.length?(this.dispatchExternal("dataGrouping"),this.generateGroups(r),this.subscribedExternal("dataGrouped")&&this.dispatchExternal("dataGrouped",this.getGroups(!0)),this.updateGroupRows()):r.slice(0)}getGroups(r){var o=[];return this.groupList.forEach(function(l){o.push(r?l.getComponent():l)}),o}getChildGroups(r){var o=[];return r||(r=this),r.groupList.forEach(l=>{l.groupList.length?o=o.concat(this.getChildGroups(l)):o.push(l)}),o}wipe(){this.groupList.forEach(function(r){r.wipe()})}pullGroupListData(r){var o=[];return r.forEach(l=>{var p={level:0,rowCount:0,headerContent:""},y=[];l.hasSubGroups?(y=this.pullGroupListData(l.groupList),p.level=l.level,p.rowCount=y.length-l.groupList.length,p.headerContent=l.generator(l.key,p.rowCount,l.rows,l),o.push(p),o=o.concat(y)):(p.level=l.level,p.headerContent=l.generator(l.key,l.rows.length,l.rows,l),p.rowCount=l.getRows().length,o.push(p),l.getRows().forEach(S=>{o.push(S.getData("data"))}))}),o}getGroupedData(){return this.pullGroupListData(this.groupList)}getRowGroup(r){var o=!1;return this.groupList.forEach(l=>{var p=l.getRowGroup(r);p&&(o=p)}),o}countGroups(){return this.groupList.length}generateGroups(r){var o=this.groups;this.groups={},this.groupList=[],this.allowedValues&&this.allowedValues[0]?(this.allowedValues[0].forEach(l=>{this.createGroup(l,0,o)}),r.forEach(l=>{this.assignRowToExistingGroup(l,o)})):r.forEach(l=>{this.assignRowToGroup(l,o)})}createGroup(r,o,l){var y,p=o+"_"+r;y=new jd(this,!1,o,r,this.groupIDLookups[0].field,this.headerGenerator[0],(l=l||[])[p]),this.groups[p]=y,this.groupList.push(y)}assignRowToExistingGroup(r,o){var p="0_"+this.groupIDLookups[0].func(r.getData());this.groups[p]&&this.groups[p].addRow(r)}assignRowToGroup(r,o){var l=this.groupIDLookups[0].func(r.getData()),p=!this.groups["0_"+l];return p&&this.createGroup(l,0,o),this.groups["0_"+l].addRow(r),!p}reassignRowToGroup(r){if("row"===r.type){var o=r.modules.group,l=o.getPath(),p=this.getExpectedPath(r);l.length==p.length&&l.every((S,I)=>S===p[I])||(o.removeRow(r),this.assignRowToGroup(r,this.groups),this.refreshData(!0))}}getExpectedPath(r){var o=[],l=r.getData();return this.groupIDLookups.forEach(p=>{o.push(p.func(l))}),o}updateGroupRows(r){var o=[];return this.groupList.forEach(l=>{o=o.concat(l.getHeadersAndRows())}),r&&this.refreshData(!0,this.displayHandler),o}scrollHeaders(r){"virtual"===this.table.options.renderHorizontal&&(r-=this.table.columnManager.renderer.vDomPadLeft),r+="px",this.groupList.forEach(o=>{o.scrollHeader(r)})}removeGroup(r){var l,o=r.level+"_"+r.key;this.groups[o]&&(delete this.groups[o],(l=this.groupList.indexOf(r))>-1&&this.groupList.splice(l,1))}}return g.moduleName="groupRows",g})();var $f={cellEdit:function(g){g.component.setValueProcessData(g.data.oldValue),g.component.cellRendered()},rowAdd:function(g){g.component.deleteActual()},rowDelete:function(g){var s=this.table.rowManager.addRowActual(g.data.data,g.data.pos,g.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(g.component,s)},rowMove:function(g){this.table.rowManager.moveRowActual(g.component,this.table.rowManager.rows[g.data.posFrom],!g.data.after),this.table.rowManager.redraw()}},Zp={cellEdit:function(g){g.component.setValueProcessData(g.data.newValue),g.component.cellRendered()},rowAdd:function(g){var s=this.table.rowManager.addRowActual(g.data.data,g.data.pos,g.data.index);this.table.options.groupBy&&this.table.modExists("groupRows")&&this.table.modules.groupRows.updateGroupRows(!0),this._rebindRow(g.component,s)},rowDelete:function(g){g.component.deleteActual()},rowMove:function(g){this.table.rowManager.moveRowActual(g.component,this.table.rowManager.rows[g.data.posTo],g.data.after),this.table.rowManager.redraw()}};let Qp=(()=>{class g extends mo{constructor(r){super(r),this.history=[],this.index=-1,this.registerTableOption("history",!1)}initialize(){this.table.options.history&&(this.subscribe("cell-value-updated",this.cellUpdated.bind(this)),this.subscribe("cell-delete",this.clearComponentHistory.bind(this)),this.subscribe("row-delete",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clear.bind(this)),this.subscribe("row-added",this.rowAdded.bind(this)),this.subscribe("row-move",this.rowMoved.bind(this))),this.registerTableFunction("undo",this.undo.bind(this)),this.registerTableFunction("redo",this.redo.bind(this)),this.registerTableFunction("getHistoryUndoSize",this.getHistoryUndoSize.bind(this)),this.registerTableFunction("getHistoryRedoSize",this.getHistoryRedoSize.bind(this)),this.registerTableFunction("clearHistory",this.clear.bind(this))}rowMoved(r,o,l){this.action("rowMove",r,{posFrom:this.table.rowManager.getRowPosition(r),posTo:this.table.rowManager.getRowPosition(o),to:o,after:l})}rowAdded(r,o,l,p){this.action("rowAdd",r,{data:o,pos:l,index:p})}rowDeleted(r){var o,l;this.table.options.groupBy?(o=(l=r.getComponent().getGroup().rows).indexOf(r))&&(o=l[o-1]):(o=r.table.rowManager.getRowIndex(r))&&(o=r.table.rowManager.rows[o-1]),this.action("rowDelete",r,{data:r.getData(),pos:!o,index:o})}cellUpdated(r){this.action("cellEdit",r,{oldValue:r.oldValue,newValue:r.value})}clear(){this.history=[],this.index=-1}action(r,o,l){this.history=this.history.slice(0,this.index+1),this.history.push({type:r,component:o,data:l}),this.index++}getHistoryUndoSize(){return this.index+1}getHistoryRedoSize(){return this.history.length-(this.index+1)}clearComponentHistory(r){var o=this.history.findIndex(function(l){return l.component===r});o>-1&&(this.history.splice(o,1),o<=this.index&&this.index--,this.clearComponentHistory(r))}undo(){if(this.index>-1){let r=this.history[this.index];return g.undoers[r.type].call(this,r),this.index--,this.dispatchExternal("historyUndo",r.type,r.component.getComponent(),r.data),!0}return console.warn("History Undo Error - No more history to undo"),!1}redo(){if(this.history.length-1>this.index){this.index++;let r=this.history[this.index];return g.redoers[r.type].call(this,r),this.dispatchExternal("historyRedo",r.type,r.component.getComponent(),r.data),!0}return console.warn("History Redo Error - No more history to redo"),!1}_rebindRow(r,o){this.history.forEach(function(l){if(l.component instanceof $o)l.component===r&&(l.component=o);else if(l.component instanceof Oh&&l.component.row===r){var p=l.component.column.getField();p&&(l.component=o.getCell(p))}})}}return g.moduleName="history",g.undoers=$f,g.redoers=Zp,g})(),Jf=(()=>{class g extends mo{constructor(r){super(r),this.fieldIndex=[],this.hasIndex=!1}initialize(){this.tableElementCheck()}tableElementCheck(){this.table.originalElement&&"TABLE"===this.table.originalElement.tagName&&this.parseTable()}parseTable(){var r=this.table.originalElement,o=this.table.options,p=r.getElementsByTagName("th"),y=r.getElementsByTagName("tbody")[0],S=[];this.hasIndex=!1,this.dispatchExternal("htmlImporting"),y=y?y.getElementsByTagName("tr"):[],this._extractOptions(r,o),p.length?this._extractHeaders(p,y):this._generateBlankHeaders(p,y);for(var I=0;I<y.length;I++){var J=y[I].getElementsByTagName("td"),pe={};this.hasIndex||(pe[o.index]=I);for(var Fe=0;Fe<J.length;Fe++)void 0!==this.fieldIndex[Fe]&&(pe[this.fieldIndex[Fe]]=J[Fe].innerHTML);S.push(pe)}o.data=S,this.dispatchExternal("htmlImported")}_extractOptions(r,o,l){var p=r.attributes,y=l?Object.assign([],l):Object.keys(o),S={};for(var I in y.forEach(pe=>{S[pe.toLowerCase()]=pe}),p){var J,N=p[I];N&&"object"==typeof N&&N.name&&0===N.name.indexOf("tabulator-")&&(J=N.name.replace("tabulator-",""),void 0!==S[J]&&(o[S[J]]=this._attribValue(N.value)))}}_attribValue(r){return"true"===r||"false"!==r&&r}_findCol(r){return this.table.options.columns.find(l=>l.title===r)||!1}_extractHeaders(r,o){for(var l=0;l<r.length;l++){var I,p=r[l],y=!1,S=this._findCol(p.textContent);S?y=!0:S={title:p.textContent.trim()},S.field||(S.field=p.textContent.trim().toLowerCase().replace(" ","_")),(I=p.getAttribute("width"))&&!S.width&&(S.width=I),this._extractOptions(p,S,mh.prototype.defaultOptionList),this.fieldIndex[l]=S.field,S.field==this.table.options.index&&(this.hasIndex=!0),y||this.table.options.columns.push(S)}}_generateBlankHeaders(r,o){for(var l=0;l<r.length;l++){var p=r[l],y={title:"",field:"col"+l};this.fieldIndex[l]=y.field;var S=p.getAttribute("width");S&&(y.width=S),this.table.options.columns.push(y)}}}return g.moduleName="htmlTableImport",g})(),Uu=(()=>{class g extends mo{constructor(r){super(r),this.eventMap={rowClick:"row-click",rowDblClick:"row-dblclick",rowContext:"row-contextmenu",rowMouseEnter:"row-mouseenter",rowMouseLeave:"row-mouseleave",rowMouseOver:"row-mouseover",rowMouseOut:"row-mouseout",rowMouseMove:"row-mousemove",rowTap:"row",rowDblTap:"row",rowTapHold:"row",cellClick:"cell-click",cellDblClick:"cell-dblclick",cellContext:"cell-contextmenu",cellMouseEnter:"cell-mouseenter",cellMouseLeave:"cell-mouseleave",cellMouseOver:"cell-mouseover",cellMouseOut:"cell-mouseout",cellMouseMove:"cell-mousemove",cellTap:"cell",cellDblTap:"cell",cellTapHold:"cell",headerClick:"column-click",headerDblClick:"column-dblclick",headerContext:"column-contextmenu",headerMouseEnter:"column-mouseenter",headerMouseLeave:"column-mouseleave",headerMouseOver:"column-mouseover",headerMouseOut:"column-mouseout",headerMouseMove:"column-mousemove",headerTap:"column",headerDblTap:"column",headerTapHold:"column",groupClick:"group-click",groupDblClick:"group-dblclick",groupContext:"group-contextmenu",groupMouseEnter:"group-mouseenter",groupMouseLeave:"group-mouseleave",groupMouseOver:"group-mouseover",groupMouseOut:"group-mouseout",groupMouseMove:"group-mousemove",groupTap:"group",groupDblTap:"group",groupTapHold:"group"},this.subscribers={},this.touchSubscribers={},this.columnSubscribers={},this.touchWatchers={row:{tap:null,tapDbl:null,tapHold:null},cell:{tap:null,tapDbl:null,tapHold:null},column:{tap:null,tapDbl:null,tapHold:null}},this.registerColumnOption("headerClick"),this.registerColumnOption("headerDblClick"),this.registerColumnOption("headerContext"),this.registerColumnOption("headerMouseEnter"),this.registerColumnOption("headerMouseLeave"),this.registerColumnOption("headerMouseOver"),this.registerColumnOption("headerMouseOut"),this.registerColumnOption("headerMouseMove"),this.registerColumnOption("headerTap"),this.registerColumnOption("headerDblTap"),this.registerColumnOption("headerTapHold"),this.registerColumnOption("cellClick"),this.registerColumnOption("cellDblClick"),this.registerColumnOption("cellContext"),this.registerColumnOption("cellMouseEnter"),this.registerColumnOption("cellMouseLeave"),this.registerColumnOption("cellMouseOver"),this.registerColumnOption("cellMouseOut"),this.registerColumnOption("cellMouseMove"),this.registerColumnOption("cellTap"),this.registerColumnOption("cellDblTap"),this.registerColumnOption("cellTapHold")}initialize(){this.initializeExternalEvents(),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("cell-dblclick",this.cellContentsSelectionFixer.bind(this))}cellContentsSelectionFixer(r,o){if(!this.table.modExists("edit")||this.table.modules.edit.currentCell!==this){r.preventDefault();try{if(document.selection)(l=document.body.createTextRange()).moveToElementText(this.element),l.select();else if(window.getSelection){var l;(l=document.createRange()).selectNode(this.element),window.getSelection().removeAllRanges(),window.getSelection().addRange(l)}}catch(p){}}}initializeExternalEvents(){for(let r in this.eventMap)this.subscriptionChangeExternal(r,this.subscriptionChanged.bind(this,r))}subscriptionChanged(r,o){o?this.subscribers[r]||(this.eventMap[r].includes("-")?(this.subscribers[r]=this.handle.bind(this,r),this.subscribe(this.eventMap[r],this.subscribers[r])):this.subscribeTouchEvents(r)):this.eventMap[r].includes("-")?this.subscribers[r]&&!this.columnSubscribers[r]&&!this.subscribedExternal(r)&&(this.unsubscribe(this.eventMap[r],this.subscribers[r]),delete this.subscribers[r]):this.unsubscribeTouchEvents(r)}subscribeTouchEvents(r){var o=this.eventMap[r];this.touchSubscribers[o+"-touchstart"]||(this.touchSubscribers[o+"-touchstart"]=this.handleTouch.bind(this,o,"start"),this.touchSubscribers[o+"-touchend"]=this.handleTouch.bind(this,o,"end"),this.subscribe(o+"-touchstart",this.touchSubscribers[o+"-touchstart"]),this.subscribe(o+"-touchend",this.touchSubscribers[o+"-touchend"])),this.subscribers[r]=!0}unsubscribeTouchEvents(r){var o=!0,l=this.eventMap[r];if(this.subscribers[r]&&!this.subscribedExternal(r)){delete this.subscribers[r];for(let p in this.eventMap)this.eventMap[p]===l&&this.subscribers[p]&&(o=!1);o&&(this.unsubscribe(l+"-touchstart",this.touchSubscribers[l+"-touchstart"]),this.unsubscribe(l+"-touchend",this.touchSubscribers[l+"-touchend"]),delete this.touchSubscribers[l+"-touchstart"],delete this.touchSubscribers[l+"-touchend"])}}initializeColumn(r){var o=r.definition;for(let l in this.eventMap)o[l]&&(this.subscriptionChanged(l,!0),this.columnSubscribers[l]||(this.columnSubscribers[l]=[]),this.columnSubscribers[l].push(r))}handle(r,o,l){this.dispatchEvent(r,o,l)}handleTouch(r,o,l,p){var y=this.touchWatchers[r];switch("column"===r&&(r="header"),o){case"start":y.tap=!0,clearTimeout(y.tapHold),y.tapHold=setTimeout(()=>{clearTimeout(y.tapHold),y.tapHold=null,y.tap=null,clearTimeout(y.tapDbl),y.tapDbl=null,this.dispatchEvent(r+"TapHold",l,p)},1e3);break;case"end":y.tap&&(y.tap=null,this.dispatchEvent(r+"Tap",l,p)),y.tapDbl?(clearTimeout(y.tapDbl),y.tapDbl=null,this.dispatchEvent(r+"DblTap",l,p)):y.tapDbl=setTimeout(()=>{clearTimeout(y.tapDbl),y.tapDbl=null},300),clearTimeout(y.tapHold),y.tapHold=null}}dispatchEvent(r,o,l){var y,p=l.getComponent();this.columnSubscribers[r]&&(l instanceof Oh?y=l.column.definition[r]:l instanceof mh&&(y=l.definition[r]),y&&y(o,p)),this.dispatchExternal(r,o,p)}}return g.moduleName="interaction",g})();var gp={navPrev:"shift + 9",navNext:9,navUp:38,navDown:40,scrollPageUp:33,scrollPageDown:34,scrollToStart:36,scrollToEnd:35,undo:"ctrl + 90",redo:"ctrl + 89",copyToClipboard:"ctrl + 67"},Zf={keyBlock:function(g){g.stopPropagation(),g.preventDefault()},scrollPageUp:function(g){var s=this.table.rowManager,r=s.scrollTop-s.element.clientHeight;g.preventDefault(),s.displayRowsCount&&(r>=0?s.element.scrollTop=r:s.scrollToRow(s.getDisplayRows()[0])),this.table.element.focus()},scrollPageDown:function(g){var s=this.table.rowManager,r=s.scrollTop+s.element.clientHeight,o=s.element.scrollHeight;g.preventDefault(),s.displayRowsCount&&(r<=o?s.element.scrollTop=r:s.scrollToRow(s.getDisplayRows()[s.displayRowsCount-1])),this.table.element.focus()},scrollToStart:function(g){var s=this.table.rowManager;g.preventDefault(),s.displayRowsCount&&s.scrollToRow(s.getDisplayRows()[0]),this.table.element.focus()},scrollToEnd:function(g){var s=this.table.rowManager;g.preventDefault(),s.displayRowsCount&&s.scrollToRow(s.getDisplayRows()[s.displayRowsCount-1]),this.table.element.focus()},navPrev:function(g){this.dispatch("keybinding-nav-prev",g)},navNext:function(g){this.dispatch("keybinding-nav-next",g)},navLeft:function(g){this.dispatch("keybinding-nav-left",g)},navRight:function(g){this.dispatch("keybinding-nav-right",g)},navUp:function(g){this.dispatch("keybinding-nav-up",g)},navDown:function(g){this.dispatch("keybinding-nav-down",g)},undo:function(g){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(g.preventDefault(),this.table.modules.history.undo()))},redo:function(g){this.table.options.history&&this.table.modExists("history")&&this.table.modExists("edit")&&(this.table.modules.edit.currentCell||(g.preventDefault(),this.table.modules.history.redo()))},copyToClipboard:function(g){this.table.modules.edit.currentCell||this.table.modExists("clipboard",!0)&&this.table.modules.clipboard.copy(!1,!0)}};let Qf=(()=>{class g extends mo{constructor(r){super(r),this.watchKeys=null,this.pressedKeys=null,this.keyupBinding=!1,this.keydownBinding=!1,this.registerTableOption("keybindings",[]),this.registerTableOption("tabEndNewRow",!1)}initialize(){var r=this.table.options.keybindings,o={};if(this.watchKeys={},this.pressedKeys=[],!1!==r){for(let l in g.bindings)o[l]=g.bindings[l];if(Object.keys(r).length)for(let l in r)o[l]=r[l];this.mapBindings(o),this.bindEvents()}this.subscribe("table-destroy",this.clearBindings.bind(this))}mapBindings(r){for(let o in r)g.actions[o]?r[o]&&("object"!=typeof r[o]&&(r[o]=[r[o]]),r[o].forEach(l=>{this.mapBinding(o,l)})):console.warn("Key Binding Error - no such action:",o)}mapBinding(r,o){var l={action:g.actions[r],keys:[],ctrl:!1,shift:!1,meta:!1};o.toString().toLowerCase().split(" ").join("").split("+").forEach(y=>{switch(y){case"ctrl":l.ctrl=!0;break;case"shift":l.shift=!0;break;case"meta":l.meta=!0;break;default:y=parseInt(y),l.keys.push(y),this.watchKeys[y]||(this.watchKeys[y]=[]),this.watchKeys[y].push(l)}})}bindEvents(){var r=this;this.keyupBinding=function(o){var l=o.keyCode,p=r.watchKeys[l];p&&(r.pressedKeys.push(l),p.forEach(function(y){r.checkBinding(o,y)}))},this.keydownBinding=function(o){var l=o.keyCode;if(r.watchKeys[l]){var y=r.pressedKeys.indexOf(l);y>-1&&r.pressedKeys.splice(y,1)}},this.table.element.addEventListener("keydown",this.keyupBinding),this.table.element.addEventListener("keyup",this.keydownBinding)}clearBindings(){this.keyupBinding&&this.table.element.removeEventListener("keydown",this.keyupBinding),this.keydownBinding&&this.table.element.removeEventListener("keyup",this.keydownBinding)}checkBinding(r,o){var l=!0;return r.ctrlKey==o.ctrl&&r.shiftKey==o.shift&&r.metaKey==o.meta&&(o.keys.forEach(p=>{-1==this.pressedKeys.indexOf(p)&&(l=!1)}),l&&o.action.call(this,r),!0)}}return g.moduleName="keybindings",g.bindings=gp,g.actions=Zf,g})(),Fm=(()=>{class g extends mo{constructor(r){super(r),this.menuElements=[],this.blurEvent=this.hideMenu.bind(this),this.escEvent=this.escMenu.bind(this),this.nestedMenuBlock=!1,this.positionReversedX=!1,this.registerTableOption("rowContextMenu",!1),this.registerTableOption("rowClickMenu",!1),this.registerTableOption("groupContextMenu",!1),this.registerTableOption("groupClickMenu",!1),this.registerColumnOption("headerContextMenu"),this.registerColumnOption("headerMenu"),this.registerColumnOption("contextMenu"),this.registerColumnOption("clickMenu")}initialize(){this.subscribe("cell-layout",this.layoutCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this))}layoutCell(r){(r.column.definition.contextMenu||r.column.definition.clickMenu)&&this.initializeCell(r)}initializeColumn(r){var o=r.definition;(o.headerContextMenu||o.headerClickMenu||o.headerMenu)&&this.initializeColumnHeader(r)}initializeColumnHeader(r){var o;r.definition.headerContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,r.definition.headerContextMenu)),this.tapHold(r,r.definition.headerContextMenu)),r.definition.headerMenu&&((o=document.createElement("span")).classList.add("tabulator-header-menu-button"),o.innerHTML="&vellip;",o.addEventListener("click",l=>{l.stopPropagation(),l.preventDefault(),this.LoadMenuEvent(r,r.definition.headerMenu,l)}),r.titleElement.insertBefore(o,r.titleElement.firstChild))}LoadMenuEvent(r,o,l){o="function"==typeof o?o.call(this.table,r.getComponent(),l):o,this.loadMenu(l,r,o)}tapHold(r,o){var l=r.getElement(),p=null,y=!1;l.addEventListener("touchstart",S=>{clearTimeout(p),y=!1,p=setTimeout(()=>{clearTimeout(p),p=null,y=!0,this.LoadMenuEvent(r,o,S)},1e3)},{passive:!0}),l.addEventListener("touchend",S=>{clearTimeout(p),p=null,y&&S.preventDefault()})}initializeCell(r){r.column.definition.contextMenu&&(r.getElement(!0).addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,r.column.definition.contextMenu)),this.tapHold(r,r.column.definition.contextMenu)),r.column.definition.clickMenu&&r.getElement(!0).addEventListener("click",this.LoadMenuEvent.bind(this,r,r.column.definition.clickMenu))}initializeRow(r){this.table.options.rowContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,this.table.options.rowContextMenu)),this.tapHold(r,this.table.options.rowContextMenu)),this.table.options.rowClickMenu&&r.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,r,this.table.options.rowClickMenu))}initializeGroup(r){this.table.options.groupContextMenu&&(r.getElement().addEventListener("contextmenu",this.LoadMenuEvent.bind(this,r,this.table.options.groupContextMenu)),this.tapHold(r,this.table.options.groupContextMenu)),this.table.options.groupClickMenu&&r.getElement().addEventListener("click",this.LoadMenuEvent.bind(this,r,this.table.options.groupClickMenu))}loadMenu(r,o,l,p){var y=!(r instanceof MouseEvent),S=document.createElement("div");if(S.classList.add("tabulator-menu"),y||r.preventDefault(),l&&l.length){if(!p){if(this.nestedMenuBlock){if(this.isOpen())return}else this.nestedMenuBlock=setTimeout(()=>{this.nestedMenuBlock=!1},100);this.hideMenu(),this.menuElements=[]}l.forEach(I=>{var N=document.createElement("div"),J=I.label,pe=I.disabled;I.separator?N.classList.add("tabulator-menu-separator"):(N.classList.add("tabulator-menu-item"),"function"==typeof J&&(J=J.call(this.table,o.getComponent())),J instanceof Node?N.appendChild(J):N.innerHTML=J,"function"==typeof pe&&(pe=pe.call(this.table,o.getComponent())),pe?(N.classList.add("tabulator-menu-item-disabled"),N.addEventListener("click",Fe=>{Fe.stopPropagation()})):I.menu&&I.menu.length?N.addEventListener("click",Fe=>{Fe.stopPropagation(),this.hideOldSubMenus(S),this.loadMenu(Fe,o,I.menu,N)}):I.action&&N.addEventListener("click",Fe=>{I.action(Fe,o.getComponent())}),I.menu&&I.menu.length&&N.classList.add("tabulator-menu-item-submenu")),S.appendChild(N)}),S.addEventListener("click",I=>{this.hideMenu()}),this.menuElements.push(S),this.positionMenu(S,p,y,r)}}hideOldSubMenus(r){var o=this.menuElements.indexOf(r);if(o>-1)for(let p=this.menuElements.length-1;p>o;p--){var l=this.menuElements[p];l.parentNode&&l.parentNode.removeChild(l),this.menuElements.pop()}}positionMenu(r,o,l,p){var S,I,N,y=Math.max(document.body.offsetHeight,window.innerHeight);o?(S=(N=Us.elOffset(o)).left+o.offsetWidth,I=N.top-1):(S=l?p.touches[0].pageX:p.pageX,I=l?p.touches[0].pageY:p.pageY,this.positionReversedX=!1),r.style.top=I+"px",r.style.left=S+"px",setTimeout(()=>{this.table.rowManager.element.addEventListener("scroll",this.blurEvent),document.body.addEventListener("click",this.blurEvent),document.body.addEventListener("contextmenu",this.blurEvent),window.addEventListener("resize",this.blurEvent),document.body.addEventListener("keydown",this.escEvent)},100),document.body.appendChild(r),I+r.offsetHeight>=y&&(r.style.top="",r.style.bottom=o?y-N.top-o.offsetHeight-1+"px":y-I+"px"),(S+r.offsetWidth>=document.body.offsetWidth||this.positionReversedX)&&(r.style.left="",r.style.right=o?document.documentElement.offsetWidth-N.left+"px":document.documentElement.offsetWidth-S+"px",this.positionReversedX=!0)}isOpen(){return!!this.menuElements.length}escMenu(r){27==r.keyCode&&this.hideMenu()}hideMenu(){this.menuElements.forEach(r=>{r.parentNode&&r.parentNode.removeChild(r)}),document.body.removeEventListener("keydown",this.escEvent),document.body.removeEventListener("click",this.blurEvent),document.body.removeEventListener("contextmenu",this.blurEvent),window.removeEventListener("resize",this.blurEvent),this.table.rowManager.element.removeEventListener("scroll",this.blurEvent)}}return g.moduleName="menu",g})(),qp=(()=>{class g extends mo{constructor(r){super(r),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=250,this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.startX=0,this.autoScrollMargin=40,this.autoScrollStep=5,this.autoScrollTimeout=!1,this.touchMove=!1,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.registerTableOption("movableColumns",!1)}createPlaceholderElement(){var r=document.createElement("div");return r.classList.add("tabulator-col"),r.classList.add("tabulator-col-placeholder"),r}initialize(){this.subscribe("column-init",this.initializeColumn.bind(this))}initializeColumn(r){var p,o=this,l={};r.modules.frozen||(p=r.getElement(),l.mousemove=function(y){r.parent===o.moving.parent&&((o.touchMove?y.touches[0].pageX:y.pageX)-Us.elOffset(p).left+o.table.columnManager.element.scrollLeft>r.getWidth()/2?(o.toCol!==r||!o.toColAfter)&&(p.parentNode.insertBefore(o.placeholderElement,p.nextSibling),o.moveColumn(r,!0)):(o.toCol!==r||o.toColAfter)&&(p.parentNode.insertBefore(o.placeholderElement,p),o.moveColumn(r,!1)))}.bind(o),p.addEventListener("mousedown",function(y){o.touchMove=!1,1===y.which&&(o.checkTimeout=setTimeout(function(){o.startMove(y,r)},o.checkPeriod))}),p.addEventListener("mouseup",function(y){1===y.which&&o.checkTimeout&&clearTimeout(o.checkTimeout)}),o.bindTouchEvents(r)),r.modules.moveColumn=l}bindTouchEvents(r){var p,y,S,I,N,J,o=r.getElement(),l=!1;o.addEventListener("touchstart",pe=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,p=r.nextColumn(),S=p?p.getWidth()/2:0,y=r.prevColumn(),I=y?y.getWidth()/2:0,N=0,J=0,l=!1,this.startMove(pe,r)},this.checkPeriod)},{passive:!0}),o.addEventListener("touchmove",pe=>{var Fe,Qe;this.moving&&(this.moveHover(pe),l||(l=pe.touches[0].pageX),(Fe=pe.touches[0].pageX-l)>0?p&&Fe-N>S&&(Qe=p)!==r&&(l=pe.touches[0].pageX,Qe.getElement().parentNode.insertBefore(this.placeholderElement,Qe.getElement().nextSibling),this.moveColumn(Qe,!0)):y&&-Fe-J>I&&(Qe=y)!==r&&(l=pe.touches[0].pageX,Qe.getElement().parentNode.insertBefore(this.placeholderElement,Qe.getElement()),this.moveColumn(Qe,!1)),Qe&&(p=Qe.nextColumn(),N=S,S=p?p.getWidth()/2:0,y=Qe.prevColumn(),J=I,I=y?y.getWidth()/2:0))},{passive:!0}),o.addEventListener("touchend",pe=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&this.endMove(pe)})}startMove(r,o){var l=o.getElement(),p=this.table.columnManager.getElement(),y=this.table.columnManager.getHeadersElement();this.moving=o,this.startX=(this.touchMove?r.touches[0].pageX:r.pageX)-Us.elOffset(l).left,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=o.getWidth()+"px",this.placeholderElement.style.height=o.getHeight()+"px",l.parentNode.insertBefore(this.placeholderElement,l),l.parentNode.removeChild(l),this.hoverElement=l.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.table.columnManager.getElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.bottom=p.clientHeight-y.offsetHeight+"px",this.touchMove||(this._bindMouseMove(),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove)),this.moveHover(r)}_bindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(r){r.modules.moveColumn.mousemove&&r.getElement().addEventListener("mousemove",r.modules.moveColumn.mousemove)})}_unbindMouseMove(){this.table.columnManager.columnsByIndex.forEach(function(r){r.modules.moveColumn.mousemove&&r.getElement().removeEventListener("mousemove",r.modules.moveColumn.mousemove)})}moveColumn(r,o){var l=this.moving.getCells();this.toCol=r,this.toColAfter=o,o?r.getCells().forEach(function(p,y){var S=p.getElement(!0);S.parentNode&&l[y]&&S.parentNode.insertBefore(l[y].getElement(),S.nextSibling)}):r.getCells().forEach(function(p,y){var S=p.getElement(!0);S.parentNode&&l[y]&&S.parentNode.insertBefore(l[y].getElement(),S)})}endMove(r){(1===r.which||this.touchMove)&&(this._unbindMouseMove(),this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toCol&&this.table.columnManager.moveColumnActual(this.moving,this.toCol,this.toColAfter),this.moving=!1,this.toCol=!1,this.toColAfter=!1,this.touchMove||(document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove)))}moveHover(r){var y,o=this.table.columnManager.getElement(),l=o.scrollLeft,p=(this.touchMove?r.touches[0].pageX:r.pageX)-Us.elOffset(o).left+l;this.hoverElement.style.left=p-this.startX+"px",p-l<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{y=Math.max(0,l-5),this.table.rowManager.getElement().scrollLeft=y,this.autoScrollTimeout=!1},1))),l+o.clientWidth-p<this.autoScrollMargin&&(this.autoScrollTimeout||(this.autoScrollTimeout=setTimeout(()=>{y=Math.min(o.clientWidth,l+5),this.table.rowManager.getElement().scrollLeft=y,this.autoScrollTimeout=!1},1)))}}return g.moduleName="moveColumn",g})();class Vh extends mo{constructor(s){super(s),this.placeholderElement=this.createPlaceholderElement(),this.hoverElement=!1,this.checkTimeout=!1,this.checkPeriod=150,this.moving=!1,this.toRow=!1,this.toRowAfter=!1,this.hasHandle=!1,this.startY=0,this.startX=0,this.moveHover=this.moveHover.bind(this),this.endMove=this.endMove.bind(this),this.tableRowDropEvent=!1,this.touchMove=!1,this.connection=!1,this.connectionSelectorsTables=!1,this.connectionSelectorsElements=!1,this.connectionElements=[],this.connections=[],this.connectedTable=!1,this.connectedRow=!1,this.registerTableOption("movableRows",!1),this.registerTableOption("movableRowsConnectedTables",!1),this.registerTableOption("movableRowsConnectedElements",!1),this.registerTableOption("movableRowsSender",!1),this.registerTableOption("movableRowsReceiver","insert"),this.registerColumnOption("rowHandle")}createPlaceholderElement(){var s=document.createElement("div");return s.classList.add("tabulator-row"),s.classList.add("tabulator-row-placeholder"),s}initialize(){this.table.options.movableRows&&(this.connectionSelectorsTables=this.table.options.movableRowsConnectedTables,this.connectionSelectorsElements=this.table.options.movableRowsConnectedElements,this.connection=this.connectionSelectorsTables||this.connectionSelectorsElements,this.subscribe("cell-init",this.initializeCell.bind(this)),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("row-init",this.initializeRow.bind(this)))}initializeGroupHeader(s){var r=this,o={};o.mouseup=function(l){r.tableRowDrop(l,row)}.bind(r),o.mousemove=function(l){if(l.pageY-Us.elOffset(s.element).top+r.table.rowManager.element.scrollTop>s.getHeight()/2)r.toRow===s&&r.toRowAfter||((p=s.getElement()).parentNode.insertBefore(r.placeholderElement,p.nextSibling),r.moveRow(s,!0));else if(r.toRow!==s||r.toRowAfter){var p;(p=s.getElement()).previousSibling&&(p.parentNode.insertBefore(r.placeholderElement,p),r.moveRow(s,!1))}}.bind(r),s.modules.moveRow=o}initializeRow(s){var l,r=this,o={};o.mouseup=function(p){r.tableRowDrop(p,s)}.bind(r),o.mousemove=function(p){var y=s.getElement();p.pageY-Us.elOffset(y).top+r.table.rowManager.element.scrollTop>s.getHeight()/2?(r.toRow!==s||!r.toRowAfter)&&(y.parentNode.insertBefore(r.placeholderElement,y.nextSibling),r.moveRow(s,!0)):(r.toRow!==s||r.toRowAfter)&&(y.parentNode.insertBefore(r.placeholderElement,y),r.moveRow(s,!1))}.bind(r),this.hasHandle||((l=s.getElement()).addEventListener("mousedown",function(p){1===p.which&&(r.checkTimeout=setTimeout(function(){r.startMove(p,s)},r.checkPeriod))}),l.addEventListener("mouseup",function(p){1===p.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),this.bindTouchEvents(s,s.getElement())),s.modules.moveRow=o}initializeColumn(s){s.definition.rowHandle&&!1!==this.table.options.movableRows&&(this.hasHandle=!0)}initializeCell(s){if(s.column.definition.rowHandle&&!1!==this.table.options.movableRows){var r=this,o=s.getElement(!0);o.addEventListener("mousedown",function(l){1===l.which&&(r.checkTimeout=setTimeout(function(){r.startMove(l,s.row)},r.checkPeriod))}),o.addEventListener("mouseup",function(l){1===l.which&&r.checkTimeout&&clearTimeout(r.checkTimeout)}),this.bindTouchEvents(s.row,o)}}bindTouchEvents(s,r){var l,p,y,S,I,N,o=!1;r.addEventListener("touchstart",J=>{this.checkTimeout=setTimeout(()=>{this.touchMove=!0,l=s.nextRow(),y=l?l.getHeight()/2:0,p=s.prevRow(),S=p?p.getHeight()/2:0,I=0,N=0,o=!1,this.startMove(J,s)},this.checkPeriod)},{passive:!0}),r.addEventListener("touchmove",J=>{var pe,Fe;this.moving&&(J.preventDefault(),this.moveHover(J),o||(o=J.touches[0].pageY),(pe=J.touches[0].pageY-o)>0?l&&pe-I>y&&(Fe=l)!==s&&(o=J.touches[0].pageY,Fe.getElement().parentNode.insertBefore(this.placeholderElement,Fe.getElement().nextSibling),this.moveRow(Fe,!0)):p&&-pe-N>S&&(Fe=p)!==s&&(o=J.touches[0].pageY,Fe.getElement().parentNode.insertBefore(this.placeholderElement,Fe.getElement()),this.moveRow(Fe,!1)),Fe&&(l=Fe.nextRow(),I=y,y=l?l.getHeight()/2:0,p=Fe.prevRow(),N=S,S=p?p.getHeight()/2:0))}),r.addEventListener("touchend",J=>{this.checkTimeout&&clearTimeout(this.checkTimeout),this.moving&&(this.endMove(J),this.touchMove=!1)})}_bindMouseMove(){this.table.rowManager.getDisplayRows().forEach(s=>{("row"===s.type||"group"===s.type)&&s.modules.moveRow&&s.modules.moveRow.mousemove&&s.getElement().addEventListener("mousemove",s.modules.moveRow.mousemove)})}_unbindMouseMove(){this.table.rowManager.getDisplayRows().forEach(s=>{("row"===s.type||"group"===s.type)&&s.modules.moveRow&&s.modules.moveRow.mousemove&&s.getElement().removeEventListener("mousemove",s.modules.moveRow.mousemove)})}startMove(s,r){var o=r.getElement();this.setStartPosition(s,r),this.moving=r,this.table.element.classList.add("tabulator-block-select"),this.placeholderElement.style.width=r.getWidth()+"px",this.placeholderElement.style.height=r.getHeight()+"px",this.connection?(this.table.element.classList.add("tabulator-movingrow-sending"),this.connectToTables(r)):(o.parentNode.insertBefore(this.placeholderElement,o),o.parentNode.removeChild(o)),this.hoverElement=o.cloneNode(!0),this.hoverElement.classList.add("tabulator-moving"),this.connection?(document.body.appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this.hoverElement.style.width=this.table.element.clientWidth+"px",this.hoverElement.style.whiteSpace="nowrap",this.hoverElement.style.overflow="hidden",this.hoverElement.style.pointerEvents="none"):(this.table.rowManager.getTableElement().appendChild(this.hoverElement),this.hoverElement.style.left="0",this.hoverElement.style.top="0",this._bindMouseMove()),document.body.addEventListener("mousemove",this.moveHover),document.body.addEventListener("mouseup",this.endMove),this.moveHover(s)}setStartPosition(s,r){var p,y,o=this.touchMove?s.touches[0].pageX:s.pageX,l=this.touchMove?s.touches[0].pageY:s.pageY;p=r.getElement(),this.connection?(y=p.getBoundingClientRect(),this.startX=y.left-o+window.pageXOffset,this.startY=y.top-l+window.pageYOffset):this.startY=l-p.getBoundingClientRect().top}endMove(s){(!s||1===s.which||this.touchMove)&&(this._unbindMouseMove(),this.connection||(this.placeholderElement.parentNode.insertBefore(this.moving.getElement(),this.placeholderElement.nextSibling),this.placeholderElement.parentNode.removeChild(this.placeholderElement)),this.hoverElement.parentNode.removeChild(this.hoverElement),this.table.element.classList.remove("tabulator-block-select"),this.toRow&&this.table.rowManager.moveRow(this.moving,this.toRow,this.toRowAfter),this.moving=!1,this.toRow=!1,this.toRowAfter=!1,document.body.removeEventListener("mousemove",this.moveHover),document.body.removeEventListener("mouseup",this.endMove),this.connection&&(this.table.element.classList.remove("tabulator-movingrow-sending"),this.disconnectFromTables()))}moveRow(s,r){this.toRow=s,this.toRowAfter=r}moveHover(s){this.connection?this.moveHoverConnections.call(this,s):this.moveHoverTable.call(this,s)}moveHoverTable(s){var r=this.table.rowManager.getElement(),o=r.scrollTop,l=(this.touchMove?s.touches[0].pageY:s.pageY)-r.getBoundingClientRect().top+o;this.hoverElement.style.top=l-this.startY+"px"}moveHoverConnections(s){this.hoverElement.style.left=this.startX+(this.touchMove?s.touches[0].pageX:s.pageX)+"px",this.hoverElement.style.top=this.startY+(this.touchMove?s.touches[0].pageY:s.pageY)+"px"}elementRowDrop(s,r,o){this.dispatchExternal("movableRowsElementDrop",s,r,!!o&&o.getComponent())}connectToTables(s){var r;this.connectionSelectorsTables&&(r=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStart",r),this.commsSend(this.connectionSelectorsTables,"moveRow","connect",{row:s})),this.connectionSelectorsElements&&(this.connectionElements=[],Array.isArray(this.connectionSelectorsElements)||(this.connectionSelectorsElements=[this.connectionSelectorsElements]),this.connectionSelectorsElements.forEach(o=>{"string"==typeof o?this.connectionElements=this.connectionElements.concat(Array.prototype.slice.call(document.querySelectorAll(o))):this.connectionElements.push(o)}),this.connectionElements.forEach(o=>{var l=p=>{this.elementRowDrop(p,o,this.moving)};o.addEventListener("mouseup",l),o.tabulatorElementDropEvent=l,o.classList.add("tabulator-movingrow-receiving")}))}disconnectFromTables(){var s;this.connectionSelectorsTables&&(s=this.commsConnections(this.connectionSelectorsTables),this.dispatchExternal("movableRowsSendingStop",s),this.commsSend(this.connectionSelectorsTables,"moveRow","disconnect")),this.connectionElements.forEach(r=>{r.classList.remove("tabulator-movingrow-receiving"),r.removeEventListener("mouseup",r.tabulatorElementDropEvent),delete r.tabulatorElementDropEvent})}connect(s,r){return this.connectedTable?(console.warn("Move Row Error - Table cannot accept connection, already connected to table:",this.connectedTable),!1):(this.connectedTable=s,this.connectedRow=r,this.table.element.classList.add("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(o=>{"row"===o.type&&o.modules.moveRow&&o.modules.moveRow.mouseup&&o.getElement().addEventListener("mouseup",o.modules.moveRow.mouseup)}),this.tableRowDropEvent=this.tableRowDrop.bind(this),this.table.element.addEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStart",r,s),!0)}disconnect(s){s===this.connectedTable?(this.connectedTable=!1,this.connectedRow=!1,this.table.element.classList.remove("tabulator-movingrow-receiving"),this.table.rowManager.getDisplayRows().forEach(r=>{"row"===r.type&&r.modules.moveRow&&r.modules.moveRow.mouseup&&r.getElement().removeEventListener("mouseup",r.modules.moveRow.mouseup)}),this.table.element.removeEventListener("mouseup",this.tableRowDropEvent),this.dispatchExternal("movableRowsReceivingStop",s)):console.warn("Move Row Error - trying to disconnect from non connected table")}dropComplete(s,r,o){var l=!1;if(o){switch(typeof this.table.options.movableRowsSender){case"string":l=this.senders[this.table.options.movableRowsSender];break;case"function":l=this.table.options.movableRowsSender}l?l.call(this,this.moving.getComponent(),r?r.getComponent():void 0,s):this.table.options.movableRowsSender&&console.warn("Mover Row Error - no matching sender found:",this.table.options.movableRowsSender),this.dispatchExternal("movableRowsSent",this.moving.getComponent(),r?r.getComponent():void 0,s)}else this.dispatchExternal("movableRowsSentFailed",this.moving.getComponent(),r?r.getComponent():void 0,s);this.endMove()}tableRowDrop(s,r){var o=!1,l=!1;switch(s.stopImmediatePropagation(),typeof this.table.options.movableRowsReceiver){case"string":o=this.receivers[this.table.options.movableRowsReceiver];break;case"function":o=this.table.options.movableRowsReceiver}o?l=o.call(this,this.connectedRow.getComponent(),r?r.getComponent():void 0,this.connectedTable):console.warn("Mover Row Error - no matching receiver found:",this.table.options.movableRowsReceiver),this.dispatchExternal(l?"movableRowsReceived":"movableRowsReceivedFailed",this.connectedRow.getComponent(),r?r.getComponent():void 0,this.connectedTable),this.commsSend(this.connectedTable,"moveRow","dropcomplete",{row:r,success:l})}commsReceived(s,r,o){switch(r){case"connect":return this.connect(s,o.row);case"disconnect":return this.disconnect(s);case"dropcomplete":return this.dropComplete(s,o.row,o.success)}}}Vh.prototype.receivers={insert:function(g,s,r){return this.table.addRow(g.getData(),void 0,s),!0},add:function(g,s,r){return this.table.addRow(g.getData()),!0},update:function(g,s,r){return!!s&&(s.update(g.getData()),!0)},replace:function(g,s,r){return!!s&&(this.table.addRow(g.getData(),void 0,s),s.delete(),!0)}},Vh.prototype.senders={delete:function(g,s,r){g.delete()}},Vh.moduleName="moveRow";var qf={};let eg=(()=>{class g extends mo{constructor(r){super(r),this.allowedTypes=["","data","edit","clipboard"],this.enabled=!0,this.registerColumnOption("mutator"),this.registerColumnOption("mutatorParams"),this.registerColumnOption("mutatorData"),this.registerColumnOption("mutatorDataParams"),this.registerColumnOption("mutatorEdit"),this.registerColumnOption("mutatorEditParams"),this.registerColumnOption("mutatorClipboard"),this.registerColumnOption("mutatorClipboardParams")}initialize(){this.subscribe("cell-value-changing",this.transformCell.bind(this)),this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("row-data-init-before",this.rowDataChanged.bind(this)),this.subscribe("row-data-changing",this.rowDataChanged.bind(this))}rowDataChanged(r,o,l){return this.transformRow(o,"data",l)}initializeColumn(r){var o=!1,l={};this.allowedTypes.forEach(p=>{var S,y="mutator"+(p.charAt(0).toUpperCase()+p.slice(1));r.definition[y]&&(S=this.lookupMutator(r.definition[y]))&&(o=!0,l[y]={mutator:S,params:r.definition[y+"Params"]||{}})}),o&&(r.modules.mutate=l)}lookupMutator(r){var o=!1;switch(typeof r){case"string":g.mutators[r]?o=g.mutators[r]:console.warn("Mutator Error - No such mutator found, ignoring: ",r);break;case"function":o=r}return o}transformRow(r,o,l){var y,p="mutator"+(o.charAt(0).toUpperCase()+o.slice(1));return this.enabled&&this.table.columnManager.traverse(S=>{var I,N,J;S.modules.mutate&&(I=S.modules.mutate[p]||S.modules.mutate.mutator||!1)&&(y=S.getFieldValue(void 0!==l?l:r),("data"==o||void 0!==y)&&(J=S.getComponent(),N="function"==typeof I.params?I.params(y,r,o,J):I.params,S.setFieldValue(r,I.mutator(y,r,o,N,J))))}),r}transformCell(r,o){if(r.column.modules.mutate){var l=r.column.modules.mutate.mutatorEdit||r.column.modules.mutate.mutator||!1,p={};if(l)return p=Object.assign(p,r.row.getData()),r.column.setFieldValue(p,o),l.mutator(o,p,"edit",l.params,r.getComponent())}return o}enable(){this.enabled=!0}disable(){this.enabled=!1}}return g.moduleName="mutator",g.mutators=qf,g})(),mp=(()=>{class g extends mo{constructor(r){super(r),this.mode="local",this.progressiveLoad=!1,this.size=0,this.page=1,this.count=5,this.max=1,this.displayIndex=0,this.initialLoad=!0,this.dataChanging=!1,this.pageSizes=[],this.dataReceivedNames={},this.dataSentNames={},this.registerTableOption("pagination",!1),this.registerTableOption("paginationMode","local"),this.registerTableOption("paginationSize",!1),this.registerTableOption("paginationInitialPage",1),this.registerTableOption("paginationButtonCount",5),this.registerTableOption("paginationSizeSelector",!1),this.registerTableOption("paginationElement",!1),this.registerTableOption("paginationAddRow","page"),this.registerTableOption("progressiveLoad",!1),this.registerTableOption("progressiveLoadDelay",0),this.registerTableOption("progressiveLoadScrollMargin",0),this.registerTableFunction("setMaxPage",this.setMaxPage.bind(this)),this.registerTableFunction("setPage",this.setPage.bind(this)),this.registerTableFunction("setPageToRow",this.userSetPageToRow.bind(this)),this.registerTableFunction("setPageSize",this.userSetPageSize.bind(this)),this.registerTableFunction("getPageSize",this.getPageSize.bind(this)),this.registerTableFunction("previousPage",this.previousPage.bind(this)),this.registerTableFunction("nextPage",this.nextPage.bind(this)),this.registerTableFunction("getPage",this.getPage.bind(this)),this.registerTableFunction("getPageMax",this.getPageMax.bind(this)),this.registerComponentFunction("row","pageTo",this.setPageToRow.bind(this))}initialize(){this.table.options.pagination?(this.subscribe("row-deleted",this.rowsUpdated.bind(this)),this.subscribe("row-adding-position",this.rowAddingPosition.bind(this)),this.subscribe("row-added",this.rowsUpdated.bind(this)),this.subscribe("data-processed",this.initialLoadComplete.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),"remote"===this.table.options.paginationMode&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this))),this.table.options.progressiveLoad&&console.error("Progressive Load Error - Pagination and progressive load cannot be used at the same time"),this.registerDisplayHandler(this.restOnRenderBefore.bind(this),40),this.registerDisplayHandler(this.getRows.bind(this),50),this.createElements(),this.initializePaginator()):this.table.options.progressiveLoad&&(this.subscribe("data-params",this.remotePageParams.bind(this)),this.subscribe("data-loaded",this._parseRemoteData.bind(this)),this.subscribe("table-built",this.calculatePageSizes.bind(this)),this.initializeProgressive(this.table.options.progressiveLoad),"scroll"===this.table.options.progressiveLoad&&this.subscribe("scroll-vertical",this.scrollVertical.bind(this)))}rowAddingPosition(r,o){var y,l=this.table.rowManager,p=l.getDisplayRows();return o?p.length?y=p[0]:l.activeRows.length&&(y=l.activeRows[l.activeRows.length-1],o=!1):p.length&&(y=p[p.length-1],o=!(p.length<this.size)),{index:y,top:o}}calculatePageSizes(){var r,o;this.table.options.paginationSize?this.size=this.table.options.paginationSize:((r=document.createElement("div")).classList.add("tabulator-row"),r.style.visibility="hidden",(o=document.createElement("div")).classList.add("tabulator-cell"),o.innerHTML="Page Row Test",r.appendChild(o),this.table.rowManager.getTableElement().appendChild(r),this.size=Math.floor(this.table.rowManager.getElement().clientHeight/r.offsetHeight),this.table.rowManager.getTableElement().removeChild(r)),this.generatePageSizeSelectList()}initialLoadComplete(){this.initialLoad=!1}remotePageParams(r,o,l,p){return this.initialLoad||(this.progressiveLoad&&!l||!this.progressiveLoad&&!this.dataChanging)&&this.reset(!0),p.page=this.page,this.size&&(p.size=this.size),p}userSetPageToRow(r){return this.table.options.pagination&&(r=this.rowManager.findRow(r))?this.setPageToRow(r):Promise.reject()}userSetPageSize(r){return!!this.table.options.pagination&&(this.setPageSize(r),this.setPage(1))}scrollVertical(r,o){var l;!o&&!this.table.dataLoader.loading&&(l=this.table.rowManager.getElement()).scrollHeight-l.clientHeight-r<(this.table.options.progressiveLoadScrollMargin||2*l.clientHeight)&&this.nextPage()}restOnRenderBefore(r,o){return o||"local"===this.mode&&this.reset(),r}rowsUpdated(){this.refreshData(!0,"all")}createElements(){var r;this.element=document.createElement("span"),this.element.classList.add("tabulator-paginator"),this.pagesElement=document.createElement("span"),this.pagesElement.classList.add("tabulator-pages"),(r=document.createElement("button")).classList.add("tabulator-page"),r.setAttribute("type","button"),r.setAttribute("role","button"),r.setAttribute("aria-label",""),r.setAttribute("title",""),this.firstBut=r.cloneNode(!0),this.firstBut.setAttribute("data-page","first"),this.prevBut=r.cloneNode(!0),this.prevBut.setAttribute("data-page","prev"),this.nextBut=r.cloneNode(!0),this.nextBut.setAttribute("data-page","next"),this.lastBut=r.cloneNode(!0),this.lastBut.setAttribute("data-page","last"),this.table.options.paginationSizeSelector&&(this.pageSizeSelect=document.createElement("select"),this.pageSizeSelect.classList.add("tabulator-page-size"))}generatePageSizeSelectList(){var r=[];if(this.pageSizeSelect){if(Array.isArray(this.table.options.paginationSizeSelector))this.pageSizes=r=this.table.options.paginationSizeSelector,-1==this.pageSizes.indexOf(this.size)&&r.unshift(this.size);else if(-1==this.pageSizes.indexOf(this.size)){r=[];for(let o=1;o<5;o++)r.push(this.size*o);this.pageSizes=r}else r=this.pageSizes;for(;this.pageSizeSelect.firstChild;)this.pageSizeSelect.removeChild(this.pageSizeSelect.firstChild);r.forEach(o=>{var l=document.createElement("option");l.value=o,!0===o?this.langBind("pagination|all",function(p){l.innerHTML=p}):l.innerHTML=o,this.pageSizeSelect.appendChild(l)}),this.pageSizeSelect.value=this.size}}initializePaginator(r){var o;r||(this.langBind("pagination|first",l=>{this.firstBut.innerHTML=l}),this.langBind("pagination|first_title",l=>{this.firstBut.setAttribute("aria-label",l),this.firstBut.setAttribute("title",l)}),this.langBind("pagination|prev",l=>{this.prevBut.innerHTML=l}),this.langBind("pagination|prev_title",l=>{this.prevBut.setAttribute("aria-label",l),this.prevBut.setAttribute("title",l)}),this.langBind("pagination|next",l=>{this.nextBut.innerHTML=l}),this.langBind("pagination|next_title",l=>{this.nextBut.setAttribute("aria-label",l),this.nextBut.setAttribute("title",l)}),this.langBind("pagination|last",l=>{this.lastBut.innerHTML=l}),this.langBind("pagination|last_title",l=>{this.lastBut.setAttribute("aria-label",l),this.lastBut.setAttribute("title",l)}),this.firstBut.addEventListener("click",()=>{this.setPage(1)}),this.prevBut.addEventListener("click",()=>{this.previousPage()}),this.nextBut.addEventListener("click",()=>{this.nextPage()}),this.lastBut.addEventListener("click",()=>{this.setPage(this.max)}),this.table.options.paginationElement&&(this.element=this.table.options.paginationElement),this.pageSizeSelect&&(o=document.createElement("label"),this.langBind("pagination|page_size",l=>{this.pageSizeSelect.setAttribute("aria-label",l),this.pageSizeSelect.setAttribute("title",l),o.innerHTML=l}),this.element.appendChild(o),this.element.appendChild(this.pageSizeSelect),this.pageSizeSelect.addEventListener("change",l=>{this.setPageSize("true"==this.pageSizeSelect.value||this.pageSizeSelect.value),this.setPage(1)})),this.element.appendChild(this.firstBut),this.element.appendChild(this.prevBut),this.element.appendChild(this.pagesElement),this.element.appendChild(this.nextBut),this.element.appendChild(this.lastBut),!this.table.options.paginationElement&&!r&&this.table.footerManager.append(this.element,this),this.page=this.table.options.paginationInitialPage,this.count=this.table.options.paginationButtonCount),this.mode=this.table.options.paginationMode}initializeProgressive(r){this.initializePaginator(!0),this.mode="progressive_"+r,this.progressiveLoad=!0}trackChanges(){this.dispatch("page-changed")}setDisplayIndex(r){this.displayIndex=r}getDisplayIndex(){return this.displayIndex}setMaxRows(r){this.max=r?!0===this.size?1:Math.ceil(r/this.size):1,this.page>this.max&&(this.page=this.max)}reset(r){this.initialLoad||("local"==this.mode||r)&&(this.page=1)}setMaxPage(r){r=parseInt(r),this.max=r||1,this.page>this.max&&(this.page=this.max,this.trigger())}setPage(r){switch(r){case"first":return this.setPage(1);case"prev":return this.previousPage();case"next":return this.nextPage();case"last":return this.setPage(this.max)}return(r=parseInt(r))>0&&r<=this.max||"local"!==this.mode?(this.page=r,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Requested page is out of range of 1 - "+this.max+":",r),Promise.reject())}setPageToRow(r){var l=this.table.rowManager.getDisplayRows(this.displayIndex-1).indexOf(r);if(l>-1){var p=!0===this.size?1:Math.ceil((l+1)/this.size);return this.setPage(p)}return console.warn("Pagination Error - Requested row is not visible"),Promise.reject()}setPageSize(r){!0!==r&&(r=parseInt(r)),r>0&&(this.size=r),this.pageSizeSelect&&this.generatePageSizeSelectList(),this.trackChanges()}_setPageButtons(){let r=Math.floor((this.count-1)/2),o=Math.ceil((this.count-1)/2),l=this.max-this.page+r+1<this.count?this.max-this.count+1:Math.max(this.page-r,1),p=this.page<=o?Math.min(this.count,this.max):Math.min(this.page+o,this.max);for(;this.pagesElement.firstChild;)this.pagesElement.removeChild(this.pagesElement.firstChild);1==this.page?(this.firstBut.disabled=!0,this.prevBut.disabled=!0):(this.firstBut.disabled=!1,this.prevBut.disabled=!1),this.page==this.max?(this.lastBut.disabled=!0,this.nextBut.disabled=!0):(this.lastBut.disabled=!1,this.nextBut.disabled=!1);for(let y=l;y<=p;y++)y>0&&y<=this.max&&this.pagesElement.appendChild(this._generatePageButton(y));this.footerRedraw()}_generatePageButton(r){var o=document.createElement("button");return o.classList.add("tabulator-page"),r==this.page&&o.classList.add("active"),o.setAttribute("type","button"),o.setAttribute("role","button"),this.langBind("pagination|page_title",l=>{o.setAttribute("aria-label",l+" "+r),o.setAttribute("title",l+" "+r)}),o.setAttribute("data-page",r),o.textContent=r,o.addEventListener("click",l=>{this.setPage(r)}),o}previousPage(){return this.page>1?(this.page--,this.trackChanges(),this.trigger()):(console.warn("Pagination Error - Previous page would be less than page 1:",0),Promise.reject())}nextPage(){return this.page<this.max?(this.page++,this.trackChanges(),this.trigger()):(this.progressiveLoad||console.warn("Pagination Error - Next page would be greater than maximum page of "+this.max+":",this.max+1),Promise.reject())}getPage(){return this.page}getPageMax(){return this.max}getPageSize(r){return this.size}getMode(){return this.mode}getRows(r){var o,l,p;if("local"==this.mode){o=[],this.setMaxRows(r.length),!0===this.size?(l=0,p=r.length):p=(l=this.size*(this.page-1))+parseInt(this.size),this._setPageButtons();for(let y=l;y<p;y++)r[y]&&o.push(r[y]);return o}return this._setPageButtons(),r.slice(0)}trigger(){var r;switch(this.mode){case"local":return r=this.table.rowManager.scrollLeft,this.refreshData(),this.table.rowManager.scrollHorizontal(r),this.dispatchExternal("pageLoaded",this.getPage()),Promise.resolve();case"remote":return this.dataChanging=!0,this.reloadData(null).finally(()=>{this.dataChanging=!1});case"progressive_load":case"progressive_scroll":return this.reloadData(null,!0);default:return console.warn("Pagination Error - no such pagination mode:",this.mode),Promise.reject()}}_parseRemoteData(o){if(void 0===o.last_page&&console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.last_page+"' property"),o.data){if(this.max=parseInt(o.last_page)||1,this.progressiveLoad){switch(this.mode){case"progressive_load":1==this.page?this.table.rowManager.setData(o.data,!1,1==this.page):this.table.rowManager.addRows(o.data),this.page<this.max&&setTimeout(()=>{this.nextPage()},this.table.options.progressiveLoadDelay);break;case"progressive_scroll":o=this.table.rowManager.getData().concat(o.data),this.table.rowManager.setData(o,1!==this.page,1==this.page),this.table.rowManager.element.scrollHeight<=this.table.rowManager.element.clientHeight+(this.table.options.progressiveLoadScrollMargin||2*this.table.rowManager.element.clientHeight)&&setTimeout(()=>{this.nextPage()})}return!1}this.dispatchExternal("pageLoaded",this.getPage())}else console.warn("Remote Pagination Error - Server response missing '"+this.dataReceivedNames.data+"' property");return o.data}footerRedraw(){var r=this.table.footerManager.element;Math.ceil(r.clientWidth)-r.scrollWidth<0?this.pagesElement.style.display="none":(this.pagesElement.style.display="",Math.ceil(r.clientWidth)-r.scrollWidth<0&&(this.pagesElement.style.display="none"))}}return g.moduleName="page",g})();var tg={local:function(g,s){var r=localStorage.getItem(g+"-"+s);return!!r&&JSON.parse(r)},cookie:function(g,s){var p,y,r=document.cookie,o=g+"-"+s,l=r.indexOf(o+"=");return l>-1&&((p=(r=r.substr(l)).indexOf(";"))>-1&&(r=r.substr(0,p)),y=r.replace(o+"=","")),!!y&&JSON.parse(y)}},ig={local:function(g,s,r){localStorage.setItem(g+"-"+s,JSON.stringify(r))},cookie:function(g,s,r){var o=new Date;o.setDate(o.getDate()+1e4),document.cookie=g+"-"+s+"="+JSON.stringify(r)+"; expires="+o.toUTCString()}};let Uh=(()=>{class g extends mo{constructor(r){super(r),this.mode="",this.id="",this.defWatcherBlock=!1,this.config={},this.readFunc=!1,this.writeFunc=!1,this.registerTableOption("persistence",!1),this.registerTableOption("persistenceID",""),this.registerTableOption("persistenceMode",!0),this.registerTableOption("persistenceReaderFunc",!1),this.registerTableOption("persistenceWriterFunc",!1)}localStorageTest(){var r="_tabulator_test";try{return window.localStorage.setItem(r,r),window.localStorage.removeItem(r),!0}catch(o){return!1}}initialize(){if(this.table.options.persistence){var l,r=this.table.options.persistenceMode,o=this.table.options.persistenceID;this.mode=!0!==r?r:this.localStorageTest()?"local":"cookie",this.table.options.persistenceReaderFunc?"function"==typeof this.table.options.persistenceReaderFunc?this.readFunc=this.table.options.persistenceReaderFunc:g.readers[this.table.options.persistenceReaderFunc]?this.readFunc=g.readers[this.table.options.persistenceReaderFunc]:console.warn("Persistence Read Error - invalid reader set",this.table.options.persistenceReaderFunc):g.readers[this.mode]?this.readFunc=g.readers[this.mode]:console.warn("Persistence Read Error - invalid reader set",this.mode),this.table.options.persistenceWriterFunc?"function"==typeof this.table.options.persistenceWriterFunc?this.writeFunc=this.table.options.persistenceWriterFunc:g.writers[this.table.options.persistenceWriterFunc]?this.writeFunc=g.writers[this.table.options.persistenceWriterFunc]:console.warn("Persistence Write Error - invalid reader set",this.table.options.persistenceWriterFunc):g.writers[this.mode]?this.writeFunc=g.writers[this.mode]:console.warn("Persistence Write Error - invalid writer set",this.mode),this.id="tabulator-"+(o||this.table.element.getAttribute("id")||""),this.config={sort:!0===this.table.options.persistence||this.table.options.persistence.sort,filter:!0===this.table.options.persistence||this.table.options.persistence.filter,group:!0===this.table.options.persistence||this.table.options.persistence.group,page:!0===this.table.options.persistence||this.table.options.persistence.page,columns:!0===this.table.options.persistence?["title","width","visible"]:this.table.options.persistence.columns},this.config.page&&(l=this.retreiveData("page"))&&(void 0!==l.paginationSize&&(!0===this.config.page||this.config.page.size)&&(this.table.options.paginationSize=l.paginationSize),void 0!==l.paginationInitialPage&&(!0===this.config.page||this.config.page.page)&&(this.table.options.paginationInitialPage=l.paginationInitialPage)),this.config.group&&(l=this.retreiveData("group"))&&(void 0!==l.groupBy&&(!0===this.config.group||this.config.group.groupBy)&&(this.table.options.groupBy=l.groupBy),void 0!==l.groupStartOpen&&(!0===this.config.group||this.config.group.groupStartOpen)&&(this.table.options.groupStartOpen=l.groupStartOpen),void 0!==l.groupHeader&&(!0===this.config.group||this.config.group.groupHeader)&&(this.table.options.groupHeader=l.groupHeader)),this.config.columns&&(this.table.options.columns=this.load("columns",this.table.options.columns),this.subscribe("column-init",this.initializeColumn.bind(this)),this.subscribe("column-show",this.save.bind(this,"columns")),this.subscribe("column-hide",this.save.bind(this,"columns")),this.subscribe("column-moved",this.save.bind(this,"columns")),this.subscribe("table-built",this.tableBuilt.bind(this),0)),this.subscribe("table-redraw",this.tableRedraw.bind(this)),this.subscribe("filter-changed",this.eventSave.bind(this,"filter")),this.subscribe("sort-changed",this.eventSave.bind(this,"sort")),this.subscribe("group-changed",this.eventSave.bind(this,"group")),this.subscribe("page-changed",this.eventSave.bind(this,"page")),this.subscribe("column-resized",this.eventSave.bind(this,"columns")),this.subscribe("layout-refreshed",this.eventSave.bind(this,"columns"))}this.registerTableFunction("getColumnLayout",this.getColumnLayout.bind(this)),this.registerTableFunction("setColumnLayout",this.setColumnLayout.bind(this))}eventSave(r){this.config[r]&&this.save(r)}tableBuilt(){var o,l;this.config.sort&&(o=this.load("sort"))&&(this.table.initialSort=o),this.config.filter&&(l=this.load("filter"))&&(this.table.initialFilter=l)}tableRedraw(r){r&&this.config.columns&&this.save("columns")}getColumnLayout(){return this.parseColumns(this.table.columnManager.getColumns())}setColumnLayout(r){return this.table.columnManager.setColumns(this.mergeDefinition(this.table.options.columns,r)),!0}initializeColumn(r){var o;this.config.columns&&(this.defWatcherBlock=!0,o=r.getDefinition(),(!0===this.config.columns?Object.keys(o):this.config.columns).forEach(p=>{var y=Object.getOwnPropertyDescriptor(o,p),S=o[p];y&&Object.defineProperty(o,p,{set:function(I){S=I,this.defWatcherBlock||this.save("columns"),y.set&&y.set(I)},get:function(){return y.get&&y.get(),S}})}),this.defWatcherBlock=!1)}load(r,o){var l=this.retreiveData(r);return o&&(l=l?this.mergeDefinition(o,l):o),l}retreiveData(r){return!!this.readFunc&&this.readFunc(this.id,r)}mergeDefinition(r,o){var l=[];return(o=o||[]).forEach((p,y)=>{var I,S=this._findColumn(r,p);S&&(!0===this.config.columns||null==this.config.columns?(I=Object.keys(S)).push("width"):I=this.config.columns,I.forEach(N=>{"columns"!==N&&void 0!==p[N]&&(S[N]=p[N])}),S.columns&&(S.columns=this.mergeDefinition(S.columns,p.columns)),l.push(S))}),r.forEach((p,y)=>{this._findColumn(o,p)||(l.length>y?l.splice(y,0,p):l.push(p))}),l}_findColumn(r,o){var l=o.columns?"group":o.field?"field":"object";return r.find(function(p){switch(l){case"group":return p.title===o.title&&p.columns.length===o.columns.length;case"field":return p.field===o.field;case"object":return p===o}})}save(r){var o={};switch(r){case"columns":o=this.parseColumns(this.table.columnManager.getColumns());break;case"filter":o=this.table.modules.filter.getFilters();break;case"sort":o=this.validateSorters(this.table.modules.sort.getSort());break;case"group":o=this.getGroupConfig();break;case"page":o=this.getPageConfig()}this.writeFunc&&this.writeFunc(this.id,r,o)}validateSorters(r){return r.forEach(function(o){o.column=o.field,delete o.field}),r}getGroupConfig(){var r={};return this.config.group&&((!0===this.config.group||this.config.group.groupBy)&&(r.groupBy=this.table.options.groupBy),(!0===this.config.group||this.config.group.groupStartOpen)&&(r.groupStartOpen=this.table.options.groupStartOpen),(!0===this.config.group||this.config.group.groupHeader)&&(r.groupHeader=this.table.options.groupHeader)),r}getPageConfig(){var r={};return this.config.page&&((!0===this.config.page||this.config.page.size)&&(r.paginationSize=this.table.modules.page.getPageSize()),(!0===this.config.page||this.config.page.page)&&(r.paginationInitialPage=this.table.modules.page.getPage())),r}parseColumns(r){var o=[],l=["headerContextMenu","headerMenu","contextMenu","clickMenu"];return r.forEach(p=>{var I,y={},S=p.getDefinition();p.isGroup?(y.title=S.title,y.columns=this.parseColumns(p.getColumns())):(y.field=p.getField(),!0===this.config.columns||null==this.config.columns?(I=Object.keys(S)).push("width"):I=this.config.columns,I.forEach(N=>{switch(N){case"width":y.width=p.getWidth();break;case"visible":y.visible=p.visible;break;default:"function"!=typeof S[N]&&-1===l.indexOf(N)&&(y[N]=S[N])}})),o.push(y)}),o}}return g.moduleName="persistence",g.readers=tg,g.writers=ig,g})(),_p=(()=>{class g extends mo{constructor(r){super(r),this.element=!1,this.manualBlock=!1,this.registerTableOption("printAsHtml",!1),this.registerTableOption("printFormatter",!1),this.registerTableOption("printHeader",!1),this.registerTableOption("printFooter",!1),this.registerTableOption("printStyled",!0),this.registerTableOption("printRowRange","visible"),this.registerTableOption("printConfig",{}),this.registerColumnOption("print"),this.registerColumnOption("titlePrint")}initialize(){this.table.options.printAsHtml&&(window.addEventListener("beforeprint",this.replaceTable.bind(this)),window.addEventListener("afterprint",this.cleanup.bind(this))),this.registerTableFunction("print",this.printFullscreen.bind(this))}replaceTable(){this.manualBlock||(this.element=document.createElement("div"),this.element.classList.add("tabulator-print-table"),this.element.appendChild(this.table.modules.export.genereateTable(this.table.options.printConfig,this.table.options.printStyled,this.table.options.printRowRange,"print")),this.table.element.style.display="none",this.table.element.parentNode.insertBefore(this.element,this.table.element))}cleanup(){document.body.classList.remove("tabulator-print-fullscreen-hide"),this.element&&this.element.parentNode&&(this.element.parentNode.removeChild(this.element),this.table.element.style.display="")}printFullscreen(r,o,l){var J,pe,p=window.scrollX,y=window.scrollY,S=document.createElement("div"),I=document.createElement("div"),N=this.table.modules.export.genereateTable(void 0!==l?l:this.table.options.printConfig,void 0!==o?o:this.table.options.printStyled,r||this.table.options.printRowRange,"print");this.manualBlock=!0,this.element=document.createElement("div"),this.element.classList.add("tabulator-print-fullscreen"),this.table.options.printHeader&&(S.classList.add("tabulator-print-header"),"string"==typeof(J="function"==typeof this.table.options.printHeader?this.table.options.printHeader.call(this.table):this.table.options.printHeader)?S.innerHTML=J:S.appendChild(J),this.element.appendChild(S)),this.element.appendChild(N),this.table.options.printFooter&&(I.classList.add("tabulator-print-footer"),"string"==typeof(pe="function"==typeof this.table.options.printFooter?this.table.options.printFooter.call(this.table):this.table.options.printFooter)?I.innerHTML=pe:I.appendChild(pe),this.element.appendChild(I)),document.body.classList.add("tabulator-print-fullscreen-hide"),document.body.appendChild(this.element),this.table.options.printFormatter&&this.table.options.printFormatter(this.element,N),window.print(),this.cleanup(),window.scrollTo(p,y),this.manualBlock=!1}}return g.moduleName="print",g})(),ng=(()=>{class g extends mo{constructor(r){super(r),this.data=!1,this.blocked=!1,this.origFuncs={},this.currentVersion=0,this.registerTableOption("reactiveData",!1)}initialize(){this.table.options.reactiveData&&(this.subscribe("cell-value-save-before",this.block.bind(this)),this.subscribe("cell-value-save-after",this.unblock.bind(this)),this.subscribe("row-data-save-before",this.block.bind(this)),this.subscribe("row-data-save-after",this.unblock.bind(this)),this.subscribe("row-data-init-after",this.watchRow.bind(this)),this.subscribe("data-processing",this.watchData.bind(this)),this.subscribe("table-destroy",this.unwatchData.bind(this)))}watchData(r){var l,o=this;this.currentVersion++,l=this.currentVersion,this.unwatchData(),this.data=r,this.origFuncs.push=r.push,Object.defineProperty(this.data,"push",{enumerable:!1,configurable:!0,value:function(){var p=Array.from(arguments);return!o.blocked&&l===o.currentVersion&&p.forEach(y=>{o.table.rowManager.addRowActual(y,!1)}),o.origFuncs.push.apply(r,arguments)}}),this.origFuncs.unshift=r.unshift,Object.defineProperty(this.data,"unshift",{enumerable:!1,configurable:!0,value:function(){var p=Array.from(arguments);return!o.blocked&&l===o.currentVersion&&p.forEach(y=>{o.table.rowManager.addRowActual(y,!0)}),o.origFuncs.unshift.apply(r,arguments)}}),this.origFuncs.shift=r.shift,Object.defineProperty(this.data,"shift",{enumerable:!1,configurable:!0,value:function(){var p;return!o.blocked&&l===o.currentVersion&&o.data.length&&(p=o.table.rowManager.getRowFromDataObject(o.data[0]))&&p.deleteActual(),o.origFuncs.shift.call(r)}}),this.origFuncs.pop=r.pop,Object.defineProperty(this.data,"pop",{enumerable:!1,configurable:!0,value:function(){var p;return!o.blocked&&l===o.currentVersion&&o.data.length&&(p=o.table.rowManager.getRowFromDataObject(o.data[o.data.length-1]))&&p.deleteActual(),o.origFuncs.pop.call(r)}}),this.origFuncs.splice=r.splice,Object.defineProperty(this.data,"splice",{enumerable:!1,configurable:!0,value:function(){var N,p=Array.from(arguments),y=p[0]<0?r.length+p[0]:p[0],S=p[1],I=!!p[2]&&p.slice(2);if(!o.blocked&&l===o.currentVersion){if(I&&((N=!!r[y]&&o.table.rowManager.getRowFromDataObject(r[y]))?I.forEach(pe=>{o.table.rowManager.addRowActual(pe,!0,N,!0)}):(I=I.slice().reverse()).forEach(pe=>{o.table.rowManager.addRowActual(pe,!0,!1,!0)})),0!==S){var J=r.slice(y,void 0===p[1]?p[1]:y+S);J.forEach((pe,Fe)=>{var Qe=o.table.rowManager.getRowFromDataObject(pe);Qe&&Qe.deleteActual(Fe!==J.length-1)})}(I||0!==S)&&o.table.rowManager.reRenderInPosition()}return o.origFuncs.splice.apply(r,arguments)}})}unwatchData(){if(!1!==this.data)for(var r in this.origFuncs)Object.defineProperty(this.data,r,{enumerable:!0,configurable:!0,writable:!0,value:this.origFuncs.key})}watchRow(r){var o=r.getData();for(var l in this.blocked=!0,o)this.watchKey(r,o,l);this.table.options.dataTree&&this.watchTreeChildren(r),this.blocked=!1}watchTreeChildren(r){var o=r.getData()[this.table.options.dataTreeChildField],l={};function p(){this.table.modules.dataTree.initializeRow(r),this.table.modules.dataTree.layoutRow(r),this.table.rowManager.refreshActiveData("tree",!1,!0)}o&&(l.push=o.push,Object.defineProperty(o,"push",{enumerable:!1,configurable:!0,value:()=>{var y=l.push.apply(o,arguments);return p(),y}}),l.unshift=o.unshift,Object.defineProperty(o,"unshift",{enumerable:!1,configurable:!0,value:()=>{var y=l.unshift.apply(o,arguments);return p(),y}}),l.shift=o.shift,Object.defineProperty(o,"shift",{enumerable:!1,configurable:!0,value:()=>{var y=l.shift.call(o);return p(),y}}),l.pop=o.pop,Object.defineProperty(o,"pop",{enumerable:!1,configurable:!0,value:()=>{var y=l.pop.call(o);return p(),y}}),l.splice=o.splice,Object.defineProperty(o,"splice",{enumerable:!1,configurable:!0,value:()=>{var y=l.splice.apply(o,arguments);return p(),y}}))}watchKey(r,o,l){var p=Object.getOwnPropertyDescriptor(o,l),y=o[l],S=this.currentVersion;Object.defineProperty(o,l,{set:I=>{if(y=I,!this.blocked&&S===this.currentVersion){var N={};N[l]=I,r.updateData(N)}p.set&&p.set(I)},get:()=>(p.get&&p.get(),y)})}unwatchRow(r){var o=r.getData();for(var l in o)Object.defineProperty(o,l,{value:o[l]})}block(){this.blocked=!0}unblock(){this.blocked=!1}}return g.moduleName="reactiveData",g})(),vp=(()=>{class g extends mo{constructor(r){super(r),this.startColumn=!1,this.startX=!1,this.startWidth=!1,this.handle=null,this.prevHandle=null,this.registerColumnOption("resizable",!0)}initialize(){this.subscribe("cell-layout",this.layoutCellHandles.bind(this)),this.subscribe("column-init",this.layoutColumnHeader.bind(this))}layoutCellHandles(r){"row"===r.row.type&&this.initializeColumn("cell",r.column,r.element)}layoutColumnHeader(r){this.initializeColumn("header",r,r.element)}initializeColumn(r,o,l){var p=this,S=o.definition.resizable;if("header"===r&&(o.modules.resize={variableHeight:"textarea"==o.definition.formatter||o.definition.variableHeight}),!0===S||S==r){var I=document.createElement("div");I.className="tabulator-col-resize-handle";var N=document.createElement("div");N.className="tabulator-col-resize-handle prev",I.addEventListener("click",function(Fe){Fe.stopPropagation()});var J=function(Fe){var Qe=o.getLastColumn();Qe&&p._checkResizability(Qe)&&(p.startColumn=o,p._mouseDown(Fe,Qe,I))};I.addEventListener("mousedown",J),I.addEventListener("touchstart",J,{passive:!0}),I.addEventListener("dblclick",function(Fe){var Qe=o.getLastColumn();Qe&&p._checkResizability(Qe)&&(Fe.stopPropagation(),Qe.reinitializeWidth(!0))}),N.addEventListener("click",function(Fe){Fe.stopPropagation()});var pe=function(Fe){var Qe,Ct,Lt;(Qe=o.getFirstColumn())&&(Lt=(Ct=p.table.columnManager.findColumnIndex(Qe))>0&&p.table.columnManager.getColumnByIndex(Ct-1))&&p._checkResizability(Lt)&&(p.startColumn=o,p._mouseDown(Fe,Lt,N))};N.addEventListener("mousedown",pe),N.addEventListener("touchstart",pe,{passive:!0}),N.addEventListener("dblclick",function(Fe){var Qe,Ct,Lt;(Qe=o.getFirstColumn())&&(Lt=(Ct=p.table.columnManager.findColumnIndex(Qe))>0&&p.table.columnManager.getColumnByIndex(Ct-1))&&p._checkResizability(Lt)&&(Fe.stopPropagation(),Lt.reinitializeWidth(!0))}),l.appendChild(I),l.appendChild(N)}}_checkResizability(r){return r.definition.resizable}_mouseDown(r,o,l){var p=this;function y(I){o.setWidth(p.table.rtl?p.startWidth-((void 0===I.screenX?I.touches[0].screenX:I.screenX)-p.startX):p.startWidth+((void 0===I.screenX?I.touches[0].screenX:I.screenX)-p.startX)),p.table.columnManager.renderer.rerenderColumns(!0),!p.table.browserSlow&&o.modules.resize&&o.modules.resize.variableHeight&&o.checkCellHeights()}function S(I){p.startColumn.modules.edit&&(p.startColumn.modules.edit.blocked=!1),p.table.browserSlow&&o.modules.resize&&o.modules.resize.variableHeight&&o.checkCellHeights(),document.body.removeEventListener("mouseup",S),document.body.removeEventListener("mousemove",y),l.removeEventListener("touchmove",y),l.removeEventListener("touchend",S),p.table.element.classList.remove("tabulator-block-select"),p.dispatch("column-resized",o),p.table.externalEvents.dispatch("columnResized",o.getComponent())}p.table.element.classList.add("tabulator-block-select"),r.stopPropagation(),p.startColumn.modules.edit&&(p.startColumn.modules.edit.blocked=!0),p.startX=void 0===r.screenX?r.touches[0].screenX:r.screenX,p.startWidth=o.getWidth(),document.body.addEventListener("mousemove",y),document.body.addEventListener("mouseup",S),l.addEventListener("touchmove",y,{passive:!0}),l.addEventListener("touchend",S)}}return g.moduleName="resizeColumns",g})(),yp=(()=>{class g extends mo{constructor(r){super(r),this.startColumn=!1,this.startY=!1,this.startHeight=!1,this.handle=null,this.prevHandle=null,this.registerTableOption("resizableRows",!1)}initialize(){this.table.options.resizableRows&&this.subscribe("row-layout-after",this.initializeRow.bind(this))}initializeRow(r){var o=this,l=r.getElement(),p=document.createElement("div");p.className="tabulator-row-resize-handle";var y=document.createElement("div");y.className="tabulator-row-resize-handle prev",p.addEventListener("click",function(N){N.stopPropagation()});var S=function(N){o.startRow=r,o._mouseDown(N,r,p)};p.addEventListener("mousedown",S),p.addEventListener("touchstart",S,{passive:!0}),y.addEventListener("click",function(N){N.stopPropagation()});var I=function(N){var J=o.table.rowManager.prevDisplayRow(r);J&&(o.startRow=J,o._mouseDown(N,J,y))};y.addEventListener("mousedown",I),y.addEventListener("touchstart",I,{passive:!0}),l.appendChild(p),l.appendChild(y)}_mouseDown(r,o,l){var p=this;function y(I){o.setHeight(p.startHeight+((void 0===I.screenY?I.touches[0].screenY:I.screenY)-p.startY))}function S(I){document.body.removeEventListener("mouseup",y),document.body.removeEventListener("mousemove",y),l.removeEventListener("touchmove",y),l.removeEventListener("touchend",S),p.table.element.classList.remove("tabulator-block-select"),this.dispatchExternal("rowResized",o.getComponent())}p.table.element.classList.add("tabulator-block-select"),r.stopPropagation(),p.startY=void 0===r.screenY?r.touches[0].screenY:r.screenY,p.startHeight=o.getHeight(),document.body.addEventListener("mousemove",y),document.body.addEventListener("mouseup",S),l.addEventListener("touchmove",y,{passive:!0}),l.addEventListener("touchend",S)}}return g.moduleName="resizeRows",g})(),ef=(()=>{class g extends mo{constructor(r){super(r),this.binding=!1,this.observer=!1,this.containerObserver=!1,this.tableHeight=0,this.tableWidth=0,this.containerHeight=0,this.containerWidth=0,this.autoResize=!1,this.registerTableOption("autoResize",!0)}initialize(){if(this.table.options.autoResize){var o,r=this.table;this.tableHeight=r.element.clientHeight,this.tableWidth=r.element.clientWidth,r.element.parentNode&&(this.containerHeight=r.element.parentNode.clientHeight,this.containerWidth=r.element.parentNode.clientWidth),"undefined"!=typeof ResizeObserver&&"virtual"===r.rowManager.getRenderMode()?(this.autoResize=!0,this.observer=new ResizeObserver(l=>{if(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell){var p=Math.floor(l[0].contentRect.height),y=Math.floor(l[0].contentRect.width);(this.tableHeight!=p||this.tableWidth!=y)&&(this.tableHeight=p,this.tableWidth=y,r.element.parentNode&&(this.containerHeight=r.element.parentNode.clientHeight,this.containerWidth=r.element.parentNode.clientWidth),this.table.columnManager.renderer.rerenderColumns(!0),r.redraw())}}),this.observer.observe(r.element),o=window.getComputedStyle(r.element),this.table.element.parentNode&&!this.table.rowManager.fixedHeight&&(o.getPropertyValue("max-height")||o.getPropertyValue("min-height"))&&(this.containerObserver=new ResizeObserver(l=>{if(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell){var p=Math.floor(l[0].contentRect.height),y=Math.floor(l[0].contentRect.width);(this.containerHeight!=p||this.containerWidth!=y)&&(this.containerHeight=p,this.containerWidth=y,this.tableHeight=r.element.clientHeight,this.tableWidth=r.element.clientWidth),r.columnManager.renderer.rerenderColumns(!0),r.redraw()}}),this.containerObserver.observe(this.table.element.parentNode)),this.subscribe("table-resize",this.tableResized.bind(this))):(this.binding=function(){(!r.browserMobile||r.browserMobile&&!r.modules.edit.currentCell)&&(r.columnManager.renderer.rerenderColumns(!0),r.redraw())},window.addEventListener("resize",this.binding)),this.subscribe("table-destroy",this.clearBindings.bind(this))}}tableResized(){this.table.rowManager.redraw()}clearBindings(){this.binding&&window.removeEventListener("resize",this.binding),this.observer&&this.observer.unobserve(this.table.element),this.containerObserver&&this.containerObserver.unobserve(this.table.element.parentNode)}}return g.moduleName="resizeTable",g})(),rg=(()=>{class g extends mo{constructor(r){super(r),this.columns=[],this.hiddenColumns=[],this.mode="",this.index=0,this.collapseFormatter=[],this.collapseStartOpen=!0,this.collapseHandleColumn=!1,this.registerTableOption("responsiveLayout",!1),this.registerTableOption("responsiveLayoutCollapseStartOpen",!0),this.registerTableOption("responsiveLayoutCollapseUseFormatters",!0),this.registerTableOption("responsiveLayoutCollapseFormatter",!1),this.registerColumnOption("responsive")}initialize(){this.table.options.responsiveLayout&&(this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("column-show",this.updateColumnVisibility.bind(this)),this.subscribe("column-hide",this.updateColumnVisibility.bind(this)),this.subscribe("columns-loaded",this.initializeResponsivity.bind(this)),this.subscribe("column-moved",this.initializeResponsivity.bind(this)),this.subscribe("column-add",this.initializeResponsivity.bind(this)),this.subscribe("column-delete",this.initializeResponsivity.bind(this)),this.subscribe("table-redrawing",this.tableRedraw.bind(this)),"collapse"===this.table.options.responsiveLayout&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-layout",this.layoutRow.bind(this))))}tableRedraw(r){-1===["fitColumns","fitDataStretch"].indexOf(this.layoutMode())&&(r||this.update())}initializeResponsivity(){var r=[];this.mode=this.table.options.responsiveLayout,this.collapseFormatter=this.table.options.responsiveLayoutCollapseFormatter||this.formatCollapsedData,this.collapseStartOpen=this.table.options.responsiveLayoutCollapseStartOpen,this.hiddenColumns=[],this.table.columnManager.columnsByIndex.forEach(function(o,l){o.modules.responsive&&o.modules.responsive.order&&o.modules.responsive.visible&&(o.modules.responsive.index=l,r.push(o),!o.visible&&"collapse"===self.mode&&self.hiddenColumns.push(o))}),r=(r=r.reverse()).sort(function(o,l){return l.modules.responsive.order-o.modules.responsive.order||l.modules.responsive.index-o.modules.responsive.index}),this.columns=r,"collapse"===this.mode&&this.generateCollapsedContent();for(let o of this.table.columnManager.columnsByIndex)if("responsiveCollapse"==o.definition.formatter){this.collapseHandleColumn=o;break}this.collapseHandleColumn&&(this.hiddenColumns.length?this.collapseHandleColumn.show():this.collapseHandleColumn.hide())}initializeColumn(r){var o=r.getDefinition();r.modules.responsive={order:void 0===o.responsive?1:o.responsive,visible:!1!==o.visible}}initializeRow(r){var o;"calc"!==r.type&&((o=document.createElement("div")).classList.add("tabulator-responsive-collapse"),r.modules.responsiveLayout={element:o,open:this.collapseStartOpen},this.collapseStartOpen||(o.style.display="none"))}layoutRow(r){var o=r.getElement();r.modules.responsiveLayout&&(o.appendChild(r.modules.responsiveLayout.element),this.generateCollapsedRowContent(r))}updateColumnVisibility(r,o){!o&&r.modules.responsive&&(r.modules.responsive.visible=r.visible,this.initialize())}hideColumn(r){var o=this.hiddenColumns.length;r.hide(!1,!0),"collapse"===this.mode&&(this.hiddenColumns.unshift(r),this.generateCollapsedContent(),this.collapseHandleColumn&&!o&&this.collapseHandleColumn.show())}showColumn(r){var o;r.show(!1,!0),r.setWidth(r.getWidth()),"collapse"===this.mode&&((o=this.hiddenColumns.indexOf(r))>-1&&this.hiddenColumns.splice(o,1),this.generateCollapsedContent(),this.collapseHandleColumn&&!this.hiddenColumns.length&&this.collapseHandleColumn.hide())}update(){for(var r=this,o=!0;o;){let l="fitColumns"==r.table.modules.layout.getMode()?r.table.columnManager.getFlexBaseWidth():r.table.columnManager.getWidth(),p=(r.table.options.headerVisible?r.table.columnManager.element.clientWidth:r.table.element.clientWidth)-l;if(p<0){let y=r.columns[r.index];y?(r.hideColumn(y),r.index++):o=!1}else{let y=r.columns[r.index-1];y&&p>0&&p>=y.getWidth()?(r.showColumn(y),r.index--):o=!1}r.table.rowManager.activeRowsCount||r.table.rowManager.renderEmptyScroll()}}generateCollapsedContent(){var r=this;this.table.rowManager.getDisplayRows().forEach(function(l){r.generateCollapsedRowContent(l)})}generateCollapsedRowContent(r){var o,l;if(r.modules.responsiveLayout){for(o=r.modules.responsiveLayout.element;o.firstChild;)o.removeChild(o.firstChild);(l=this.collapseFormatter(this.generateCollapsedRowData(r)))&&o.appendChild(l)}}generateCollapsedRowData(r){var y,o=this,l=r.getData(),p=[];return this.hiddenColumns.forEach(function(S){var I=S.getFieldValue(l);S.definition.title&&S.field&&(S.modules.format&&o.table.options.responsiveLayoutCollapseUseFormatters?(y={value:!1,data:{},getValue:function(){return I},getData:function(){return l},getElement:function(){return document.createElement("div")},getRow:function(){return r.getComponent()},getColumn:function(){return S.getComponent()}},p.push({field:S.field,title:S.definition.title,value:S.modules.format.formatter.call(o.table.modules.format,y,S.modules.format.params,function(J){J()})})):p.push({field:S.field,title:S.definition.title,value:I}))}),p}formatCollapsedData(r){var o=document.createElement("table");return r.forEach(function(l){var I,p=document.createElement("tr"),y=document.createElement("td"),S=document.createElement("td"),N=document.createElement("strong");y.appendChild(N),this.langBind("columns|"+l.field,function(J){N.innerText=J||l.title}),l.value instanceof Node?((I=document.createElement("div")).appendChild(l.value),S.appendChild(I)):S.innerHTML=l.value,p.appendChild(y),p.appendChild(S),o.appendChild(p)},this),Object.keys(r).length?o:""}}return g.moduleName="responsiveLayout",g})(),tf=(()=>{class g extends mo{constructor(r){super(r),this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],this.headerCheckboxElement=null,this.registerTableOption("selectable","highlight"),this.registerTableOption("selectableRangeMode","drag"),this.registerTableOption("selectableRollingSelection",!0),this.registerTableOption("selectablePersistence",!0),this.registerTableOption("selectableCheck",function(o,l){return!0}),this.registerTableFunction("selectRow",this.selectRows.bind(this)),this.registerTableFunction("deselectRow",this.deselectRows.bind(this)),this.registerTableFunction("toggleSelectRow",this.toggleRow.bind(this)),this.registerTableFunction("getSelectedRows",this.getSelectedRows.bind(this)),this.registerTableFunction("getSelectedData",this.getSelectedData.bind(this)),this.registerComponentFunction("row","select",this.selectRows.bind(this)),this.registerComponentFunction("row","deselect",this.deselectRows.bind(this)),this.registerComponentFunction("row","toggleSelect",this.toggleRow.bind(this)),this.registerComponentFunction("row","isSelected",this.isRowSelected.bind(this))}initialize(){!1!==this.table.options.selectable&&(this.subscribe("row-init",this.initializeRow.bind(this)),this.subscribe("row-deleting",this.rowDeleted.bind(this)),this.subscribe("rows-wipe",this.clearSelectionData.bind(this)),this.subscribe("rows-retrieve",this.rowRetrieve.bind(this)),this.table.options.selectable&&this.table.options.selectablePersistence&&this.subscribe("data-refeshing",this.deselectRows.bind(this)))}rowRetrieve(r,o){return"selected"===r?this.selectedRows:o}rowDeleted(r){this._deselectRow(r,!0)}clearSelectionData(r){this.selecting=!1,this.lastClickedRow=!1,this.selectPrev=[],this.selectedRows=[],!0!==r&&this._rowSelectionChanged()}initializeRow(r){var o=this,l=r.getElement(),p=function(){setTimeout(function(){o.selecting=!1},50),document.body.removeEventListener("mouseup",p)};r.modules.select={selected:!1},o.table.options.selectableCheck.call(this.table,r.getComponent())?(l.classList.add("tabulator-selectable"),l.classList.remove("tabulator-unselectable"),o.table.options.selectable&&"highlight"!=o.table.options.selectable&&("click"===o.table.options.selectableRangeMode?l.addEventListener("click",function(y){if(y.shiftKey){o.table._clearSelection(),o.lastClickedRow=o.lastClickedRow||r;var S=o.table.rowManager.getDisplayRowIndex(o.lastClickedRow),I=o.table.rowManager.getDisplayRowIndex(r),N=S<=I?S:I,J=S>=I?S:I,Fe=o.table.rowManager.getDisplayRows().slice(0).splice(N,J-N+1);y.ctrlKey||y.metaKey?(Fe.forEach(function(Qe){Qe!==o.lastClickedRow&&(!0===o.table.options.selectable||o.isRowSelected(r)||o.selectedRows.length<o.table.options.selectable)&&o.toggleRow(Qe)}),o.lastClickedRow=r):(o.deselectRows(void 0,!0),!0!==o.table.options.selectable&&Fe.length>o.table.options.selectable&&(Fe=Fe.slice(0,o.table.options.selectable)),o.selectRows(Fe)),o.table._clearSelection()}else y.ctrlKey||y.metaKey?(o.toggleRow(r),o.lastClickedRow=r):(o.deselectRows(void 0,!0),o.selectRows(r),o.lastClickedRow=r)}):(l.addEventListener("click",function(y){(!o.table.modExists("edit")||!o.table.modules.edit.getCurrentCell())&&o.table._clearSelection(),o.selecting||o.toggleRow(r)}),l.addEventListener("mousedown",function(y){if(y.shiftKey)return o.table._clearSelection(),o.selecting=!0,o.selectPrev=[],document.body.addEventListener("mouseup",p),document.body.addEventListener("keyup",p),o.toggleRow(r),!1}),l.addEventListener("mouseenter",function(y){o.selecting&&(o.table._clearSelection(),o.toggleRow(r),o.selectPrev[1]==r&&o.toggleRow(o.selectPrev[0]))}),l.addEventListener("mouseout",function(y){o.selecting&&(o.table._clearSelection(),o.selectPrev.unshift(r))})))):(l.classList.add("tabulator-unselectable"),l.classList.remove("tabulator-selectable"))}toggleRow(r){this.table.options.selectableCheck.call(this.table,r.getComponent())&&(r.modules.select&&r.modules.select.selected?this._deselectRow(r):this._selectRow(r))}selectRows(r){var o;switch(typeof r){case"undefined":this.table.rowManager.rows.forEach(l=>{this._selectRow(l,!0,!0)}),this._rowSelectionChanged();break;case"string":(o=this.table.rowManager.findRow(r))?this._selectRow(o,!0,!0):this.table.rowManager.getRows(r).forEach(l=>{this._selectRow(l,!0,!0)}),this._rowSelectionChanged();break;default:Array.isArray(r)?(r.forEach(l=>{this._selectRow(l,!0,!0)}),this._rowSelectionChanged()):this._selectRow(r,!1,!0)}}_selectRow(r,o,l){if(!isNaN(this.table.options.selectable)&&!0!==this.table.options.selectable&&!l&&this.selectedRows.length>=this.table.options.selectable){if(!this.table.options.selectableRollingSelection)return!1;this._deselectRow(this.selectedRows[0])}var p=this.table.rowManager.findRow(r);p?-1==this.selectedRows.indexOf(p)&&(p.getElement().classList.add("tabulator-selected"),p.modules.select||(p.modules.select={}),p.modules.select.selected=!0,p.modules.select.checkboxEl&&(p.modules.select.checkboxEl.checked=!0),this.selectedRows.push(p),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(p,!0),o||this.dispatchExternal("rowSelected",p.getComponent()),this._rowSelectionChanged(o)):o||console.warn("Selection Error - No such row found, ignoring selection:"+r)}isRowSelected(r){return-1!==this.selectedRows.indexOf(r)}deselectRows(r,o){var p,l=this;if(void 0===r){p=l.selectedRows.length;for(let y=0;y<p;y++)l._deselectRow(l.selectedRows[0],!0);l._rowSelectionChanged(o)}else Array.isArray(r)?(r.forEach(function(y){l._deselectRow(y,!0)}),l._rowSelectionChanged(o)):l._deselectRow(r,o)}_deselectRow(r,o){var y,l=this,p=l.table.rowManager.findRow(r);p?(y=l.selectedRows.findIndex(function(S){return S==p}))>-1&&(p.getElement().classList.remove("tabulator-selected"),p.modules.select||(p.modules.select={}),p.modules.select.selected=!1,p.modules.select.checkboxEl&&(p.modules.select.checkboxEl.checked=!1),l.selectedRows.splice(y,1),this.table.options.dataTreeSelectPropagate&&this.childRowSelection(p,!1),o||this.dispatchExternal("rowDeselected",p.getComponent()),l._rowSelectionChanged(o)):o||console.warn("Deselection Error - No such row found, ignoring selection:"+r)}getSelectedData(){var r=[];return this.selectedRows.forEach(function(o){r.push(o.getData())}),r}getSelectedRows(){var r=[];return this.selectedRows.forEach(function(o){r.push(o.getComponent())}),r}_rowSelectionChanged(r){this.headerCheckboxElement&&(0===this.selectedRows.length?(this.headerCheckboxElement.checked=!1,this.headerCheckboxElement.indeterminate=!1):this.table.rowManager.rows.length===this.selectedRows.length?(this.headerCheckboxElement.checked=!0,this.headerCheckboxElement.indeterminate=!1):(this.headerCheckboxElement.indeterminate=!0,this.headerCheckboxElement.checked=!1)),r||this.dispatchExternal("rowSelectionChanged",this.getSelectedData(),this.getSelectedRows())}registerRowSelectCheckbox(r,o){r._row.modules.select||(r._row.modules.select={}),r._row.modules.select.checkboxEl=o}registerHeaderSelectCheckbox(r){this.headerCheckboxElement=r}childRowSelection(r,o){var l=this.table.modules.dataTree.getChildren(r,!0);if(o)for(let p of l)this._selectRow(p,!0);else for(let p of l)this._deselectRow(p,!0)}}return g.moduleName="selectRow",g})();function Ep(g,s,r,o,l,p,y){var S=window.DateTime||luxon.DateTime,I=y.format||"dd/MM/yyyy HH:mm:ss",N=y.alignEmptyValues,J=0;if(void 0!==S){if(g=S.fromFormat(g,I),s=S.fromFormat(s,I),g.isValid){if(s.isValid)return g-s;J=1}else J=s.isValid?-1:0;return("top"===N&&"desc"===p||"bottom"===N&&"asc"===p)&&(J*=-1),J}console.error("Sort Error - 'datetime' sorter is dependant on luxon.js")}var Gh={number:function bp(g,s,r,o,l,p,y){var S=y.alignEmptyValues,I=y.decimalSeparator,N=y.thousandSeparator,J=0;if(g=String(g),s=String(s),N&&(g=g.split(N).join(""),s=s.split(N).join("")),I&&(g=g.split(I).join("."),s=s.split(I).join(".")),g=parseFloat(g),s=parseFloat(s),isNaN(g))J=isNaN(s)?0:-1;else{if(!isNaN(s))return g-s;J=1}return("top"===S&&"desc"===p||"bottom"===S&&"asc"===p)&&(J*=-1),J},string:function Bm(g,s,r,o,l,p,y){var N,S=y.alignEmptyValues,I=0;if(g){if(s){switch(typeof y.locale){case"boolean":y.locale&&(N=this.langLocale());break;case"string":N=y.locale}return String(g).toLowerCase().localeCompare(String(s).toLowerCase(),N)}I=1}else I=s?-1:0;return("top"===S&&"desc"===p||"bottom"===S&&"asc"===p)&&(I*=-1),I},date:function nf(g,s,r,o,l,p,y){return y.format||(y.format="dd/MM/yyyy"),Ep.call(this,g,s,r,o,l,p,y)},time:function rf(g,s,r,o,l,p,y){return y.format||(y.format="HH:mm"),Ep.call(this,g,s,r,o,l,p,y)},datetime:Ep,boolean:function sf(g,s,r,o,l,p,y){return(!0===g||"true"===g||"True"===g||1===g?1:0)-(!0===s||"true"===s||"True"===s||1===s?1:0)},array:function af(g,s,r,o,l,p,y){var N=y.type||"length",J=y.alignEmptyValues,pe=0;function Fe(Qe){switch(N){case"length":return Qe.length;case"sum":return Qe.reduce(function(Ct,Lt){return Ct+Lt});case"max":return Math.max.apply(null,Qe);case"min":return Math.min.apply(null,Qe);case"avg":return Qe.reduce(function(Ct,Lt){return Ct+Lt})/Qe.length}}if(Array.isArray(g)){if(Array.isArray(s))return(g?Fe(g):0)-(s?Fe(s):0);J=1}else J=Array.isArray(s)?-1:0;return("top"===J&&"desc"===p||"bottom"===J&&"asc"===p)&&(pe*=-1),pe},exists:function lf(g,s,r,o,l,p,y){return(void 0===g?0:1)-(void 0===s?0:1)},alphanum:function qu(g,s,r,o,l,p,y){var S,I,N,J,Fe,pe=0,Qe=/(\d+)|(\D+)/g,Ct=/\d/,Lt=y.alignEmptyValues,Gt=0;if(g||0===g){if(s||0===s){if(isFinite(g)&&isFinite(s))return g-s;if((S=String(g).toLowerCase())===(I=String(s).toLowerCase()))return 0;if(!Ct.test(S)||!Ct.test(I))return S>I?1:-1;for(S=S.match(Qe),I=I.match(Qe),Fe=S.length>I.length?I.length:S.length;pe<Fe;)if((N=S[pe])!==(J=I[pe++]))return isFinite(N)&&isFinite(J)?("0"===N.charAt(0)&&(N="."+N),"0"===J.charAt(0)&&(J="."+J),N-J):N>J?1:-1;return S.length>I.length}Gt=1}else Gt=s||0===s?-1:0;return("top"===Lt&&"desc"===p||"bottom"===Lt&&"asc"===p)&&(Gt*=-1),Gt}},sg={integer:function(g,s,r){return""===s||null==s||"number"==typeof(s=Number(s))&&isFinite(s)&&Math.floor(s)===s},float:function(g,s,r){return""===s||null==s||"number"==typeof(s=Number(s))&&isFinite(s)&&s%1!=0},numeric:function(g,s,r){return""===s||null==s||!isNaN(s)},string:function(g,s,r){return""===s||null==s||isNaN(s)},max:function(g,s,r){return""===s||null==s||parseFloat(s)<=r},min:function(g,s,r){return""===s||null==s||parseFloat(s)>=r},starts:function(g,s,r){return""===s||null==s||String(s).toLowerCase().startsWith(String(r).toLowerCase())},ends:function(g,s,r){return""===s||null==s||String(s).toLowerCase().endsWith(String(r).toLowerCase())},minLength:function(g,s,r){return""===s||null==s||String(s).length>=r},maxLength:function(g,s,r){return""===s||null==s||String(s).length<=r},in:function(g,s,r){return""===s||null==s||("string"==typeof r&&(r=r.split("|")),""===s||r.indexOf(s)>-1)},regex:function(g,s,r){return""===s||null==s||new RegExp(r).test(s)},unique:function(g,s,r){if(""===s||null==s)return!0;var o=!0,l=g.getData(),p=g.getColumn()._getSelf();return this.table.rowManager.rows.forEach(function(y){var S=y.getData();S!==l&&s==p.getFieldValue(S)&&(o=!1)}),o},required:function(g,s,r){return""!==s&&null!=s}},Cp=Object.freeze({__proto__:null,AccessorModule:op,AjaxModule:Ih,ClipboardModule:Hd,ColumnCalcsModule:up,DataTreeModule:kh,DownloadModule:Nh,EditModule:Kp,ExportModule:bh,FilterModule:pp,FormatModule:$p,FrozenColumnsModule:Yf,FrozenRowsModule:Jp,GroupRowsModule:Kf,HistoryModule:Qp,HtmlTableImportModule:Jf,InteractionModule:Uu,KeybindingsModule:Qf,MenuModule:Fm,MoveColumnsModule:qp,MoveRowsModule:Vh,MutatorModule:eg,PageModule:mp,PersistenceModule:Uh,PrintModule:_p,ReactiveDataModule:ng,ResizeColumnsModule:vp,ResizeRowsModule:yp,ResizeTableModule:ef,ResponsiveLayoutModule:rg,SelectRowModule:tf,SortModule:(()=>{class g extends mo{constructor(r){super(r),this.sortList=[],this.changed=!1,this.registerTableOption("sortMode","local"),this.registerTableOption("initialSort",!1),this.registerTableOption("columnHeaderSortMulti",!0),this.registerTableOption("sortOrderReverse",!1),this.registerTableOption("headerSortElement","<div class='tabulator-arrow'></div>"),this.registerColumnOption("sorter"),this.registerColumnOption("sorterParams"),this.registerColumnOption("headerSort",!0),this.registerColumnOption("headerSortStartingDir"),this.registerColumnOption("headerSortTristate")}initialize(){this.subscribe("column-layout",this.initializeColumn.bind(this)),this.subscribe("table-built",this.tableBuilt.bind(this)),this.registerDataHandler(this.sort.bind(this),20),this.registerTableFunction("setSort",this.userSetSort.bind(this)),this.registerTableFunction("getSorters",this.getSort.bind(this)),this.registerTableFunction("clearSort",this.clearSort.bind(this)),"remote"===this.table.options.sortMode&&this.subscribe("data-params",this.remoteSortParams.bind(this))}tableBuilt(){this.table.options.initialSort&&this.setSort(this.table.options.initialSort)}remoteSortParams(r,o,l,p){var y=this.getSort();return y.forEach(S=>{delete S.column}),p.sort=y,p}userSetSort(r,o){this.setSort(r,o),this.refreshSort()}clearSort(){this.clear(),this.refreshSort()}initializeColumn(r){var l,p,o=!1;switch(typeof r.definition.sorter){case"string":g.sorters[r.definition.sorter]?o=g.sorters[r.definition.sorter]:console.warn("Sort Error - No such sorter found: ",r.definition.sorter);break;case"function":o=r.definition.sorter}r.modules.sort={sorter:o,dir:"none",params:r.definition.sorterParams||{},startingDir:r.definition.headerSortStartingDir||"asc",tristate:r.definition.headerSortTristate},!1!==r.definition.headerSort&&((l=r.getElement()).classList.add("tabulator-sortable"),(p=document.createElement("div")).classList.add("tabulator-col-sorter"),"object"==typeof this.table.options.headerSortElement?p.appendChild(this.table.options.headerSortElement):p.innerHTML=this.table.options.headerSortElement,r.titleHolderElement.appendChild(p),r.modules.sort.element=p,l.addEventListener("click",y=>{var S="",I=[],N=!1;if(r.modules.sort){if(r.modules.sort.tristate)S="none"==r.modules.sort.dir?r.modules.sort.startingDir:r.modules.sort.dir==r.modules.sort.startingDir?"asc"==r.modules.sort.dir?"desc":"asc":"none";else switch(r.modules.sort.dir){case"asc":S="desc";break;case"desc":S="asc";break;default:S=r.modules.sort.startingDir}this.table.options.columnHeaderSortMulti&&(y.shiftKey||y.ctrlKey)?((N=(I=this.getSort()).findIndex(J=>J.field===r.getField()))>-1?(I[N].dir=S,N!=I.length-1&&(N=I.splice(N,1)[0],"none"!=S&&I.push(N))):"none"!=S&&I.push({column:r,dir:S}),this.setSort(I)):"none"==S?this.clear():this.setSort(r,S),this.refreshSort()}}))}refreshSort(){"remote"===this.table.options.sortMode?this.reloadData():this.refreshData()}hasChanged(){var r=this.changed;return this.changed=!1,r}getSort(){var o=[];return this.sortList.forEach(function(l){l.column&&o.push({column:l.column.getComponent(),field:l.column.getField(),dir:l.dir})}),o}setSort(r,o){var l=this,p=[];Array.isArray(r)||(r=[{column:r,dir:o}]),r.forEach(function(y){var S;(S=l.table.columnManager.findColumn(y.column))?(y.column=S,p.push(y),l.changed=!0):console.warn("Sort Warning - Sort field does not exist and is being ignored: ",y.column)}),l.sortList=p,this.dispatch("sort-changed")}clear(){this.setSort([])}findSorter(r){var y,o=this.table.rowManager.activeRows[0],l="string";if(o&&(o=o.getData(),r.getField()))switch(y=r.getFieldValue(o),typeof y){case"undefined":l="string";break;case"boolean":l="boolean";break;default:isNaN(y)||""===y?y.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)&&(l="alphanum"):l="number"}return g.sorters[l]}sort(r){var o=this,l=this.table.options.sortOrderReverse?o.sortList.slice().reverse():o.sortList,p=[],y=[];return this.subscribedExternal("dataSorting")&&this.dispatchExternal("dataSorting",o.getSort()),o.clearColumnHeaders(),"remote"!==this.table.options.sortMode?(l.forEach(function(S,I){var N=S.column.modules.sort;S.column&&N&&(N.sorter||(N.sorter=o.findSorter(S.column)),S.params="function"==typeof N.params?N.params(S.column.getComponent(),S.dir):N.params,p.push(S)),o.setColumnHeader(S.column,S.dir)}),p.length&&o._sortItems(r,p)):l.forEach(function(S,I){o.setColumnHeader(S.column,S.dir)}),this.subscribedExternal("dataSorted")&&(r.forEach(S=>{y.push(S.getComponent())}),this.dispatchExternal("dataSorted",o.getSort(),y)),r}clearColumnHeaders(){this.table.columnManager.getRealColumns().forEach(function(r){r.modules.sort&&(r.modules.sort.dir="none",r.getElement().setAttribute("aria-sort","none"))})}setColumnHeader(r,o){r.modules.sort.dir=o,r.getElement().setAttribute("aria-sort",o)}_sortItems(r,o){var l=o.length-1;r.sort((p,y)=>{for(var S,I=l;I>=0;I--){let N=o[I];if(0!==(S=this._sortRow(p,y,N.column,N.dir,N.params)))break}return S})}_sortRow(r,o,l,p,y){var S,I,N="asc"==p?r:o,J="asc"==p?o:r;return r=void 0!==(r=l.getFieldValue(N.getData()))?r:"",o=void 0!==(o=l.getFieldValue(J.getData()))?o:"",S=N.getComponent(),I=J.getComponent(),l.modules.sort.sorter.call(this,r,o,S,I,l.getComponent(),p,y)}}return g.moduleName="sort",g.sorters=Gh,g})(),ValidateModule:(()=>{class g extends mo{constructor(r){super(r),this.invalidCells=[],this.registerTableOption("validationMode","blocking"),this.registerColumnOption("validator"),this.registerTableFunction("getInvalidCells",this.getInvalidCells.bind(this)),this.registerTableFunction("clearCellValidation",this.userClearCellValidation.bind(this)),this.registerTableFunction("validate",this.userValidate.bind(this)),this.registerComponentFunction("cell","isValid",this.cellIsValid.bind(this)),this.registerComponentFunction("cell","clearValidation",this.clearValidation.bind(this)),this.registerComponentFunction("cell","validate",this.cellValidate.bind(this)),this.registerComponentFunction("column","validate",this.columnValidate.bind(this)),this.registerComponentFunction("row","validate",this.rowValidate.bind(this))}initialize(){this.subscribe("cell-delete",this.clearValidation.bind(this)),this.subscribe("column-layout",this.initializeColumnCheck.bind(this))}cellIsValid(r){return!r.modules.validate||!r.modules.validate.invalid}cellValidate(r){return this.validate(r.column.modules.validate,r,r.getValue())}columnValidate(r){var o=[];return r.cells.forEach(function(l){this.cellValidate(l)||o.push(l.getComponent())}),!o.length||o}rowValidate(r){var o=[];return r.cells.forEach(function(l){this.cellValidate(l)||o.push(l.getComponent())}),!o.length||o}userClearCellValidation(r){r||(r=this.getInvalidCells()),Array.isArray(r)||(r=[r]),r.forEach(o=>{this.clearValidation(o._getSelf())})}userValidate(r){var o=[];return this.table.rowManager.rows.forEach(function(l){var p=l.validate();!0!==p&&(o=o.concat(p))}),!o.length||o}initializeColumnCheck(r){void 0!==r.definition.validator&&this.initializeColumn(r)}initializeColumn(r){var p,o=this,l=[];r.definition.validator&&(Array.isArray(r.definition.validator)?r.definition.validator.forEach(function(y){(p=o._extractValidator(y))&&l.push(p)}):(p=this._extractValidator(r.definition.validator))&&l.push(p),r.modules.validate=!!l.length&&l)}_extractValidator(r){var o,l,p;switch(typeof r){case"string":return(p=r.indexOf(":"))>-1?(o=r.substring(0,p),l=r.substring(p+1)):o=r,this._buildValidator(o,l);case"function":return this._buildValidator(r);case"object":return this._buildValidator(r.type,r.parameters)}}_buildValidator(r,o){var l="function"==typeof r?r:g.validators[r];return l?{type:"function"==typeof r?"function":r,func:l,params:o}:(console.warn("Validator Setup Error - No matching validator found:",r),!1)}validate(r,o,l){var p=this,y=[],S=this.invalidCells.indexOf(o);return r&&r.forEach(function(I){I.func.call(p,o.getComponent(),l,I.params)||y.push({type:I.type,parameters:I.params})}),y=!y.length||y,o.modules.validate||(o.modules.validate={}),!0===y?(o.modules.validate.invalid=!1,o.getElement().classList.remove("tabulator-validation-fail"),S>-1&&this.invalidCells.splice(S,1)):(o.modules.validate.invalid=!0,"manual"!==this.table.options.validationMode&&o.getElement().classList.add("tabulator-validation-fail"),-1==S&&this.invalidCells.push(o)),y}getInvalidCells(){var r=[];return this.invalidCells.forEach(o=>{r.push(o.getComponent())}),r}clearValidation(r){var o;r.modules.validate&&r.modules.validate.invalid&&(r.getElement().classList.remove("tabulator-validation-fail"),r.modules.validate.invalid=!1,(o=this.invalidCells.indexOf(r))>-1&&this.invalidCells.splice(o,1))}}return g.moduleName="validate",g.validators=sg,g})()}),cf={debugEventsExternal:!1,debugEventsInternal:!1,debugInvalidOptions:!0,height:!1,minHeight:!1,maxHeight:!1,columnMaxWidth:!1,columnHeaderVertAlign:"top",columns:[],columnDefaults:{},data:!1,autoColumns:!1,autoColumnsDefinitions:!1,nestedFieldSeparator:".",tooltipGenerationMode:"load",footerElement:!1,index:"id",textDirection:"auto",addRowPos:"bottom",headerVisible:!0,renderVertical:"virtual",renderHorizontal:"basic",renderVerticalBuffer:0,scrollToRowPosition:"top",scrollToRowIfVisible:!0,scrollToColumnPosition:"left",scrollToColumnIfVisible:!0,rowFormatter:!1,rowFormatterPrint:null,rowFormatterClipboard:null,rowFormatterHtmlOutput:null,placeholder:!1,dataLoader:!0,dataLoaderLoading:!1,dataLoaderError:!1,dataSendParams:{},dataReceiveParams:{}};class Wh{constructor(s,r){this.table=s,this.msgType=r,this.registeredDefaults={}}register(s,r){this.registeredDefaults[s]=r}generate(s,r={}){var o=Object.assign({},this.registeredDefaults);if(Object.assign(o,s),!1!==r.debugInvalidOptions||this.table.options.debugInvalidOptions)for(var l in r)o.hasOwnProperty(l)||console.warn("Invalid "+this.msgType+" option:",l);for(var l in o)l in r?o[l]=r[l]:Array.isArray(o[l])?o[l]=Object.assign([],o[l]):"object"==typeof o[l]&&null!==o[l]?o[l]=Object.assign({},o[l]):void 0===o[l]&&delete o[l];return o}}class yd extends tu{constructor(s){super(s),this.elementVertical=s.rowManager.element,this.elementHorizontal=s.columnManager.element,this.tableElement=s.rowManager.tableElement,this.verticalFillMode="fit"}initialize(){}clearRows(){}clearColumns(){}reinitializeColumnWidths(s){}renderRows(){}renderColumns(){}rerenderRows(s){s&&s()}rerenderColumns(s,r){}renderRowCells(s){}rerenderRowCells(s,r){}scrollColumns(s,r){}scrollRows(s,r){}resize(){}scrollToRow(s){}scrollToRowNearestTop(s){}visibleRows(s){return[]}rows(){return this.table.rowManager.getDisplayRows()}styleRow(s,r){var o=s.getElement();r%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))}clear(){this.clearRows(),this.clearColumns()}render(){this.renderRows(),this.renderColumns()}rerender(s){this.rerenderRows(),this.rerenderColumns()}scrollToRowPosition(s,r,o){var l=this.rows().indexOf(s),p=s.getElement(),y=0;return new Promise((S,I)=>{if(l>-1){if(void 0===o&&(o=this.table.options.scrollToRowIfVisible),!o&&Us.elVisible(p)&&(y=Us.elOffset(p).top-Us.elOffset(this.elementVertical).top)>0&&y<this.elementVertical.clientHeight-p.offsetHeight)return!1;switch(void 0===r&&(r=this.table.options.scrollToRowPosition),"nearest"===r&&(r=this.scrollToRowNearestTop(s)?"top":"bottom"),this.scrollToRow(s),r){case"middle":case"center":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop+(p.offsetTop-this.elementVertical.scrollTop)-(this.elementVertical.scrollHeight-p.offsetTop)/2:this.elementVertical.scrollTop-this.elementVertical.clientHeight/2;break;case"bottom":this.elementVertical.scrollTop=this.elementVertical.scrollHeight-this.elementVertical.scrollTop==this.elementVertical.clientHeight?this.elementVertical.scrollTop-(this.elementVertical.scrollHeight-p.offsetTop)+p.offsetHeight:this.elementVertical.scrollTop-this.elementVertical.clientHeight+p.offsetHeight}S()}else console.warn("Scroll Error - Row not visible"),I("Scroll Error - Row not visible")})}}class ag extends yd{constructor(s){super(s)}renderRowCells(s){s.cells.forEach(r=>{s.element.appendChild(r.getElement()),r.cellRendered()})}reinitializeColumnWidths(s){s.forEach(function(r){r.reinitializeWidth()})}}class Tp extends yd{constructor(s){super(s),this.leftCol=0,this.rightCol=0,this.scrollLeft=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0,this.fitDataColAvg=0,this.window=200,this.initialized=!1,this.columns=[]}initialize(){this.compatabilityCheck()}compatabilityCheck(){var s=this.options("columns"),o=!0;return"fitDataTable"==this.options("layout")&&(console.warn("Horizontal Vitrual DOM is not compatible with fitDataTable layout mode"),o=!1),this.options("responsiveLayout")&&(console.warn("Horizontal Vitrual DOM is not compatible with responsive columns"),o=!1),this.options("rtl")&&(console.warn("Horizontal Vitrual DOM is not currently compatible with RTL text direction"),o=!1),s&&s.find(l=>l.frozen)&&(console.warn("Horizontal Vitrual DOM is not compatible with frozen columns"),o=!1),o}renderColumns(s,r){this.dataChange()}scrollColumns(s,r){this.scrollLeft!=s&&(this.scrollLeft=s,this.scroll(s-(this.vDomScrollPosLeft+this.window)))}rerenderColumns(s,r){var o={cols:this.columns,leftCol:this.leftCol,rightCol:this.rightCol};if(!s||this.initialized){this.clear(),this.scrollLeft=this.elementVertical.scrollLeft,this.vDomScrollPosLeft=this.scrollLeft-this.window,this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window;var l=0;this.table.columnManager.columnsByIndex.forEach(p=>{var y={};if(p.visible){var S=p.getWidth();y.leftPos=l,y.rightPos=l+S,y.width=S,"fitData"===this.options("layout")&&(y.fitDataCheck=!0),l+S>this.vDomScrollPosLeft&&l<this.vDomScrollPosRight?(-1==this.leftCol&&(this.leftCol=this.columns.length,this.vDomPadLeft=l),this.rightCol=this.columns.length):-1!==this.leftCol&&(this.vDomPadRight+=S),this.columns.push(p),p.modules.vdomHoz=y,l+=S}}),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.initialized=!0,r||(!s||this.reinitChanged(o))&&this.renitializeRows(),this.elementVertical.scrollLeft=this.scrollLeft}}renderRowCells(s){this.initialized?this.initializeRow(s):s.cells.forEach(r=>{s.element.appendChild(r.getElement()),r.cellRendered()})}rerenderRowCells(s,r){this.reinitializeRow(s,r)}reinitializeColumnWidths(s){for(let r=this.leftCol;r<=this.rightCol;r++)this.columns[r].reinitializeWidth()}deinitialize(){this.initialized=!1}clear(){this.columns=[],this.leftCol=-1,this.rightCol=0,this.vDomScrollPosLeft=0,this.vDomScrollPosRight=0,this.vDomPadLeft=0,this.vDomPadRight=0}dataChange(){var p,l,s=!1,r=0,o=0;if("fitData"===this.options("layout")){if(this.table.columnManager.columnsByIndex.forEach(y=>{!y.definition.width&&y.visible&&(s=!0)}),s&&s&&this.table.rowManager.getDisplayRows().length&&(this.vDomScrollPosRight=this.scrollLeft+this.elementVertical.clientWidth+this.window,l=this.chain("rows-sample",[1],[],()=>this.table.rowManager.getDisplayRows()[0])[0])){for(p=l.getElement(),l.generateCells(),this.tableElement.appendChild(p),o=0;o<l.cells.length;o++){let I=l.cells[o];if(p.appendChild(I.getElement()),I.column.reinitializeWidth(),(r+=I.column.getWidth())>this.vDomScrollPosRight)break}for(p.parentNode.removeChild(p),this.fitDataColAvg=Math.floor(r/(o+1));o<this.table.columnManager.columnsByIndex.length;o++)this.table.columnManager.columnsByIndex[o].setWidth(this.fitDataColAvg);this.rerenderColumns(!1,!0)}}else"fitColumns"===this.options("layout")&&(this.layoutRefresh(),this.rerenderColumns(!1,!0))}reinitChanged(s){var r=!0;return s.cols.length!==this.columns.length||s.leftCol!==this.leftCol||s.rightCol!==this.rightCol||(s.cols.forEach((o,l)=>{o!==this.columns[l]&&(r=!1)}),!r)}renitializeRows(){this.table.rowManager.getVisibleRows().forEach(r=>{this.reinitializeRow(r,!0)})}scroll(s){this.vDomScrollPosLeft+=s,this.vDomScrollPosRight+=s,s>.8*this.elementVertical.clientWidth?this.rerenderColumns():s>0?(this.addColRight(),this.removeColLeft()):(this.addColLeft(),this.removeColRight())}colPositionAdjust(s,r,o){for(let l=s;l<r;l++){let p=this.columns[l];p.modules.vdomHoz.leftPos+=o,p.modules.vdomHoz.rightPos+=o}}addColRight(){var s=this.columns[this.rightCol+1];s&&s.modules.vdomHoz.leftPos<=this.vDomScrollPosRight&&(this.table.rowManager.getVisibleRows().forEach(o=>{if("group"!==o.type){var l=o.getCell(s);o.getElement().appendChild(l.getElement()),l.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.rightCol++,this.rightCol>=this.columns.length-1?this.vDomPadRight=0:this.vDomPadRight-=s.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.addColRight())}addColLeft(){var s=this.columns[this.leftCol-1];s&&s.modules.vdomHoz.rightPos>=this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(l=>{if("group"!==l.type){var p=l.getCell(s);l.getElement().prepend(p.getElement()),p.cellRendered()}}),this.fitDataColActualWidthCheck(s),this.leftCol?this.vDomPadLeft-=s.getWidth():this.vDomPadLeft=0,this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol--,this.addColLeft())}removeColRight(r){var o;(r=this.columns[this.rightCol])&&r.modules.vdomHoz.leftPos>this.vDomScrollPosRight&&(o=this.table.rowManager.getVisibleRows(),r.modules.vdomHoz.visible=!1,o.forEach(l=>{if("group"!==l.type){var p=l.getCell(r);l.getElement().removeChild(p.getElement())}}),this.vDomPadRight+=r.getWidth(),this.tableElement.style.paddingRight=this.vDomPadRight+"px",this.rightCol--,this.removeColRight())}removeColLeft(){var s=this.columns[this.leftCol];s&&s.modules.vdomHoz.rightPos<this.vDomScrollPosLeft&&(this.table.rowManager.getVisibleRows().forEach(o=>{if("group"!==o.type){var l=o.getCell(s);l.parentNode&&o.getElement().removeChild(l.getElement())}}),this.vDomPadLeft+=s.getWidth(),this.tableElement.style.paddingLeft=this.vDomPadLeft+"px",this.leftCol++,this.removeColLeft())}fitDataColActualWidthCheck(s){var r,o;s.modules.vdomHoz.fitDataCheck&&(s.reinitializeWidth(),(o=(r=s.getWidth())-s.modules.vdomHoz.width)&&(s.modules.vdomHoz.rightPos+=o,s.modules.vdomHoz.width=r,this.colPositionAdjust(this.rightCol+2,this.columns.length,o)),s.modules.vdomHoz.fitDataCheck=!1)}initializeRow(s){if("group"!==s.type){s.modules.vdomHoz={leftCol:this.leftCol,rightCol:this.rightCol};for(let r=this.leftCol;r<=this.rightCol;r++){let o=this.columns[r];if(o&&o.visible){let l=s.getCell(o);s.getElement().appendChild(l.getElement()),l.cellRendered()}}}}reinitializeRow(s,r){if("group"!==s.type&&(r||!s.modules.vdomHoz||s.modules.vdomHoz.leftCol!==this.leftCol||s.modules.vdomHoz.rightCol!==this.rightCol)){for(var o=s.getElement();o.firstChild;)o.removeChild(o.firstChild);this.initializeRow(s)}}}class uf extends tu{constructor(s){super(s),this.blockHozScrollEvent=!1,this.headersElement=null,this.element=null,this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.scrollLeft=0,this.optionsList=new Wh(this.table,"column definition"),this.renderer=null}initialize(){this.initializeRenderer(),this.headersElement=this.createHeadersElement(),this.element=this.createHeaderElement(),this.element.insertBefore(this.headersElement,this.element.firstChild),this.subscribe("scroll-horizontal",this.scrollHorizontal.bind(this))}initializeRenderer(){var s;(s="string"==typeof this.table.options.renderHorizontal?{virtual:Tp,basic:ag}[this.table.options.renderHorizontal]:this.table.options.renderHorizontal)?(this.renderer=new s(this.table,this.element,this.tableElement),this.renderer.initialize()):console.error("Unable to find matching renderer:",table.options.renderHorizontal)}createHeadersElement(){var s=document.createElement("div");return s.classList.add("tabulator-headers"),s.setAttribute("role","row"),s}createHeaderElement(){var s=document.createElement("div");return s.classList.add("tabulator-header"),s.setAttribute("role","rowgroup"),this.table.options.headerVisible||s.classList.add("tabulator-header-hidden"),s}getElement(){return this.element}getHeadersElement(){return this.headersElement}scrollHorizontal(s){var o=this.element.scrollWidth-this.table.element.clientWidth;this.element.scrollLeft=s,this.element.style.marginLeft=s>o?-(s-o)+"px":0,this.scrollLeft=s,this.renderer.scrollColumns(s)}generateColumnsFromRowData(s){var l,p,r=[],o=this.table.options.autoColumnsDefinitions;if(s&&s.length){for(var y in l=s[0]){let S={field:y,title:y},I=l[y];switch(typeof I){case"undefined":p="string";break;case"boolean":p="boolean";break;case"object":p=Array.isArray(I)?"array":"string";break;default:p=isNaN(I)||""===I?I.match(/((^[0-9]+[a-z]+)|(^[a-z]+[0-9]+))+$/i)?"alphanum":"string":"number"}S.sorter=p,r.push(S)}if(o)switch(typeof o){case"function":this.table.options.columns=o.call(this.table,r);break;case"object":Array.isArray(o)?r.forEach(S=>{var I=o.find(N=>N.field===S.field);I&&Object.assign(S,I)}):r.forEach(S=>{o[S.field]&&Object.assign(S,o[S.field])}),this.table.options.columns=r}else this.table.options.columns=r;this.setColumns(this.table.options.columns)}}setColumns(s,r){for(;this.headersElement.firstChild;)this.headersElement.removeChild(this.headersElement.firstChild);this.columns=[],this.columnsByIndex=[],this.columnsByField={},this.dispatch("columns-loading"),s.forEach((o,l)=>{this._addColumn(o)}),this._reIndexColumns(),this.dispatch("columns-loaded"),this.renderer.rerenderColumns(!1,!0),this.redraw(!0)}_addColumn(s,r,o){var l=new mh(s,this),p=l.getElement(),y=o&&this.findColumnIndex(o);if(o&&y>-1){var S=o.getTopColumn(),I=this.columns.indexOf(S),N=S.getElement();r?(this.columns.splice(I,0,l),N.parentNode.insertBefore(p,N)):(this.columns.splice(I+1,0,l),N.parentNode.insertBefore(p,N.nextSibling))}else r?(this.columns.unshift(l),this.headersElement.insertBefore(l.getElement(),this.headersElement.firstChild)):(this.columns.push(l),this.headersElement.appendChild(l.getElement()));return l.columnRendered(),l}registerColumnField(s){s.definition.field&&(this.columnsByField[s.definition.field]=s)}registerColumnPosition(s){this.columnsByIndex.push(s)}_reIndexColumns(){this.columnsByIndex=[],this.columns.forEach(function(s){s.reRegisterPosition()})}verticalAlignHeaders(){var s=0;this.columns.forEach(r=>{var o;r.clearVerticalAlign(),(o=r.getHeight())>s&&(s=o)}),this.columns.forEach(r=>{r.verticalAlign(this.table.options.columnHeaderVertAlign,s)}),this.table.rowManager.adjustTableSize()}findColumn(s){return"object"!=typeof s?this.columnsByField[s]||!1:s instanceof mh?s:s instanceof Xp?s._getSelf()||!1:"undefined"!=typeof HTMLElement&&s instanceof HTMLElement&&this.columns.find(o=>o.element===s)||!1}getColumnByField(s){return this.columnsByField[s]}getColumnsByFieldRoot(s){var r=[];return Object.keys(this.columnsByField).forEach(o=>{o.split(".")[0]===s&&r.push(this.columnsByField[o])}),r}getColumnByIndex(s){return this.columnsByIndex[s]}getFirstVisibileColumn(r){return(r=this.columnsByIndex.findIndex(o=>o.visible))>-1&&this.columnsByIndex[r]}getColumns(){return this.columns}findColumnIndex(s){return this.columnsByIndex.findIndex(r=>s===r)}getRealColumns(){return this.columnsByIndex}traverse(s){this.columnsByIndex.forEach((r,o)=>{s(r,o)})}getDefinitions(s){var r=[];return this.columnsByIndex.forEach(o=>{(!s||s&&o.visible)&&r.push(o.getDefinition())}),r}getDefinitionTree(){var s=[];return this.columns.forEach(r=>{s.push(r.getDefinition(!0))}),s}getComponents(s){var r=[];return(s?this.columns:this.columnsByIndex).forEach(l=>{r.push(l.getComponent())}),r}getWidth(){var s=0;return this.columnsByIndex.forEach(r=>{r.visible&&(s+=r.getWidth())}),s}moveColumn(s,r,o){this.moveColumnActual(s,r,o),r.element.parentNode.insertBefore(s.element,r.element),o&&r.element.parentNode.insertBefore(r.element,s.element),this.verticalAlignHeaders(),this.table.rowManager.reinitialize()}moveColumnActual(s,r,o){this._moveColumnInArray(s.parent.isGroup?s.parent.columns:this.columns,s,r,o),this._moveColumnInArray(this.columnsByIndex,s,r,o,!0),this.renderer.rerenderColumns(!0),this.dispatch("column-moved",s,r,o),this.subscribedExternal("columnMoved")&&this.dispatchExternal("columnMoved",s.getComponent(),this.table.columnManager.getComponents())}_moveColumnInArray(s,r,o,l,p){var S,y=s.indexOf(r);y>-1&&(s.splice(y,1),(S=s.indexOf(o))>-1?l&&(S+=1):S=y,s.splice(S,0,r),p&&(this.chain("column-moving-rows",[r,o,l],null,[])||[]).concat(this.table.rowManager.rows).forEach(function(N){if(N.cells.length){var J=N.cells.splice(y,1)[0];N.cells.splice(S,0,J)}}))}scrollToColumn(s,r,o){var l=0,p=0,y=0,S=s.getElement();return new Promise((I,N)=>{if(void 0===r&&(r=this.table.options.scrollToColumnPosition),void 0===o&&(o=this.table.options.scrollToColumnIfVisible),s.visible){switch(r){case"middle":case"center":y=-this.element.clientWidth/2;break;case"right":y=S.clientWidth-this.headersElement.clientWidth}if(!o&&(p=S.offsetLeft)>0&&p+S.offsetWidth<this.element.clientWidth)return!1;l=S.offsetLeft+y,l=Math.max(Math.min(l,this.table.rowManager.element.scrollWidth-this.table.rowManager.element.clientWidth),0),this.table.rowManager.scrollHorizontal(l),this.scrollHorizontal(l),I()}else console.warn("Scroll Error - Column not visible"),N("Scroll Error - Column not visible")})}generateCells(s){var r=[];return this.columnsByIndex.forEach(o=>{r.push(o.generateCell(s))}),r}getFlexBaseWidth(){var s=this.table.element.clientWidth,r=0;return this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(s-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),this.columnsByIndex.forEach(function(o){var l,p,y;o.visible&&(l=o.definition.width||0,p=parseInt(o.minWidth),y="string"==typeof l?l.indexOf("%")>-1?s/100*parseInt(l):parseInt(l):l,r+=y>p?y:p)}),r}addColumn(s,r,o){return new Promise((l,p)=>{var y=this._addColumn(s,r,o);this._reIndexColumns(),this.dispatch("column-add",s,r,o),"fitColumns"!=this.layoutMode()&&y.reinitializeWidth(),this.redraw(!0),this.table.rowManager.reinitialize(),this.renderer.rerenderColumns(),l(y)})}deregisterColumn(s){var o,r=s.getField();r&&delete this.columnsByField[r],(o=this.columnsByIndex.indexOf(s))>-1&&this.columnsByIndex.splice(o,1),(o=this.columns.indexOf(s))>-1&&this.columns.splice(o,1),this.verticalAlignHeaders(),this.redraw()}redraw(s){Us.elVisible(this.element)&&this.verticalAlignHeaders(),s&&(this.table.rowManager.resetScroll(),this.table.rowManager.reinitialize()),this.confirm("table-redrawing",s)||this.layoutRefresh(),this.dispatch("table-redraw",s),this.table.footerManager.redraw()}}class df extends yd{constructor(s){super(s),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0}clearRows(){for(var s=this.tableElement;s.firstChild;)s.removeChild(s.firstChild);s.scrollTop=0,s.scrollLeft=0,s.style.minWidth="",s.style.minHeight="",s.style.display="",s.style.visibility=""}renderRows(){var s=this.tableElement,r=!0;this.rows().forEach((o,l)=>{this.styleRow(o,l),s.appendChild(o.getElement()),o.initialize(!0),"group"!==o.type&&(r=!1)}),s.style.minWidth=r?this.table.columnManager.getWidth()+"px":""}rerenderRows(s){this.render(),s&&s()}scrollToRowNearestTop(s){var r=Us.elOffset(s.getElement()).top;return!(Math.abs(this.elementVertical.scrollTop-r)>Math.abs(this.elementVertical.scrollTop+this.elementVertical.clientHeight-r))}scrollToRow(s){var r=s.getElement();this.elementVertical.scrollTop=Us.elOffset(r).top-Us.elOffset(this.elementVertical).top+this.elementVertical.scrollTop}visibleRows(s){return this.rows()}}class hf extends yd{constructor(s){super(s),this.verticalFillMode="fill",this.scrollTop=0,this.scrollLeft=0,this.vDomRowHeight=20,this.vDomTop=0,this.vDomBottom=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomMaxRenderChain=90,this.vDomWindowBuffer=0,this.vDomWindowMinTotalRows=20,this.vDomWindowMinMarginRows=5,this.vDomTopNewRows=[],this.vDomBottomNewRows=[]}clearRows(){for(var s=this.tableElement;s.firstChild;)s.removeChild(s.firstChild);s.style.paddingTop="",s.style.paddingBottom="",s.style.minWidth="",s.style.minHeight="",s.style.display="",s.style.visibility="",this.elementVertical.scrollTop=0,this.elementVertical.scrollLeft=0,this.scrollTop=0,this.scrollLeft=0,this.vDomTop=0,this.vDomBottom=0,this.vDomTopPad=0,this.vDomBottomPad=0,this.vDomScrollPosTop=0,this.vDomScrollPosBottom=0}renderRows(){this._virtualRenderFill()}rerenderRows(s){for(var r=this.elementVertical.scrollTop,o=!1,l=!1,p=this.table.rowManager.scrollLeft,y=this.rows(),S=this.vDomTop;S<=this.vDomBottom;S++)if(y[S]){var I=r-y[S].getElement().offsetTop;if(!(!1===l||Math.abs(I)<l))break;l=I,o=S}y.forEach(N=>{N.deinitializeHeight()}),s&&s(),this._virtualRenderFill(!1===o?this.rows.length-1:o,!0,l||0),this.scrollColumns(p)}scrollColumns(s){this.table.rowManager.scrollHorizontal(s)}scrollRows(s,r){var o=s-this.vDomScrollPosTop,l=s-this.vDomScrollPosBottom,p=2*this.vDomWindowBuffer,y=this.rows();if(this.scrollTop=s,-o>p||l>p){var S=this.table.rowManager.scrollLeft;this._virtualRenderFill(Math.floor(this.elementVertical.scrollTop/this.elementVertical.scrollHeight*y.length)),this.scrollColumns(S)}else r?(o<0&&this._addTopRow(y,-o),l<0&&(this.vDomScrollHeight-this.scrollTop>this.vDomWindowBuffer?this._removeBottomRow(y,-l):this.vDomScrollPosBottom=this.scrollTop)):(l>=0&&this._addBottomRow(y,l),o>=0&&(this.scrollTop>this.vDomWindowBuffer?this._removeTopRow(y,o):this.vDomScrollPosTop=this.scrollTop))}resize(){this.vDomWindowBuffer=this.table.options.renderVerticalBuffer||this.elementVertical.clientHeight}scrollToRowNearestTop(s){var r=this.rows().indexOf(s);return!(Math.abs(this.vDomTop-r)>Math.abs(this.vDomBottom-r))}scrollToRow(s){var r=this.rows().indexOf(s);r>-1&&this._virtualRenderFill(r,!0)}visibleRows(s){var r=this.elementVertical.scrollTop,o=this.elementVertical.clientHeight+r,l=!1,p=0,y=0,S=this.rows();if(s)p=this.vDomTop,y=this.vDomBottom;else for(var I=this.vDomTop;I<=this.vDomBottom;I++)if(S[I])if(l){if(!(o-S[I].getElement().offsetTop>=0))break;y=I}else if(r-S[I].getElement().offsetTop>=0)p=I;else{if(l=!0,!(o-S[I].getElement().offsetTop>=0))break;y=I}return S.slice(p,y+1)}_virtualRenderFill(s,r,o){var l=this.tableElement,p=this.elementVertical,y=0,S=0,I=0,N=0,J=0,pe=this.rows(),Fe=pe.length,Qe=this.elementVertical.clientHeight;if(o=o||0,s=s||0){for(;l.firstChild;)l.removeChild(l.firstChild);(I=(Fe-s+1)*this.vDomRowHeight)<Qe&&(s-=Math.ceil((Qe-I)/this.vDomRowHeight))<0&&(s=0),s-=y=Math.min(Math.max(Math.floor(this.vDomWindowBuffer/this.vDomRowHeight),this.vDomWindowMinMarginRows),s)}else this.clear();if(Fe&&Us.elVisible(this.elementVertical)){for(this.vDomTop=s,this.vDomBottom=s-1;(S<=Qe+this.vDomWindowBuffer||J<this.vDomWindowMinTotalRows)&&this.vDomBottom<Fe-1;){var Gt,Ct=this.vDomBottom+1,Lt=pe[Ct];this.styleRow(Lt,Ct),l.appendChild(Lt.getElement()),Lt.initialize(),Lt.heightInitialized||Lt.normalizeHeight(!0),Gt=Lt.getHeight(),J<y?N+=Gt:S+=Gt,Gt>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*Gt),this.vDomBottom++,J++}s?(this.vDomTopPad=r?this.vDomRowHeight*this.vDomTop+o:this.scrollTop-N,this.vDomBottomPad=this.vDomBottom==Fe-1?0:Math.max(this.vDomScrollHeight-this.vDomTopPad-S-N,0)):(this.vDomTopPad=0,this.vDomRowHeight=Math.floor((S+N)/J),this.vDomBottomPad=this.vDomRowHeight*(Fe-this.vDomBottom-1),this.vDomScrollHeight=N+S+this.vDomBottomPad-Qe),l.style.paddingTop=this.vDomTopPad+"px",l.style.paddingBottom=this.vDomBottomPad+"px",r&&(this.scrollTop=this.vDomTopPad+N+o-(this.elementVertical.scrollWidth>this.elementVertical.clientWidth?this.elementVertical.offsetHeight-Qe:0)),this.scrollTop=Math.min(this.scrollTop,this.elementVertical.scrollHeight-Qe),this.elementVertical.scrollWidth>this.elementVertical.offsetWidth&&r&&(this.scrollTop+=this.elementVertical.offsetHeight-Qe),this.vDomScrollPosTop=this.scrollTop,this.vDomScrollPosBottom=this.scrollTop,p.scrollTop=this.scrollTop,this.dispatch("render-virtual-fill")}}_addTopRow(s,r){for(var o=this.tableElement,l=[],p=0,y=this.vDomTop-1,S=0;this.vDomTop;){let N,J,I=s[y];if(!(I&&S<this.vDomMaxRenderChain))break;if(N=I.getHeight()||this.vDomRowHeight,J=I.initialized,!(r>=N))break;this.styleRow(I,y),o.insertBefore(I.getElement(),o.firstChild),(!I.initialized||!I.heightInitialized)&&l.push(I),I.initialize(),J||(N=I.getElement().offsetHeight,N>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*N)),r-=N,p+=N,this.vDomTop--,y--,S++}for(let I of l)I.clearCellHeight();this._quickNormalizeRowHeight(l),p&&(this.vDomTopPad-=p,this.vDomTopPad<0&&(this.vDomTopPad=y*this.vDomRowHeight),y<1&&(this.vDomTopPad=0),o.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop-=p)}_removeTopRow(s,r){for(var o=[],l=0,p=0;;){let S,y=s[this.vDomTop];if(!(y&&p<this.vDomMaxRenderChain))break;if(S=y.getHeight()||this.vDomRowHeight,!(r>=S))break;this.vDomTop++,r-=S,l+=S,o.push(y),p++}for(let y of o){let S=y.getElement();S.parentNode&&S.parentNode.removeChild(S)}l&&(this.vDomTopPad+=l,this.tableElement.style.paddingTop=this.vDomTopPad+"px",this.vDomScrollPosTop+=this.vDomTop?l:l+this.vDomWindowBuffer)}_addBottomRow(s,r){for(var o=this.tableElement,l=[],p=0,y=this.vDomBottom+1,S=0;;){let N,J,I=s[y];if(!(I&&S<this.vDomMaxRenderChain))break;if(N=I.getHeight()||this.vDomRowHeight,J=I.initialized,!(r>=N))break;this.styleRow(I,y),o.appendChild(I.getElement()),(!I.initialized||!I.heightInitialized)&&l.push(I),I.initialize(),J||(N=I.getElement().offsetHeight,N>this.vDomWindowBuffer&&(this.vDomWindowBuffer=2*N)),r-=N,p+=N,this.vDomBottom++,y++,S++}for(let I of l)I.clearCellHeight();this._quickNormalizeRowHeight(l),p&&(this.vDomBottomPad-=p,(this.vDomBottomPad<0||y==s.length-1)&&(this.vDomBottomPad=0),o.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom+=p)}_removeBottomRow(s,r){for(var o=[],l=0,p=0;;){let S,y=s[this.vDomBottom];if(!(y&&p<this.vDomMaxRenderChain))break;if(S=y.getHeight()||this.vDomRowHeight,!(r>=S))break;this.vDomBottom--,r-=S,l+=S,o.push(y),p++}for(let y of o){let S=y.getElement();S.parentNode&&S.parentNode.removeChild(S)}l&&(this.vDomBottomPad+=l,this.vDomBottomPad<0&&(this.vDomBottomPad=0),this.tableElement.style.paddingBottom=this.vDomBottomPad+"px",this.vDomScrollPosBottom-=l)}_quickNormalizeRowHeight(s){for(let r of s)r.calcHeight();for(let r of s)r.setCellHeight()}}class lg extends tu{constructor(s){super(s),this.element=this.createHolderElement(),this.tableElement=this.createTableElement(),this.heightFixer=this.createTableElement(),this.firstRender=!1,this.renderMode="virtual",this.fixedHeight=!1,this.rows=[],this.activeRowsPipeline=[],this.activeRows=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.scrollTop=0,this.scrollLeft=0,this.rowNumColumn=!1,this.redrawBlock=!1,this.redrawBlockRestoreConfig=!1,this.redrawBlockRederInPosition=!1,this.dataPipeline=[],this.displayPipeline=[],this.renderer=null}createHolderElement(){var s=document.createElement("div");return s.classList.add("tabulator-tableholder"),s.setAttribute("tabindex",0),s.setAttribute("role","rowgroup"),s}createTableElement(){var s=document.createElement("div");return s.classList.add("tabulator-table"),s.setAttribute("role","rowgroup"),s}getElement(){return this.element}getTableElement(){return this.tableElement}getRowPosition(s,r){return r?this.activeRows.indexOf(s):this.rows.indexOf(s)}initialize(){this.initializeRenderer(),this.element.appendChild(this.tableElement),this.firstRender=!0,this.element.addEventListener("scroll",()=>{var s=this.element.scrollLeft,r=this.scrollLeft>s,o=this.element.scrollTop,l=this.scrollTop>o;this.scrollLeft!=s&&(this.scrollLeft=s,this.dispatch("scroll-horizontal",s,r),this.dispatchExternal("scrollHorizontal",s,r)),this.scrollTop!=o&&(this.scrollTop=o,this.renderer.scrollRows(o,l),this.dispatch("scroll-vertical",o,l),this.dispatchExternal("scrollVertical",o,l))})}findRow(s){return"object"!=typeof s?null!=s&&(this.rows.find(o=>o.data[this.table.options.index]==s)||!1):s instanceof $o?s:s instanceof cp?s._getSelf()||!1:"undefined"!=typeof HTMLElement&&s instanceof HTMLElement&&this.rows.find(o=>o.getElement()===s)||!1}getRowFromDataObject(s){return this.rows.find(o=>o.data===s)||!1}getRowFromPosition(s,r){return r?this.activeRows[s]:this.rows[s]}scrollToRow(s,r,o){return this.renderer.scrollToRowPosition(s,r,o)}setData(s,r,o){return new Promise((l,p)=>{r&&this.getDisplayRows().length?this.table.options.pagination?this._setDataActual(s,!0):this.reRenderInPosition(()=>{this._setDataActual(s)}):(this.table.options.autoColumns&&o&&this.table.initialized&&this.table.columnManager.generateColumnsFromRowData(s),this.resetScroll(),this._setDataActual(s)),l()})}_setDataActual(s,r){this.dispatchExternal("dataProcessing",s),this._wipeElements(),Array.isArray(s)?(this.dispatch("data-processing",s),s.forEach((o,l)=>{if(o&&"object"==typeof o){var p=new $o(o,this);this.rows.push(p)}else console.warn("Data Loading Warning - Invalid row data detected and ignored, expecting object but received:",o)}),this.refreshActiveData(!1,!1,r),this.dispatch("data-processed",s),this.dispatchExternal("dataProcessed",s)):console.error("Data Loading Error - Unable to process data due to invalid data type \nExpecting: array \nReceived: ",typeof s,"\nData:     ",s)}_wipeElements(){this.dispatch("rows-wipe"),this.rows.forEach(s=>{s.wipe()}),this.rows=[],this.activeRows=[],this.activeRowsPipeline=[],this.activeRowsCount=0,this.displayRows=[],this.displayRowsCount=0,this.adjustTableSize()}deleteRow(s,r){var o=this.rows.indexOf(s),l=this.activeRows.indexOf(s);l>-1&&this.activeRows.splice(l,1),o>-1&&this.rows.splice(o,1),this.setActiveRows(this.activeRows),this.displayRowIterator(p=>{var y=p.indexOf(s);y>-1&&p.splice(y,1)}),r||this.reRenderInPosition(),this.regenerateRowNumbers(),this.dispatchExternal("rowDeleted",s.getComponent()),this.displayRowsCount||this._showPlaceholder(),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.getData())}addRow(s,r,o,l){var p=this.addRowActual(s,r,o,l);return this.dispatch("row-added",p,s,r,o),p}addRows(s,r,o){var l=[];return new Promise((p,y)=>{r=this.findAddRowPos(r),Array.isArray(s)||(s=[s]),(void 0===o&&r||void 0!==o&&!r)&&s.reverse(),s.forEach((S,I)=>{var N=this.addRow(S,r,o,!0);l.push(N),this.dispatch("row-added",N,s,r,o)}),this.refreshActiveData(!1,!1,!0),this.regenerateRowNumbers(),l.length&&this._clearPlaceholder(),p(l)})}findAddRowPos(s){return void 0===s&&(s=this.table.options.addRowPos),"pos"===s&&(s=!0),"bottom"===s&&(s=!1),s}addRowActual(s,r,o,l){var I,N,p=s instanceof $o?s:new $o(s||{},this),y=this.findAddRowPos(r),S=-1;return o||(N=this.chain("row-adding-position",[p,y],null,{index:o,top:y}),o=N.index,y=N.top),void 0!==o&&(o=this.findRow(o)),(o=this.chain("row-adding-index",[p,o,y],null,o))&&(S=this.rows.indexOf(o)),o&&S>-1?(I=this.activeRows.indexOf(o),this.displayRowIterator(function(J){var pe=J.indexOf(o);pe>-1&&J.splice(y?pe:pe+1,0,p)}),I>-1&&this.activeRows.splice(y?I:I+1,0,p),this.rows.splice(y?S:S+1,0,p)):y?(this.displayRowIterator(function(J){J.unshift(p)}),this.activeRows.unshift(p),this.rows.unshift(p)):(this.displayRowIterator(function(J){J.push(p)}),this.activeRows.push(p),this.rows.push(p)),this.setActiveRows(this.activeRows),this.dispatchExternal("rowAdded",p.getComponent()),this.subscribedExternal("dataChanged")&&this.dispatchExternal("dataChanged",this.table.rowManager.getData()),l||this.reRenderInPosition(),p}moveRow(s,r,o){this.dispatch("row-move",s,r,o),this.moveRowActual(s,r,o),this.regenerateRowNumbers(),this.dispatch("row-moved",s,r,o),this.dispatchExternal("rowMoved",s.getComponent())}moveRowActual(s,r,o){this.moveRowInArray(this.rows,s,r,o),this.moveRowInArray(this.activeRows,s,r,o),this.displayRowIterator(l=>{this.moveRowInArray(l,s,r,o)}),this.dispatch("row-moving",s,r,o)}moveRowInArray(s,r,o,l){var p,y,I;if(r!==o&&((p=s.indexOf(r))>-1&&(s.splice(p,1),y=s.indexOf(o),s.splice(y>-1?l?y+1:y:p,0,r)),s===this.getDisplayRows())){I=y>p?y:p+1;for(let N=p<y?p:y;N<=I;N++)s[N]&&this.styleRow(s[N],N)}}clearData(){this.setData([])}getRowIndex(s){return this.findRowIndex(s,this.rows)}getDisplayRowIndex(s){var r=this.getDisplayRows().indexOf(s);return r>-1&&r}nextDisplayRow(s,r){var o=this.getDisplayRowIndex(s),l=!1;return!1!==o&&o<this.displayRowsCount-1&&(l=this.getDisplayRows()[o+1]),!l||l instanceof $o&&"row"==l.type?l:this.nextDisplayRow(l,r)}prevDisplayRow(s,r){var o=this.getDisplayRowIndex(s),l=!1;return o&&(l=this.getDisplayRows()[o-1]),!r||!l||l instanceof $o&&"row"==l.type?l:this.prevDisplayRow(l,r)}findRowIndex(s,r){var o;return!!((s=this.findRow(s))&&(o=r.indexOf(s),o>-1))&&o}getData(s,r){var o=[];return this.getRows(s).forEach(function(p){"row"==p.type&&o.push(p.getData(r||"data"))}),o}getComponents(s){var r=[];return this.getRows(s).forEach(function(l){r.push(l.getComponent())}),r}getDataCount(s){return this.getRows(s).length}scrollHorizontal(s){this.scrollLeft=s,this.element.scrollLeft=s,this.dispatch("scroll-horizontal",s)}registerDataPipelineHandler(s,r){void 0!==r?(this.dataPipeline.push({handler:s,priority:r}),this.dataPipeline.sort((o,l)=>o.priority-l.priority)):console.error("Data pipeline handlers must have a priority in order to be registered")}registerDisplayPipelineHandler(s,r){void 0!==r?(this.displayPipeline.push({handler:s,priority:r}),this.displayPipeline.sort((o,l)=>o.priority-l.priority)):console.error("Display pipeline handlers must have a priority in order to be registered")}refreshActiveData(s,r,o){var l=this.table,p="",y=0,S=["all","dataPipeline","display","displayPipeline","end"];if("function"==typeof s)if((y=this.dataPipeline.findIndex(I=>I.handler===s))>-1)p="dataPipeline",r&&(y==this.dataPipeline.length-1?p="display":y++);else{if(!((y=this.displayPipeline.findIndex(I=>I.handler===s))>-1))return void console.error("Unable to refresh data, invalid handler provided",s);p="displayPipeline",r&&(y==this.displayPipeline.length-1?p="end":y++)}else p=s||"all",y=0;if(this.redrawBlock)(!this.redrawBlockRestoreConfig||this.redrawBlockRestoreConfig&&(this.redrawBlockRestoreConfig.stage===p&&y<this.redrawBlockRestoreConfig.index||S.indexOf(p)<S.indexOf(this.redrawBlockRestoreConfig.stage)))&&(this.redrawBlockRestoreConfig={handler:s,skipStage:r,renderInPosition:o,stage:p,index:y});else{switch(this.dispatch("data-refeshing"),s||(this.activeRowsPipeline[0]=this.rows.slice(0)),p){case"all":case"dataPipeline":for(let I=y;I<this.dataPipeline.length;I++){let N=this.dataPipeline[I].handler(this.activeRowsPipeline[I].slice(0));this.activeRowsPipeline[I+1]=N||this.activeRowsPipeline[I].slice(0)}this.setActiveRows(this.activeRowsPipeline[this.dataPipeline.length]),this.regenerateRowNumbers();case"display":y=0,this.resetDisplayRows();case"displayPipeline":for(let I=y;I<this.displayPipeline.length;I++){let N=this.displayPipeline[I].handler((I?this.getDisplayRows(I-1):this.activeRows).slice(0),o);this.setDisplayRows(N||this.getDisplayRows(I-1).slice(0),I)}}Us.elVisible(this.element)&&(o?this.reRenderInPosition():(s||this.table.columnManager.renderer.renderColumns(),this.renderTable(),l.options.layoutColumnsOnNewData&&this.table.columnManager.redraw(!0))),this.dispatch("data-refeshed")}}regenerateRowNumbers(){this.rowNumColumn&&this.activeRows.forEach(s=>{var r=s.getCell(this.rowNumColumn);r&&r._generateContents()})}setActiveRows(s){this.activeRows=s,this.activeRowsCount=this.activeRows.length}resetDisplayRows(){this.displayRows=[],this.displayRows.push(this.activeRows.slice(0)),this.displayRowsCount=this.displayRows[0].length}getNextDisplayIndex(){return this.displayRows.length}setDisplayRows(s,r){var o=!0;return r&&void 0!==this.displayRows[r]?(this.displayRows[r]=s,o=!0):(this.displayRows.push(s),o=r=this.displayRows.length-1),r==this.displayRows.length-1&&(this.displayRowsCount=this.displayRows[this.displayRows.length-1].length),o}getDisplayRows(s){return void 0===s?this.displayRows.length?this.displayRows[this.displayRows.length-1]:[]:this.displayRows[s]||[]}getVisibleRows(s){return this.renderer.visibleRows(!s)}displayRowIterator(s){this.activeRowsPipeline.forEach(s),this.displayRows.forEach(s),this.displayRowsCount=this.displayRows[this.displayRows.length-1].length}getRows(s){var r;switch(s){case"active":r=this.activeRows;break;case"display":r=this.table.rowManager.getDisplayRows();break;case"visible":r=this.getVisibleRows(!0);break;default:r=this.chain("rows-retrieve",s,null,this.rows)||this.rows}return r}reRenderInPosition(s){this.redrawBlock?s?s():this.redrawBlockRederInPosition=!0:this.renderer.rerenderRows(s)}initializeRenderer(){var s;(s="string"==typeof this.table.options.renderVertical?{virtual:hf,basic:df}[this.table.options.renderVertical]:this.table.options.renderVertical)?(this.renderer=new s(this.table,this.element,this.tableElement),this.renderer.initialize(),this.fixedHeight=!(!this.table.element.clientHeight&&!this.table.options.height)):console.error("Unable to find matching renderer:",table.options.renderVertical)}getRenderMode(){return this.renderMode}renderTable(){this.dispatchExternal("renderStarted"),this.element.scrollTop=0,this._clearTable(),this.displayRowsCount?(this.renderer.renderRows(),this.firstRender&&(this.firstRender=!1,this.layoutRefresh())):this.renderEmptyScroll(),this.fixedHeight||this.adjustTableSize(),this.dispatch("table-layout"),this.displayRowsCount||this._showPlaceholder(),this.dispatchExternal("renderComplete")}renderEmptyScroll(){this.table.options.placeholder?this.tableElement.style.display="none":this.tableElement.style.minWidth=this.table.columnManager.getWidth()+"px"}_clearTable(){this._clearPlaceholder(),this.scrollTop=0,this.scrollLeft=0,this.renderer.clearRows()}_showPlaceholder(){this.table.options.placeholder&&(this.table.options.placeholder.setAttribute("tabulator-render-mode",this.renderMode),this.getElement().appendChild(this.table.options.placeholder),this.table.options.placeholder.style.width=this.table.columnManager.getWidth()+"px")}_clearPlaceholder(){this.table.options.placeholder&&this.table.options.placeholder.parentNode&&this.table.options.placeholder.parentNode.removeChild(this.table.options.placeholder)}styleRow(s,r){var o=s.getElement();r%2?(o.classList.add("tabulator-row-even"),o.classList.remove("tabulator-row-odd")):(o.classList.add("tabulator-row-odd"),o.classList.remove("tabulator-row-even"))}normalizeHeight(){this.activeRows.forEach(function(s){s.normalizeHeight()})}adjustTableSize(){var s=this.element.clientHeight;if("fill"===this.renderer.verticalFillMode){let r=Math.floor(this.table.columnManager.getElement().getBoundingClientRect().height+(this.table.footerManager&&this.table.footerManager.active&&!this.table.footerManager.external?this.table.footerManager.getElement().getBoundingClientRect().height:0));this.fixedHeight?(this.element.style.minHeight="calc(100% - "+r+"px)",this.element.style.height="calc(100% - "+r+"px)",this.element.style.maxHeight="calc(100% - "+r+"px)"):(this.element.style.height="",this.element.style.height=this.table.element.clientHeight-r+"px",this.element.scrollTop=this.scrollTop),this.renderer.resize(),!this.fixedHeight&&s!=this.element.clientHeight&&(this.subscribed("table-resize")?this.dispatch("table-resize"):this.redraw())}}reinitialize(){this.rows.forEach(function(s){s.reinitialize(!0)})}blockRedraw(){this.redrawBlock=!0,this.redrawBlockRestoreConfig=!1}restoreRedraw(){this.redrawBlock=!1,this.redrawBlockRestoreConfig?(this.refreshActiveData(this.redrawBlockRestoreConfig.handler,this.redrawBlockRestoreConfig.skipStage,this.redrawBlockRestoreConfig.renderInPosition),this.redrawBlockRestoreConfig=!1):this.redrawBlockRederInPosition&&this.reRenderInPosition(),this.redrawBlockRederInPosition=!1}redraw(s){var r=this.scrollLeft;this.adjustTableSize(),this.table.tableWidth=this.table.element.clientWidth,s?this.renderTable():(this.reRenderInPosition(),this.scrollHorizontal(r),this.displayRowsCount||this.table.options.placeholder&&this.getElement().appendChild(this.table.options.placeholder))}resetScroll(){if(this.element.scrollLeft=0,this.element.scrollTop=0,"ie"===this.table.browser){var s=document.createEvent("Event");s.initEvent("scroll",!1,!0),this.element.dispatchEvent(s)}else this.element.dispatchEvent(new Event("scroll"))}}class wp extends tu{constructor(s){super(s),this.active=!1,this.element=this.createElement(),this.external=!1,this.links=[],this.initializeElement()}initialize(){this.initializeElement()}createElement(){var s=document.createElement("div");return s.classList.add("tabulator-footer"),s}initializeElement(){this.table.options.footerElement&&("string"==typeof this.table.options.footerElement?"<"===this.table.options.footerElement[0]?this.element.innerHTML=this.table.options.footerElement:(this.external=!0,this.element=document.querySelector(this.table.options.footerElement)):this.element=this.table.options.footerElement)}getElement(){return this.element}append(s,r){this.activate(r),this.element.appendChild(s),this.table.rowManager.adjustTableSize()}prepend(s,r){this.activate(r),this.element.insertBefore(s,this.element.firstChild),this.table.rowManager.adjustTableSize()}remove(s){s.parentNode.removeChild(s),this.deactivate()}deactivate(s){(!this.element.firstChild||s)&&(this.external||this.element.parentNode.removeChild(this.element),this.active=!1)}activate(s){this.active||(this.active=!0,this.external||(this.table.element.appendChild(this.getElement()),this.table.element.style.display="")),s&&this.links.push(s)}redraw(){this.links.forEach(function(s){s.footerRedraw()})}}class cg extends tu{constructor(s){super(s),this.el=this.table.element,this.abortClasses=["tabulator-headers","tabulator-table"],this.previousTargets={},this.listeners=["click","dblclick","contextmenu","mouseenter","mouseleave","mouseover","mouseout","mousemove","touchstart","touchend"],this.componentMap={"tabulator-cell":"cell","tabulator-row":"row","tabulator-group":"group","tabulator-col":"column"},this.buildListenerMap(),this.bindSubscriptionWatchers()}buildListenerMap(){var s={};this.listeners.forEach(r=>{s[r]={handler:null,components:[]}}),this.listeners=s}bindSubscriptionWatchers(){var s=Object.keys(this.listeners),r=Object.values(this.componentMap);for(let o of r)for(let l of s)this.subscriptionChange(o+"-"+l,this.subscriptionChanged.bind(this,o,l))}subscriptionChanged(s,r,o){var l=this.listeners[r].components,p=l.indexOf(s),y=!1;o?-1===p&&(l.push(s),y=!0):this.subscribed(s+"-"+r)||p>-1&&(l.splice(p,1),y=!0),y&&this.updateEventListeners()}updateEventListeners(){for(let s in this.listeners){let r=this.listeners[s];r.components.length?r.handler||(r.handler=this.track.bind(this,s),this.el.addEventListener(s,r.handler)):r.handler&&(this.el.removeEventListener(s,r.handler),r.handler=null)}}track(s,r){var o=r.composedPath&&r.composedPath()||r.path,l=this.findTargets(o);l=this.bindComponents(s,l),this.triggerEvents(s,r,l)}findTargets(s){var r={};let o=Object.keys(this.componentMap);for(let l of s){let p=l.classList?[...l.classList]:[];if(p.filter(I=>this.abortClasses.includes(I)).length)break;let S=p.filter(I=>o.includes(I));for(let I of S)r[this.componentMap[I]]=l}return r.group&&r.group===r.row&&delete r.row,r}bindComponents(s,r){var o=Object.keys(r).reverse(),l=this.listeners[s],p={};for(let y of o){let S,I=r[y],N=this.previousTargets[y];if(N&&N.target===I)S=N.component;else switch(y){case"row":case"group":(l.components.includes("row")||l.components.includes("cell"))&&(S=this.table.rowManager.getVisibleRows().find(pe=>pe.getElement()===I));break;case"column":l.components.includes("column")&&(S=this.table.columnManager.findColumn(I));break;case"cell":l.components.includes("cell")&&(S=r.row.findCell(I))}S&&(r[y]=S,p[y]={target:I,component:S})}return this.previousTargets=p,r}triggerEvents(s,r,o){var l=this.listeners[s];for(let p in o)o[p]&&l.components.includes(p)&&this.dispatch(p+"-"+s,r,o[p])}}class ug{constructor(s){this.table=s,this.bindings={}}bind(s,r,o){this.bindings[s]||(this.bindings[s]={}),this.bindings[s][r]?console.warn("Unable to bind component handler, a matching function name is already bound",s,r,hanlder):this.bindings[s][r]=o}handle(s,r,o){if(this.bindings[s]&&this.bindings[s][o])return this.bindings[s][o].bind(null,r);"then"!==o&&"string"==typeof o&&!o.startsWith("_")&&console.error("The "+s+" component does not have a "+o+" function, have you checked that you have the correct Tabulator module installed?")}}class pf extends tu{constructor(s){super(s),this.loaderElement=this.createLoaderElement(),this.msgElement=this.createMsgElement(),this.loadingElement=null,this.errorElement=null,this.requestOrder=0,this.loading=!1}initialize(){var s;this.loaderElement.appendChild(this.msgElement),this.table.options.dataLoaderLoading&&("string"==typeof this.table.options.dataLoaderLoading?((s=document.createElement("template")).innerHTML=this.table.options.dataLoaderLoading.trim(),this.loadingElement=s.firstElementChild):this.loadingElement=this.table.options.dataLoaderLoading),this.table.options.dataLoaderError&&("string"==typeof this.table.options.dataLoaderError?((s=document.createElement("template")).innerHTML=this.table.options.dataLoaderError.trim(),this.errorElement=s.firstElementChild):this.errorElement=this.table.options.dataLoaderError)}createLoaderElement(){var s=document.createElement("div");return s.classList.add("tabulator-loader"),s}createMsgElement(){var s=document.createElement("div");return s.classList.add("tabulator-loader-msg"),s.setAttribute("role","alert"),s}load(s,r,o,l,p){var y=++this.requestOrder;return this.dispatchExternal("dataLoading",s),s&&(0==s.indexOf("{")||0==s.indexOf("["))&&(s=JSON.parse(s)),this.confirm("data-loading",s,r,o,p)?(this.loading=!0,p||this.showLoader(),r=this.chain("data-params",[s,o,p],r||{},{}),r=this.mapParams(r,this.table.options.dataSendParams),this.chain("data-load",[s,r,o,p],Promise.resolve([])).then(N=>{!Array.isArray(N)&&"object"==typeof N&&(N=this.mapParams(N,this.objectInvert(this.table.options.dataReceiveParams)));var J=this.chain("data-loaded",N,null,N);y==this.requestOrder?(this.hideLoader(),!1!==J&&(this.dispatchExternal("dataLoaded",J),this.table.rowManager.setData(J,l,!l))):console.warn("Data Load Response Blocked - An active data load request was blocked by an attempt to change table data while the request was being made")}).catch(N=>{console.error("Data Load Error: ",N),this.dispatchExternal("dataLoadError",N),p||this.showError(),setTimeout(()=>{this.hideLoader()},3e3)}).finally(()=>{this.loading=!1})):(this.dispatchExternal("dataLoaded",s),s||(s=[]),this.table.rowManager.setData(s,l,!l),Promise.resolve())}mapParams(s,r){var o={};for(let l in s)o[r.hasOwnProperty(l)?r[l]:l]=s[l];return o}objectInvert(s){var r={};for(let o in s)r[s[o]]=o;return r}blockActiveLoad(){this.requestOrder++}showLoader(){if("function"==typeof this.table.options.dataLoader?this.table.options.dataLoader():this.table.options.dataLoader){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-error"),this.msgElement.classList.add("tabulator-loading"),this.loadingElement?this.msgElement.appendChild(this.loadingElement):this.msgElement.innerHTML=this.langText("data|loading"),this.table.element.appendChild(this.loaderElement)}}showError(){for(this.hideLoader();this.msgElement.firstChild;)this.msgElement.removeChild(this.msgElement.firstChild);this.msgElement.classList.remove("tabulator-loading"),this.msgElement.classList.add("tabulator-error"),this.errorElement?this.msgElement.appendChild(this.errorElement):this.msgElement.innerHTML=this.langText("data|error"),this.table.element.appendChild(this.loaderElement)}hideLoader(){this.loaderElement.parentNode&&this.loaderElement.parentNode.removeChild(this.loaderElement)}}class oh{constructor(s,r,o){this.table=s,this.events={},this.optionsList=r||{},this.subscriptionNotifiers={},this.dispatch=o?this._debugDispatch.bind(this):this._dispatch.bind(this),this.debug=o}subscriptionChange(s,r){this.subscriptionNotifiers[s]||(this.subscriptionNotifiers[s]=[]),this.subscriptionNotifiers[s].push(r),this.subscribed(s)&&this._notifiySubscriptionChange(s,!0)}subscribe(s,r){this.events[s]||(this.events[s]=[]),this.events[s].push(r),this._notifiySubscriptionChange(s,!0)}unsubscribe(s,r){var o;if(this.events[s]){if(r){if(!((o=this.events[s].findIndex(l=>l===r))>-1))return void console.warn("Cannot remove event, no matching event found:",s,r);this.events[s].splice(o,1)}else delete this.events[s];this._notifiySubscriptionChange(s,!1)}else console.warn("Cannot remove event, no events set on:",s)}subscribed(s){return this.events[s]&&this.events[s].length}_notifiySubscriptionChange(s,r){var o=this.subscriptionNotifiers[s];o&&o.forEach(l=>{l(r)})}_dispatch(){var o,s=Array.from(arguments),r=s.shift();return this.events[r]&&this.events[r].forEach((l,p)=>{let y=l.apply(this.table,s);p||(o=y)}),o}_debugDispatch(){var s=Array.from(arguments),r=s[0];return s[0]="ExternalEvent:"+s[0],(!0===this.debug||this.debug.includes(r))&&console.log(...s),this._dispatch(...arguments)}}class ff{constructor(s){this.events={},this.subscriptionNotifiers={},this.dispatch=s?this._debugDispatch.bind(this):this._dispatch.bind(this),this.chain=s?this._debugChain.bind(this):this._chain.bind(this),this.confirm=s?this._debugConfirm.bind(this):this._confirm.bind(this),this.debug=s}subscriptionChange(s,r){this.subscriptionNotifiers[s]||(this.subscriptionNotifiers[s]=[]),this.subscriptionNotifiers[s].push(r),this.subscribed(s)&&this._notifiySubscriptionChange(s,!0)}subscribe(s,r,o=1e4){this.events[s]||(this.events[s]=[]),this.events[s].push({callback:r,priority:o}),this.events[s].sort((l,p)=>l.priority-p.priority),this._notifiySubscriptionChange(s,!0)}unsubscribe(s,r){var o;if(this.events[s]){if(r){if(!((o=this.events[s].findIndex(l=>l.callback===r))>-1))return void console.warn("Cannot remove event, no matching event found:",s,r);this.events[s].splice(o,1)}this._notifiySubscriptionChange(s,!1)}else console.warn("Cannot remove event, no events set on:",s)}subscribed(s){return this.events[s]&&this.events[s].length}_chain(s,r,o,l){var p=o;return Array.isArray(r)||(r=[r]),this.subscribed(s)?(this.events[s].forEach((y,S)=>{p=y.callback.apply(this,r.concat([p]))}),p):"function"==typeof l?l():l}_confirm(s,r){var o=!1;return Array.isArray(r)||(r=[r]),this.subscribed(s)&&this.events[s].forEach((l,p)=>{l.callback.apply(this,r)&&(o=!0)}),o}_notifiySubscriptionChange(s,r){var o=this.subscriptionNotifiers[s];o&&o.forEach(l=>{l(r)})}_dispatch(){var s=Array.from(arguments),r=s.shift();this.events[r]&&this.events[r].forEach(o=>{o.callback.apply(this,s)})}_debugDispatch(){var s=Array.from(arguments),r=s[0];return s[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...s),this._dispatch(...arguments)}_debugChain(){var s=Array.from(arguments),r=s[0];return s[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...s),this._chain(...arguments)}_debugConfirm(){var s=Array.from(arguments),r=s[0];return s[0]="InternalEvent:"+r,(!0===this.debug||this.debug.includes(r))&&console.log(...s),this._confirm(...arguments)}}let jh=(()=>{class g{static register(r){g.tables.push(r)}static deregister(r){var o=g.tables.indexOf(r);o>-1&&g.tables.splice(o,1)}static lookupTable(r,o){var p,y,l=[];if("string"==typeof r){if((p=document.querySelectorAll(r)).length)for(var S=0;S<p.length;S++)(y=g.matchElement(p[S]))&&l.push(y)}else"undefined"!=typeof HTMLElement&&r instanceof HTMLElement||r instanceof bd?(y=g.matchElement(r))&&l.push(y):Array.isArray(r)?r.forEach(function(I){l=l.concat(g.lookupTable(I))}):o||console.warn("Table Connection Error - Invalid Selector",r);return l}static matchElement(r){return g.tables.find(function(o){return r instanceof bd?o===r:o.element===r})}}return g.tables=[],g})();function zd(g){g.forEach(function(s){s.reinitializeWidth()}),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()}var fg={fitData:function dg(g){this.table.columnManager.renderer.reinitializeColumnWidths(g),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitDataFill:zd,fitDataTable:zd,fitDataStretch:function hg(g){var s=0,r=this.table.rowManager.element.clientWidth,o=0,l=!1;g.forEach((p,y)=>{p.widthFixed||p.reinitializeWidth(),(this.table.options.responsiveLayout?p.modules.responsive.visible:p.visible)&&(l=p),p.visible&&(s+=p.getWidth())}),l?(o=r-s+l.getWidth(),this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&(l.setWidth(0),this.table.modules.responsiveLayout.update()),o>0?l.setWidth(o):l.reinitializeWidth()):this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update()},fitColumns:function pg(g){var p,N,s=this.table.element.clientWidth,r=0,o=0,l=0,y=[],S=[],I=0,Fe=0;function J(Qe){return"string"==typeof Qe?Qe.indexOf("%")>-1?s/100*parseInt(Qe):parseInt(Qe):Qe}function pe(Qe,Ct,Lt,Gt){var Yt=[],Ci=0,on=0,Ki=0,Vi=l,vn=0,yn=0,Rn=[];function Vn(qi){return Lt*(qi.column.definition.widthGrow||1)}function Tn(qi){return J(qi.width)-Lt*(qi.column.definition.widthShrink||0)}return Qe.forEach(function(qi,Wn){var pr=Gt?Tn(qi):Vn(qi);qi.column.minWidth>=pr?Yt.push(qi):qi.column.maxWidth&&qi.column.maxWidth<pr?(qi.width=qi.column.maxWidth,Ct-=qi.column.maxWidth,(Vi-=Gt?qi.column.definition.widthShrink||1:qi.column.definition.widthGrow||1)&&(Lt=Math.floor(Ct/Vi))):(Rn.push(qi),yn+=Gt?qi.column.definition.widthShrink||1:qi.column.definition.widthGrow||1)}),Yt.length?(Yt.forEach(function(qi){Ci+=Gt?qi.width-qi.column.minWidth:qi.column.minWidth,qi.width=qi.column.minWidth}),vn=(on=Ct-Ci)-(Ki=yn?Math.floor(on/yn):on)*yn,vn+=pe(Rn,on,Ki,Gt)):(vn=yn?Ct-Math.floor(Ct/yn)*yn:Ct,Rn.forEach(function(qi){qi.width=Gt?Tn(qi):Vn(qi)})),vn}this.table.options.responsiveLayout&&this.table.modExists("responsiveLayout",!0)&&this.table.modules.responsiveLayout.update(),this.table.rowManager.element.scrollHeight>this.table.rowManager.element.clientHeight&&(s-=this.table.rowManager.element.offsetWidth-this.table.rowManager.element.clientWidth),g.forEach(function(Qe){var Ct,Lt,Gt;Qe.visible&&(Ct=Qe.definition.width,Lt=parseInt(Qe.minWidth),Ct?(Gt=J(Ct),r+=Gt>Lt?Gt:Lt,Qe.definition.widthShrink&&(S.push({column:Qe,width:Gt>Lt?Gt:Lt}),I+=Qe.definition.widthShrink)):(y.push({column:Qe,width:0}),l+=Qe.definition.widthGrow||1))}),o=s-r,p=Math.floor(o/l),Fe=pe(y,o,p,!1),y.length&&Fe>0&&(y[y.length-1].width+=+Fe),y.forEach(function(Qe){o-=Qe.width}),(N=Math.abs(Fe)+o)>0&&I&&(Fe=pe(S,N,Math.floor(N/I),!0)),S.length&&(S[S.length-1].width-=Fe),y.forEach(function(Qe){Qe.column.setWidth(Qe.width)}),S.forEach(function(Qe){Qe.column.setWidth(Qe.width)})}},iu={default:{groups:{item:"item",items:"items"},columns:{},data:{loading:"Loading",error:"Error"},pagination:{page_size:"Page Size",page_title:"Show Page",first:"First",first_title:"First Page",last:"Last",last_title:"Last Page",prev:"Prev",prev_title:"Prev Page",next:"Next",next_title:"Next Page",all:"All"},headerFilters:{default:"filter column...",columns:{}}}},mf=Object.freeze({__proto__:null,LayoutModule:(()=>{class g extends mo{constructor(r){super(r,"layout"),this.mode=null,this.registerTableOption("layout","fitData"),this.registerTableOption("layoutColumnsOnNewData",!1),this.registerColumnOption("widthGrow"),this.registerColumnOption("widthShrink")}initialize(){var r=this.table.options.layout;g.modes[r]?this.mode=r:(console.warn("Layout Error - invalid mode set, defaulting to 'fitData' : "+r),this.mode="fitData"),this.table.element.setAttribute("tabulator-layout",this.mode)}getMode(){return this.mode}layout(){g.modes[this.mode].call(this,this.table.columnManager.columnsByIndex),this.dispatch("layout-refreshed")}}return g.moduleName="layout",g.modes=fg,g})(),LocalizeModule:(()=>{class g extends mo{constructor(r){super(r),this.locale="default",this.lang=!1,this.bindings={},this.langList={},this.registerTableOption("locale",!1),this.registerTableOption("langs",{})}initialize(){this.langList=Us.deepClone(g.langs),!1!==this.table.options.columnDefaults.headerFilterPlaceholder&&this.setHeaderFilterPlaceholder(this.table.options.columnDefaults.headerFilterPlaceholder);for(let r in this.table.options.langs)this.installLang(r,this.table.options.langs[r]);this.setLocale(this.table.options.locale),this.registerTableFunction("setLocale",this.setLocale.bind(this)),this.registerTableFunction("getLocale",this.getLocale.bind(this)),this.registerTableFunction("getLang",this.getLang.bind(this))}setHeaderFilterPlaceholder(r){this.langList.default.headerFilters.default=r}setHeaderFilterColumnPlaceholder(r,o){this.langList.default.headerFilters.columns[r]=o,this.lang&&!this.lang.headerFilters.columns[r]&&(this.lang.headerFilters.columns[r]=o)}installLang(r,o){this.langList[r]?this._setLangProp(this.langList[r],o):this.langList[r]=o}_setLangProp(r,o){for(let l in o)r[l]&&"object"==typeof r[l]?this._setLangProp(r[l],o[l]):r[l]=o[l]}setLocale(r){if(!0===(r=r||"default")&&navigator.language&&(r=navigator.language.toLowerCase()),r&&!this.langList[r]){let l=r.split("-")[0];this.langList[l]?(console.warn("Localization Error - Exact matching locale not found, using closest match: ",r,l),r=l):(console.warn("Localization Error - Matching locale not found, using default: ",r),r="default")}this.locale=r,this.lang=Us.deepClone(this.langList.default||{}),"default"!=r&&function o(l,p){for(var y in l)"object"==typeof l[y]?(p[y]||(p[y]={}),o(l[y],p[y])):p[y]=l[y]}(this.langList[r],this.lang),this.dispatchExternal("localized",this.locale,this.lang),this._executeBindings()}getLocale(r){return this.locale}getLang(r){return r?this.langList[r]:this.lang}getText(l,o){var p=(l=o?l+"|"+o:l).split("|");return this._getLangElement(p,this.locale)||""}_getLangElement(r,o){var l=this.lang;return r.forEach(function(p){var y;l&&(l=void 0!==(y=l[p])&&y)}),l}bind(r,o){this.bindings[r]||(this.bindings[r]=[]),this.bindings[r].push(o),o(this.getText(r),this.lang)}_executeBindings(){for(let r in this.bindings)this.bindings[r].forEach(o=>{o(this.getText(r),this.lang)})}}return g.moduleName="localize",g.langs=iu,g})(),CommsModule:(()=>{class g extends mo{constructor(r){super(r)}initialize(){this.registerTableFunction("tableComms",this.receive.bind(this))}getConnections(r){var o=[];return jh.lookupTable(r).forEach(p=>{this.table!==p&&o.push(p)}),o}send(r,o,l,p){var y=this.getConnections(r);y.forEach(S=>{S.tableComms(this.table.element,o,l,p)}),!y.length&&r&&console.warn("Table Connection Error - No tables matching selector found",r)}receive(r,o,l,p){if(this.table.modExists(o))return this.table.modules[o].commsReceived(r,l,p);console.warn("Inter-table Comms Error - no such module:",o)}}return g.moduleName="comms",g})()});class Sp{constructor(s,r){this.bindStaticFuctionality(s),this.bindModules(s,mf,!0),r&&this.bindModules(s,r)}bindStaticFuctionality(s){s.moduleBindings={},s.extendModule=function(r,o,l){if(s.moduleBindings[r]){var p=s.moduleBindings[r][o];if(p)if("object"==typeof l)for(let y in l)p[y]=l[y];else console.warn("Module Error - Invalid value type, it must be an object");else console.warn("Module Error - property does not exist:",o)}else console.warn("Module Error - module does not exist:",r)},s.registerModule=function(r){Array.isArray(r)||(r=[r]),r.forEach(o=>{s.registerModuleBinding(o)})},s.registerModuleBinding=function(r){s.moduleBindings[r.moduleName]=r},s.findTable=function(r){var o=jh.lookupTable(r,!0);return!(Array.isArray(o)&&!o.length)&&o},s.prototype.bindModules=function(){for(var r in this.modules={},s.moduleBindings){let o=s.moduleBindings[r];this.modules[r]=new o(this),o.prototype.moduleCore?this.modulesCore[r]=this.modules[r]:this.modulesRegular[r]=this.modules[r]}}}bindModules(s,r,o){var l=Object.values(r);o&&l.forEach(p=>{p.prototype.moduleCore=!0}),s.registerModule(l)}}let bd=(()=>{class g{constructor(r,o){this.options={},this.columnManager=null,this.rowManager=null,this.footerManager=null,this.vdomHoz=null,this.externalEvents=null,this.eventBus=null,this.interactionMonitor=!1,this.browser="",this.browserSlow=!1,this.browserMobile=!1,this.rtl=!1,this.originalElement=null,this.componentFunctionBinder=new ug(this),this.dataLoader=!1,this.modules={},this.modulesCore={},this.modulesRegular={},this.optionsList=new Wh(this,"table constructor"),this.initialized=!1,this.initializeElement(r)&&(this.initialzeCoreSystems(o),setTimeout(()=>{this._create()})),jh.register(this)}initializeElement(r){return"undefined"!=typeof HTMLElement&&r instanceof HTMLElement?(this.element=r,!0):"string"==typeof r?(this.element=document.querySelector(r),!!this.element||(console.error("Tabulator Creation Error - no element found matching selector: ",r),!1)):(console.error("Tabulator Creation Error - Invalid element provided:",r),!1)}initialzeCoreSystems(r){this.columnManager=new uf(this),this.rowManager=new lg(this),this.footerManager=new wp(this),this.dataLoader=new pf(this),this.bindModules(),this.options=this.optionsList.generate(g.defaultOptions,r),this._clearObjectPointers(),this._mapDepricatedFunctionality(),this.externalEvents=new oh(this,this.options,this.options.debugEventsExternal),this.eventBus=new ff(this.options.debugEventsInternal),this.interactionMonitor=new cg(this),this.dataLoader.initialize(),this.columnManager.initialize(),this.rowManager.initialize(),this.footerManager.initialize()}_mapDepricatedFunctionality(){}_clearSelection(){this.element.classList.add("tabulator-block-select"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty(),this.element.classList.remove("tabulator-block-select")}_create(){this.externalEvents.dispatch("tableBuilding"),this.eventBus.dispatch("table-building"),this._rtlCheck(),this._buildElement(),this._initializeTable(),this._loadInitialData(),this.initialized=!0,this.externalEvents.dispatch("tableBuilt")}_rtlCheck(){var r=window.getComputedStyle(this.element);switch(this.options.textDirection){case"auto":if("rtl"!==r.direction)break;case"rtl":this.element.classList.add("tabulator-rtl"),this.rtl=!0;break;case"ltr":this.element.classList.add("tabulator-ltr");default:this.rtl=!1}}_clearObjectPointers(){this.options.columns=this.options.columns.slice(0),this.options.data&&!this.options.reactiveData&&(this.options.data=this.options.data.slice(0))}_buildElement(){var l,r=this.element,o=this.options;if("TABLE"===r.tagName){this.originalElement=this.element,l=document.createElement("div");var p=r.attributes;for(var y in p)"object"==typeof p[y]&&l.setAttribute(p[y].name,p[y].value);r.parentNode.replaceChild(l,r),this.element=r=l}for(r.classList.add("tabulator"),r.setAttribute("role","grid");r.firstChild;)r.removeChild(r.firstChild);o.height&&(o.height=isNaN(o.height)?o.height:o.height+"px",r.style.height=o.height),!1!==o.minHeight&&(o.minHeight=isNaN(o.minHeight)?o.minHeight:o.minHeight+"px",r.style.minHeight=o.minHeight),!1!==o.maxHeight&&(o.maxHeight=isNaN(o.maxHeight)?o.maxHeight:o.maxHeight+"px",r.style.maxHeight=o.maxHeight)}_initializeTable(){var r=this.element,o=this.options;this.columnManager.initialize(),this.rowManager.initialize(),this._detectBrowser();for(let y in this.modulesCore)this.modulesCore[y].initialize();if("string"==typeof o.placeholder){var l=document.createElement("div");l.classList.add("tabulator-placeholder");var p=document.createElement("span");p.innerHTML=o.placeholder,l.appendChild(p),o.placeholder=l}r.appendChild(this.columnManager.getElement()),r.appendChild(this.rowManager.getElement()),o.footerElement&&this.footerManager.activate(),o.autoColumns&&o.data&&this.columnManager.generateColumnsFromRowData(this.options.data);for(let y in this.modulesRegular)this.modulesRegular[y].initialize();this.columnManager.setColumns(o.columns),this.eventBus.dispatch("table-built")}_loadInitialData(){this.dataLoader.load(this.options.data)}destroy(){var r=this.element;for(jh.deregister(this),this.eventBus.dispatch("table-destroy"),this.rowManager.rows.forEach(function(o){o.wipe()}),this.rowManager.rows=[],this.rowManager.activeRows=[],this.rowManager.displayRows=[];r.firstChild;)r.removeChild(r.firstChild);r.classList.remove("tabulator")}_detectBrowser(){var r=navigator.userAgent||navigator.vendor||window.opera;r.indexOf("Trident")>-1?(this.browser="ie",this.browserSlow=!0):r.indexOf("Edge")>-1?(this.browser="edge",this.browserSlow=!0):r.indexOf("Firefox")>-1?(this.browser="firefox",this.browserSlow=!1):(this.browser="other",this.browserSlow=!1),this.browserMobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(r.substr(0,4))}blockRedraw(){return this.rowManager.blockRedraw()}restoreRedraw(){return this.rowManager.restoreRedraw()}setDataFromLocalFile(r){return new Promise((o,l)=>{var p=document.createElement("input");p.type="file",p.accept=r||".json,application/json",p.addEventListener("change",y=>{var N,S=p.files[0],I=new FileReader;I.readAsText(S),I.onload=J=>{try{N=JSON.parse(I.result)}catch(pe){return console.warn("File Load Error - File contents is invalid JSON",pe),void l(pe)}this.setData(N).then(pe=>{o(pe)}).catch(pe=>{o(pe)})},I.onerror=J=>{console.warn("File Load Error - Unable to read file"),l()}}),p.click()})}setData(r,o,l){if(this.initialized)return this.dataLoader.load(r,o,l,!1);console.warn("setData failed - table not yet initialized. To set initial data please use the 'data' property in the table constructor.")}clearData(){this.dataLoader.blockActiveLoad(),this.rowManager.clearData()}getData(r){return this.rowManager.getData(r)}getDataCount(r){return this.rowManager.getDataCount(r)}replaceData(r,o,l){if(this.initialized)return this.dataLoader.load(r,o,l,!0,!0);console.warn("replaceData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateData(r){var o=0;if(this.initialized)return new Promise((l,p)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?r.forEach(y=>{var S=this.rowManager.findRow(y[this.options.index]);S&&(o++,S.updateData(y).then(()=>{--o||l()}))}):(console.warn("Update Error - No data provided"),p("Update Error - No data provided"))});console.warn("updateData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}addData(r,o,l){if(this.initialized)return new Promise((p,y)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?this.rowManager.addRows(r,o,l).then(S=>{var I=[];S.forEach(function(N){I.push(N.getComponent())}),p(I)}):(console.warn("Update Error - No data provided"),y("Update Error - No data provided"))});console.warn("addData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddData(r){var o=[],l=0;if(this.initialized)return new Promise((p,y)=>{this.dataLoader.blockActiveLoad(),"string"==typeof r&&(r=JSON.parse(r)),r?r.forEach(S=>{var I=this.rowManager.findRow(S[this.options.index]);l++,I?I.updateData(S).then(()=>{l--,o.push(I.getComponent()),l||p(o)}):this.rowManager.addRows(S).then(N=>{l--,o.push(N[0].getComponent()),l||p(o)})}):(console.warn("Update Error - No data provided"),y("Update Error - No data provided"))});console.warn("updateOrAddData failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRow(r){var o=this.rowManager.findRow(r);return o?o.getComponent():(console.warn("Find Error - No matching row found:",r),!1)}getRowFromPosition(r,o){var l=this.rowManager.getRowFromPosition(r,o);return l?l.getComponent():(console.warn("Find Error - No matching row found:",r),!1)}deleteRow(r){var o=[];Array.isArray(r)||(r=[r]);for(let l of r){let p=this.rowManager.findRow(l,!0);if(!p)return console.error("Delete Error - No matching row found:",l),Promise.reject("Delete Error - No matching row found");o.push(p)}return o.sort((l,p)=>this.rowManager.rows.indexOf(l)>this.rowManager.rows.indexOf(p)?1:-1),o.forEach(l=>{l.delete()}),this.rowManager.reRenderInPosition(),Promise.resolve()}addRow(r,o,l){if(this.initialized)return"string"==typeof r&&(r=JSON.parse(r)),this.rowManager.addRows(r,o,l).then(p=>p[0].getComponent());console.warn("addRow failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}updateOrAddRow(r,o){var l=this.rowManager.findRow(r);return"string"==typeof o&&(o=JSON.parse(o)),l?l.updateData(o).then(()=>l.getComponent()):this.rowManager.addRows(o).then(p=>p[0].getComponent())}updateRow(r,o){var l=this.rowManager.findRow(r);return"string"==typeof o&&(o=JSON.parse(o)),l?l.updateData(o).then(()=>{resolve(l.getComponent())}):(console.warn("Update Error - No matching row found:",r),Promise.reject("Update Error - No matching row found"))}scrollToRow(r,o,l){var p=this.rowManager.findRow(r);return p?this.rowManager.scrollToRow(p,o,l):(console.warn("Scroll Error - No matching row found:",r),Promise.reject("Scroll Error - No matching row found"))}moveRow(r,o,l){var p=this.rowManager.findRow(r);p?p.moveToRow(o,l):console.warn("Move Error - No matching row found:",r)}getRows(r){if(this.initialized)return this.rowManager.getComponents(r);console.warn("getRows failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}getRowPosition(r,o){var l=this.rowManager.findRow(r);return l?this.rowManager.getRowPosition(l,o):(console.warn("Position Error - No matching row found:",r),!1)}setColumns(r){this.initialized?this.columnManager.setColumns(r):console.warn("setColumns failed - table not yet initialized. To set initial data please use the 'columns' property in the table constructor.")}getColumns(r){return this.columnManager.getComponents(r)}getColumn(r){var o=this.columnManager.findColumn(r);return o?o.getComponent():(console.warn("Find Error - No matching column found:",r),!1)}getColumnDefinitions(){return this.columnManager.getDefinitionTree()}showColumn(r){var o=this.columnManager.findColumn(r);if(!o)return console.warn("Column Show Error - No matching column found:",r),!1;o.show()}hideColumn(r){var o=this.columnManager.findColumn(r);if(!o)return console.warn("Column Hide Error - No matching column found:",r),!1;o.hide()}toggleColumn(r){var o=this.columnManager.findColumn(r);if(!o)return console.warn("Column Visibility Toggle Error - No matching column found:",r),!1;o.visible?o.hide():o.show()}addColumn(r,o,l){var p=this.columnManager.findColumn(l);return this.columnManager.addColumn(r,o,p).then(y=>y.getComponent())}deleteColumn(r){var o=this.columnManager.findColumn(r);return o?o.delete():(console.warn("Column Delete Error - No matching column found:",r),Promise.reject())}updateColumnDefinition(r,o){var l=this.columnManager.findColumn(r);return l?l.updateDefinition(o):(console.warn("Column Update Error - No matching column found:",r),Promise.reject())}moveColumn(r,o,l){var p=this.columnManager.findColumn(r),y=this.columnManager.findColumn(o);p?y?this.columnManager.moveColumn(p,y,l):console.warn("Move Error - No matching column found:",y):console.warn("Move Error - No matching column found:",r)}scrollToColumn(r,o,l){return new Promise((p,y)=>{var S=this.columnManager.findColumn(r);return S?this.columnManager.scrollToColumn(S,o,l):(console.warn("Scroll Error - No matching column found:",r),Promise.reject("Scroll Error - No matching column found"))})}redraw(r){this.initialized?(this.columnManager.redraw(r),this.rowManager.redraw(r)):console.warn("redraw failed - table not yet initialized. Please wait for the `tableBuilt` event before calling this function.")}setHeight(r){this.options.height=isNaN(r)?r:r+"px",this.element.style.height=this.options.height,this.rowManager.initializeRenderer(),this.rowManager.redraw()}on(r,o){this.externalEvents.subscribe(r,o)}off(r,o){this.externalEvents.unsubscribe(r,o)}dispatchEvent(){Array.from(arguments).shift(),this.externalEvents.dispatch(...arguments)}modExists(r,o){return!!this.modules[r]||(o&&console.error("Tabulator Module Not Installed: "+r),!1)}module(r){var o=this.modules[r];return o||console.error("Tabulator module not installed: "+r),o}}return g.defaultOptions=cf,g})();new Sp(bd),new Sp(class _g extends bd{},Cp);let vg=(()=>{class g{constructor(){this.a=null,this.b=null,this.dataObject=[],this.objectsForGrid=[],this.stringsForGrid=[],this.hotInstance=null,this.data=[]}get hot(){return null!=this.hotInstance?this.hotInstance:null}initGrid(r){bd.registerModule([$p,Hd,Nh,tf]),this.hotInstance=new bd(r,{columns:[{title:"Step",field:"id"}],layout:"fitColumns",clipboard:"copy",footerElement:"<div>\n        \x3c!-- <a href=\"javascript:{var event = new Event('TabCopy'); window.dispatchEvent(event);}\">Copy Clipboard</a>\n        &nbsp;&nbsp;&nbsp;&nbsp;\n        <a href=\"javascript:{var event = new Event('TabDownload'); window.dispatchEvent(event);}\">CSV</a>\n        --\x3e\n        \n    </div>",placeholder:"please press execute button"})}AddStringToGrid(r){if(r.startsWith("{")&&r.endsWith("}"))try{var o=JSON.parse(r);return void this.objectsForGrid.push(o)}catch(y){}if(r.startsWith("[")&&r.endsWith("]"))try{for(var l=JSON.parse(r),p=0;p<l.length;p++)this.objectsForGrid.push(l[p]);return}catch(y){}this.stringsForGrid.push(r)}AddData(r){this.data.push(r)}AddDataToGrid(r){return"string"==typeof r?(this.AddStringToGrid(null==r?void 0:r.toString()),void this.dataObject.push([null==r?void 0:r.toString()])):"object"==typeof r?(console.log("adding object to grid"),this.AddStringToGrid(JSON.stringify(r)),void this.dataObject.push([r])):(this.dataObject.push([r.ToString()]),void this.AddStringToGrid(r.toString()))}ClearDataGrid(){this.data=[],this.dataObject=[],this.objectsForGrid=[],this.stringsForGrid=[],null!=this.hot&&(this.hot.setColumns([{title:"Step",field:"id"},{title:"Value",field:"val"}]),this.hot.replaceData([]),this.hot.redraw(!0))}hasOwnProperty(r,o){return null!=r&&r.hasOwnProperty(o)}AddObjectToFinishGrid(){for(var r,o,l=[],p=this.objectsForGrid,y=0;y<p.length;y++)"string"==typeof(S=p[y])?l.push("_"):l.push(...Object.keys(S));var I=new Set(l);l=Array.from(I);var N=[...l],J=[];for(y=0;y<p.length;y++){for(var S=p[y],pe={Nr:y+1},Fe=0;Fe<l.length;Fe++){var Qe=l[Fe],Ct=this.goodNameForKey(Qe);if(S&&this.hasOwnProperty(S,Qe)){var Lt=S[Qe];pe[Ct]="object"==typeof Lt?JSON.stringify(Lt):Lt}else pe[Ct]="string"==typeof S&&0===Fe?S:""}J.push(pe)}l.splice(0,0,"Nr"),N.splice(0,0,"Nr");var Gt=this.Headers(N);null===(r=this.hot)||void 0===r||r.setColumns(Gt),null===(o=this.hot)||void 0===o||o.replaceData(J)}Headers(r){return r.map(o=>({title:o,field:this.goodNameForKey(o),formatter:function(l,p,y){try{var S=l.getValue().toString();if(S.length<2)return S;if(S.startsWith("[")&&S.endsWith("]"))try{var I=JSON.parse(S),N=l.getRow().getData().Nr,pe=l.getColumn().getField()+"_"+N;return y(function(){new bd("#"+pe,{data:I,autoColumns:!0,layout:"fitDataFill"})}),"<div id='"+pe+"'>"+S+"</div>"}catch(Fe){return S}}catch(Fe){return S}return l.getValue()}}))}AddStringToFinishGrid(){for(var r,o,l=[],p=0;p<this.stringsForGrid.length;p++)l.push({Nr:p+1,Text:this.stringsForGrid[p]});var S=this.Headers(["Nr","Text"]);null===(r=this.hot)||void 0===r||r.setColumns(S),null===(o=this.hot)||void 0===o||o.replaceData(l)}FinishGrid(){for(var r,o=0;o<this.data.length;o++)this.AddDataToGrid(this.data[o]);this.objectsForGrid.length+this.stringsForGrid.length!=0&&(this.objectsForGrid.length>0?this.AddObjectToFinishGrid():this.AddStringToFinishGrid(),null===(r=this.hot)||void 0===r||r.redraw(!0))}goodNameForKey(r){var o=r;return o.replace(".","_")}copyClip(){var r;null===(r=this.hot)||void 0===r||r.copyToClipboard()}copyCSV(){var r;null===(r=this.hot)||void 0===r||r.download("csv","data.csv",{bom:!0})}}return g.\u0275fac=function(r){return new(r||g)},g.\u0275prov=nt.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})();var yg=f(92058),Dp=f(91083),Vm=f(86403),_f=f(57261),zh=f(43954),vf=f(92181),Um=f(4834),Gm=f(20773),Mp=f(33);function bg(g,s){1&g&&nt._UZ(0,"mat-spinner")}const yf=function(g){return["/","automation","loadexample",g]};function bf(g,s){if(1&g&&(nt.TgZ(0,"a",15),nt._uU(1),nt.qZA()),2&g){const r=nt.oxw();nt.Q6J("routerLink",nt.VKq(2,yf,r.mustLoadDemoBlock)),nt.xp6(1),nt.hij("Direct link ",r.mustLoadDemoBlock,"")}}function Wm(g,s){if(1&g&&(nt.TgZ(0,"mat-tab",27),nt._UZ(1,"div",22),nt.qZA()),2&g){const r=nt.oxw(3);nt.xp6(1),nt.Q6J("id","steps"+r.myId)}}function Eu(g,s){if(1&g){const r=nt.EpF();nt.TgZ(0,"mat-tab-group",18),nt.NdJ("selectedTabChange",function(l){return nt.CHM(r),nt.oxw(2).changeTabOutput(l)}),nt.TgZ(1,"mat-tab",19),nt.TgZ(2,"ngx-codemirror",20),nt.NdJ("ngModelChange",function(l){return nt.CHM(r),nt.oxw(2).showInner=l}),nt.qZA(),nt.qZA(),nt.TgZ(3,"mat-tab",21),nt._UZ(4,"div",22),nt.qZA(),nt.TgZ(5,"mat-tab",23),nt._UZ(6,"div",22),nt.qZA(),nt.TgZ(7,"mat-tab",24),nt._UZ(8,"canvas",25),nt.qZA(),nt.YNc(9,Wm,2,1,"mat-tab",26),nt.qZA()}if(2&g){const r=nt.oxw(2);nt.xp6(2),nt.Q6J("options",r.editorPlain)("ngModel",r.showInner),nt.xp6(2),nt.Q6J("id","htmlText"+r.myId),nt.xp6(2),nt.Q6J("id","htmlOutput"+r.myId),nt.xp6(2),nt.Q6J("id","barchart"+r.myId),nt.xp6(1),nt.Q6J("ngIf",!1)}}function jm(g,s){if(1&g){const r=nt.EpF();nt.TgZ(0,"ngx-codemirror",20),nt.NdJ("ngModelChange",function(l){return nt.CHM(r),nt.oxw(2).showJSCode=l}),nt.qZA()}if(2&g){const r=nt.oxw(2);nt.Q6J("options",r.editorJSOptions)("ngModel",r.showJSCode)}}function zm(g,s){if(1&g){const r=nt.EpF();nt.TgZ(0,"ngx-codemirror",20),nt.NdJ("ngModelChange",function(l){return nt.CHM(r),nt.oxw(2).showXMLCode=l}),nt.qZA()}if(2&g){const r=nt.oxw(2);nt.Q6J("options",r.editorXMLOptions)("ngModel",r.showXMLCode)}}function Ef(g,s){if(1&g){const r=nt.EpF();nt.TgZ(0,"ngx-codemirror",20),nt.NdJ("ngModelChange",function(l){return nt.CHM(r),nt.oxw(2).showBlocksDefinition=l}),nt.qZA()}if(2&g){const r=nt.oxw(2);nt.Q6J("options",r.editorJSOptions)("ngModel",r.showBlocksDefinition)}}function Cf(g,s){if(1&g&&(nt.TgZ(0,"mat-grid-tile"),nt.YNc(1,Eu,10,6,"mat-tab-group",16),nt.YNc(2,jm,1,2,"ngx-codemirror",17),nt.YNc(3,zm,1,2,"ngx-codemirror",17),nt.YNc(4,Ef,1,2,"ngx-codemirror",17),nt.qZA()),2&g){const r=nt.oxw();nt.xp6(1),nt.Q6J("ngIf",r.ShowOutput()),nt.xp6(1),nt.Q6J("ngIf",r.ShowCode()),nt.xp6(1),nt.Q6J("ngIf",r.ShowXML()),nt.xp6(1),nt.Q6J("ngIf",r.ShowBlocksDefinition())}}const Tf=f(6447),xp=f(20532);try{xp.registerPlugin(f(77784))}catch(g){}var nu=(()=>{return(g=nu||(nu={}))[g.ShowNone=0]="ShowNone",g[g.ShowBlocksDefinition=1]="ShowBlocksDefinition",g[g.ShowXML=2]="ShowXML",g[g.ShowOutput=3]="ShowOutput",g[g.ShowCode=4]="ShowCode",g[g.Stop=100]="Stop",nu;var g})();let wf=(()=>{class g{constructor(r,o,l,p,y,S,I){var N;this.tabulator=r,this.DetailsApp=o,this.loadDemo=l,this.ar=p,this.ta=y,this.snackBar=S,this.dialog=I,this.lastData=null,this.editorXMLOptions={theme:"vs-dark",language:"xml"},this.editorJSOptions={theme:"vs-dark",language:"javascript",lineNumbers:"on"},this.editorPlain={theme:"vs-dark",language:"plaintext",lineNumbers:"on"},this.code='function x() {\nconsole.log("Hello world!");\n}',this.showCodeAndXML=nu.ShowNone,this.swaggerLoaded=0,this.demoWorkspace=null,this.mustLoadDemoBlock="",this.intro=W(),this.myId=0,this.bs=new Fd,this.bh2=new Qd,this.bh=null,this.fullTextData="",this.fullHtmlData="",this.myChart=null,this.tabIndex=0,this.step=0,this.swaggerData=[],this.showInner="",this.showXMLCode="",this.showJSCode="",this.showBlocksDefinition="",this.toolboxXML="",this.loadedCompletely=!1,this.myId=++g.id,this.ar.paramMap.subscribe(J=>{this.mustLoadDemoBlock=J.get("demoblock")}),this.ta.receiveData().subscribe(J=>{"DisplayBlocklyComponent"==J[0]&&this[J[1]]()}),null===(N=this.DetailsApp.LocalAPI)||void 0===N||N.IsAlive().subscribe()}createIntro(){var r,o=null===(r=this.DetailsApp.settings)||void 0===r?void 0:r.tourSteps.map(l=>{var p;return{title:(null===(p=this.DetailsApp.settings)||void 0===p?void 0:p.title)||"Blockly Automation",intro:l.text,element:document.querySelector(l.query)||void 0}});this.intro.setOptions({exitOnEsc:!0,showStepNumbers:!0,showButtons:!0,doneLabel:"Exit",skipLabel:"Skip",showProgress:!0,steps:o}).start()}clearOutput(){this.step=0,this.showInner="",this.tabulator.ClearDataGrid(),null!=this.myChart&&this.myChart.destroy(),this.fullHtmlData="",this.fullTextData=""}ShowText(r){if(null!=r){var o=r.toString();this.fullTextData+="\n"+o}}finishHTMLOutput(){this.theHtmlOutput().innerHTML=this.fullHtmlData}ShowHTML(r){if(null!=r){var o=r.toString();this.fullHtmlData+="<br/>"+o}}theHtmlOutput(){return document.getElementById("htmlOutput"+this.myId)}theTextOutput(){return document.getElementById("htmlText"+this.myId)}ShowChart(r){var o,l=null===(o=document.getElementById("barchart"+this.myId))||void 0===o?void 0:o.getContext("2d");if(null!=l)try{var p=null==r?void 0:r.toString(),y=JSON.parse(p);y&&y.type&&(this.myChart=new un(l,y),console.log("make chart",r))}catch(S){this.myChart=null}else console.log("not canvas available for chart!")}changeTab(r){switch(r){case 0:break;case 1:this.theTextOutput().innerText=this.fullTextData;break;case 2:this.finishHTMLOutput();break;case 3:this.ShowChart(this.lastData);break;case 4:const o=document.getElementById("steps"+this.myId);if(null==o)return void window.alert("gridElement is null");this.tabulator.ClearDataGrid(),this.tabulator.initGrid(o),this.tabulator.FinishGrid();break;default:window.alert("tab "+r+" not implemented")}}changeTabOutput(r){console.log(r.index),this.tabIndex=r.index,this.changeTab(r.index)}RunCode(){this.snackBar.open("Program start","Executing...");var r=this,o=this.run.latestCode;r.CalculateXMLAndCode(),this.bh=new qd(this.demoWorkspace,e),this.run=this.bh,this.showCodeAndXML=nu.ShowOutput,this.clearOutput(),this.showInner='{ "step_start": "start program",',this.run.runCode((y,S)=>{try{return new Interpreter(y,S)}catch(I){r.CalculateXMLAndCode(),window.alert("please copy the left output and report there is an error at "+JSON.stringify(I)),this.showCodeAndXML=nu.ShowCode}},y=>{r.step++,r.showInner+=`\n           \n"step_${r.step}" : "${y}",`,r.lastData=y,r.tabulator.AddData(y),r.ShowHTML(y),r.ShowText(y)},()=>{this.snackBar.open("Program end","Done!",{duration:3e3}),r.showInner+='\n "step_end" : "program executed; see results below"\n}',this.changeTab(this.tabIndex)},o)}ShowLocalAPI(r){var o;null===(o=this.DetailsApp.LocalAPI)||void 0===o||o.LoadBlockContent(r).subscribe(l=>{var p=t.Xml.textToDom(l);null!=this.demoWorkspace&&(t.Xml.clearWorkspaceAndLoadFromXml(p,this.demoWorkspace),window.alert("please press execute button"))})}ShowDemo(r){this.mustLoadDemoBlock=r,this.loadDemo.getDemoBlock(r).subscribe(o=>{var l=t.Xml.textToDom(o);if(null!=this.demoWorkspace){try{t.Xml.clearWorkspaceAndLoadFromXml(l,this.demoWorkspace)}catch(p){return console.log("error loading",r,l,p),(null==r?void 0:r.toString().indexOf("docker"))>-1?void(window.confirm("This demo must run with Desktop App.\nDo you want to go to download page?")&&window.open("http://ba.serviciipeweb.ro/")):(null==r?void 0:r.toString().indexOf("chrome"))>-1?void(window.confirm("This demo must run with MyPC swagger.\nDo you want to go to download page?")&&window.open("https://github.com/ignatandrei/BlocklyAutomation/wiki/MyPC")):void window.alert("error "+r)}window.alert("please press execute button")}})}registerSwaggerBlocksObjects(r,o){return o.fieldXMLObjects.map(p=>t.Xml.textToDom(p))}registerSwaggerBlocksAPIControllers(r,o,l){return o.findfieldXMLFunctions(l).map(y=>t.Xml.textToDom(y.gui))}registerSwaggerBlocksAPIAll(r,o){return o.fieldXMLFunctions.map(p=>t.Xml.textToDom(p.gui))}ngOnInit(){}ngAfterViewInit(){this.StartRegister(),(0,On.R)(window,"TabDownload").subscribe(r=>this.tabulator.copyCSV()),(0,On.R)(window,"TabCopy").subscribe(r=>this.tabulator.copyClip())}ShowBlocks(){this.dialog.open(Cl,{}).afterClosed().subscribe(o=>{if(console.log("The dialog was closed with ",o),o){var l=o;switch(l.Source){case"Demos":try{console.log("into try"),this.ShowDemo(o.id)}catch(p){window.alert(o.id),window.alert(p)}break;case"LocalAPI":this.ShowLocalAPI(o.id);break;default:window.alert(l.Source)}}})}LoadPrompt(r,o){xp.defaultOptions.className="vex-theme-os",xp.dialog.prompt({message:r,callback:function(l){l?o(l):console.log("no answer")}})}LoadSwagger(){var r=this;this.LoadPrompt("Please enter the swagger url ( not the html!)",o=>{if(new F.L(""),o){if(o.endsWith(".html")||o.endsWith(".htm"))return void window.alert("Swagger should not end with .html - see source of html page");r.LoadSwaggerFromUrl(o).then(p=>{p.hasError?window.confirm("error loading swagger - most probably CORS\n Please download the windows app to try this.")&&window.open("http://ba.serviciipeweb.ro/"):(r.addToToolboxSwagger(p,this),window.alert("loaded successfully"))})}})}LoadSwaggerFromUrl(r,o){var l=this;return(0,E.Z)(function*(){var p=new F.L(r),y=yield p.ParseSwagger();return y.name=o||r,y.hasError?y:l.LoadSwaggerFromAPI(y)})()}LoadSwaggerFromAPI(r){if(r.hasError)return console.error("error in swagger",r.name),r;this.swaggerData.push(r);for(var o=0;o<r.GenerateBlocks.length;o++){var l=r.GenerateBlocks[o];null==t.getMainWorkspace()&&console.log("#38 here in loadSwagger from api is not ok",t.getMainWorkspace()),l(t.Blocks,e,this.demoWorkspace)}for(o=0;o<r.GenerateFunctions.length;o++)(l=r.GenerateFunctions[o])(t.Blocks,e);return r.metaBlocks()(t.Blocks,e),r}StartRegister(){var r,o=[...Array(50).keys()].map(I=>this.CategorySwaggerHidden(I)).join(""),l=this.DetailsApp.customCategories,p=[this.bs.defaultBlocks.fieldXML(),` \n        <category name='Blockly Advanced'>\n        <category id="Audio" name="Audio">\n        ${this.bs.ttsBlock.fieldXML()}\n        ${this.bs.pianoBlock.fieldXML()}\n        </category>  \n            ${this.bs.filterBlocks.fieldXML()}\n                \n                ${this.bs.auth0Blocks.fieldXML()}\n                <category id="catConverters"  name="Converters">\n                ${this.bs.convertersBlocks.fieldXML()}\n              </category>    \n              <category id="catDates"  name="Dates">\n          ${this.bs.currentDateBlock.fieldXML()}\n          ${this.bs.dateFromTextBlock.fieldXML()}\n          ${this.bs.waitBlocks1.fieldXML()}\n          ${this.bs.waitBlocks2.fieldXML()}\n        </category>\n        <category id="catEmail"  name="Email">\n        ${this.bs.emailBlocks.fieldXML()}\n      </category>\n\n        <category id="catExporter"  name="Exporter">\n        ${this.bs.exportFileBlock.fieldXML()}\n      </category>\n              <category id="catGUI" name="GUI">\n              ${this.bs.guiBlocks.fieldXML()}\n              ${this.bs.chartBlock.fieldXML()}\n              </category>\n              <category id="catHTML" name="HTML">\n              <category name="GenHTML" id="Generate">\n              ${this.bs.htmlblocks.fieldXML()}\n              </category>\n              <category name="Parser" id="parseHTML">\n              ${this.bs.HTMLParserBlocks.fieldXML()}\n              </category>\n              </category>\n              <category name="Objects" id="objects">\n              ${this.bs.propBlocks.fieldXML()}\n              ${this.bs.createObjectBlocks.fieldXML()}\n              \n              </category>\n              <category id="XHR" name="Request">\n            ${this.bs.xhrBlocks.fieldXML()}\n            ${this.bs.windowsCreds.fieldXML()}\n            </category>\n        `,`<category id="catTimers"  name="Timers">\n          ${this.bs.waitBlocks1.fieldXML()}\n          ${this.bs.waitBlocks2.fieldXML()}\n        </category>`,`  <category id="programming" name="Programming">\n        ${this.bs.trycatchFinBlock.fieldXML()}\n        ${this.bs.commentBlock.fieldXML()}\n          </category>\n        \n      `,`</category>\n      <category id="DockerBlockly" name="DockerBA" expanded="true"  hidden="${!this.bs.docker.canConstruct}">>\n      ${this.bs.DockerContainer.fieldXML()}\n      ${this.bs.DockerVersionInfo.fieldXML()}\n      </category>\n\n      ${l}\n      \n      <category name="Swagger" id="catSwagger" expanded='false' >          \n          ${o}\n        </category> \n       \n        `];this.initialize(p),this.bs.filterBlocks.definitionBlocks(t.Blocks,e),this.bs.waitBlocks2.definitionBlocks(t.defineBlocksWithJsonArray,e),this.bs.xhrBlocks.definitionBlocks(t.Blocks,e),this.bs.DockerContainer.definitionBlocks(t.Blocks,e),this.bs.DockerVersionInfo.definitionBlocks(t.Blocks,e),this.bs.propBlocks.definitionBlocks(t.Blocks,e),this.bs.guiBlocks.definitionBlocks(t.Blocks,e),this.bs.convertersBlocks.definitionBlocks(t.Blocks,e),this.bs.exportFileBlock.definitionBlocks(t.Blocks,e),this.bs.createObjectBlocks.definitionBlocks(t.Blocks,e,t.Extensions,t.Mutator),this.bs.currentDateBlock.definitionBlocks(t.Blocks,e),this.bs.dateFromTextBlock.definitionBlocks(t.Blocks,e),this.bs.waitBlocks1.definitionBlocks(t.Blocks,e),this.bs.commentBlock.definitionBlocks(t.Blocks,e),this.bs.trycatchFinBlock.definitionBlocks(t.Blocks,e),this.bs.auth0Blocks.definitionBlocks(t.Blocks,e),this.bs.windowsCreds.definitionBlocks(t.Blocks,e),this.bs.chartBlock.definitionBlocks(t.Blocks,e),this.bs.emailBlocks.definitionBlocks(t.Blocks,e),this.bs.htmlblocks.definitionBlocks(t.Blocks,e),this.bs.HTMLParserBlocks.definitionBlocks(t.Blocks,e),this.bs.ttsBlock.definitionBlocks(t.Blocks,e),this.bs.pianoBlock.definitionBlocks(t.Blocks,e);var y=this.DetailsApp.swaggersDict,S=new Map;y.forEach((I,N)=>{var J=!I.hasError;console.log("show swagger: "+N+":"+J),J&&S.set(N,this.LoadSwaggerFromAPI(I))}),(null===(r=this.DetailsApp.LocalAPI)||void 0===r?void 0:r.WasAlive)&&this.LoadSwaggerFromUrl(this.DetailsApp.LocalAPI.urL+"swagger/v1/swagger.json","LocalAutomation"),window.setTimeout(this.afterTimeout,2e3,this)}SaveBlocks(){this.bh2.saveState(t.Xml,this.demoWorkspace,this.myId)}ShowBlocksDefinition(){return this.showCodeAndXML===nu.ShowBlocksDefinition}ShowSelection(){return nu[this.showCodeAndXML]}ShowSomething(){return this.showCodeAndXML!==nu.ShowNone}ShowOutput(){return this.showCodeAndXML===nu.ShowOutput}ShowCode(){return this.showCodeAndXML===nu.ShowCode}ShowXML(){return this.showCodeAndXML===nu.ShowXML}CalculateXMLAndCode(){var r=t.Xml.workspaceToDom(this.demoWorkspace,!0),o=t.Xml.domToPrettyText(r);this.showJSCode=this.run.latestCode,this.showXMLCode=o;var l=this.parseTextForBlocks(o);this.showBlocksDefinition=l.map(p=>{try{return`Blockly.Blocks['${p}']={ init: \n`+t.Blocks[p].init.toString()+`};\n};\nBlockly.JavaScript['${p}']=`+e[p].toString()+";"}catch(I){return console.error("parse definition : "+p,I),"//Error for "+p}}).join("\n")}parseTextForBlocks(r){var o=[];if(r.indexOf('<block type="')>=0)for(var l=r.split('<block type="'),p=1;p<l.length;p++){var y=l[p].split('"')[0];o.push(y)}return o}ShowInnerWorkings(){null!=this.demoWorkspace?(this.showCodeAndXML++,this.ShowSelection()||(this.showCodeAndXML=nu.ShowNone,setTimeout(o=>{t.svgResize(o)},1e3,this.demoWorkspace)),this.CalculateXMLAndCode()):window.alert("demoWorkspace is null")}Download(){var r=this;this.LoadPrompt("Please enter file name",o=>{null!=o&&r.bh2.DownloadBlocks(t.Xml,this.demoWorkspace,o)})}changeListener(r){this.readThis(r.target)}readThis(r){var o=r.files[0],l=new FileReader,p=this;l.onloadend=function(y){p.bh2.LoadFile(t.Xml,p.demoWorkspace,l.result),p.run.resetInterpreter()},l.readAsText(o)}CategorySwaggerHidden(r){return`<category name='swagger_hidden_${r}' hidden='true' >${r}</category>`}SaveToLocalAPI(){var r,o,l;if(0==((null===(o=null===(r=this.DetailsApp)||void 0===r?void 0:r.LocalAPI)||void 0===o?void 0:o.WasAlive)||!1))return this.LoadLocalAPI(),void window.alert("local api it is not yet loaded - please try again after loading");var p=t.Xml.workspaceToDom(this.demoWorkspace,!0),y=t.Xml.domToPrettyText(p),S=new D.q,I=window.prompt("name of the blocks?");null!=I&&(S.id=I,S.blocks="",S.categories="",S.description="",null===(l=this.DetailsApp.LocalAPI)||void 0===l||l.SaveBlock(S,y).subscribe(N=>{console.log("number blocks",N),window.alert("saved !")}))}LoadLocalAPI(){var r,o,l=this;return null===(o=null===(r=l.DetailsApp.LocalAPI)||void 0===r?void 0:r.IsAlive())||void 0===o?void 0:o.pipe((0,rn.K)(p=>{var y;throw window.alert(`cannot load ${null===(y=l.DetailsApp.LocalAPI)||void 0===y?void 0:y.urL}`),p})).subscribe(p=>{var y;if(!p){if(!window.confirm("LocalAPI is not alive.\n Do you want to downlod and run ?"))return;l.DetailsApp.LocalAPI.download()}var S=(null===(y=l.DetailsApp.LocalAPI)||void 0===y?void 0:y.urL)||"";l.LoadSwaggerFromUrl(S+="swagger/v1/swagger.json").then(I=>{I.hasError?window.alert("error loading local api"):(I.name="LocalAPI",l.addToToolboxSwagger(I,this),window.alert("loaded successfully"))})})}initialize(r){var o,l,p;const y=document.getElementById("blocklyDiv"+this.myId);if(null!=y){var S=r.map(Ct=>`<sep></sep>${Ct}`);this.toolboxXML=`<xml xmlns="https://developers.google.com/blockly/xml" id="toolbox-simple" style="display: none">    \n    ${S}\n    </xml>`;var I="";if(window.matchMedia("(prefers-color-scheme: dark)").matches&&(I=Tf),this.demoWorkspace=t.inject(y,{readOnly:!1,media:"media/",trashcan:!0,theme:I,horizontalLayout:!1,move:{scrollbars:!0,drag:!0,wheel:!0},zoom:{controls:!0,wheel:!0,startScale:1,maxScale:3,minScale:.3,scaleSpeed:1.2,pinch:!0},toolbox:this.toolboxXML}),new C(this.demoWorkspace).init(),((null===(l=null===(o=this.DetailsApp.settings)||void 0===o?void 0:o.startBlocks)||void 0===l?void 0:l.length)||0)>0)try{var pe=((null===(p=this.DetailsApp.settings)||void 0===p?void 0:p.startBlocks)||[]).join("\n"),Fe=t.Xml.textToDom(pe);t.Xml.clearWorkspaceAndLoadFromXml(Fe,this.demoWorkspace)}catch(Ct){console.error("error when load default blocks",Ct)}this.bh=new qd(this.demoWorkspace,e),this.run=this.bh;var Qe=this;this.demoWorkspace.addChangeListener(function(Ct){Ct.isUiEvent||(Qe.run.resetInterpreter(),Qe.run.generateCodeAndLoadIntoInterpreter(),Qe.CalculateXMLAndCode())})}else window.alert("blocklyDiv is null")}restoreBlocks(){this.bh2.restoreState(t.Xml,this.demoWorkspace,this.myId)}addToToolboxSwagger(r,o){var l,p=r.findCategSwaggerFromPaths().sort().map(Qe=>`<category name='${Qe}' custom='func_${r.name}_${Qe}'></category>`).join("\n"),y=(null==o?void 0:o.CategorySwaggerHidden(null==o?void 0:o.swaggerLoaded))||"",S=o.toolboxXML,I=`<category name='${r.name}'>\n<category name='API' id='func_${r.name}'>\n${p}\n</category>\n${r.categSwagger()}\n\n<category name='meta' id='meta_${r.name}'>\n<block type='meta_swagger_controllers_${r.name}'></block>\n<block type='meta_swagger_controllers_actions_${r.name}'></block>\n</category>\n\n</category>\n`;if(S=S.replace(y,I),o.swaggerLoaded++,o.toolboxXML=S,null===(l=null==o?void 0:o.demoWorkspace)||void 0===l||l.updateToolbox(S),null!=(null==o?void 0:o.demoWorkspace)){var J="objects_"+r.nameCategSwagger(),pe="AllApi_"+r.nameCategSwagger(),Fe=r;o.demoWorkspace.registerToolboxCategoryCallback(J,Qe=>o.registerSwaggerBlocksObjects(Qe,Fe)),o.demoWorkspace.registerToolboxCategoryCallback(pe,Qe=>o.registerSwaggerBlocksAPIAll(Qe,Fe)),r.findCategSwaggerFromPaths().forEach(Qe=>{var Ct;null===(Ct=null==o?void 0:o.demoWorkspace)||void 0===Ct||Ct.registerToolboxCategoryCallback(`func_${r.name}_${Qe}`,Lt=>o.registerSwaggerBlocksAPIControllers(Lt,r,Qe))})}}afterTimeout(r){var o,l,p;if(r.loadedCompletely=!0,null!=(null==r?void 0:r.swaggerData))if(r.toolboxXML=r.toolboxXML.replace("Swagger",`Swagger(${r.swaggerData.length})`),r.swaggerData.forEach(N=>{r.addToToolboxSwagger(N,r)}),null!=(null==r?void 0:r.mustLoadDemoBlock))r.ShowDemo(null==r?void 0:r.mustLoadDemoBlock);else{if(((null===(l=null===(o=r.DetailsApp.settings)||void 0===o?void 0:o.startBlocks)||void 0===l?void 0:l.length)||0)>0)try{var S=((null===(p=r.DetailsApp.settings)||void 0===p?void 0:p.startBlocks)||[]).join("\n");if((null==S?void 0:S.length)>62){var I=t.Xml.textToDom(S);t.Xml.clearWorkspaceAndLoadFromXml(I,r.demoWorkspace)}}catch(N){console.log("error when load default blocks",N)}r.restoreBlocks()}}}return g.id=0,g.\u0275fac=function(r){return new(r||g)(nt.Y36(vg),nt.Y36(As.d),nt.Y36(yg.F),nt.Y36(Dp.gz),nt.Y36(Vm.v),nt.Y36(_f.ux),nt.Y36(ea.uw))},g.\u0275cmp=nt.Xpm({type:g,selectors:[["app-display-blockly"]],decls:49,vars:10,consts:[[4,"ngIf"],["rowHeight","1:1",3,"cols"],[2,"display","inline-block","height","100%","width","100%"],[2,"display","inline-block","height","5%","width","100%"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","id","downloadBlocks","color","primary",3,"matMenuTriggerFor"],["menuSave","matMenu"],[3,"inset"],["id","downloadBlocks","mat-raised-button","","color","primary",3,"click"],["mat-raised-button","",3,"color","click"],["mat-raised-button","","color","warn","id","runButton",3,"click"],["type","file",3,"change"],["mat-raised-button","","id","demos","color","accent",3,"click"],["target","_blank","mat-raised-button","","color","primary",3,"routerLink",4,"ngIf"],[2,"display","inline-block","height","100%","width","100%",3,"id"],["target","_blank","mat-raised-button","","color","primary",3,"routerLink"],["style","height: 100%; width: 100%",3,"selectedTabChange",4,"ngIf"],["style","display: inline-block; height: 100%; width: 100%",3,"options","ngModel","ngModelChange",4,"ngIf"],[2,"height","100%","width","100%",3,"selectedTabChange"],["label","JSON"],[2,"display","inline-block","height","100%","width","100%",3,"options","ngModel","ngModelChange"],["label","Text","isActive","true"],[3,"id"],["label","HTML"],["label","Chart"],["width","800","height","450",3,"id"],["label","Grid",4,"ngIf"],["label","Grid"]],template:function(r,o){if(1&r&&(nt.YNc(0,bg,1,0,"mat-spinner",0),nt.TgZ(1,"mat-grid-list",1),nt.TgZ(2,"mat-grid-tile-header"),nt.TgZ(3,"div",2),nt.TgZ(4,"div",3),nt.TgZ(5,"button",4),nt.NdJ("click",function(){return o.LoadSwagger()}),nt.TgZ(6,"mat-icon"),nt._uU(7,"file_upload"),nt.qZA(),nt._uU(8," Load Swagger/OpenAPI "),nt.qZA(),nt._uU(9," \xa0 "),nt.TgZ(10,"button",5),nt.TgZ(11,"mat-icon"),nt._uU(12,"save"),nt.qZA(),nt._uU(13," Save => "),nt.qZA(),nt.TgZ(14,"mat-menu",null,6),nt.TgZ(16,"button",4),nt.NdJ("click",function(){return o.SaveBlocks()}),nt.TgZ(17,"mat-icon"),nt._uU(18,"web"),nt.qZA(),nt._uU(19," Persist in browser "),nt.qZA(),nt._UZ(20,"mat-divider",7),nt.TgZ(21,"button",8),nt.NdJ("click",function(){return o.Download()}),nt.TgZ(22,"mat-icon"),nt._uU(23,"download"),nt.qZA(),nt._uU(24," Download blocks "),nt.qZA(),nt._UZ(25,"mat-divider",7),nt.TgZ(26,"button",9),nt.NdJ("click",function(){return o.SaveToLocalAPI()}),nt.TgZ(27,"mat-icon"),nt._uU(28,"save"),nt.qZA(),nt._uU(29," Save Local "),nt.qZA(),nt.qZA(),nt._uU(30," \xa0 "),nt.TgZ(31,"button",10),nt.NdJ("click",function(){return o.RunCode()}),nt.TgZ(32,"mat-icon"),nt._uU(33,"play_arrow"),nt.qZA(),nt._uU(34," Execute "),nt.qZA(),nt._uU(35," \xa0 \xa0 "),nt.TgZ(36,"input",11),nt.NdJ("change",function(p){return o.changeListener(p)}),nt.qZA(),nt.TgZ(37,"button",4),nt.NdJ("click",function(){return o.ShowInnerWorkings()}),nt.TgZ(38,"mat-icon"),nt._uU(39,"code"),nt.qZA(),nt._uU(40),nt.qZA(),nt.TgZ(41,"button",12),nt.NdJ("click",function(){return o.ShowBlocks()}),nt.TgZ(42,"mat-icon"),nt._uU(43,"list"),nt.qZA(),nt._uU(44," Load Blocks "),nt.qZA(),nt.YNc(45,bf,2,4,"a",13),nt.qZA(),nt.qZA(),nt.qZA(),nt.TgZ(46,"mat-grid-tile"),nt._UZ(47,"div",14),nt.qZA(),nt.YNc(48,Cf,5,4,"mat-grid-tile",0),nt.qZA()),2&r){const l=nt.MAs(15);nt.Q6J("ngIf",!o.loadedCompletely),nt.xp6(1),nt.Q6J("cols",o.ShowSomething()?2:1),nt.xp6(9),nt.Q6J("matMenuTriggerFor",l),nt.xp6(10),nt.Q6J("inset",!0),nt.xp6(5),nt.Q6J("inset",!0),nt.xp6(1),nt.Q6J("color",null!=o.DetailsApp.LocalAPI&&o.DetailsApp.LocalAPI.WasAlive?"primary":"warn"),nt.xp6(14),nt.hij(" ",o.ShowSelection()," "),nt.xp6(5),nt.Q6J("ngIf",null==o.mustLoadDemoBlock?null:o.mustLoadDemoBlock.length),nt.xp6(2),nt.Q6J("id","blocklyDiv"+o.myId),nt.xp6(1),nt.Q6J("ngIf",o.ShowSomething())}},directives:[Vs.O5,zh.Il,zh.$H,zh.jo,sc.lW,yc.Hw,vf.p6,vf.VK,Um.d,zh.DX,Gm.$g,sc.zs,Dp.yS,ds.SP,ds.uX,Mp.C,Er.JJ,Er.On],styles:[".tabulator[_ngcontent-%COMP%]{font-size:12px;border:none}.tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]{font-weight:400;border-bottom:1px solid;border-bottom-color:#0000001f;color:#0000008a}.tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]   .tabulator-col[_ngcontent-%COMP%]{height:48px;background-color:#fff;border:none;padding:0 7px}.tabulator-row[_ngcontent-%COMP%]{border-bottom:1px solid;border-bottom-color:#0000001f;min-height:48px;vertical-align:middle}.tabulator-row[_ngcontent-%COMP%]   .tabulator-cell[_ngcontent-%COMP%]{padding:16px 7px;border-right:none;vertical-align:middle}.tabulator-row[_ngcontent-%COMP%]   .tabulator-cell[_ngcontent-%COMP%]:first-of-type, .tabulator[_ngcontent-%COMP%]   .tabulator-header[_ngcontent-%COMP%]   .tabulator-col[_ngcontent-%COMP%]:first-of-type{padding-left:24px}.tabulator-row.tabulator-row-even[_ngcontent-%COMP%]{background-color:#fff}"]}),g})()},92058:(B,K,f)=>{"use strict";f.d(K,{F:()=>a}),f(39646);var m=f(54004),t=f(18505),e=f(5e3),n=f(40520);let a=(()=>{class u{constructor(D){this.http=D}getDemoBlocks(){var D=(new Date).toISOString();return this.http.get(`assets/showUsage/demoBlocks/all.txt?${D}`,{responseType:"text"}).pipe((0,m.U)(F=>JSON.parse(F)))}getCustomCategories(){var D=(new Date).toISOString();return this.http.get(`assets/loadAtStartup/customCategories.txt?${D}`,{responseType:"text"}).pipe((0,m.U)(F=>F.toString()))}getSwaggerLinks(){var D=(new Date).toISOString();return this.http.get(`assets/loadAtStartup/swaggers.json?${D}`,{responseType:"text"}).pipe((0,m.U)(F=>JSON.parse(F)))}getDemoBlock(D){var F=(new Date).toISOString();return this.http.get(`assets/showUsage/demoBlocks/${D}.txt?${F}`,{responseType:"text"}).pipe((0,t.b)(te=>{}),(0,m.U)(te=>te.toString()))}}return u.\u0275fac=function(D){return new(D||u)(e.LFG(n.eN))},u.\u0275prov=e.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})()},6447:(B,K,f)=>{"use strict";f.r(K),f.d(K,{default:()=>t});var E=f(68210),m=f.n(E);m().registry.unregister("theme","dark");const t=m().Theme.defineTheme("dark",{base:m().Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}})},86931:function(B,K,f){var m,t;m=[f(81069)],void 0!==(t=function(e){"use strict";return e}.apply(K,m))&&(B.exports=t)},81069:function(B,K){var m;void 0!==(m=function(){"use strict";var t={connectionTypes:{INPUT_VALUE:1,OUTPUT_VALUE:2,NEXT_STATEMENT:3,PREVIOUS_STATEMENT:4},constants:{},LINE_MODE_MULTIPLIER:40,PAGE_MODE_MULTIPLIER:125,DRAG_RADIUS:5,FLYOUT_DRAG_RADIUS:10,SNAP_RADIUS:28};return t.CONNECTING_SNAP_RADIUS=t.SNAP_RADIUS,t.CURRENT_CONNECTION_PREFERENCE=8,t.BUMP_DELAY=250,t.BUMP_RANDOMNESS=10,t.COLLAPSE_CHARS=30,t.LONGPRESS=750,t.SOUND_LIMIT=100,t.DRAG_STACK=!0,t.HSV_SATURATION=.45,t.HSV_VALUE=.65,t.SPRITE={width:96,height:124,url:"sprites.png"},t.constants.ALIGN={LEFT:-1,CENTRE:0,RIGHT:1},t.DRAG_NONE=0,t.DRAG_STICKY=1,t.DRAG_BEGIN=1,t.DRAG_FREE=2,t.OPPOSITE_TYPE=[],t.OPPOSITE_TYPE[t.connectionTypes.INPUT_VALUE]=t.connectionTypes.OUTPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.OUTPUT_VALUE]=t.connectionTypes.INPUT_VALUE,t.OPPOSITE_TYPE[t.connectionTypes.NEXT_STATEMENT]=t.connectionTypes.PREVIOUS_STATEMENT,t.OPPOSITE_TYPE[t.connectionTypes.PREVIOUS_STATEMENT]=t.connectionTypes.NEXT_STATEMENT,t.VARIABLE_CATEGORY_NAME="VARIABLE",t.VARIABLE_DYNAMIC_CATEGORY_NAME="VARIABLE_DYNAMIC",t.PROCEDURE_CATEGORY_NAME="PROCEDURE",t.RENAME_VARIABLE_ID="RENAME_VARIABLE_ID",t.DELETE_VARIABLE_ID="DELETE_VARIABLE_ID",t.constants.COLLAPSED_INPUT_NAME="_TEMP_COLLAPSED_INPUT",t.constants.COLLAPSED_FIELD_NAME="_TEMP_COLLAPSED_FIELD",t.utils={},t.utils.global=function(){return"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:this}(),t.Msg={},t.utils.global.Blockly||(t.utils.global.Blockly={}),t.utils.global.Blockly.Msg||(t.utils.global.Blockly.Msg=t.Msg),t.utils.colour={},t.utils.colour.parse=function(e){e=String(e).toLowerCase().trim();var n=t.utils.colour.names[e];if(n||(n="0x"==e.substring(0,2)?"#"+e.substring(2):e,/^#[0-9a-f]{6}$/.test(n="#"==n[0]?n:"#"+n)))return n;if(/^#[0-9a-f]{3}$/.test(n))return["#",n[1],n[1],n[2],n[2],n[3],n[3]].join("");var a=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return a&&(e=Number(a[1]),n=Number(a[2]),a=Number(a[3]),0<=e&&256>e&&0<=n&&256>n&&0<=a&&256>a)?t.utils.colour.rgbToHex(e,n,a):null},t.utils.colour.rgbToHex=function(e,n,a){return n=e<<16|n<<8|a,16>e?"#"+(16777216|n).toString(16).substr(1):"#"+n.toString(16)},t.utils.colour.hexToRgb=function(e){return(e=t.utils.colour.parse(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},t.utils.colour.hsvToHex=function(e,n,a){var u=0,C=0,D=0;if(0==n)D=C=u=a;else{var F=Math.floor(e/60),W=e/60-F;e=a*(1-n);var te=a*(1-n*W);switch(n=a*(1-n*(1-W)),F){case 1:u=te,C=a,D=e;break;case 2:u=e,C=a,D=n;break;case 3:u=e,C=te,D=a;break;case 4:u=n,C=e,D=a;break;case 5:u=a,C=e,D=te;break;case 6:case 0:u=a,C=n,D=e}}return t.utils.colour.rgbToHex(Math.floor(u),Math.floor(C),Math.floor(D))},t.utils.colour.blend=function(e,n,a){return(e=t.utils.colour.parse(e))&&(n=t.utils.colour.parse(n))?(e=t.utils.colour.hexToRgb(e),n=t.utils.colour.hexToRgb(n),t.utils.colour.rgbToHex(Math.round(n[0]+a*(e[0]-n[0])),Math.round(n[1]+a*(e[1]-n[1])),Math.round(n[2]+a*(e[2]-n[2])))):null},t.utils.colour.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},t.utils.Coordinate=function(e,n){this.x=e,this.y=n},t.utils.Coordinate.equals=function(e,n){return e==n||!(!e||!n)&&e.x==n.x&&e.y==n.y},t.utils.Coordinate.distance=function(e,n){var a=e.x-n.x;return e=e.y-n.y,Math.sqrt(a*a+e*e)},t.utils.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},t.utils.Coordinate.difference=function(e,n){return new t.utils.Coordinate(e.x-n.x,e.y-n.y)},t.utils.Coordinate.sum=function(e,n){return new t.utils.Coordinate(e.x+n.x,e.y+n.y)},t.utils.Coordinate.prototype.clone=function(){return new t.utils.Coordinate(this.x,this.y)},t.utils.Coordinate.prototype.scale=function(e){return this.x*=e,this.y*=e,this},t.utils.Coordinate.prototype.translate=function(e,n){return this.x+=e,this.y+=n,this},t.utils.Rect=function(e,n,a,u){this.top=e,this.bottom=n,this.left=a,this.right=u},t.utils.Rect.prototype.contains=function(e,n){return e>=this.left&&e<=this.right&&n>=this.top&&n<=this.bottom},t.utils.Rect.prototype.intersects=function(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)},t.utils.string={},t.utils.string.startsWith=function(e,n){return 0==e.lastIndexOf(n,0)},t.utils.string.shortestStringLength=function(e){return e.length?e.reduce(function(n,a){return n.length<a.length?n:a}).length:0},t.utils.string.commonWordPrefix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;var a=0;n=n||t.utils.string.shortestStringLength(e);for(var u=0;u<n;u++){for(var C=e[0][u],D=1;D<e.length;D++)if(C!=e[D][u])return a;" "==C&&(a=u+1)}for(D=1;D<e.length;D++)if((C=e[D][u])&&" "!=C)return a;return n},t.utils.string.commonWordSuffix=function(e,n){if(!e.length)return 0;if(1==e.length)return e[0].length;var a=0;n=n||t.utils.string.shortestStringLength(e);for(var u=0;u<n;u++){for(var C=e[0].substr(-u-1,1),D=1;D<e.length;D++)if(C!=e[D].substr(-u-1,1))return a;" "==C&&(a=u+1)}for(D=1;D<e.length;D++)if((C=e[D].charAt(e[D].length-u-1))&&" "!=C)return a;return n},t.utils.string.wrap=function(e,n){e=e.split("\n");for(var a=0;a<e.length;a++)e[a]=t.utils.string.wrapLine_(e[a],n);return e.join("\n")},t.utils.string.wrapLine_=function(e,n){if(e.length<=n)return e;for(var a=e.trim().split(/\s+/),u=0;u<a.length;u++)a[u].length>n&&(n=a[u].length);u=-1/0;var C=1;do{var D=u,F=e;e=[];var W=a.length/C,te=1;for(u=0;u<a.length-1;u++)te<(u+1.5)/W?(te++,e[u]=!0):e[u]=!1;e=t.utils.string.wrapMutate_(a,e,n),u=t.utils.string.wrapScore_(a,e,n),e=t.utils.string.wrapToText_(a,e),C++}while(u>D);return F},t.utils.string.wrapScore_=function(e,n,a){for(var u=[0],C=[],D=0;D<e.length;D++)u[u.length-1]+=e[D].length,!0===n[D]?(u.push(0),C.push(e[D].charAt(e[D].length-1))):!1===n[D]&&u[u.length-1]++;for(e=Math.max.apply(Math,u),D=n=0;D<u.length;D++)n-=2*Math.pow(Math.abs(a-u[D]),1.5),n-=Math.pow(e-u[D],1.5),-1!=".?!".indexOf(C[D])?n+=a/3:-1!=",;)]}".indexOf(C[D])&&(n+=a/4);return 1<u.length&&u[u.length-1]<=u[u.length-2]&&(n+=.5),n},t.utils.string.wrapMutate_=function(e,n,a){for(var C,u=t.utils.string.wrapScore_(e,n,a),D=0;D<n.length-1;D++)if(n[D]!=n[D+1]){var F=[].concat(n);F[D]=!F[D],F[D+1]=!F[D+1];var W=t.utils.string.wrapScore_(e,F,a);W>u&&(u=W,C=F)}return C?t.utils.string.wrapMutate_(e,C,a):n},t.utils.string.wrapToText_=function(e,n){for(var a=[],u=0;u<e.length;u++)a.push(e[u]),void 0!==n[u]&&a.push(n[u]?"\n":" ");return a.join("")},t.utils.Size=function(e,n){this.width=e,this.height=n},t.utils.Size.equals=function(e,n){return e==n||!(!e||!n)&&e.width==n.width&&e.height==n.height},t.utils.style={},t.utils.style.getSize=function(e){if("none"!=t.utils.style.getStyle_(e,"display"))return t.utils.style.getSizeWithDisplay_(e);var n=e.style,a=n.display,u=n.visibility,C=n.position;n.visibility="hidden",n.position="absolute",n.display="inline";var D=e.offsetWidth;return e=e.offsetHeight,n.display=a,n.position=C,n.visibility=u,new t.utils.Size(D,e)},t.utils.style.getSizeWithDisplay_=function(e){return new t.utils.Size(e.offsetWidth,e.offsetHeight)},t.utils.style.getStyle_=function(e,n){return t.utils.style.getComputedStyle(e,n)||t.utils.style.getCascadedStyle(e,n)||e.style&&e.style[n]},t.utils.style.getComputedStyle=function(e,n){return document.defaultView&&document.defaultView.getComputedStyle&&(e=document.defaultView.getComputedStyle(e,null))&&(e[n]||e.getPropertyValue(n))||""},t.utils.style.getCascadedStyle=function(e,n){return e.currentStyle?e.currentStyle[n]:null},t.utils.style.getPageOffset=function(e){var n=new t.utils.Coordinate(0,0);e=e.getBoundingClientRect();var a=document.documentElement;return a=new t.utils.Coordinate(window.pageXOffset||a.scrollLeft,window.pageYOffset||a.scrollTop),n.x=e.left+a.x,n.y=e.top+a.y,n},t.utils.style.getViewportPageOffset=function(){var e=document.body,n=document.documentElement;return new t.utils.Coordinate(e.scrollLeft||n.scrollLeft,e.scrollTop||n.scrollTop)},t.utils.style.setElementShown=function(e,n){e.style.display=n?"":"none"},t.utils.style.isRightToLeft=function(e){return"rtl"==t.utils.style.getStyle_(e,"direction")},t.utils.style.getBorderBox=function(e){var n=t.utils.style.getComputedStyle(e,"borderLeftWidth"),a=t.utils.style.getComputedStyle(e,"borderRightWidth"),u=t.utils.style.getComputedStyle(e,"borderTopWidth");return e=t.utils.style.getComputedStyle(e,"borderBottomWidth"),{top:parseFloat(u),right:parseFloat(a),bottom:parseFloat(e),left:parseFloat(n)}},t.utils.style.scrollIntoContainerView=function(e,n,a){e=t.utils.style.getContainerOffsetToScrollInto(e,n,a),n.scrollLeft=e.x,n.scrollTop=e.y},t.utils.style.getContainerOffsetToScrollInto=function(e,n,a){var u=t.utils.style.getPageOffset(e),C=t.utils.style.getPageOffset(n),D=t.utils.style.getBorderBox(n),F=u.x-C.x-D.left;return u=u.y-C.y-D.top,C=t.utils.style.getSizeWithDisplay_(e),e=n.clientWidth-C.width,C=n.clientHeight-C.height,D=n.scrollLeft,n=n.scrollTop,a?(D+=F-e/2,n+=u-C/2):(D+=Math.min(F,Math.max(F-e,0)),n+=Math.min(u,Math.max(u-C,0))),new t.utils.Coordinate(D,n)},t.utils.userAgent={},function(e){function n(u){return-1!=a.indexOf(u.toUpperCase())}t.utils.userAgent.raw=e;var a=t.utils.userAgent.raw.toUpperCase();t.utils.userAgent.IE=n("Trident")||n("MSIE"),t.utils.userAgent.EDGE=n("Edge"),t.utils.userAgent.JAVA_FX=n("JavaFX"),t.utils.userAgent.CHROME=(n("Chrome")||n("CriOS"))&&!t.utils.userAgent.EDGE,t.utils.userAgent.WEBKIT=n("WebKit")&&!t.utils.userAgent.EDGE,t.utils.userAgent.GECKO=n("Gecko")&&!t.utils.userAgent.WEBKIT&&!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,t.utils.userAgent.ANDROID=n("Android"),e=t.utils.global.navigator&&t.utils.global.navigator.maxTouchPoints,t.utils.userAgent.IPAD=n("iPad")||n("Macintosh")&&0<e,t.utils.userAgent.IPOD=n("iPod"),t.utils.userAgent.IPHONE=n("iPhone")&&!t.utils.userAgent.IPAD&&!t.utils.userAgent.IPOD,t.utils.userAgent.MAC=n("Macintosh"),t.utils.userAgent.TABLET=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID&&!n("Mobile")||n("Silk"),t.utils.userAgent.MOBILE=!t.utils.userAgent.TABLET&&(t.utils.userAgent.IPOD||t.utils.userAgent.IPHONE||t.utils.userAgent.ANDROID||n("IEMobile"))}(t.utils.global.navigator&&t.utils.global.navigator.userAgent||""),t.utils.noEvent=function(e){e.preventDefault(),e.stopPropagation()},t.utils.isTargetInput=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable||e.target.dataset&&"true"==e.target.dataset.isTextInput},t.utils.getRelativeXY=function(e){var n=new t.utils.Coordinate(0,0),a=e.getAttribute("x");return a&&(n.x=parseInt(a,10)),(a=e.getAttribute("y"))&&(n.y=parseInt(a,10)),(a=(a=e.getAttribute("transform"))&&a.match(t.utils.getRelativeXY.XY_REGEX_))&&(n.x+=Number(a[1]),a[3]&&(n.y+=Number(a[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(t.utils.getRelativeXY.XY_STYLE_REGEX_))&&(n.x+=Number(e[1]),e[3]&&(n.y+=Number(e[3]))),n},t.utils.getInjectionDivXY_=function(e){for(var n=0,a=0;e;){var u=t.utils.getRelativeXY(e);if(n+=u.x,a+=u.y,-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new t.utils.Coordinate(n,a)},t.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,t.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,t.utils.isRightButton=function(e){return!(!e.ctrlKey||!t.utils.userAgent.MAC)||2==e.button},t.utils.mouseToSvg=function(e,n,a){var u=n.createSVGPoint();return u.x=e.clientX,u.y=e.clientY,a||(a=n.getScreenCTM().inverse()),u.matrixTransform(a)},t.utils.getScrollDeltaPixels=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*t.LINE_MODE_MULTIPLIER,y:e.deltaY*t.LINE_MODE_MULTIPLIER};case 2:return{x:e.deltaX*t.PAGE_MODE_MULTIPLIER,y:e.deltaY*t.PAGE_MODE_MULTIPLIER}}},t.utils.tokenizeInterpolation=function(e){return t.utils.tokenizeInterpolation_(e,!0)},t.utils.replaceMessageReferences=function(e){return"string"!=typeof e?e:(e=t.utils.tokenizeInterpolation_(e,!1)).length?String(e[0]):""},t.utils.checkMessageReferences=function(e){for(var n=!0,a=t.Msg,u=e.match(/%{BKY_[A-Z]\w*}/gi),C=0;C<u.length;C++)null==a[u[C].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+u[C]+" in "+e),n=!1);return n},t.utils.tokenizeInterpolation_=function(e,n){var a=[],u=e.split("");u.push("");var C=0;e=[];for(var D=null,F=0;F<u.length;F++){var W=u[F];0==C?"%"==W?((W=e.join(""))&&a.push(W),e.length=0,C=1):e.push(W):1==C?"%"==W?(e.push(W),C=0):n&&"0"<=W&&"9">=W?(C=2,D=W,(W=e.join(""))&&a.push(W),e.length=0):"{"==W?C=3:(e.push("%",W),C=0):2==C?"0"<=W&&"9">=W?D+=W:(a.push(parseInt(D,10)),F--,C=0):3==C&&(""==W?(e.splice(0,0,"%{"),F--,C=0):"}"!=W?e.push(W):(C=e.join(""),/[A-Z]\w*/i.test(C)?(W=C.toUpperCase(),(W=t.utils.string.startsWith(W,"BKY_")?W.substring(4):null)&&W in t.Msg?"string"==typeof(C=t.Msg[W])?Array.prototype.push.apply(a,t.utils.tokenizeInterpolation_(C,n)):a.push(n?String(C):C):a.push("%{"+C+"}")):a.push("%{"+C+"}"),C=e.length=0))}for((W=e.join(""))&&a.push(W),n=[],F=e.length=0;F<a.length;++F)"string"==typeof a[F]?e.push(a[F]):((W=e.join(""))&&n.push(W),e.length=0,n.push(a[F]));return(W=e.join(""))&&n.push(W),e.length=0,n},t.utils.genUid=function(){for(var e=t.utils.genUid.soup_.length,n=[],a=0;20>a;a++)n[a]=t.utils.genUid.soup_.charAt(Math.random()*e);return n.join("")},t.utils.genUid.soup_="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t.utils.is3dSupported=function(){if(void 0!==t.utils.is3dSupported.cached_)return t.utils.is3dSupported.cached_;if(!t.utils.global.getComputedStyle)return!1;var e=document.createElement("p"),n="none",a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var u in document.body.insertBefore(e,null),a)if(void 0!==e.style[u]){if(e.style[u]="translate3d(1px,1px,1px)",!(n=t.utils.global.getComputedStyle(e)))return document.body.removeChild(e),!1;n=n.getPropertyValue(a[u])}return document.body.removeChild(e),t.utils.is3dSupported.cached_="none"!==n,t.utils.is3dSupported.cached_},t.utils.runAfterPageLoad=function(e){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)e();else var n=setInterval(function(){"complete"==document.readyState&&(clearInterval(n),e())},10)},t.utils.getViewportBBox=function(){var e=t.utils.style.getViewportPageOffset();return new t.utils.Rect(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},t.utils.arrayRemove=function(e,n){return-1!=(n=e.indexOf(n))&&(e.splice(n,1),!0)},t.utils.getDocumentScroll=function(){var e=document.documentElement,n=window;return t.utils.userAgent.IE&&n.pageYOffset!=e.scrollTop?new t.utils.Coordinate(e.scrollLeft,e.scrollTop):new t.utils.Coordinate(n.pageXOffset||e.scrollLeft,n.pageYOffset||e.scrollTop)},t.utils.getBlockTypeCounts=function(e,n){var a=Object.create(null),u=e.getDescendants(!0);for(n&&(e=e.getNextBlock())&&(e=u.indexOf(e),u.splice(e,u.length-e)),e=0;n=u[e];e++)a[n.type]?a[n.type]++:a[n.type]=1;return a},t.utils.screenToWsCoordinates=function(e,n){var a=n.x;n=n.y;var u=e.getInjectionDiv().getBoundingClientRect();return a=new t.utils.Coordinate(a-u.left,n-u.top),n=e.getOriginOffsetInPixels(),t.utils.Coordinate.difference(a,n).scale(1/e.scale)},t.utils.parseBlockColour=function(e){var n="string"==typeof e?t.utils.replaceMessageReferences(e):e,a=Number(n);if(!isNaN(a)&&0<=a&&360>=a)return{hue:a,hex:t.utils.colour.hsvToHex(a,t.HSV_SATURATION,255*t.HSV_VALUE)};if(a=t.utils.colour.parse(n))return{hue:null,hex:a};throw a='Invalid colour: "'+n+'"',e!=n&&(a+=' (from "'+e+'")'),Error(a)},t.Touch={},t.Touch.TOUCH_ENABLED="ontouchstart"in t.utils.global||!!(t.utils.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!t.utils.global.navigator||!t.utils.global.navigator.maxTouchPoints&&!t.utils.global.navigator.msMaxTouchPoints),t.Touch.touchIdentifier_=null,t.Touch.TOUCH_MAP={},t.utils.global.PointerEvent?t.Touch.TOUCH_MAP={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:t.Touch.TOUCH_ENABLED&&(t.Touch.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),t.longPid_=0,t.longStart=function(e,n){t.longStop_(),e.changedTouches&&1!=e.changedTouches.length||(t.longPid_=setTimeout(function(){e.changedTouches&&(e.button=2,e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),n&&n.handleRightClick(e)},t.LONGPRESS))},t.longStop_=function(){t.longPid_&&(clearTimeout(t.longPid_),t.longPid_=0)},t.Touch.clearTouchIdentifier=function(){t.Touch.touchIdentifier_=null},t.Touch.shouldHandleEvent=function(e){return!t.Touch.isMouseOrTouchEvent(e)||t.Touch.checkTouchIdentifier(e)},t.Touch.getTouchIdentifierFromEvent=function(e){return null!=e.pointerId?e.pointerId:e.changedTouches&&e.changedTouches[0]&&null!=e.changedTouches[0].identifier?e.changedTouches[0].identifier:"mouse"},t.Touch.checkTouchIdentifier=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);return null!=t.Touch.touchIdentifier_?t.Touch.touchIdentifier_==n:("mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type)&&(t.Touch.touchIdentifier_=n,!0)},t.Touch.setClientFromTouch=function(e){if(t.utils.string.startsWith(e.type,"touch")){var n=e.changedTouches[0];e.clientX=n.clientX,e.clientY=n.clientY}},t.Touch.isMouseOrTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"mouse")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.isTouchEvent=function(e){return t.utils.string.startsWith(e.type,"touch")||t.utils.string.startsWith(e.type,"pointer")},t.Touch.splitEventByTouches=function(e){var n=[];if(e.changedTouches)for(var a=0;a<e.changedTouches.length;a++)n[a]={type:e.type,changedTouches:[e.changedTouches[a]],target:e.target,stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()}};else n.push(e);return n},t.browserEvents={},t.browserEvents.conditionalBind=function(e,n,a,u,C,D){var F=!1,W=function(Te){var le=!C;Te=t.Touch.splitEventByTouches(Te);for(var Pe,_e=0;Pe=Te[_e];_e++)(!le||t.Touch.shouldHandleEvent(Pe))&&(t.Touch.setClientFromTouch(Pe),a?u.call(a,Pe):u(Pe),F=!0)},te=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var q,oe=0;q=t.Touch.TOUCH_MAP[n][oe];oe++)e.addEventListener(q,W,!1),te.push([e,q,W]);else if(e.addEventListener(n,W,!1),te.push([e,n,W]),n in t.Touch.TOUCH_MAP){var ue=function(Te){W(Te),F&&!D&&Te.preventDefault()};for(oe=0;q=t.Touch.TOUCH_MAP[n][oe];oe++)e.addEventListener(q,ue,!1),te.push([e,q,ue])}return te},t.browserEvents.bind=function(e,n,a,u){var C=function(oe){a?u.call(a,oe):u(oe)},D=[];if(t.utils.global.PointerEvent&&n in t.Touch.TOUCH_MAP)for(var W,F=0;W=t.Touch.TOUCH_MAP[n][F];F++)e.addEventListener(W,C,!1),D.push([e,W,C]);else if(e.addEventListener(n,C,!1),D.push([e,n,C]),n in t.Touch.TOUCH_MAP){var te=function(oe){if(oe.changedTouches&&1==oe.changedTouches.length){var q=oe.changedTouches[0];oe.clientX=q.clientX,oe.clientY=q.clientY}C(oe),oe.preventDefault()};for(F=0;W=t.Touch.TOUCH_MAP[n][F];F++)e.addEventListener(W,te,!1),D.push([e,W,te])}return D},t.browserEvents.unbind=function(e){for(;e.length;){var n=e.pop(),a=n[2];n[0].removeEventListener(n[1],a,!1)}return a},t.ComponentManager=function(){this.componentData_=Object.create(null),this.capabilityToComponentIds_=Object.create(null)},t.ComponentManager.prototype.addComponent=function(e,n){var a=e.component.id;if(!n&&this.componentData_[a])throw Error('Plugin "'+a+'" with capabilities "'+this.componentData_[a].capabilities+'" already added.');this.componentData_[a]=e,n=[];for(var u=0;u<e.capabilities.length;u++){var C=String(e.capabilities[u]).toLowerCase();n.push(C),void 0===this.capabilityToComponentIds_[C]?this.capabilityToComponentIds_[C]=[a]:this.capabilityToComponentIds_[C].push(a)}this.componentData_[a].capabilities=n},t.ComponentManager.prototype.removeComponent=function(e){var n=this.componentData_[e];if(n){for(var a=0;a<n.capabilities.length;a++){var u=String(n.capabilities[a]).toLowerCase();this.capabilityToComponentIds_[u].splice(this.capabilityToComponentIds_[u].indexOf(e),1)}delete this.componentData_[e]}},t.ComponentManager.prototype.addCapability=function(e,n){if(!this.getComponent(e))throw Error('Cannot add capability, "'+n+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,n)?console.warn('Plugin "'+e+'already has capability "'+n+'"'):(n=String(n).toLowerCase(),this.componentData_[e].capabilities.push(n),this.capabilityToComponentIds_[n].push(e))},t.ComponentManager.prototype.removeCapability=function(e,n){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+n+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,n)?(n=String(n).toLowerCase(),this.componentData_[e].capabilities.splice(this.componentData_[e].capabilities.indexOf(n),1),this.capabilityToComponentIds_[n].splice(this.capabilityToComponentIds_[n].indexOf(e),1)):console.warn('Plugin "'+e+"doesn't have capability \""+n+'" to remove')},t.ComponentManager.prototype.hasCapability=function(e,n){return n=String(n).toLowerCase(),-1!==this.componentData_[e].capabilities.indexOf(n)},t.ComponentManager.prototype.getComponent=function(e){return this.componentData_[e]&&this.componentData_[e].component},t.ComponentManager.prototype.getComponents=function(e,n){if(e=String(e).toLowerCase(),!(e=this.capabilityToComponentIds_[e]))return[];var a=[];if(n){var u=[],C=this.componentData_;e.forEach(function(D){u.push(C[D])}),u.sort(function(D,F){return D.weight-F.weight}),u.forEach(function(D){a.push(D.component)})}else C=this.componentData_,e.forEach(function(D){a.push(C[D].component)});return a},t.ComponentManager.Capability=function(e){this.name_=e},t.ComponentManager.Capability.prototype.toString=function(){return this.name_},t.ComponentManager.Capability.POSITIONABLE=new t.ComponentManager.Capability("positionable"),t.ComponentManager.Capability.DRAG_TARGET=new t.ComponentManager.Capability("drag_target"),t.ComponentManager.Capability.DELETE_AREA=new t.ComponentManager.Capability("delete_area"),t.ComponentManager.Capability.AUTOHIDEABLE=new t.ComponentManager.Capability("autohideable"),t.utils.Svg=function(e){this.tagName_=e},t.utils.Svg.prototype.toString=function(){return this.tagName_},t.utils.Svg.ANIMATE=new t.utils.Svg("animate"),t.utils.Svg.CIRCLE=new t.utils.Svg("circle"),t.utils.Svg.CLIPPATH=new t.utils.Svg("clipPath"),t.utils.Svg.DEFS=new t.utils.Svg("defs"),t.utils.Svg.FECOMPOSITE=new t.utils.Svg("feComposite"),t.utils.Svg.FECOMPONENTTRANSFER=new t.utils.Svg("feComponentTransfer"),t.utils.Svg.FEFLOOD=new t.utils.Svg("feFlood"),t.utils.Svg.FEFUNCA=new t.utils.Svg("feFuncA"),t.utils.Svg.FEGAUSSIANBLUR=new t.utils.Svg("feGaussianBlur"),t.utils.Svg.FEPOINTLIGHT=new t.utils.Svg("fePointLight"),t.utils.Svg.FESPECULARLIGHTING=new t.utils.Svg("feSpecularLighting"),t.utils.Svg.FILTER=new t.utils.Svg("filter"),t.utils.Svg.FOREIGNOBJECT=new t.utils.Svg("foreignObject"),t.utils.Svg.G=new t.utils.Svg("g"),t.utils.Svg.IMAGE=new t.utils.Svg("image"),t.utils.Svg.LINE=new t.utils.Svg("line"),t.utils.Svg.PATH=new t.utils.Svg("path"),t.utils.Svg.PATTERN=new t.utils.Svg("pattern"),t.utils.Svg.POLYGON=new t.utils.Svg("polygon"),t.utils.Svg.RECT=new t.utils.Svg("rect"),t.utils.Svg.SVG=new t.utils.Svg("svg"),t.utils.Svg.TEXT=new t.utils.Svg("text"),t.utils.Svg.TSPAN=new t.utils.Svg("tspan"),t.utils.dom={},t.utils.dom.SVG_NS="http://www.w3.org/2000/svg",t.utils.dom.HTML_NS="http://www.w3.org/1999/xhtml",t.utils.dom.XLINK_NS="http://www.w3.org/1999/xlink",t.utils.dom.NodeType={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16},t.utils.dom.cacheWidths_=null,t.utils.dom.cacheReference_=0,t.utils.dom.canvasContext_=null,t.utils.dom.createSvgElement=function(e,n,a){for(var u in e=document.createElementNS(t.utils.dom.SVG_NS,String(e)),n)e.setAttribute(u,n[u]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),a&&a.appendChild(e),e},t.utils.dom.addClass=function(e,n){var a=e.getAttribute("class")||"";return-1==(" "+a+" ").indexOf(" "+n+" ")&&(a&&(a+=" "),e.setAttribute("class",a+n),!0)},t.utils.dom.removeClasses=function(e,n){n=n.split(" ");for(var a=0;a<n.length;a++)t.utils.dom.removeClass(e,n[a])},t.utils.dom.removeClass=function(e,n){var a=e.getAttribute("class");if(-1==(" "+a+" ").indexOf(" "+n+" "))return!1;a=a.split(/\s+/);for(var u=0;u<a.length;u++)a[u]&&a[u]!=n||(a.splice(u,1),u--);return a.length?e.setAttribute("class",a.join(" ")):e.removeAttribute("class"),!0},t.utils.dom.hasClass=function(e,n){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+n+" ")},t.utils.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},t.utils.dom.insertAfter=function(e,n){var a=n.nextSibling;if(!(n=n.parentNode))throw Error("Reference node has no parent.");a?n.insertBefore(e,a):n.appendChild(e)},t.utils.dom.containsNode=function(e,n){return!!(e.compareDocumentPosition(n)&t.utils.dom.NodeType.DOCUMENT_POSITION_CONTAINED_BY)},t.utils.dom.setCssTransform=function(e,n){e.style.transform=n,e.style["-webkit-transform"]=n},t.utils.dom.startTextWidthCache=function(){t.utils.dom.cacheReference_++,t.utils.dom.cacheWidths_||(t.utils.dom.cacheWidths_=Object.create(null))},t.utils.dom.stopTextWidthCache=function(){t.utils.dom.cacheReference_--,t.utils.dom.cacheReference_||(t.utils.dom.cacheWidths_=null)},t.utils.dom.getTextWidth=function(e){var a,n=e.textContent+"\n"+e.className.baseVal;if(t.utils.dom.cacheWidths_&&(a=t.utils.dom.cacheWidths_[n]))return a;try{a=t.utils.userAgent.IE||t.utils.userAgent.EDGE?e.getBBox().width:e.getComputedTextLength()}catch(u){return 8*e.textContent.length}return t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[n]=a),a},t.utils.dom.getFastTextWidth=function(e,n,a,u){return t.utils.dom.getFastTextWidthWithSizeString(e,n+"pt",a,u)},t.utils.dom.getFastTextWidthWithSizeString=function(e,n,a,u){var D,C=e.textContent;return e=C+"\n"+e.className.baseVal,t.utils.dom.cacheWidths_&&(D=t.utils.dom.cacheWidths_[e])||(t.utils.dom.canvasContext_||((D=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(D),t.utils.dom.canvasContext_=D.getContext("2d")),t.utils.dom.canvasContext_.font=a+" "+n+" "+u,D=t.utils.dom.canvasContext_.measureText(C).width,t.utils.dom.cacheWidths_&&(t.utils.dom.cacheWidths_[e]=D)),D},t.utils.dom.measureFontMetrics=function(e,n,a,u){var C=document.createElement("span");C.style.font=a+" "+n+" "+u,C.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0px",(n=document.createElement("div")).setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),n.appendChild(C),n.appendChild(e),document.body.appendChild(n);try{a={},n.style.alignItems="baseline",a.baseline=e.offsetTop-C.offsetTop,n.style.alignItems="flex-end",a.height=e.offsetTop-C.offsetTop}finally{document.body.removeChild(n)}return a},t.utils.math={},t.utils.math.toRadians=function(e){return e*Math.PI/180},t.utils.math.toDegrees=function(e){return 180*e/Math.PI},t.utils.math.clamp=function(e,n,a){if(a<e){var u=a;a=e,e=u}return Math.max(e,Math.min(n,a))},t.DropDownDiv=function(){},t.DropDownDiv.boundsElement_=null,t.DropDownDiv.owner_=null,t.DropDownDiv.positionToField_=null,t.DropDownDiv.ARROW_SIZE=16,t.DropDownDiv.BORDER_SIZE=1,t.DropDownDiv.ARROW_HORIZONTAL_PADDING=12,t.DropDownDiv.PADDING_Y=16,t.DropDownDiv.ANIMATION_TIME=.25,t.DropDownDiv.animateOutTimer_=null,t.DropDownDiv.onHide_=null,t.DropDownDiv.rendererClassName_="",t.DropDownDiv.themeClassName_="",t.DropDownDiv.createDom=function(){if(!t.DropDownDiv.DIV_){var e=document.createElement("div");e.className="blocklyDropDownDiv",(t.parentContainer||document.body).appendChild(e),t.DropDownDiv.DIV_=e;var n=document.createElement("div");n.className="blocklyDropDownContent",e.appendChild(n),t.DropDownDiv.content_=n,(n=document.createElement("div")).className="blocklyDropDownArrow",e.appendChild(n),t.DropDownDiv.arrow_=n,t.DropDownDiv.DIV_.style.opacity=0,t.DropDownDiv.DIV_.style.transition="transform "+t.DropDownDiv.ANIMATION_TIME+"s, opacity "+t.DropDownDiv.ANIMATION_TIME+"s",e.addEventListener("focusin",function(){t.utils.dom.addClass(e,"blocklyFocused")}),e.addEventListener("focusout",function(){t.utils.dom.removeClass(e,"blocklyFocused")})}},t.DropDownDiv.setBoundsElement=function(e){t.DropDownDiv.boundsElement_=e},t.DropDownDiv.getContentDiv=function(){return t.DropDownDiv.content_},t.DropDownDiv.clearContent=function(){t.DropDownDiv.content_.textContent="",t.DropDownDiv.content_.style.width=""},t.DropDownDiv.setColour=function(e,n){t.DropDownDiv.DIV_.style.backgroundColor=e,t.DropDownDiv.DIV_.style.borderColor=n},t.DropDownDiv.showPositionedByBlock=function(e,n,a,u){return t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfBlock_(n),e,a,u)},t.DropDownDiv.showPositionedByField=function(e,n,a){return t.DropDownDiv.positionToField_=!0,t.DropDownDiv.showPositionedByRect_(t.DropDownDiv.getScaledBboxOfField_(e),e,n,a)},t.DropDownDiv.getScaledBboxOfBlock_=function(e){var n=e.getSvgRoot(),a=n.getBBox(),u=e.workspace.scale;return e=a.height*u,a=a.width*u,n=t.utils.style.getPageOffset(n),new t.utils.Rect(n.y,n.y+e,n.x,n.x+a)},t.DropDownDiv.getScaledBboxOfField_=function(e){return e=e.getScaledBBox(),new t.utils.Rect(e.top,e.bottom,e.left,e.right)},t.DropDownDiv.showPositionedByRect_=function(e,n,a,u){var C=e.left+(e.right-e.left)/2,D=e.bottom;e=e.top,u&&(e+=u);for(var F=(u=n.getSourceBlock()).workspace;F.options.parentWorkspace;)F=F.options.parentWorkspace;return t.DropDownDiv.setBoundsElement(F.getParentSvg().parentNode),t.DropDownDiv.show(n,u.RTL,C,D,C,e,a)},t.DropDownDiv.show=function(e,n,a,u,C,D,F){return t.DropDownDiv.owner_=e,t.DropDownDiv.onHide_=F||null,(e=t.DropDownDiv.DIV_).style.direction=n?"rtl":"ltr",n=t.getMainWorkspace(),t.DropDownDiv.rendererClassName_=n.getRenderer().getClassName(),t.DropDownDiv.themeClassName_=n.getTheme().getClassName(),t.utils.dom.addClass(e,t.DropDownDiv.rendererClassName_),t.utils.dom.addClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.positionInternal_(a,u,C,D)},t.DropDownDiv.getBoundsInfo_=function(){var e=t.utils.style.getPageOffset(t.DropDownDiv.boundsElement_),n=t.utils.style.getSize(t.DropDownDiv.boundsElement_);return{left:e.x,right:e.x+n.width,top:e.y,bottom:e.y+n.height,width:n.width,height:n.height}},t.DropDownDiv.getPositionMetrics_=function(e,n,a,u){var C=t.DropDownDiv.getBoundsInfo_(),D=t.utils.style.getSize(t.DropDownDiv.DIV_);return n+D.height<C.bottom?t.DropDownDiv.getPositionBelowMetrics_(e,n,C,D):u-D.height>C.top?t.DropDownDiv.getPositionAboveMetrics_(a,u,C,D):n+D.height<document.documentElement.clientHeight?t.DropDownDiv.getPositionBelowMetrics_(e,n,C,D):u-D.height>document.documentElement.clientTop?t.DropDownDiv.getPositionAboveMetrics_(a,u,C,D):t.DropDownDiv.getPositionTopOfPageMetrics_(e,C,D)},t.DropDownDiv.getPositionBelowMetrics_=function(e,n,a,u){return{initialX:(e=t.DropDownDiv.getPositionX(e,a.left,a.right,u.width)).divX,initialY:n,finalX:e.divX,finalY:n+t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:-(t.DropDownDiv.ARROW_SIZE/2+t.DropDownDiv.BORDER_SIZE),arrowAtTop:!0,arrowVisible:!0}},t.DropDownDiv.getPositionAboveMetrics_=function(e,n,a,u){return{initialX:(e=t.DropDownDiv.getPositionX(e,a.left,a.right,u.width)).divX,initialY:n-u.height,finalX:e.divX,finalY:n-u.height-t.DropDownDiv.PADDING_Y,arrowX:e.arrowX,arrowY:u.height-2*t.DropDownDiv.BORDER_SIZE-t.DropDownDiv.ARROW_SIZE/2,arrowAtTop:!1,arrowVisible:!0}},t.DropDownDiv.getPositionTopOfPageMetrics_=function(e,n,a){return{initialX:(e=t.DropDownDiv.getPositionX(e,n.left,n.right,a.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},t.DropDownDiv.getPositionX=function(e,n,a,u){var C=e;return e=t.utils.math.clamp(n,e-u/2,a-u),{arrowX:u=t.utils.math.clamp(n=t.DropDownDiv.ARROW_HORIZONTAL_PADDING,(C-=t.DropDownDiv.ARROW_SIZE/2)-e,u-n-t.DropDownDiv.ARROW_SIZE),divX:e}},t.DropDownDiv.isVisible=function(){return!!t.DropDownDiv.owner_},t.DropDownDiv.hideIfOwner=function(e,n){return t.DropDownDiv.owner_===e&&(n?t.DropDownDiv.hideWithoutAnimation():t.DropDownDiv.hide(),!0)},t.DropDownDiv.hide=function(){var e=t.DropDownDiv.DIV_;e.style.transform="translate(0, 0)",e.style.opacity=0,t.DropDownDiv.animateOutTimer_=setTimeout(function(){t.DropDownDiv.hideWithoutAnimation()},1e3*t.DropDownDiv.ANIMATION_TIME),t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null)},t.DropDownDiv.hideWithoutAnimation=function(){if(t.DropDownDiv.isVisible()){t.DropDownDiv.animateOutTimer_&&clearTimeout(t.DropDownDiv.animateOutTimer_);var e=t.DropDownDiv.DIV_;e.style.transform="",e.style.left="",e.style.top="",e.style.opacity=0,e.style.display="none",e.style.backgroundColor="",e.style.borderColor="",t.DropDownDiv.onHide_&&(t.DropDownDiv.onHide_(),t.DropDownDiv.onHide_=null),t.DropDownDiv.clearContent(),t.DropDownDiv.owner_=null,t.DropDownDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.rendererClassName_),t.DropDownDiv.rendererClassName_=""),t.DropDownDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.DropDownDiv.themeClassName_),t.DropDownDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.DropDownDiv.positionInternal_=function(e,n,a,u){(e=t.DropDownDiv.getPositionMetrics_(e,n,a,u)).arrowVisible?(t.DropDownDiv.arrow_.style.display="",t.DropDownDiv.arrow_.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",t.DropDownDiv.arrow_.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):t.DropDownDiv.arrow_.style.display="none",n=Math.floor(e.initialX),a=Math.floor(e.initialY),u=Math.floor(e.finalX);var C=Math.floor(e.finalY),D=t.DropDownDiv.DIV_;return D.style.left=n+"px",D.style.top=a+"px",D.style.display="block",D.style.opacity=1,D.style.transform="translate("+(u-n)+"px,"+(C-a)+"px)",!!e.arrowAtTop},t.DropDownDiv.repositionForWindowResize=function(){if(t.DropDownDiv.owner_){var e=t.DropDownDiv.owner_,n=e.getSourceBlock();e=t.DropDownDiv.positionToField_?t.DropDownDiv.getScaledBboxOfField_(e):t.DropDownDiv.getScaledBboxOfBlock_(n),t.DropDownDiv.positionInternal_(n=e.left+(e.right-e.left)/2,e.bottom,n,e.top)}else t.DropDownDiv.hide()},t.registry={},t.registry.typeMap_=Object.create(null),t.registry.DEFAULT="default",t.registry.Type=function(e){this.name_=e},t.registry.Type.prototype.toString=function(){return this.name_},t.registry.Type.CONNECTION_CHECKER=new t.registry.Type("connectionChecker"),t.registry.Type.CURSOR=new t.registry.Type("cursor"),t.registry.Type.EVENT=new t.registry.Type("event"),t.registry.Type.FIELD=new t.registry.Type("field"),t.registry.Type.RENDERER=new t.registry.Type("renderer"),t.registry.Type.TOOLBOX=new t.registry.Type("toolbox"),t.registry.Type.THEME=new t.registry.Type("theme"),t.registry.Type.TOOLBOX_ITEM=new t.registry.Type("toolboxItem"),t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX=new t.registry.Type("flyoutsVerticalToolbox"),t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX=new t.registry.Type("flyoutsHorizontalToolbox"),t.registry.Type.METRICS_MANAGER=new t.registry.Type("metricsManager"),t.registry.Type.BLOCK_DRAGGER=new t.registry.Type("blockDragger"),t.registry.register=function(e,n,a,u){if(!(e instanceof t.registry.Type)&&"string"!=typeof e||""==String(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=String(e).toLowerCase(),"string"!=typeof n||""==n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');if(n=n.toLowerCase(),!a)throw Error("Can not register a null value");var C=t.registry.typeMap_[e];if(C||(C=t.registry.typeMap_[e]=Object.create(null)),t.registry.validate_(e,a),!u&&C[n])throw Error('Name "'+n+'" with type "'+e+'" already registered.');C[n]=a},t.registry.validate_=function(e,n){if(e===String(t.registry.Type.FIELD)&&"function"!=typeof n.fromJson)throw Error('Type "'+e+'" must have a fromJson function')},t.registry.unregister=function(e,n){e=String(e).toLowerCase(),n=n.toLowerCase();var a=t.registry.typeMap_[e];a&&a[n]?delete t.registry.typeMap_[e][n]:console.warn("Unable to unregister ["+n+"]["+e+"] from the registry.")},t.registry.getItem_=function(e,n,a){e=String(e).toLowerCase(),n=n.toLowerCase();var u=t.registry.typeMap_[e];if(!u||!u[n]){if(n="Unable to find ["+n+"]["+e+"] in the registry.",a)throw Error(n+" You must require or register a "+e+" plugin.");return console.warn(n),null}return u[n]},t.registry.hasItem=function(e,n){return e=String(e).toLowerCase(),n=n.toLowerCase(),!!(e=t.registry.typeMap_[e])&&!!e[n]},t.registry.getClass=function(e,n,a){return t.registry.getItem_(e,n,a)},t.registry.getObject=function(e,n,a){return t.registry.getItem_(e,n,a)},t.registry.getClassFromOptions=function(e,n,a){return"function"==typeof(n=n.plugins[e.toString()]||t.registry.DEFAULT)?n:t.registry.getClass(e,n,a)},t.Events={},t.Events.group_="",t.Events.recordUndo=!0,t.Events.disabled_=0,t.Events.CREATE="create",t.Events.BLOCK_CREATE=t.Events.CREATE,t.Events.DELETE="delete",t.Events.BLOCK_DELETE=t.Events.DELETE,t.Events.CHANGE="change",t.Events.BLOCK_CHANGE=t.Events.CHANGE,t.Events.MOVE="move",t.Events.BLOCK_MOVE=t.Events.MOVE,t.Events.VAR_CREATE="var_create",t.Events.VAR_DELETE="var_delete",t.Events.VAR_RENAME="var_rename",t.Events.UI="ui",t.Events.BLOCK_DRAG="drag",t.Events.SELECTED="selected",t.Events.CLICK="click",t.Events.MARKER_MOVE="marker_move",t.Events.BUBBLE_OPEN="bubble_open",t.Events.TRASHCAN_OPEN="trashcan_open",t.Events.TOOLBOX_ITEM_SELECT="toolbox_item_select",t.Events.THEME_CHANGE="theme_change",t.Events.VIEWPORT_CHANGE="viewport_change",t.Events.COMMENT_CREATE="comment_create",t.Events.COMMENT_DELETE="comment_delete",t.Events.COMMENT_CHANGE="comment_change",t.Events.COMMENT_MOVE="comment_move",t.Events.FINISHED_LOADING="finished_loading",t.Events.BUMP_EVENTS=[t.Events.BLOCK_CREATE,t.Events.BLOCK_MOVE,t.Events.COMMENT_CREATE,t.Events.COMMENT_MOVE],t.Events.FIRE_QUEUE_=[],t.Events.fire=function(e){t.Events.isEnabled()&&(t.Events.FIRE_QUEUE_.length||setTimeout(t.Events.fireNow_,0),t.Events.FIRE_QUEUE_.push(e))},t.Events.fireNow_=function(){for(var a,e=t.Events.filter(t.Events.FIRE_QUEUE_,!0),n=t.Events.FIRE_QUEUE_.length=0;a=e[n];n++)if(a.workspaceId){var u=t.Workspace.getById(a.workspaceId);u&&u.fireChangeListener(a)}},t.Events.filter=function(e,n){e=e.slice(),n||e.reverse();for(var D,a=[],u=Object.create(null),C=0;D=e[C];C++)if(!D.isNull()){var F=[D.isUiEvent?t.Events.UI:D.type,D.blockId,D.workspaceId].join(" "),W=u[F],te=W?W.event:null;W?D.type==t.Events.MOVE&&W.index==C-1?(te.newParentId=D.newParentId,te.newInputName=D.newInputName,te.newCoordinate=D.newCoordinate,W.index=C):D.type==t.Events.CHANGE&&D.element==te.element&&D.name==te.name?te.newValue=D.newValue:D.type==t.Events.VIEWPORT_CHANGE?(te.viewTop=D.viewTop,te.viewLeft=D.viewLeft,te.scale=D.scale,te.oldScale=D.oldScale):(D.type!=t.Events.CLICK||te.type!=t.Events.BUBBLE_OPEN)&&(u[F]={event:D,index:C},a.push(D)):(u[F]={event:D,index:C},a.push(D))}for(e=a.filter(function(oe){return!oe.isNull()}),n||e.reverse(),C=1;D=e[C];C++)D.type==t.Events.CHANGE&&"mutation"==D.element&&e.unshift(e.splice(C,1)[0]);return e},t.Events.clearPendingUndo=function(){for(var n,e=0;n=t.Events.FIRE_QUEUE_[e];e++)n.recordUndo=!1},t.Events.disable=function(){t.Events.disabled_++},t.Events.enable=function(){t.Events.disabled_--},t.Events.isEnabled=function(){return 0==t.Events.disabled_},t.Events.getGroup=function(){return t.Events.group_},t.Events.setGroup=function(e){t.Events.group_="boolean"==typeof e?e?t.utils.genUid():"":e},t.Events.getDescendantIds=function(e){var n=[];e=e.getDescendants(!1);for(var u,a=0;u=e[a];a++)n[a]=u.id;return n},t.Events.fromJson=function(e,n){var a=t.Events.get(e.type);if(!a)throw Error("Unknown event type.");return(a=new a).fromJson(e),a.workspaceId=n.id,a},t.Events.get=function(e){return t.registry.getClass(t.registry.Type.EVENT,e)},t.Events.disableOrphans=function(e){if((e.type==t.Events.MOVE||e.type==t.Events.CREATE)&&e.workspaceId){var n=t.Workspace.getById(e.workspaceId),a=n.getBlockById(e.blockId);if(a){e=t.Events.recordUndo;try{t.Events.recordUndo=!1;var u=a.getParent();if(u&&u.isEnabled()){var D,C=a.getDescendants(!1);for(n=0;D=C[n];n++)D.setEnabled(!0)}else if((a.outputConnection||a.previousConnection)&&!n.isDragging())do{a.setEnabled(!1),a=a.getNextBlock()}while(a)}finally{t.Events.recordUndo=e}}}},t.Events.Abstract=function(){this.isBlank=null,this.workspaceId=void 0,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.Events.Abstract.prototype.isUiEvent=!1,t.Events.Abstract.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),e},t.Events.Abstract.prototype.fromJson=function(e){this.isBlank=!1,this.group=e.group},t.Events.Abstract.prototype.isNull=function(){return!1},t.Events.Abstract.prototype.run=function(e){},t.Events.Abstract.prototype.getEventWorkspace_=function(){if(this.workspaceId)var e=t.Workspace.getById(this.workspaceId);if(!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e},t.utils.object={},t.utils.object.inherits=function(e,n){e.superClass_=n.prototype,e.prototype=Object.create(n.prototype),e.prototype.constructor=e},t.utils.object.mixin=function(e,n){for(var a in n)e[a]=n[a]},t.utils.object.deepMerge=function(e,n){for(var a in n)e[a]=null!=n[a]&&"object"==typeof n[a]?t.utils.object.deepMerge(e[a]||Object.create(null),n[a]):n[a];return e},t.utils.object.values=function(e){return Object.values?Object.values(e):Object.keys(e).map(function(n){return e[n]})},t.utils.xml={},t.utils.xml.NAME_SPACE="https://developers.google.com/blockly/xml",t.utils.xml.document=function(){return document},t.utils.xml.createElement=function(e){return t.utils.xml.document().createElementNS(t.utils.xml.NAME_SPACE,e)},t.utils.xml.createTextNode=function(e){return t.utils.xml.document().createTextNode(e)},t.utils.xml.textToDomDocument=function(e){return(new DOMParser).parseFromString(e,"text/xml")},t.utils.xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},t.inputTypes={VALUE:t.connectionTypes.INPUT_VALUE,STATEMENT:t.connectionTypes.NEXT_STATEMENT,DUMMY:5},t.Xml={},t.Xml.workspaceToDom=function(e,n){var a=t.utils.xml.createElement("xml"),u=t.Xml.variablesToDom(t.Variables.allUsedVarModels(e));u.hasChildNodes()&&a.appendChild(u);var D,C=e.getTopComments(!0);for(u=0;D=C[u];u++)a.appendChild(D.toXmlWithXY(n));for(e=e.getTopBlocks(!0),u=0;C=e[u];u++)a.appendChild(t.Xml.blockToDomWithXY(C,n));return a},t.Xml.variablesToDom=function(e){for(var u,n=t.utils.xml.createElement("variables"),a=0;u=e[a];a++){var C=t.utils.xml.createElement("variable");C.appendChild(t.utils.xml.createTextNode(u.name)),u.type&&C.setAttribute("type",u.type),C.id=u.getId(),n.appendChild(C)}return n},t.Xml.blockToDomWithXY=function(e,n){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;var a;e.workspace.RTL&&(a=e.workspace.getWidth()),n=t.Xml.blockToDom(e,n);var u=e.getRelativeToSurfaceXY();return n.setAttribute("x",Math.round(e.workspace.RTL?a-u.x:u.x)),n.setAttribute("y",Math.round(u.y)),n},t.Xml.fieldToDom_=function(e){if(e.isSerializable()){var n=t.utils.xml.createElement("field");return n.setAttribute("name",e.name||""),e.toXml(n)}return null},t.Xml.allFieldsToDom_=function(e,n){for(var u,a=0;u=e.inputList[a];a++)for(var D,C=0;D=u.fieldRow[C];C++)(D=t.Xml.fieldToDom_(D))&&n.appendChild(D)},t.Xml.blockToDom=function(e,n){if(e.isInsertionMarker())return(e=e.getChildren(!1)[0])?t.Xml.blockToDom(e):new DocumentFragment;var a=t.utils.xml.createElement(e.isShadow()?"shadow":"block");if(a.setAttribute("type",e.type),n||a.setAttribute("id",e.id),e.mutationToDom){var u=e.mutationToDom();u&&(u.hasChildNodes()||u.hasAttributes())&&a.appendChild(u)}if(t.Xml.allFieldsToDom_(e,a),u=e.getCommentText()){var C=e.commentModel.size,D=e.commentModel.pinned,F=t.utils.xml.createElement("comment");F.appendChild(t.utils.xml.createTextNode(u)),F.setAttribute("pinned",D),F.setAttribute("h",C.height),F.setAttribute("w",C.width),a.appendChild(F)}for(e.data&&((u=t.utils.xml.createElement("data")).appendChild(t.utils.xml.createTextNode(e.data)),a.appendChild(u)),u=0;C=e.inputList[u];u++){var W;if(D=!0,C.type!=t.inputTypes.DUMMY){var te=C.connection.targetBlock();C.type==t.inputTypes.VALUE?W=t.utils.xml.createElement("value"):C.type==t.inputTypes.STATEMENT&&(W=t.utils.xml.createElement("statement")),!(F=C.connection.getShadowDom())||te&&te.isShadow()||W.appendChild(t.Xml.cloneShadow_(F,n)),te&&(F=t.Xml.blockToDom(te,n)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&(W.appendChild(F),D=!1),W.setAttribute("name",C.name),D||a.appendChild(W)}}return null!=e.inputsInline&&e.inputsInline!=e.inputsInlineDefault&&a.setAttribute("inline",e.inputsInline),e.isCollapsed()&&a.setAttribute("collapsed",!0),e.isEnabled()||a.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||a.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||a.setAttribute("movable",!1),e.isEditable()||a.setAttribute("editable",!1),(u=e.getNextBlock())&&(F=t.Xml.blockToDom(u,n)).nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&((W=t.utils.xml.createElement("next")).appendChild(F),a.appendChild(W)),!(F=e.nextConnection&&e.nextConnection.getShadowDom())||u&&u.isShadow()||W.appendChild(t.Xml.cloneShadow_(F,n)),a},t.Xml.cloneShadow_=function(e,n){for(var u,a=e=e.cloneNode(!0);a;)if(n&&"shadow"==a.nodeName&&a.removeAttribute("id"),a.firstChild)a=a.firstChild;else{for(;a&&!a.nextSibling;)u=a,a=a.parentNode,u.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==u.data.trim()&&a.firstChild!=u&&t.utils.dom.removeNode(u);a&&(u=a,a=a.nextSibling,u.nodeType==t.utils.dom.NodeType.TEXT_NODE&&""==u.data.trim()&&t.utils.dom.removeNode(u))}return e},t.Xml.domToText=function(e){return t.utils.xml.domToText(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},t.Xml.domToPrettyText=function(e){e=t.Xml.domToText(e).split("<");for(var n="",a=1;a<e.length;a++){var u=e[a];"/"==u[0]&&(n=n.substring(2)),e[a]=n+"<"+u,"/"!=u[0]&&"/>"!=u.slice(-2)&&(n+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},t.Xml.textToDom=function(e){var n=t.utils.xml.textToDomDocument(e);if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+e);return n.documentElement},t.Xml.clearWorkspaceAndLoadFromXml=function(e,n){return n.setResizesEnabled(!1),n.clear(),e=t.Xml.domToWorkspace(e,n),n.setResizesEnabled(!0),e},t.Xml.domToWorkspace=function(e,n){if(e instanceof t.Workspace){var a=e;e=n,n=a,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var u;n.RTL&&(u=n.getWidth()),a=[],t.utils.dom.startTextWidthCache();var C=t.Events.getGroup();C||t.Events.setGroup(!0),n.setResizesEnabled&&n.setResizesEnabled(!1);var D=!0;try{for(var W,F=0;W=e.childNodes[F];F++){var te=W.nodeName.toLowerCase(),oe=W;if("block"==te||"shadow"==te&&!t.Events.recordUndo){var q=t.Xml.domToBlock(oe,n);a.push(q.id);var ue=oe.hasAttribute("x")?parseInt(oe.getAttribute("x"),10):10,Te=oe.hasAttribute("y")?parseInt(oe.getAttribute("y"),10):10;isNaN(ue)||isNaN(Te)||q.moveBy(n.RTL?u-ue:ue,Te),D=!1}else{if("shadow"==te)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==te)n.rendered?t.WorkspaceCommentSvg?t.WorkspaceCommentSvg.fromXml(oe,n,u):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):t.WorkspaceComment?t.WorkspaceComment.fromXml(oe,n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==te){if(!D)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");t.Xml.domToVariables(oe,n),D=!1}}}}finally{C||t.Events.setGroup(!1),t.utils.dom.stopTextWidthCache()}return n.setResizesEnabled&&n.setResizesEnabled(!0),t.Events.fire(new(t.Events.get(t.Events.FINISHED_LOADING))(n)),a},t.Xml.appendDomToWorkspace=function(e,n){var a;if(Object.prototype.hasOwnProperty.call(n,"scale")&&(a=n.getBlocksBoundingBox()),e=t.Xml.domToWorkspace(e,n),a&&a.top!=a.bottom){var u=a.bottom,C=n.RTL?a.right:a.left,D=1/0,F=-1/0,W=1/0;for(a=0;a<e.length;a++){var te=n.getBlockById(e[a]).getRelativeToSurfaceXY();te.y<W&&(W=te.y),te.x<D&&(D=te.x),te.x>F&&(F=te.x)}for(u=u-W+10,C=n.RTL?C-F:C-D,a=0;a<e.length;a++)n.getBlockById(e[a]).moveBy(C,u)}return e},t.Xml.domToBlock=function(e,n){if(e instanceof t.Workspace){var a=e;e=n,n=a,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}t.Events.disable(),a=n.getAllVariables();try{var u=t.Xml.domToBlockHeadless_(e,n),C=u.getDescendants(!1);if(n.rendered){u.setConnectionTracking(!1);for(var D=C.length-1;0<=D;D--)C[D].initSvg();for(D=C.length-1;0<=D;D--)C[D].render(!1);setTimeout(function(){u.disposed||u.setConnectionTracking(!0)},1),u.updateDisabled(),n.resizeContents()}else for(D=C.length-1;0<=D;D--)C[D].initModel()}finally{t.Events.enable()}if(t.Events.isEnabled()){for(e=t.Variables.getAddedVariables(n,a),D=0;D<e.length;D++)n=e[D],t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(n));t.Events.fire(new(t.Events.get(t.Events.CREATE))(u))}return u},t.Xml.domToVariables=function(e,n){for(var u,a=0;u=e.childNodes[a];a++)if(u.nodeType==t.utils.dom.NodeType.ELEMENT_NODE){var C=u.getAttribute("type"),D=u.getAttribute("id");n.createVariable(u.textContent,C,D)}},t.Xml.mapSupportedXmlTags_=function(e){for(var u,n={mutation:[],comment:[],data:[],field:[],input:[],next:[]},a=0;u=e.childNodes[a];a++)if(u.nodeType!=t.utils.dom.NodeType.TEXT_NODE)switch(u.nodeName.toLowerCase()){case"mutation":n.mutation.push(u);break;case"comment":if(!t.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}n.comment.push(u);break;case"data":n.data.push(u);break;case"title":case"field":n.field.push(u);break;case"value":case"statement":n.input.push(u);break;case"next":n.next.push(u);break;default:console.warn("Ignoring unknown tag: "+u.nodeName)}return n},t.Xml.applyMutationTagNodes_=function(e,n){for(var C,a=!1,u=0;C=e[u];u++)n.domToMutation&&(n.domToMutation(C),n.initSvg&&(a=!0));return a},t.Xml.applyCommentTagNodes_=function(e,n){for(var u,a=0;u=e[a];a++){var C=u.textContent,D="true"==u.getAttribute("pinned"),F=parseInt(u.getAttribute("w"),10);u=parseInt(u.getAttribute("h"),10),n.setCommentText(C),n.commentModel.pinned=D,isNaN(F)||isNaN(u)||(n.commentModel.size=new t.utils.Size(F,u)),D&&n.getCommentIcon&&!n.isInFlyout&&setTimeout(function(){n.getCommentIcon().setVisible(!0)},1)}},t.Xml.applyDataTagNodes_=function(e,n){for(var u,a=0;u=e[a];a++)n.data=u.textContent},t.Xml.applyFieldTagNodes_=function(e,n){for(var u,a=0;u=e[a];a++){var C=u.getAttribute("name");t.Xml.domToField_(n,C,u)}},t.Xml.findChildBlocks_=function(e){for(var u,n={childBlockElement:null,childShadowElement:null},a=0;u=e.childNodes[a];a++)u.nodeType==t.utils.dom.NodeType.ELEMENT_NODE&&("block"==u.nodeName.toLowerCase()?n.childBlockElement=u:"shadow"==u.nodeName.toLowerCase()&&(n.childShadowElement=u));return n},t.Xml.applyInputTagNodes_=function(e,n,a,u){for(var D,C=0;D=e[C];C++){var F=D.getAttribute("name"),W=a.getInput(F);if(!W){console.warn("Ignoring non-existent input "+F+" in block "+u);break}if((D=t.Xml.findChildBlocks_(D)).childBlockElement){if(!W.connection)throw TypeError("Input connection does not exist.");t.Xml.domToBlockHeadless_(D.childBlockElement,n,W.connection,!1)}D.childShadowElement&&W.connection.setShadowDom(D.childShadowElement)}},t.Xml.applyNextTagNodes_=function(e,n,a){for(var C,u=0;C=e[u];u++){if((C=t.Xml.findChildBlocks_(C)).childBlockElement){if(!a.nextConnection)throw TypeError("Next statement does not exist.");if(a.nextConnection.isConnected())throw TypeError("Next statement is already connected.");t.Xml.domToBlockHeadless_(C.childBlockElement,n,a.nextConnection,!0)}C.childShadowElement&&a.nextConnection&&a.nextConnection.setShadowDom(C.childShadowElement)}},t.Xml.domToBlockHeadless_=function(e,n,a,u){var C=e.getAttribute("type");if(!C)throw TypeError("Block type unspecified: "+e.outerHTML);var D=e.getAttribute("id");D=n.newBlock(C,D);var F=t.Xml.mapSupportedXmlTags_(e),W=t.Xml.applyMutationTagNodes_(F.mutation,D);if(t.Xml.applyCommentTagNodes_(F.comment,D),t.Xml.applyDataTagNodes_(F.data,D),a)if(u){if(!D.previousConnection)throw TypeError("Next block does not have previous statement.");a.connect(D.previousConnection)}else if(D.outputConnection)a.connect(D.outputConnection);else{if(!D.previousConnection)throw TypeError("Child block does not have output or previous statement.");a.connect(D.previousConnection)}if(t.Xml.applyFieldTagNodes_(F.field,D),t.Xml.applyInputTagNodes_(F.input,n,D,C),t.Xml.applyNextTagNodes_(F.next,n,D),W&&D.initSvg(),(n=e.getAttribute("inline"))&&D.setInputsInline("true"==n),(n=e.getAttribute("disabled"))&&D.setEnabled("true"!=n&&"disabled"!=n),(n=e.getAttribute("deletable"))&&D.setDeletable("true"==n),(n=e.getAttribute("movable"))&&D.setMovable("true"==n),(n=e.getAttribute("editable"))&&D.setEditable("true"==n),(n=e.getAttribute("collapsed"))&&D.setCollapsed("true"==n),"shadow"==e.nodeName.toLowerCase()){for(e=D.getChildren(!1),n=0;a=e[n];n++)if(!a.isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(D.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");D.setShadow(!0)}return D},t.Xml.domToField_=function(e,n,a){var u=e.getField(n);u?u.fromXml(a):console.warn("Ignoring non-existent field "+n+" in block "+e.type)},t.Xml.deleteNext=function(e){for(var a,n=0;a=e.childNodes[n];n++)if("next"==a.nodeName.toLowerCase()){e.removeChild(a);break}},t.Events.BlockBase=function(e){t.Events.BlockBase.superClass_.constructor.call(this),this.blockId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.BlockBase,t.Events.Abstract),t.Events.BlockBase.prototype.toJson=function(){var e=t.Events.BlockBase.superClass_.toJson.call(this);return e.blockId=this.blockId,e},t.Events.BlockBase.prototype.fromJson=function(e){t.Events.BlockBase.superClass_.fromJson.call(this,e),this.blockId=e.blockId},t.Events.BlockChange=function(e,n,a,u,C){t.Events.Change.superClass_.constructor.call(this,e),e&&(this.element=void 0===n?"":n,this.name=void 0===a?"":a,this.oldValue=void 0===u?"":u,this.newValue=void 0===C?"":C)},t.utils.object.inherits(t.Events.BlockChange,t.Events.BlockBase),t.Events.Change=t.Events.BlockChange,t.Events.BlockChange.prototype.type=t.Events.CHANGE,t.Events.BlockChange.prototype.toJson=function(){var e=t.Events.BlockChange.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.oldValue=this.oldValue,e.newValue=this.newValue,e},t.Events.BlockChange.prototype.fromJson=function(e){t.Events.BlockChange.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.oldValue=e.oldValue,this.newValue=e.newValue},t.Events.BlockChange.prototype.isNull=function(){return this.oldValue==this.newValue},t.Events.BlockChange.prototype.run=function(e){var n=this.getEventWorkspace_().getBlockById(this.blockId);if(n)switch(n.mutator&&n.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(n=n.getField(this.name))?n.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":n.setCommentText(e||null);break;case"collapsed":n.setCollapsed(!!e);break;case"disabled":n.setEnabled(!e);break;case"inline":n.setInputsInline(!!e);break;case"mutation":var a="";if(n.mutationToDom&&(a=(a=n.mutationToDom())&&t.Xml.domToText(a)),n.domToMutation){var u=t.Xml.textToDom(e||"<mutation/>");n.domToMutation(u)}t.Events.fire(new t.Events.BlockChange(n,"mutation",null,a,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.blockId)},t.Events.Create=function(e){t.Events.Create.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e))},t.utils.object.inherits(t.Events.Create,t.Events.BlockBase),t.Events.BlockCreate=t.Events.Create,t.Events.Create.prototype.type=t.Events.CREATE,t.Events.Create.prototype.toJson=function(){var e=t.Events.Create.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Create.prototype.fromJson=function(e){t.Events.Create.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Create.prototype.run=function(e){var n=this.getEventWorkspace_();if(e)(e=t.utils.xml.createElement("xml")).appendChild(this.xml),t.Xml.domToWorkspace(e,n);else{e=0;for(var a;a=this.ids[e];e++){var u=n.getBlockById(a);u?u.dispose(!1):a==this.blockId&&console.warn("Can't uncreate non-existent block: "+a)}}},t.Events.Delete=function(e){if(t.Events.Delete.superClass_.constructor.call(this,e),e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=e.workspace.rendered?t.Xml.blockToDomWithXY(e):t.Xml.blockToDom(e),this.ids=t.Events.getDescendantIds(e)}},t.utils.object.inherits(t.Events.Delete,t.Events.BlockBase),t.Events.BlockDelete=t.Events.Delete,t.Events.Delete.prototype.type=t.Events.DELETE,t.Events.Delete.prototype.toJson=function(){var e=t.Events.Delete.superClass_.toJson.call(this);return e.oldXml=t.Xml.domToText(this.oldXml),e.ids=this.ids,this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Delete.prototype.fromJson=function(e){t.Events.Delete.superClass_.fromJson.call(this,e),this.oldXml=t.Xml.textToDom(e.oldXml),this.ids=e.ids,void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Delete.prototype.run=function(e){var n=this.getEventWorkspace_();if(e){e=0;for(var a;a=this.ids[e];e++){var u=n.getBlockById(a);u?u.dispose(!1):a==this.blockId&&console.warn("Can't delete non-existent block: "+a)}}else(e=t.utils.xml.createElement("xml")).appendChild(this.oldXml),t.Xml.domToWorkspace(e,n)},t.Events.Move=function(e){t.Events.Move.superClass_.constructor.call(this,e),e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},t.utils.object.inherits(t.Events.Move,t.Events.BlockBase),t.Events.BlockMove=t.Events.Move,t.Events.Move.prototype.type=t.Events.MOVE,t.Events.Move.prototype.toJson=function(){var e=t.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),this.recordUndo||(e.recordUndo=this.recordUndo),e},t.Events.Move.prototype.fromJson=function(e){if(t.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate){var n=e.newCoordinate.split(",");this.newCoordinate=new t.utils.Coordinate(Number(n[0]),Number(n[1]))}void 0!==e.recordUndo&&(this.recordUndo=e.recordUndo)},t.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},t.Events.Move.prototype.currentLocation_=function(){var e=this.getEventWorkspace_().getBlockById(this.blockId),n={},a=e.getParent();return a?(n.parentId=a.id,(e=a.getInputWithBlock(e))&&(n.inputName=e.name)):n.coordinate=e.getRelativeToSurfaceXY(),n},t.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&t.utils.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},t.Events.Move.prototype.run=function(e){var n=this.getEventWorkspace_(),a=n.getBlockById(this.blockId);if(a){var u=e?this.newParentId:this.oldParentId,C=e?this.newInputName:this.oldInputName,D=e?this.newCoordinate:this.oldCoordinate;if(e=null,u&&!(e=n.getBlockById(u)))return void console.warn("Can't connect to non-existent block: "+u);if(a.getParent()&&a.unplug(),D)C=a.getRelativeToSurfaceXY(),a.moveBy(D.x-C.x,D.y-C.y);else{if(n=(a=a.outputConnection||a.previousConnection).type,C){if(e=e.getInput(C))var F=e.connection}else n==t.connectionTypes.PREVIOUS_STATEMENT&&(F=e.nextConnection);F?a.connect(F):console.warn("Can't connect to non-existent input: "+C)}}else console.warn("Can't move non-existent block: "+this.blockId)},t.registry.register(t.registry.Type.EVENT,t.Events.CREATE,t.Events.Create),t.registry.register(t.registry.Type.EVENT,t.Events.DELETE,t.Events.Delete),t.registry.register(t.registry.Type.EVENT,t.Events.CHANGE,t.Events.BlockChange),t.registry.register(t.registry.Type.EVENT,t.Events.MOVE,t.Events.Move),t.Events.FinishedLoading=function(e){this.isBlank=void 0===e,this.workspaceId=e?e.id:"",this.group=t.Events.getGroup(),this.recordUndo=!1},t.utils.object.inherits(t.Events.FinishedLoading,t.Events.Abstract),t.Events.FinishedLoading.prototype.type=t.Events.FINISHED_LOADING,t.Events.FinishedLoading.prototype.toJson=function(){var e={type:this.type};return this.group&&(e.group=this.group),this.workspaceId&&(e.workspaceId=this.workspaceId),e},t.Events.FinishedLoading.prototype.fromJson=function(e){this.isBlank=!1,this.workspaceId=e.workspaceId,this.group=e.group},t.registry.register(t.registry.Type.EVENT,t.Events.FINISHED_LOADING,t.Events.FinishedLoading),t.Events.UiBase=function(e){t.Events.UiBase.superClass_.constructor.call(this),this.isBlank=void 0===e,this.workspaceId=e||"",this.recordUndo=!1},t.utils.object.inherits(t.Events.UiBase,t.Events.Abstract),t.Events.UiBase.prototype.isUiEvent=!0,t.Events.Ui=function(e,n,a,u){t.Events.Ui.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.element=void 0===n?"":n,this.oldValue=void 0===a?"":a,this.newValue=void 0===u?"":u},t.utils.object.inherits(t.Events.Ui,t.Events.UiBase),t.Events.Ui.prototype.type=t.Events.UI,t.Events.Ui.prototype.toJson=function(){var e=t.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),this.blockId&&(e.blockId=this.blockId),e},t.Events.Ui.prototype.fromJson=function(e){t.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.UI,t.Events.Ui),t.Events.VarBase=function(e){t.Events.VarBase.superClass_.constructor.call(this),this.varId=(this.isBlank=void 0===e)?"":e.getId(),this.workspaceId=this.isBlank?"":e.workspace.id},t.utils.object.inherits(t.Events.VarBase,t.Events.Abstract),t.Events.VarBase.prototype.toJson=function(){var e=t.Events.VarBase.superClass_.toJson.call(this);return e.varId=this.varId,e},t.Events.VarBase.prototype.fromJson=function(e){t.Events.VarBase.superClass_.toJson.call(this),this.varId=e.varId},t.Events.VarCreate=function(e){t.Events.VarCreate.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarCreate,t.Events.VarBase),t.Events.VarCreate.prototype.type=t.Events.VAR_CREATE,t.Events.VarCreate.prototype.toJson=function(){var e=t.Events.VarCreate.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarCreate.prototype.fromJson=function(e){t.Events.VarCreate.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarCreate.prototype.run=function(e){var n=this.getEventWorkspace_();e?n.createVariable(this.varName,this.varType,this.varId):n.deleteVariableById(this.varId)},t.Events.VarDelete=function(e){t.Events.VarDelete.superClass_.constructor.call(this,e),e&&(this.varType=e.type,this.varName=e.name)},t.utils.object.inherits(t.Events.VarDelete,t.Events.VarBase),t.Events.VarDelete.prototype.type=t.Events.VAR_DELETE,t.Events.VarDelete.prototype.toJson=function(){var e=t.Events.VarDelete.superClass_.toJson.call(this);return e.varType=this.varType,e.varName=this.varName,e},t.Events.VarDelete.prototype.fromJson=function(e){t.Events.VarDelete.superClass_.fromJson.call(this,e),this.varType=e.varType,this.varName=e.varName},t.Events.VarDelete.prototype.run=function(e){var n=this.getEventWorkspace_();e?n.deleteVariableById(this.varId):n.createVariable(this.varName,this.varType,this.varId)},t.Events.VarRename=function(e,n){t.Events.VarRename.superClass_.constructor.call(this,e),e&&(this.oldName=e.name,this.newName=void 0===n?"":n)},t.utils.object.inherits(t.Events.VarRename,t.Events.VarBase),t.Events.VarRename.prototype.type=t.Events.VAR_RENAME,t.Events.VarRename.prototype.toJson=function(){var e=t.Events.VarRename.superClass_.toJson.call(this);return e.oldName=this.oldName,e.newName=this.newName,e},t.Events.VarRename.prototype.fromJson=function(e){t.Events.VarRename.superClass_.fromJson.call(this,e),this.oldName=e.oldName,this.newName=e.newName},t.Events.VarRename.prototype.run=function(e){this.getEventWorkspace_().renameVariableById(this.varId,e?this.newName:this.oldName)},t.registry.register(t.registry.Type.EVENT,t.Events.VAR_CREATE,t.Events.VarCreate),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_DELETE,t.Events.VarDelete),t.registry.register(t.registry.Type.EVENT,t.Events.VAR_RENAME,t.Events.VarRename),t.BlockDragSurfaceSvg=function(e){this.container_=e,this.createDom()},t.BlockDragSurfaceSvg.prototype.SVG_=null,t.BlockDragSurfaceSvg.prototype.dragGroup_=null,t.BlockDragSurfaceSvg.prototype.container_=null,t.BlockDragSurfaceSvg.prototype.scale_=1,t.BlockDragSurfaceSvg.prototype.surfaceXY_=null,t.BlockDragSurfaceSvg.prototype.childSurfaceXY_=new t.utils.Coordinate(0,0),t.BlockDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyBlockDragSurface"},this.container_),this.dragGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.SVG_))},t.BlockDragSurfaceSvg.prototype.setBlocksAndShow=function(e){if(this.dragGroup_.childNodes.length)throw Error("Already dragging a block.");this.dragGroup_.appendChild(e),this.SVG_.style.display="block",this.surfaceXY_=new t.utils.Coordinate(0,0)},t.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=function(e,n,a){this.scale_=a,e=e.toFixed(0),n=n.toFixed(0),this.childSurfaceXY_.x=parseInt(e,10),this.childSurfaceXY_.y=parseInt(n,10),this.dragGroup_.setAttribute("transform","translate("+e+","+n+") scale("+a+")")},t.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=function(){var e=this.surfaceXY_.x,n=this.surfaceXY_.y;e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.BlockDragSurfaceSvg.prototype.translateBy=function(e,n){this.surfaceXY_=new t.utils.Coordinate(this.surfaceXY_.x+e,this.surfaceXY_.y+n),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.translateSurface=function(e,n){this.surfaceXY_=new t.utils.Coordinate(e*this.scale_,n*this.scale_),this.translateSurfaceInternal_()},t.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=function(){var e=t.utils.getRelativeXY(this.SVG_);return new t.utils.Coordinate(e.x/this.scale_,e.y/this.scale_)},t.BlockDragSurfaceSvg.prototype.getGroup=function(){return this.dragGroup_},t.BlockDragSurfaceSvg.prototype.getSvgRoot=function(){return this.SVG_},t.BlockDragSurfaceSvg.prototype.getCurrentBlock=function(){return this.dragGroup_.firstChild},t.BlockDragSurfaceSvg.prototype.getWsTranslation=function(){return this.childSurfaceXY_.clone()},t.BlockDragSurfaceSvg.prototype.clearAndHide=function(e){if(e?e.appendChild(this.getCurrentBlock()):this.dragGroup_.removeChild(this.getCurrentBlock()),this.SVG_.style.display="none",this.dragGroup_.childNodes.length)throw Error("Drag group was not cleared.");this.surfaceXY_=null},t.Css={},t.Css.injected_=!1,t.Css.register=function(e){if(t.Css.injected_)throw Error("CSS already injected");Array.prototype.push.apply(t.Css.CONTENT,e),e.length=0},t.Css.inject=function(e,n){if(!t.Css.injected_){t.Css.injected_=!0;var a=t.Css.CONTENT.join("\n");t.Css.CONTENT.length=0,e&&(e=n.replace(/[\\/]$/,""),a=a.replace(/<<<PATH>>>/g,e),(e=document.createElement("style")).id="blockly-common-style",a=document.createTextNode(a),e.appendChild(a),document.head.insertBefore(e,document.head.firstChild))}},t.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {","max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;","border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {","background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"],t.Grid=function(e,n){this.gridPattern_=e,this.spacing_=n.spacing,this.length_=n.length,this.line2_=(this.line1_=e.firstChild)&&this.line1_.nextSibling,this.snapToGrid_=n.snap},t.Grid.prototype.scale_=1,t.Grid.prototype.dispose=function(){this.gridPattern_=null},t.Grid.prototype.shouldSnap=function(){return this.snapToGrid_},t.Grid.prototype.getSpacing=function(){return this.spacing_},t.Grid.prototype.getPatternId=function(){return this.gridPattern_.id},t.Grid.prototype.update=function(e){this.scale_=e;var n=this.spacing_*e||100;this.gridPattern_.setAttribute("width",n),this.gridPattern_.setAttribute("height",n);var a=(n=Math.floor(this.spacing_/2)+.5)-this.length_/2,u=n+this.length_/2;this.setLineAttributes_(this.line1_,e,a*=e,u*=e,n*=e,n),this.setLineAttributes_(this.line2_,e,n,n,a,u)},t.Grid.prototype.setLineAttributes_=function(e,n,a,u,C,D){e&&(e.setAttribute("stroke-width",n),e.setAttribute("x1",a),e.setAttribute("y1",C),e.setAttribute("x2",u),e.setAttribute("y2",D))},t.Grid.prototype.moveTo=function(e,n){this.gridPattern_.setAttribute("x",e),this.gridPattern_.setAttribute("y",n),(t.utils.userAgent.IE||t.utils.userAgent.EDGE)&&this.update(this.scale_)},t.Grid.createDom=function(e,n,a){return e=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},a),0<n.length&&0<n.spacing?(t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:n.colour},e),1<n.length&&t.utils.dom.createSvgElement(t.utils.Svg.LINE,{stroke:n.colour},e)):t.utils.dom.createSvgElement(t.utils.Svg.LINE,{},e),e},t.Theme=function(e,n,a,u){this.name=e,this.blockStyles=n||Object.create(null),this.categoryStyles=a||Object.create(null),this.componentStyles=u||Object.create(null),this.fontStyle=Object.create(null),this.startHats=null,t.registry.register(t.registry.Type.THEME,e,this)},t.Theme.prototype.getClassName=function(){return this.name+"-theme"},t.Theme.prototype.setBlockStyle=function(e,n){this.blockStyles[e]=n},t.Theme.prototype.setCategoryStyle=function(e,n){this.categoryStyles[e]=n},t.Theme.prototype.getComponentStyle=function(e){return(e=this.componentStyles[e])&&"string"==typeof e&&this.getComponentStyle(e)?this.getComponentStyle(e):e?String(e):null},t.Theme.prototype.setComponentStyle=function(e,n){this.componentStyles[e]=n},t.Theme.prototype.setFontStyle=function(e){this.fontStyle=e},t.Theme.prototype.setStartHats=function(e){this.startHats=e},t.Theme.defineTheme=function(e,n){var a=new t.Theme(e),u=n.base;return u&&("string"==typeof u&&(u=t.registry.getObject(t.registry.Type.THEME,u)),u instanceof t.Theme&&(t.utils.object.deepMerge(a,u),a.name=e)),t.utils.object.deepMerge(a.blockStyles,n.blockStyles),t.utils.object.deepMerge(a.categoryStyles,n.categoryStyles),t.utils.object.deepMerge(a.componentStyles,n.componentStyles),t.utils.object.deepMerge(a.fontStyle,n.fontStyle),null!=n.startHats&&(a.startHats=n.startHats),a},t.Themes={},t.Themes.Classic={},t.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},t.Themes.Classic.categoryStyles={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},t.Themes.Classic=new t.Theme("classic",t.Themes.Classic.defaultBlockStyles,t.Themes.Classic.categoryStyles),t.utils.IdGenerator={},t.utils.IdGenerator.nextId_=0,t.utils.IdGenerator.getNextUniqueId=function(){return"blockly-"+(t.utils.IdGenerator.nextId_++).toString(36)},t.utils.Metrics=function(){},t.utils.toolbox={},t.utils.toolbox.CATEGORY_TOOLBOX_KIND="categoryToolbox",t.utils.toolbox.FLYOUT_TOOLBOX_KIND="flyoutToolbox",t.utils.toolbox.Position={TOP:0,BOTTOM:1,LEFT:2,RIGHT:3},t.utils.toolbox.convertToolboxDefToJson=function(e){return e?((e instanceof Element||"string"==typeof e)&&(e=t.utils.toolbox.parseToolboxTree(e),e=t.utils.toolbox.convertToToolboxJson_(e)),t.utils.toolbox.validateToolbox_(e),e):null},t.utils.toolbox.validateToolbox_=function(e){var n=e.kind;if(e=e.contents,n&&n!=t.utils.toolbox.FLYOUT_TOOLBOX_KIND&&n!=t.utils.toolbox.CATEGORY_TOOLBOX_KIND)throw Error("Invalid toolbox kind "+n+". Please supply either "+t.utils.toolbox.FLYOUT_TOOLBOX_KIND+" or "+t.utils.toolbox.CATEGORY_TOOLBOX_KIND);if(!e)throw Error("Toolbox must have a contents attribute.")},t.utils.toolbox.convertFlyoutDefToJsonArray=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:t.utils.toolbox.xmlToJsonArray_(e):[]},t.utils.toolbox.hasCategories=function(e){if(!e)return!1;var n=e.kind;return n?n==t.utils.toolbox.CATEGORY_TOOLBOX_KIND:!!e.contents.filter(function(a){return"CATEGORY"==a.kind.toUpperCase()}).length},t.utils.toolbox.isCategoryCollapsible=function(e){return!(!e||!e.contents||!e.contents.filter(function(n){return"CATEGORY"==n.kind.toUpperCase()}).length)},t.utils.toolbox.convertToToolboxJson_=function(e){var n={contents:t.utils.toolbox.xmlToJsonArray_(e)};return e instanceof Node&&t.utils.toolbox.addAttributes_(e,n),n},t.utils.toolbox.xmlToJsonArray_=function(e){var u,n=[],a=e.childNodes;for(a||(a=e),e=0;u=a[e];e++)if(u.tagName){var C={},D=u.tagName.toUpperCase();C.kind=D,"BLOCK"==D?C.blockxml=u:u.childNodes&&0<u.childNodes.length&&(C.contents=t.utils.toolbox.xmlToJsonArray_(u)),t.utils.toolbox.addAttributes_(u,C),n.push(C)}return n},t.utils.toolbox.addAttributes_=function(e,n){for(var a=0;a<e.attributes.length;a++){var u=e.attributes[a];-1<u.nodeName.indexOf("css-")?(n.cssconfig=n.cssconfig||{},n.cssconfig[u.nodeName.replace("css-","")]=u.value):n[u.nodeName]=u.value}},t.utils.toolbox.parseToolboxTree=function(e){if(e){if("string"!=typeof e&&(t.utils.userAgent.IE&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&"xml"!=(e=t.Xml.textToDom(e)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e=null;return e},t.Options=function(e){var n=!!e.readOnly;if(n)var a=null,u=!1,C=!1,D=!1,F=!1,W=!1,te=!1;else{a=t.utils.toolbox.convertToolboxDefToJson(e.toolbox),u=t.utils.toolbox.hasCategories(a),void 0===(C=e.trashcan)&&(C=u);var oe=e.maxTrashcanContents;C?void 0===oe&&(oe=32):oe=0,void 0===(D=e.collapse)&&(D=u),void 0===(F=e.comments)&&(F=u),void 0===(W=e.disable)&&(W=u),void 0===(te=e.sounds)&&(te=!0)}var q=!!e.rtl,ue=e.horizontalLayout;void 0===ue&&(ue=!1);var Te=e.toolboxPosition;Te="end"!==Te,Te=ue?Te?t.utils.toolbox.Position.TOP:t.utils.toolbox.Position.BOTTOM:Te==q?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT;var le=e.css;void 0===le&&(le=!0);var _e="https://blockly-demo.appspot.com/static/media/";e.media?_e=e.media:e.path&&(_e=e.path+"media/");var Pe=void 0===e.oneBasedIndex||!!e.oneBasedIndex,Ue=e.renderer||"geras",Se=e.plugins||{};this.RTL=q,this.oneBasedIndex=Pe,this.collapse=D,this.comments=F,this.disable=W,this.readOnly=n,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=e.maxInstances,this.pathToMedia=_e,this.hasCategories=u,this.moveOptions=t.Options.parseMoveOptions_(e,u),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=C,this.maxTrashcanContents=oe,this.hasSounds=te,this.hasCss=le,this.horizontalLayout=ue,this.languageTree=a,this.gridOptions=t.Options.parseGridOptions_(e),this.zoomOptions=t.Options.parseZoomOptions_(e),this.toolboxPosition=Te,this.theme=t.Options.parseThemeOptions_(e),this.renderer=Ue,this.rendererOverrides=e.rendererOverrides,this.gridPattern=null,this.parentWorkspace=e.parentWorkspace,this.plugins=Se},t.BlocklyOptions=function(){},t.Options.parseMoveOptions_=function(e,n){var a=e.move||{},u={};return void 0===a.scrollbars&&void 0===e.scrollbars?u.scrollbars=n:"object"==typeof a.scrollbars?(u.scrollbars={},u.scrollbars.horizontal=!!a.scrollbars.horizontal,u.scrollbars.vertical=!!a.scrollbars.vertical,u.scrollbars.horizontal&&u.scrollbars.vertical?u.scrollbars=!0:u.scrollbars.horizontal||u.scrollbars.vertical||(u.scrollbars=!1)):u.scrollbars=!!a.scrollbars||!!e.scrollbars,u.wheel=u.scrollbars&&void 0!==a.wheel?!!a.wheel:"object"==typeof u.scrollbars,u.drag=!(!u.scrollbars||void 0!==a.drag&&!a.drag),u},t.Options.parseZoomOptions_=function(e){var n={};return n.controls=void 0!==(e=e.zoom||{}).controls&&!!e.controls,n.wheel=void 0!==e.wheel&&!!e.wheel,n.startScale=void 0===e.startScale?1:Number(e.startScale),n.maxScale=void 0===e.maxScale?3:Number(e.maxScale),n.minScale=void 0===e.minScale?.3:Number(e.minScale),n.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),n.pinch=void 0===e.pinch?n.wheel||n.controls:!!e.pinch,n},t.Options.parseGridOptions_=function(e){e=e.grid||{};var n={};return n.spacing=Number(e.spacing)||0,n.colour=e.colour||"#888",n.length=void 0===e.length?1:Number(e.length),n.snap=0<n.spacing&&!!e.snap,n},t.Options.parseThemeOptions_=function(e){return"string"==typeof(e=e.theme||t.Themes.Classic)?t.registry.getObject(t.registry.Type.THEME,e):e instanceof t.Theme?e:t.Theme.defineTheme(e.name||"builtin"+t.utils.IdGenerator.getNextUniqueId(),e)},t.Options.parseToolboxTree=function(e){return t.utils.deprecation.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree"),t.utils.toolbox.parseToolboxTree(e)},t.ScrollbarPair=function(e,n,a,u,C){this.workspace_=e,a=void 0===a||a;var D=(n=void 0===n||n)&&a;n&&(this.hScroll=new t.Scrollbar(e,!0,D,u,C)),a&&(this.vScroll=new t.Scrollbar(e,!1,D,u,C)),D&&(this.corner_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:t.Scrollbar.scrollbarThickness,width:t.Scrollbar.scrollbarThickness,class:"blocklyScrollbarBackground"},null),t.utils.dom.insertAfter(this.corner_,e.getBubbleCanvas())),this.oldHostMetrics_=null},t.ScrollbarPair.prototype.dispose=function(){t.utils.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)},t.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var n=!1,a=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth==e.scrollWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.scrollLeft==e.scrollLeft||(n=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight==e.scrollHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.scrollTop==e.scrollTop||(a=!0)):a=n=!0,n||a){try{t.Events.disable(),this.hScroll&&n&&this.hScroll.resize(e),this.vScroll&&a&&this.vScroll.resize(e)}finally{t.Events.enable()}this.workspace_.maybeFireViewportChangeEvent()}this.hScroll&&this.vScroll&&(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.position.x),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.position.y)),this.oldHostMetrics_=e}},t.ScrollbarPair.prototype.canScrollHorizontally=function(){return!!this.hScroll},t.ScrollbarPair.prototype.canScrollVertically=function(){return!!this.vScroll},t.ScrollbarPair.prototype.setOrigin=function(e,n){this.hScroll&&this.hScroll.setOrigin(e,n),this.vScroll&&this.vScroll.setOrigin(e,n)},t.ScrollbarPair.prototype.set=function(e,n,a){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(n,!1),(a||void 0===a)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace_.setMetrics(e))},t.ScrollbarPair.prototype.setX=function(e){this.hScroll&&this.hScroll.set(e,!0)},t.ScrollbarPair.prototype.setY=function(e){this.vScroll&&this.vScroll.set(e,!0)},t.ScrollbarPair.prototype.setContainerVisible=function(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)},t.ScrollbarPair.prototype.isVisible=function(){var e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e},t.ScrollbarPair.prototype.resizeContent=function(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)},t.ScrollbarPair.prototype.resizeView=function(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)},t.Scrollbar=function(e,n,a,u,C){this.workspace_=e,this.pair_=a||!1,this.horizontal_=n,this.margin_=void 0!==C?C:t.Scrollbar.DEFAULT_SCROLLBAR_MARGIN,this.ratio=this.oldHostMetrics_=null,this.createDom_(u),this.position=new t.utils.Coordinate(0,0),e=t.Scrollbar.scrollbarThickness,n?(this.svgBackground_.setAttribute("height",e),this.outerSvg_.setAttribute("height",e),this.svgHandle_.setAttribute("height",e-5),this.svgHandle_.setAttribute("y",2.5),this.lengthAttribute_="width",this.positionAttribute_="x"):(this.svgBackground_.setAttribute("width",e),this.outerSvg_.setAttribute("width",e),this.svgHandle_.setAttribute("width",e-5),this.svgHandle_.setAttribute("x",2.5),this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownHandleWrapper_=t.browserEvents.conditionalBind(this.svgHandle_,"mousedown",this,this.onMouseDownHandle_)},t.Scrollbar.prototype.origin_=new t.utils.Coordinate(0,0),t.Scrollbar.prototype.startDragMouse_=0,t.Scrollbar.prototype.scrollbarLength_=0,t.Scrollbar.prototype.handleLength_=0,t.Scrollbar.prototype.handlePosition_=0,t.Scrollbar.prototype.isVisible_=!0,t.Scrollbar.prototype.containerVisible_=!0,t.Scrollbar.scrollbarThickness=15,t.Touch.TOUCH_ENABLED&&(t.Scrollbar.scrollbarThickness=25),t.Scrollbar.DEFAULT_SCROLLBAR_MARGIN=.5,t.Scrollbar.metricsAreEquivalent_=function(e,n){return e.viewWidth==n.viewWidth&&e.viewHeight==n.viewHeight&&e.viewLeft==n.viewLeft&&e.viewTop==n.viewTop&&e.absoluteTop==n.absoluteTop&&e.absoluteLeft==n.absoluteLeft&&e.scrollWidth==n.scrollWidth&&e.scrollHeight==n.scrollHeight&&e.scrollLeft==n.scrollLeft&&e.scrollTop==n.scrollTop},t.Scrollbar.prototype.dispose=function(){this.cleanUp_(),t.browserEvents.unbind(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,t.browserEvents.unbind(this.onMouseDownHandleWrapper_),this.onMouseDownHandleWrapper_=null,t.utils.dom.removeNode(this.outerSvg_),this.svgBackground_=this.svgGroup_=this.outerSvg_=null,this.svgHandle_&&(this.workspace_.getThemeManager().unsubscribe(this.svgHandle_),this.svgHandle_=null),this.workspace_=null},t.Scrollbar.prototype.constrainHandleLength_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_)},t.Scrollbar.prototype.setHandleLength_=function(e){this.handleLength_=e,this.svgHandle_.setAttribute(this.lengthAttribute_,this.handleLength_)},t.Scrollbar.prototype.constrainHandlePosition_=function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength_-this.handleLength_)},t.Scrollbar.prototype.setHandlePosition=function(e){this.handlePosition_=e,this.svgHandle_.setAttribute(this.positionAttribute_,this.handlePosition_)},t.Scrollbar.prototype.setScrollbarLength_=function(e){this.scrollbarLength_=e,this.outerSvg_.setAttribute(this.lengthAttribute_,this.scrollbarLength_),this.svgBackground_.setAttribute(this.lengthAttribute_,this.scrollbarLength_)},t.Scrollbar.prototype.setPosition=function(e,n){this.position.x=e,this.position.y=n,t.utils.dom.setCssTransform(this.outerSvg_,"translate("+(this.position.x+this.origin_.x)+"px,"+(this.position.y+this.origin_.y)+"px)")},t.Scrollbar.prototype.resize=function(e){!e&&!(e=this.workspace_.getMetrics())||this.oldHostMetrics_&&t.Scrollbar.metricsAreEquivalent_(e,this.oldHostMetrics_)||(this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.oldHostMetrics_=e,this.updateMetrics_())},t.Scrollbar.prototype.requiresViewResize_=function(e){return!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics_.absoluteTop!==e.absoluteTop},t.Scrollbar.prototype.resizeHorizontal_=function(e){this.requiresViewResize_(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeViewHorizontal=function(e){var n=e.viewWidth-2*this.margin_;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),n=e.absoluteLeft+this.margin_,this.pair_&&this.workspace_.RTL&&(n+=t.Scrollbar.scrollbarThickness),this.setPosition(n,e.absoluteTop+e.viewHeight-t.Scrollbar.scrollbarThickness-this.margin_),this.resizeContentHorizontal(e)},t.Scrollbar.prototype.resizeContentHorizontal=function(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var n=this.scrollbarLength_*e.viewWidth/e.scrollWidth;n=this.constrainHandleLength_(n),this.setHandleLength_(n);var a=this.scrollbarLength_-this.handleLength_;e=this.constrainHandlePosition_(e=(e.viewLeft-e.scrollLeft)/(n=e.scrollWidth-e.viewWidth)*a),this.setHandlePosition(e),this.ratio=a/n}},t.Scrollbar.prototype.resizeVertical_=function(e){this.requiresViewResize_(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeViewVertical=function(e){var n=e.viewHeight-2*this.margin_;this.pair_&&(n-=t.Scrollbar.scrollbarThickness),this.setScrollbarLength_(Math.max(0,n)),this.setPosition(this.workspace_.RTL?e.absoluteLeft+this.margin_:e.absoluteLeft+e.viewWidth-t.Scrollbar.scrollbarThickness-this.margin_,e.absoluteTop+this.margin_),this.resizeContentVertical(e)},t.Scrollbar.prototype.resizeContentVertical=function(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength_(this.scrollbarLength_),this.setHandlePosition(0),this.pair_||this.setVisible(!1);else{this.pair_||this.setVisible(!0);var n=this.scrollbarLength_*e.viewHeight/e.scrollHeight;n=this.constrainHandleLength_(n),this.setHandleLength_(n);var a=this.scrollbarLength_-this.handleLength_;e=this.constrainHandlePosition_(e=(e.viewTop-e.scrollTop)/(n=e.scrollHeight-e.viewHeight)*a),this.setHandlePosition(e),this.ratio=a/n}},t.Scrollbar.prototype.createDom_=function(e){var n="blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical");e&&(n+=" "+e),this.outerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{class:n},null),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},this.outerSvg_),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarBackground"},this.svgGroup_),e=Math.floor((t.Scrollbar.scrollbarThickness-5)/2),this.svgHandle_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},this.svgGroup_),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgHandle_,"scrollbarOpacity","fill-opacity"),t.utils.dom.insertAfter(this.outerSvg_,this.workspace_.getParentSvg())},t.Scrollbar.prototype.isVisible=function(){return this.isVisible_},t.Scrollbar.prototype.setContainerVisible=function(e){var n=e!=this.containerVisible_;this.containerVisible_=e,n&&this.updateDisplay_()},t.Scrollbar.prototype.setVisible=function(e){var n=e!=this.isVisible();if(this.pair_)throw Error("Unable to toggle visibility of paired scrollbars.");this.isVisible_=e,n&&this.updateDisplay_()},t.Scrollbar.prototype.updateDisplay_=function(){this.containerVisible_&&this.isVisible()?this.outerSvg_.setAttribute("display","block"):this.outerSvg_.setAttribute("display","none")},t.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.workspace_.markFocused(),t.Touch.clearTouchIdentifier(),this.cleanUp_(),t.utils.isRightButton(e))e.stopPropagation();else{var n=t.utils.mouseToSvg(e,this.workspace_.getParentSvg(),this.workspace_.getInverseScreenCTM());n=this.horizontal_?n.x:n.y;var a=t.utils.getInjectionDivXY_(this.svgHandle_),u=this.handlePosition_,C=.95*this.handleLength_;n<=(a=this.horizontal_?a.x:a.y)?u-=C:n>=a+this.handleLength_&&(u+=C),this.setHandlePosition(this.constrainHandlePosition_(u)),this.updateMetrics_(),e.stopPropagation(),e.preventDefault()}},t.Scrollbar.prototype.onMouseDownHandle_=function(e){this.workspace_.markFocused(),this.cleanUp_(),t.utils.isRightButton(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition_,this.workspace_.setupDragSurface(),this.startDragMouse_=this.horizontal_?e.clientX:e.clientY,t.Scrollbar.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,this.onMouseUpHandle_),t.Scrollbar.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.onMouseMoveHandle_),e.stopPropagation(),e.preventDefault())},t.Scrollbar.prototype.onMouseMoveHandle_=function(e){this.setHandlePosition(this.constrainHandlePosition_(this.startDragHandle+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse_))),this.updateMetrics_()},t.Scrollbar.prototype.onMouseUpHandle_=function(){this.workspace_.resetDragSurface(),t.Touch.clearTouchIdentifier(),this.cleanUp_()},t.Scrollbar.prototype.cleanUp_=function(){t.hideChaff(!0),t.Scrollbar.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseUpWrapper_),t.Scrollbar.onMouseUpWrapper_=null),t.Scrollbar.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Scrollbar.onMouseMoveWrapper_),t.Scrollbar.onMouseMoveWrapper_=null)},t.Scrollbar.prototype.getRatio_=function(){var e=this.handlePosition_/(this.scrollbarLength_-this.handleLength_);return isNaN(e)&&(e=0),e},t.Scrollbar.prototype.updateMetrics_=function(){var e=this.getRatio_(),n={};this.horizontal_?n.x=e:n.y=e,this.workspace_.setMetrics(n)},t.Scrollbar.prototype.set=function(e,n){this.setHandlePosition(this.constrainHandlePosition_(e*this.ratio)),(n||void 0===n)&&this.updateMetrics_()},t.Scrollbar.prototype.setOrigin=function(e,n){this.origin_=new t.utils.Coordinate(e,n)},t.Tooltip={},t.Tooltip.visible=!1,t.Tooltip.blocked_=!1,t.Tooltip.LIMIT=50,t.Tooltip.mouseOutPid_=0,t.Tooltip.showPid_=0,t.Tooltip.lastX_=0,t.Tooltip.lastY_=0,t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.OFFSET_X=0,t.Tooltip.OFFSET_Y=10,t.Tooltip.RADIUS_OK=10,t.Tooltip.HOVER_MS=750,t.Tooltip.MARGINS=5,t.Tooltip.DIV=null,t.Tooltip.getTooltipOfObject=function(e){if(e=t.Tooltip.getTargetObject_(e)){for(e=e.tooltip;"function"==typeof e;)e=e();if("string"!=typeof e)throw Error("Tooltip function must return a string.");return e}return""},t.Tooltip.getTargetObject_=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},t.Tooltip.createDom=function(){t.Tooltip.DIV||(t.Tooltip.DIV=document.createElement("div"),t.Tooltip.DIV.className="blocklyTooltipDiv",(t.parentContainer||document.body).appendChild(t.Tooltip.DIV))},t.Tooltip.bindMouseEvents=function(e){e.mouseOverWrapper_=t.browserEvents.bind(e,"mouseover",null,t.Tooltip.onMouseOver_),e.mouseOutWrapper_=t.browserEvents.bind(e,"mouseout",null,t.Tooltip.onMouseOut_),e.addEventListener("mousemove",t.Tooltip.onMouseMove_,!1)},t.Tooltip.unbindMouseEvents=function(e){e&&(t.browserEvents.unbind(e.mouseOverWrapper_),t.browserEvents.unbind(e.mouseOutWrapper_),e.removeEventListener("mousemove",t.Tooltip.onMouseMove_))},t.Tooltip.onMouseOver_=function(e){t.Tooltip.blocked_||(e=t.Tooltip.getTargetObject_(e.currentTarget),t.Tooltip.element_!=e&&(t.Tooltip.hide(),t.Tooltip.poisonedElement_=null,t.Tooltip.element_=e),clearTimeout(t.Tooltip.mouseOutPid_))},t.Tooltip.onMouseOut_=function(e){t.Tooltip.blocked_||(t.Tooltip.mouseOutPid_=setTimeout(function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},1),clearTimeout(t.Tooltip.showPid_))},t.Tooltip.onMouseMove_=function(e){if(t.Tooltip.element_&&t.Tooltip.element_.tooltip&&!t.Tooltip.blocked_)if(t.Tooltip.visible){var n=t.Tooltip.lastX_-e.pageX;e=t.Tooltip.lastY_-e.pageY,Math.sqrt(n*n+e*e)>t.Tooltip.RADIUS_OK&&t.Tooltip.hide()}else t.Tooltip.poisonedElement_!=t.Tooltip.element_&&(clearTimeout(t.Tooltip.showPid_),t.Tooltip.lastX_=e.pageX,t.Tooltip.lastY_=e.pageY,t.Tooltip.showPid_=setTimeout(t.Tooltip.show_,t.Tooltip.HOVER_MS))},t.Tooltip.dispose=function(){t.Tooltip.element_=null,t.Tooltip.poisonedElement_=null,t.Tooltip.hide()},t.Tooltip.hide=function(){t.Tooltip.visible&&(t.Tooltip.visible=!1,t.Tooltip.DIV&&(t.Tooltip.DIV.style.display="none")),t.Tooltip.showPid_&&clearTimeout(t.Tooltip.showPid_)},t.Tooltip.block=function(){t.Tooltip.hide(),t.Tooltip.blocked_=!0},t.Tooltip.unblock=function(){t.Tooltip.blocked_=!1},t.Tooltip.show_=function(){if(!t.Tooltip.blocked_&&(t.Tooltip.poisonedElement_=t.Tooltip.element_,t.Tooltip.DIV)){t.Tooltip.DIV.textContent="";var e=t.Tooltip.getTooltipOfObject(t.Tooltip.element_);e=(e=t.utils.string.wrap(e,t.Tooltip.LIMIT)).split("\n");for(var n=0;n<e.length;n++){var a=document.createElement("div");a.appendChild(document.createTextNode(e[n])),t.Tooltip.DIV.appendChild(a)}e=t.Tooltip.element_.RTL,n=document.documentElement.clientWidth,a=document.documentElement.clientHeight,t.Tooltip.DIV.style.direction=e?"rtl":"ltr",t.Tooltip.DIV.style.display="block",t.Tooltip.visible=!0;var u=t.Tooltip.lastX_;u=e?u-(t.Tooltip.OFFSET_X+t.Tooltip.DIV.offsetWidth):u+t.Tooltip.OFFSET_X;var C=t.Tooltip.lastY_+t.Tooltip.OFFSET_Y;C+t.Tooltip.DIV.offsetHeight>a+window.scrollY&&(C-=t.Tooltip.DIV.offsetHeight+2*t.Tooltip.OFFSET_Y),e?u=Math.max(t.Tooltip.MARGINS-window.scrollX,u):u+t.Tooltip.DIV.offsetWidth>n+window.scrollX-2*t.Tooltip.MARGINS&&(u=n-t.Tooltip.DIV.offsetWidth-2*t.Tooltip.MARGINS),t.Tooltip.DIV.style.top=C+"px",t.Tooltip.DIV.style.left=u+"px"}},t.utils.aria={},t.utils.aria.ARIA_PREFIX_="aria-",t.utils.aria.ROLE_ATTRIBUTE_="role",t.utils.aria.Role={GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",LISTBOX:"listbox",MENU:"menu",MENUITEM:"menuitem",MENUITEMCHECKBOX:"menuitemcheckbox",OPTION:"option",PRESENTATION:"presentation",ROW:"row",TREE:"tree",TREEITEM:"treeitem"},t.utils.aria.State={ACTIVEDESCENDANT:"activedescendant",COLCOUNT:"colcount",DISABLED:"disabled",EXPANDED:"expanded",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",ORIENTATION:"orientation",POSINSET:"posinset",ROWCOUNT:"rowcount",SELECTED:"selected",SETSIZE:"setsize",VALUEMAX:"valuemax",VALUEMIN:"valuemin"},t.utils.aria.setRole=function(e,n){e.setAttribute(t.utils.aria.ROLE_ATTRIBUTE_,n)},t.utils.aria.setState=function(e,n,a){Array.isArray(a)&&(a=a.join(" ")),e.setAttribute(t.utils.aria.ARIA_PREFIX_+n,a)},t.IASTNodeLocation=function(){},t.IASTNodeLocationSvg=function(){},t.IASTNodeLocationWithBlock=function(){},t.IKeyboardAccessible=function(){},t.utils.deprecation={},t.utils.deprecation.warn=function(e,n,a,u){e=e+" was deprecated on "+n+" and will be deleted on "+a+".",u&&(e+="\nUse "+u+" instead."),console.warn(e)},t.Connection=function(e,n){this.sourceBlock_=e,this.type=n},t.Connection.CAN_CONNECT=0,t.Connection.REASON_SELF_CONNECTION=1,t.Connection.REASON_WRONG_TYPE=2,t.Connection.REASON_TARGET_NULL=3,t.Connection.REASON_CHECKS_FAILED=4,t.Connection.REASON_DIFFERENT_WORKSPACES=5,t.Connection.REASON_SHADOW_PARENT=6,t.Connection.REASON_DRAG_CHECKS_FAILED=7,t.Connection.prototype.targetConnection=null,t.Connection.prototype.disposed=!1,t.Connection.prototype.check_=null,t.Connection.prototype.shadowDom_=null,t.Connection.prototype.x=0,t.Connection.prototype.y=0,t.Connection.prototype.connect_=function(e){var W,n=t.connectionTypes.INPUT_VALUE,a=this.getSourceBlock(),u=e.getSourceBlock();if(e.isConnected()&&e.disconnect(),this.isConnected()){var C=this.getShadowDom(!0);this.shadowDom_=null;var D=this.targetBlock();if(D.isShadow())D.dispose(!1);else{this.disconnect();var F=D}this.shadowDom_=C}t.Events.isEnabled()&&(W=new(t.Events.get(t.Events.BLOCK_MOVE))(u)),t.Connection.connectReciprocally_(this,e),u.setParent(a),W&&(W.recordNew(),t.Events.fire(W)),F&&((u=t.Connection.getConnectionForOrphanedConnection(u,e=this.type===n?F.outputConnection:F.previousConnection))?e.connect(u):e.onFailedConnect(this))},t.Connection.prototype.dispose=function(){if(this.isConnected()){this.setShadowDom(null);var e=this.targetBlock();e&&e.unplug()}this.disposed=!0},t.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Connection.prototype.isSuperior=function(){return this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.NEXT_STATEMENT},t.Connection.prototype.isConnected=function(){return!!this.targetConnection},t.Connection.prototype.canConnectWithReason=function(e){return t.utils.deprecation.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnectWithReason(this,e,!1)},t.Connection.prototype.checkConnection=function(e){t.utils.deprecation.warn("Connection.prototype.checkConnection","July 2020","July 2021","the workspace's connection checker");var n=this.getConnectionChecker(),a=n.canConnectWithReason(this,e,!1);if(a!=t.Connection.CAN_CONNECT)throw Error(n.getErrorMessage(a,this,e))},t.Connection.prototype.getConnectionChecker=function(){return this.sourceBlock_.workspace.connectionChecker},t.Connection.prototype.isConnectionAllowed=function(e){return t.utils.deprecation.warn("Connection.prototype.isConnectionAllowed","July 2020","July 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!0)},t.Connection.prototype.onFailedConnect=function(e){},t.Connection.prototype.connect=function(e){if(this.targetConnection!=e&&this.getConnectionChecker().canConnect(this,e,!1)){var n=t.Events.getGroup();n||t.Events.setGroup(!0),this.isSuperior()?this.connect_(e):e.connect_(this),n||t.Events.setGroup(!1)}},t.Connection.connectReciprocally_=function(e,n){if(!e||!n)throw Error("Cannot connect null connections.");e.targetConnection=n,n.targetConnection=e},t.Connection.getSingleConnection_=function(e,n){for(var D,a=null,u=(n=n.outputConnection).getConnectionChecker(),C=0;D=e.inputList[C];C++)if((D=D.connection)&&u.canConnect(n,D,!1)){if(a)return null;a=D}return a},t.Connection.getConnectionForOrphanedOutput_=function(e,n){for(var a;a=t.Connection.getSingleConnection_(e,n);)if(!(e=a.targetBlock())||e.isShadow())return a;return null},t.Connection.getConnectionForOrphanedConnection=function(e,n){if(n.type===t.connectionTypes.OUTPUT_VALUE)return t.Connection.getConnectionForOrphanedOutput_(e,n.getSourceBlock());e=e.lastConnectionInStack(!0);var a=n.getConnectionChecker();return e&&a.canConnect(n,e,!1)?e:null},t.Connection.prototype.disconnect=function(){var e=this.targetConnection;if(!e)throw Error("Source connection not connected.");if(e.targetConnection!=this)throw Error("Target connection not connected to source connection.");if(this.isSuperior()){var n=this.sourceBlock_,a=e.getSourceBlock();e=this}else n=e.getSourceBlock(),a=this.sourceBlock_;var u=t.Events.getGroup();u||t.Events.setGroup(!0),this.disconnectInternal_(n,a),a.isShadow()||e.respawnShadow_(),u||t.Events.setGroup(!1)},t.Connection.prototype.disconnectInternal_=function(e,n){var a;t.Events.isEnabled()&&(a=new(t.Events.get(t.Events.BLOCK_MOVE))(n)),this.targetConnection=this.targetConnection.targetConnection=null,n.setParent(null),a&&(a.recordNew(),t.Events.fire(a))},t.Connection.prototype.respawnShadow_=function(){var e=this.getSourceBlock(),n=this.getShadowDom();if(e.workspace&&n)if((e=t.Xml.domToBlock(n,e.workspace)).outputConnection)this.connect(e.outputConnection);else{if(!e.previousConnection)throw Error("Child block does not have output or previous statement.");this.connect(e.previousConnection)}},t.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},t.Connection.prototype.checkType=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType","October 2019","January 2021","the workspace's connection checker"),this.getConnectionChecker().canConnect(this,e,!1)},t.Connection.prototype.checkType_=function(e){return t.utils.deprecation.warn("Connection.prototype.checkType_","October 2019","January 2021","the workspace's connection checker"),this.checkType(e)},t.Connection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()},t.Connection.prototype.setCheck=function(e){return e?(Array.isArray(e)||(e=[e]),this.check_=e,this.onCheckChanged_()):this.check_=null,this},t.Connection.prototype.getCheck=function(){return this.check_},t.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e,(e=this.targetBlock())?e.isShadow()&&(e.dispose(!1),this.respawnShadow_()):this.respawnShadow_()},t.Connection.prototype.getShadowDom=function(e){return e&&this.targetBlock().isShadow()?t.Xml.blockToDom(this.targetBlock()):this.shadowDom_},t.Connection.prototype.neighbours=function(e){return[]},t.Connection.prototype.getParentInput=function(){for(var e=null,n=this.sourceBlock_.inputList,a=0;a<n.length;a++)if(n[a].connection===this){e=n[a];break}return e},t.Connection.prototype.toString=function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection==this)var n="Output Connection of ";else if(e.previousConnection==this)n="Previous Connection of ";else if(e.nextConnection==this)n="Next Connection of ";else{n=null;for(var u,a=0;u=e.inputList[a];a++)if(u.connection==this){n=u;break}if(!n)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";n='Input "'+n.name+'" connection on '}return n+e.toDevString()},t.IConnectionChecker=function(){},t.ConnectionChecker=function(){},t.ConnectionChecker.prototype.canConnect=function(e,n,a,u){return this.canConnectWithReason(e,n,a,u)==t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.canConnectWithReason=function(e,n,a,u){var C=this.doSafetyChecks(e,n);return C!=t.Connection.CAN_CONNECT?C:this.doTypeChecks(e,n)?a&&!this.doDragChecks(e,n,u||0)?t.Connection.REASON_DRAG_CHECKS_FAILED:t.Connection.CAN_CONNECT:t.Connection.REASON_CHECKS_FAILED},t.ConnectionChecker.prototype.getErrorMessage=function(e,n,a){switch(e){case t.Connection.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case t.Connection.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case t.Connection.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case t.Connection.REASON_TARGET_NULL:return"Target connection is null.";case t.Connection.REASON_CHECKS_FAILED:return"Connection checks failed. "+n+" expected "+n.getCheck()+", found "+a.getCheck();case t.Connection.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case t.Connection.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";default:return"Unknown connection failure: this should never happen!"}},t.ConnectionChecker.prototype.doSafetyChecks=function(e,n){if(!e||!n)return t.Connection.REASON_TARGET_NULL;if(e.isSuperior())var a=e.getSourceBlock(),u=n.getSourceBlock();else u=e.getSourceBlock(),a=n.getSourceBlock();return a==u?t.Connection.REASON_SELF_CONNECTION:n.type!=t.OPPOSITE_TYPE[e.type]?t.Connection.REASON_WRONG_TYPE:a.workspace!==u.workspace?t.Connection.REASON_DIFFERENT_WORKSPACES:a.isShadow()&&!u.isShadow()?t.Connection.REASON_SHADOW_PARENT:t.Connection.CAN_CONNECT},t.ConnectionChecker.prototype.doTypeChecks=function(e,n){if(e=e.getCheck(),n=n.getCheck(),!e||!n)return!0;for(var a=0;a<e.length;a++)if(-1!=n.indexOf(e[a]))return!0;return!1},t.ConnectionChecker.prototype.doDragChecks=function(e,n,a){if(e.distanceFrom(n)>a||n.getSourceBlock().isInsertionMarker())return!1;switch(n.type){case t.connectionTypes.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,n);case t.connectionTypes.OUTPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case t.connectionTypes.INPUT_VALUE:if(n.isConnected()&&!n.targetBlock().isMovable()&&!n.targetBlock().isShadow())return!1;break;case t.connectionTypes.NEXT_STATEMENT:if(n.isConnected()&&!e.getSourceBlock().nextConnection&&!n.targetBlock().isShadow()&&n.targetBlock().nextConnection)return!1;break;default:return!1}return-1==t.draggingConnections.indexOf(n)},t.ConnectionChecker.prototype.canConnectToPrevious_=function(e,n){return!(e.targetConnection||-1!=t.draggingConnections.indexOf(n)||n.targetConnection&&(!(e=n.targetBlock()).isInsertionMarker()||e.getPreviousBlock()))},t.registry.register(t.registry.Type.CONNECTION_CHECKER,t.registry.DEFAULT,t.ConnectionChecker),t.VariableMap=function(e){this.variableMap_=Object.create(null),this.workspace=e},t.VariableMap.prototype.clear=function(){this.variableMap_=Object.create(null)},t.VariableMap.prototype.renameVariable=function(e,n){var a=this.getVariable(n,e.type),u=this.workspace.getAllBlocks(!1);t.Events.setGroup(!0);try{a&&a.getId()!=e.getId()?this.renameVariableWithConflict_(e,n,a,u):this.renameVariableAndUses_(e,n,u)}finally{t.Events.setGroup(!1)}},t.VariableMap.prototype.renameVariableById=function(e,n){var a=this.getVariableById(e);if(!a)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(a,n)},t.VariableMap.prototype.renameVariableAndUses_=function(e,n,a){for(t.Events.fire(new(t.Events.get(t.Events.VAR_RENAME))(e,n)),e.name=n,n=0;n<a.length;n++)a[n].updateVarName(e)},t.VariableMap.prototype.renameVariableWithConflict_=function(e,n,a,u){var C=e.type;for(n!=a.name&&this.renameVariableAndUses_(a,n,u),n=0;n<u.length;n++)u[n].renameVarById(e.getId(),a.getId());t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e)),e=this.getVariablesOfType(C).indexOf(e),this.variableMap_[C].splice(e,1)},t.VariableMap.prototype.createVariable=function(e,n,a){var u=this.getVariable(e,n);if(u){if(a&&u.getId()!=a)throw Error('Variable "'+e+'" is already in use and its id is "'+u.getId()+'" which conflicts with the passed in id, "'+a+'".');return u}if(a&&this.getVariableById(a))throw Error('Variable id, "'+a+'", is already in use.');return u=a||t.utils.genUid(),u=new t.VariableModel(this.workspace,e,n=n||"",u),(e=this.variableMap_[n]||[]).push(u),delete this.variableMap_[n],this.variableMap_[n]=e,u},t.VariableMap.prototype.deleteVariable=function(e){for(var u,n=this.variableMap_[e.type],a=0;u=n[a];a++)if(u.getId()==e.getId()){n.splice(a,1),t.Events.fire(new(t.Events.get(t.Events.VAR_DELETE))(e));break}},t.VariableMap.prototype.deleteVariableById=function(e){var n=this.getVariableById(e);if(n){var C,a=n.name,u=this.getVariableUsesById(e);for(e=0;C=u[e];e++)if("procedures_defnoreturn"==C.type||"procedures_defreturn"==C.type)return e=C.getFieldValue("NAME"),a=t.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",a).replace("%2",e),void t.alert(a);var D=this;1<u.length?(a=t.Msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(u.length)).replace("%2",a),t.confirm(a,function(F){F&&n&&D.deleteVariableInternal(n,u)})):D.deleteVariableInternal(n,u)}else console.warn("Can't delete non-existent variable: "+e)},t.VariableMap.prototype.deleteVariableInternal=function(e,n){var a=t.Events.getGroup();a||t.Events.setGroup(!0);try{for(var u=0;u<n.length;u++)n[u].dispose(!0);this.deleteVariable(e)}finally{a||t.Events.setGroup(!1)}},t.VariableMap.prototype.getVariable=function(e,n){if(n=this.variableMap_[n||""])for(var u,a=0;u=n[a];a++)if(t.Names.equals(u.name,e))return u;return null},t.VariableMap.prototype.getVariableById=function(e){for(var n=Object.keys(this.variableMap_),a=0;a<n.length;a++)for(var D,u=n[a],C=0;D=this.variableMap_[u][C];C++)if(D.getId()==e)return D;return null},t.VariableMap.prototype.getVariablesOfType=function(e){return(e=this.variableMap_[e||""])?e.slice():[]},t.VariableMap.prototype.getVariableTypes=function(e){var n={};t.utils.object.mixin(n,this.variableMap_),e&&e.getPotentialVariableMap()&&t.utils.object.mixin(n,e.getPotentialVariableMap().variableMap_),e=Object.keys(n),n=!1;for(var a=0;a<e.length;a++)""==e[a]&&(n=!0);return n||e.push(""),e},t.VariableMap.prototype.getAllVariables=function(){var n,e=[];for(n in this.variableMap_)e=e.concat(this.variableMap_[n]);return e},t.VariableMap.prototype.getAllVariableNames=function(){var n,e=[];for(n in this.variableMap_)for(var C,a=this.variableMap_[n],u=0;C=a[u];u++)e.push(C.name);return e},t.VariableMap.prototype.getVariableUsesById=function(e){for(var n=[],a=this.workspace.getAllBlocks(!1),u=0;u<a.length;u++){var C=a[u].getVarModels();if(C)for(var D=0;D<C.length;D++)C[D].getId()==e&&n.push(a[u])}return n},t.Workspace=function(e){this.id=t.utils.genUid(),t.Workspace.WorkspaceDB_[this.id]=this,this.options=e||new t.Options({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(t.registry.getClassFromOptions(t.registry.Type.CONNECTION_CHECKER,this.options,!0))(this),this.topBlocks_=[],this.topComments_=[],this.commentDB_=Object.create(null),this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null),this.typedBlocksDB_=Object.create(null),this.variableMap_=new t.VariableMap(this),this.potentialVariableMap_=null},t.Workspace.prototype.rendered=!1,t.Workspace.prototype.isClearing=!1,t.Workspace.prototype.MAX_UNDO=1024,t.Workspace.prototype.connectionDBList=null,t.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete t.Workspace.WorkspaceDB_[this.id]},t.Workspace.SCAN_ANGLE=3,t.Workspace.prototype.sortObjects_=function(e,n){return e=e.getRelativeToSurfaceXY(),n=n.getRelativeToSurfaceXY(),e.y+t.Workspace.prototype.sortObjects_.offset*e.x-(n.y+t.Workspace.prototype.sortObjects_.offset*n.x)},t.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},t.Workspace.prototype.removeTopBlock=function(e){if(!t.utils.arrayRemove(this.topBlocks_,e))throw Error("Block not present in workspace's list of top-most blocks.")},t.Workspace.prototype.getTopBlocks=function(e){var n=[].concat(this.topBlocks_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.addTypedBlock=function(e){this.typedBlocksDB_[e.type]||(this.typedBlocksDB_[e.type]=[]),this.typedBlocksDB_[e.type].push(e)},t.Workspace.prototype.removeTypedBlock=function(e){this.typedBlocksDB_[e.type].splice(this.typedBlocksDB_[e.type].indexOf(e),1),this.typedBlocksDB_[e.type].length||delete this.typedBlocksDB_[e.type]},t.Workspace.prototype.getBlocksByType=function(e,n){return this.typedBlocksDB_[e]?(e=this.typedBlocksDB_[e].slice(0),n&&1<e.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),e.sort(this.sortObjects_)),e):[]},t.Workspace.prototype.addTopComment=function(e){this.topComments_.push(e),this.commentDB_[e.id]&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB_[e.id]=e},t.Workspace.prototype.removeTopComment=function(e){if(!t.utils.arrayRemove(this.topComments_,e))throw Error("Comment not present in workspace's list of top-most comments.");delete this.commentDB_[e.id]},t.Workspace.prototype.getTopComments=function(e){var n=[].concat(this.topComments_);return e&&1<n.length&&(this.sortObjects_.offset=Math.sin(t.utils.math.toRadians(t.Workspace.SCAN_ANGLE)),this.RTL&&(this.sortObjects_.offset*=-1),n.sort(this.sortObjects_)),n},t.Workspace.prototype.getAllBlocks=function(e){if(e){e=this.getTopBlocks(!0);for(var n=[],a=0;a<e.length;a++)n.push.apply(n,e[a].getDescendants(!0))}else for(n=this.getTopBlocks(!1),a=0;a<n.length;a++)n.push.apply(n,n[a].getChildren(!1));return n.filter(function(u){return!u.isInsertionMarker()})},t.Workspace.prototype.clear=function(){this.isClearing=!0;try{var e=t.Events.getGroup();for(e||t.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose(!1);for(;this.topComments_.length;)this.topComments_[this.topComments_.length-1].dispose(!1);e||t.Events.setGroup(!1),this.variableMap_.clear(),this.potentialVariableMap_&&this.potentialVariableMap_.clear()}finally{this.isClearing=!1}},t.Workspace.prototype.renameVariableById=function(e,n){this.variableMap_.renameVariableById(e,n)},t.Workspace.prototype.createVariable=function(e,n,a){return this.variableMap_.createVariable(e,n,a)},t.Workspace.prototype.getVariableUsesById=function(e){return this.variableMap_.getVariableUsesById(e)},t.Workspace.prototype.deleteVariableById=function(e){this.variableMap_.deleteVariableById(e)},t.Workspace.prototype.getVariable=function(e,n){return this.variableMap_.getVariable(e,n)},t.Workspace.prototype.getVariableById=function(e){return this.variableMap_.getVariableById(e)},t.Workspace.prototype.getVariablesOfType=function(e){return this.variableMap_.getVariablesOfType(e)},t.Workspace.prototype.getVariableTypes=function(){return this.variableMap_.getVariableTypes(this)},t.Workspace.prototype.getAllVariables=function(){return this.variableMap_.getAllVariables()},t.Workspace.prototype.getAllVariableNames=function(){return this.variableMap_.getAllVariableNames()},t.Workspace.prototype.getWidth=function(){return 0},t.Workspace.prototype.newBlock=function(e,n){return new t.Block(this,e,n)},t.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length},t.Workspace.prototype.remainingCapacityOfType=function(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0},t.Workspace.prototype.isCapacityAvailable=function(e){if(!this.hasBlockLimits())return!0;var a,n=0;for(a in e){if(e[a]>this.remainingCapacityOfType(a))return!1;n+=e[a]}return!(n>this.remainingCapacity())},t.Workspace.prototype.hasBlockLimits=function(){return this.options.maxBlocks!=1/0||!!this.options.maxInstances},t.Workspace.prototype.getUndoStack=function(){return this.undoStack_},t.Workspace.prototype.getRedoStack=function(){return this.redoStack_},t.Workspace.prototype.undo=function(e){var n=e?this.redoStack_:this.undoStack_,a=e?this.undoStack_:this.redoStack_,u=n.pop();if(u){for(var C=[u];n.length&&u.group&&u.group==n[n.length-1].group;)C.push(n.pop());for(n=0;u=C[n];n++)a.push(u);C=t.Events.filter(C,e),t.Events.recordUndo=!1;try{for(n=0;u=C[n];n++)u.run(e)}finally{t.Events.recordUndo=!0}}},t.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,t.Events.clearPendingUndo()},t.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},t.Workspace.prototype.removeChangeListener=function(e){t.utils.arrayRemove(this.listeners_,e)},t.Workspace.prototype.fireChangeListener=function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var a,n=0;a=this.listeners_[n];n++)a(e)},t.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},t.Workspace.prototype.setBlockById=function(e,n){this.blockDB_[e]=n},t.Workspace.prototype.removeBlockById=function(e){delete this.blockDB_[e]},t.Workspace.prototype.getCommentById=function(e){return this.commentDB_[e]||null},t.Workspace.prototype.allInputsFilled=function(e){for(var u,n=this.getTopBlocks(!1),a=0;u=n[a];a++)if(!u.allInputsFilled(e))return!1;return!0},t.Workspace.prototype.getPotentialVariableMap=function(){return this.potentialVariableMap_},t.Workspace.prototype.createPotentialVariableMap=function(){this.potentialVariableMap_=new t.VariableMap(this)},t.Workspace.prototype.getVariableMap=function(){return this.variableMap_},t.Workspace.prototype.setVariableMap=function(e){this.variableMap_=e},t.Workspace.WorkspaceDB_=Object.create(null),t.Workspace.getById=function(e){return t.Workspace.WorkspaceDB_[e]||null},t.Workspace.getAll=function(){var n,e=[];for(n in t.Workspace.WorkspaceDB_)e.push(t.Workspace.WorkspaceDB_[n]);return e},t.WorkspaceDragSurfaceSvg=function(e){this.container_=e,this.createDom()},t.WorkspaceDragSurfaceSvg.prototype.SVG_=null,t.WorkspaceDragSurfaceSvg.prototype.container_=null,t.WorkspaceDragSurfaceSvg.prototype.createDom=function(){this.SVG_||(this.SVG_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklyWsDragSurface blocklyOverflowVisible"},null),this.container_.appendChild(this.SVG_))},t.WorkspaceDragSurfaceSvg.prototype.translateSurface=function(e,n){e=e.toFixed(0),n=n.toFixed(0),this.SVG_.style.display="block",t.utils.dom.setCssTransform(this.SVG_,"translate3d("+e+"px, "+n+"px, 0px)")},t.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=function(){return t.utils.getRelativeXY(this.SVG_)},t.WorkspaceDragSurfaceSvg.prototype.clearAndHide=function(e){if(!e)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var n=this.SVG_.childNodes[0],a=this.SVG_.childNodes[1];if(!(n&&a&&t.utils.dom.hasClass(n,"blocklyBlockCanvas")&&t.utils.dom.hasClass(a,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");if(null!=this.previousSibling_?t.utils.dom.insertAfter(n,this.previousSibling_):e.insertBefore(n,e.firstChild),t.utils.dom.insertAfter(a,n),this.SVG_.style.display="none",this.SVG_.childNodes.length)throw Error("Drag surface was not cleared.");t.utils.dom.setCssTransform(this.SVG_,""),this.previousSibling_=null},t.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=function(e,n,a,u,C,D){if(this.SVG_.childNodes.length)throw Error("Already dragging a block.");this.previousSibling_=a,e.setAttribute("transform","translate(0, 0) scale("+D+")"),n.setAttribute("transform","translate(0, 0) scale("+D+")"),this.SVG_.setAttribute("width",u),this.SVG_.setAttribute("height",C),this.SVG_.appendChild(e),this.SVG_.appendChild(n),this.SVG_.style.display="block"},t.blockRendering={},t.blockRendering.useDebugger=!1,t.blockRendering.register=function(e,n){t.registry.register(t.registry.Type.RENDERER,e,n)},t.blockRendering.unregister=function(e){t.registry.unregister(t.registry.Type.RENDERER,e)},t.blockRendering.startDebugger=function(){t.blockRendering.useDebugger=!0},t.blockRendering.stopDebugger=function(){t.blockRendering.useDebugger=!1},t.blockRendering.init=function(e,n,a){return(e=new(t.registry.getClass(t.registry.Type.RENDERER,e))(e)).init(n,a),e},t.ASTNode=function(e,n,a){if(!n)throw Error("Cannot create a node without a location.");this.type_=e,this.isConnection_=t.ASTNode.isConnectionType_(e),this.location_=n,this.wsCoordinate_=null,this.processParams_(a||null)},t.ASTNode.types={FIELD:"field",BLOCK:"block",INPUT:"input",OUTPUT:"output",NEXT:"next",PREVIOUS:"previous",STACK:"stack",WORKSPACE:"workspace"},t.ASTNode.NAVIGATE_ALL_FIELDS=!1,t.ASTNode.DEFAULT_OFFSET_Y=-20,t.ASTNode.isConnectionType_=function(e){switch(e){case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:case t.ASTNode.types.INPUT:case t.ASTNode.types.OUTPUT:return!0}return!1},t.ASTNode.createFieldNode=function(e){return e?new t.ASTNode(t.ASTNode.types.FIELD,e):null},t.ASTNode.createConnectionNode=function(e){if(!e)return null;var n=e.type;return n==t.connectionTypes.INPUT_VALUE||n==t.connectionTypes.NEXT_STATEMENT&&e.getParentInput()?t.ASTNode.createInputNode(e.getParentInput()):n==t.connectionTypes.NEXT_STATEMENT?new t.ASTNode(t.ASTNode.types.NEXT,e):n==t.connectionTypes.OUTPUT_VALUE?new t.ASTNode(t.ASTNode.types.OUTPUT,e):n==t.connectionTypes.PREVIOUS_STATEMENT?new t.ASTNode(t.ASTNode.types.PREVIOUS,e):null},t.ASTNode.createInputNode=function(e){return e&&e.connection?new t.ASTNode(t.ASTNode.types.INPUT,e.connection):null},t.ASTNode.createBlockNode=function(e){return e?new t.ASTNode(t.ASTNode.types.BLOCK,e):null},t.ASTNode.createStackNode=function(e){return e?new t.ASTNode(t.ASTNode.types.STACK,e):null},t.ASTNode.createWorkspaceNode=function(e,n){return n&&e?new t.ASTNode(t.ASTNode.types.WORKSPACE,e,{wsCoordinate:n}):null},t.ASTNode.createTopNode=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.processParams_=function(e){e&&e.wsCoordinate&&(this.wsCoordinate_=e.wsCoordinate)},t.ASTNode.prototype.getLocation=function(){return this.location_},t.ASTNode.prototype.getType=function(){return this.type_},t.ASTNode.prototype.getWsCoordinate=function(){return this.wsCoordinate_},t.ASTNode.prototype.isConnection=function(){return this.isConnection_},t.ASTNode.prototype.findNextForInput_=function(){var a,e=this.location_.getParentInput(),n=e.getSourceBlock();for(e=n.inputList.indexOf(e)+1;a=n.inputList[e];e++){for(var D,u=a.fieldRow,C=0;D=u[C];C++)if(D.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(D);if(a.connection)return t.ASTNode.createInputNode(a)}return null},t.ASTNode.prototype.findNextForField_=function(){var e=this.location_,n=e.getParentInput(),a=e.getSourceBlock(),u=a.inputList.indexOf(n);for(e=n.fieldRow.indexOf(e)+1;n=a.inputList[u];u++){for(var C=n.fieldRow;e<C.length;){if(C[e].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(C[e]);e++}if(e=0,n.connection)return t.ASTNode.createInputNode(n)}return null},t.ASTNode.prototype.findPrevForInput_=function(){for(var u,e=this.location_.getParentInput(),n=e.getSourceBlock(),a=n.inputList.indexOf(e);u=n.inputList[a];a--){if(u.connection&&u!==e)return t.ASTNode.createInputNode(u);for(var D,C=(u=u.fieldRow).length-1;D=u[C];C--)if(D.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(D)}return null},t.ASTNode.prototype.findPrevForField_=function(){var C,e=this.location_,n=e.getParentInput(),a=e.getSourceBlock(),u=a.inputList.indexOf(n);for(e=n.fieldRow.indexOf(e)-1;C=a.inputList[u];u--){if(C.connection&&C!==n)return t.ASTNode.createInputNode(C);for(C=C.fieldRow;-1<e;){if(C[e].isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(C[e]);e--}0<=u-1&&(e=a.inputList[u-1].fieldRow.length-1)}return null},t.ASTNode.prototype.navigateBetweenStacks_=function(e){var n=this.getLocation();if(n instanceof t.Block||(n=n.getSourceBlock()),!n||!n.workspace)return null;var a=n.getRootBlock();n=a.workspace.getTopBlocks(!0);for(var C,u=0;C=n[u];u++)if(a.id==C.id)return-1==(e=u+(e?1:-1))||e==n.length?null:t.ASTNode.createStackNode(n[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")},t.ASTNode.prototype.findTopASTNodeForBlock_=function(e){var n=e.previousConnection||e.outputConnection;return n?t.ASTNode.createConnectionNode(n):t.ASTNode.createBlockNode(e)},t.ASTNode.prototype.getOutAstNodeForBlock_=function(e){if(!e)return null;var n=(e=e.getTopStackBlock()).previousConnection||e.outputConnection;return n&&n.targetConnection&&n.targetConnection.getParentInput()?t.ASTNode.createInputNode(n.targetConnection.getParentInput()):t.ASTNode.createStackNode(e)},t.ASTNode.prototype.findFirstFieldOrInput_=function(e){e=e.inputList;for(var a,n=0;a=e[n];n++){for(var D,u=a.fieldRow,C=0;D=u[C];C++)if(D.isClickable()||t.ASTNode.NAVIGATE_ALL_FIELDS)return t.ASTNode.createFieldNode(D);if(a.connection)return t.ASTNode.createInputNode(a)}return null},t.ASTNode.prototype.getSourceBlock=function(){return this.getType()===t.ASTNode.types.BLOCK||this.getType()===t.ASTNode.types.STACK?this.getLocation():this.getType()===t.ASTNode.types.WORKSPACE?null:this.getLocation().getSourceBlock()},t.ASTNode.prototype.next=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!0);case t.ASTNode.types.OUTPUT:var e=this.location_;return t.ASTNode.createBlockNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return this.findNextForField_();case t.ASTNode.types.INPUT:return this.findNextForInput_();case t.ASTNode.types.BLOCK:return t.ASTNode.createConnectionNode(this.location_.nextConnection);case t.ASTNode.types.PREVIOUS:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock());case t.ASTNode.types.NEXT:return t.ASTNode.createConnectionNode((e=this.location_).targetConnection)}return null},t.ASTNode.prototype.in=function(){switch(this.type_){case t.ASTNode.types.WORKSPACE:var e=this.location_.getTopBlocks(!0);if(0<e.length)return t.ASTNode.createStackNode(e[0]);break;case t.ASTNode.types.STACK:return this.findTopASTNodeForBlock_(e=this.location_);case t.ASTNode.types.BLOCK:return this.findFirstFieldOrInput_(e=this.location_);case t.ASTNode.types.INPUT:return t.ASTNode.createConnectionNode(this.location_.targetConnection)}return null},t.ASTNode.prototype.prev=function(){switch(this.type_){case t.ASTNode.types.STACK:return this.navigateBetweenStacks_(!1);case t.ASTNode.types.FIELD:return this.findPrevForField_();case t.ASTNode.types.INPUT:return this.findPrevForInput_();case t.ASTNode.types.BLOCK:var e=this.location_;return t.ASTNode.createConnectionNode(e.previousConnection||e.outputConnection);case t.ASTNode.types.PREVIOUS:if((e=(e=this.location_).targetConnection)&&!e.getParentInput())return t.ASTNode.createConnectionNode(e);break;case t.ASTNode.types.NEXT:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock())}return null},t.ASTNode.prototype.out=function(){switch(this.type_){case t.ASTNode.types.STACK:var e=this.location_,n=e.getRelativeToSurfaceXY();return n=new t.utils.Coordinate(n.x,n.y+t.ASTNode.DEFAULT_OFFSET_Y),t.ASTNode.createWorkspaceNode(e.workspace,n);case t.ASTNode.types.OUTPUT:return(n=(e=this.location_).targetConnection)?t.ASTNode.createConnectionNode(n):t.ASTNode.createStackNode(e.getSourceBlock());case t.ASTNode.types.FIELD:return t.ASTNode.createBlockNode(this.location_.getSourceBlock());case t.ASTNode.types.INPUT:return t.ASTNode.createBlockNode((e=this.location_).getSourceBlock());case t.ASTNode.types.BLOCK:return this.getOutAstNodeForBlock_(e=this.location_);case t.ASTNode.types.PREVIOUS:case t.ASTNode.types.NEXT:return this.getOutAstNodeForBlock_((e=this.location_).getSourceBlock())}return null},t.Blocks=Object.create(null),t.Extensions={},t.Extensions.ALL_=Object.create(null),t.Extensions.register=function(e,n){if("string"!=typeof e||""==e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(t.Extensions.ALL_[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof n)throw Error('Error: Extension "'+e+'" must be a function');t.Extensions.ALL_[e]=n},t.Extensions.registerMixin=function(e,n){if(!n||"object"!=typeof n)throw Error('Error: Mixin "'+e+'" must be a object');t.Extensions.register(e,function(){this.mixin(n)})},t.Extensions.registerMutator=function(e,n,a,u){var C='Error when registering mutator "'+e+'": ';t.Extensions.checkHasFunction_(C,n.domToMutation,"domToMutation"),t.Extensions.checkHasFunction_(C,n.mutationToDom,"mutationToDom");var D=t.Extensions.checkMutatorDialog_(n,C);if(a&&"function"!=typeof a)throw Error('Extension "'+e+'" is not a function');t.Extensions.register(e,function(){if(D){if(!t.Mutator)throw Error(C+"Missing require for Blockly.Mutator");this.setMutator(new t.Mutator(u||[]))}this.mixin(n),a&&a.apply(this)})},t.Extensions.unregister=function(e){t.Extensions.ALL_[e]?delete t.Extensions.ALL_[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},t.Extensions.apply=function(e,n,a){var u=t.Extensions.ALL_[e];if("function"!=typeof u)throw Error('Error: Extension "'+e+'" not found.');if(a)t.Extensions.checkNoMutatorProperties_(e,n);else var C=t.Extensions.getMutatorProperties_(n);if(u.apply(n),a)t.Extensions.checkBlockHasMutatorProperties_('Error after applying mutator "'+e+'": ',n);else if(!t.Extensions.mutatorPropertiesMatch_(C,n))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},t.Extensions.checkHasFunction_=function(e,n,a){if(!n)throw Error(e+'missing required property "'+a+'"');if("function"!=typeof n)throw Error(e+'" required property "'+a+'" must be a function')},t.Extensions.checkNoMutatorProperties_=function(e,n){if(t.Extensions.getMutatorProperties_(n).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+n.id)},t.Extensions.checkMutatorDialog_=function(e,n){var a=void 0!==e.compose,u=void 0!==e.decompose;if(a&&u){if("function"!=typeof e.compose)throw Error(n+"compose must be a function.");if("function"!=typeof e.decompose)throw Error(n+"decompose must be a function.");return!0}if(!a&&!u)return!1;throw Error(n+'Must have both or neither of "compose" and "decompose"')},t.Extensions.checkBlockHasMutatorProperties_=function(e,n){if("function"!=typeof n.domToMutation)throw Error(e+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof n.mutationToDom)throw Error(e+'Applying a mutator didn\'t add "mutationToDom"');t.Extensions.checkMutatorDialog_(n,e)},t.Extensions.getMutatorProperties_=function(e){var n=[];return void 0!==e.domToMutation&&n.push(e.domToMutation),void 0!==e.mutationToDom&&n.push(e.mutationToDom),void 0!==e.compose&&n.push(e.compose),void 0!==e.decompose&&n.push(e.decompose),n},t.Extensions.mutatorPropertiesMatch_=function(e,n){if((n=t.Extensions.getMutatorProperties_(n)).length!=e.length)return!1;for(var a=0;a<n.length;a++)if(e[a]!=n[a])return!1;return!0},t.Extensions.buildTooltipForDropdown=function(e,n){var a=[];return"object"==typeof document&&t.utils.runAfterPageLoad(function(){for(var u in n)t.utils.checkMessageReferences(n[u])}),function(){this.type&&-1==a.indexOf(this.type)&&(t.Extensions.checkDropdownOptionsInTable_(this,e,n),a.push(this.type)),this.setTooltip(function(){var u=String(this.getFieldValue(e)),C=n[u];return null==C?-1==a.indexOf(this.type)&&(u="No tooltip mapping for value "+u+" of field "+e,null!=this.type&&(u+=" of block type "+this.type),console.warn(u+".")):C=t.utils.replaceMessageReferences(C),C}.bind(this))}},t.Extensions.checkDropdownOptionsInTable_=function(e,n,a){var u=e.getField(n);if(!u.isOptionListDynamic()){u=u.getOptions();for(var C=0;C<u.length;++C){var D=u[C][1];null==a[D]&&console.warn("No tooltip mapping for value "+D+" of field "+n+" of block type "+e.type)}}},t.Extensions.buildTooltipWithFieldText=function(e,n){return"object"==typeof document&&t.utils.runAfterPageLoad(function(){t.utils.checkMessageReferences(e)}),function(){this.setTooltip(function(){var a=this.getField(n);return t.utils.replaceMessageReferences(e).replace("%1",a?a.getText():"")}.bind(this))}},t.Extensions.extensionParentTooltip_=function(){this.tooltipWhenNotConnected_=this.tooltip,this.setTooltip(function(){var e=this.getParent();return e&&e.getInputsInline()&&e.tooltip||this.tooltipWhenNotConnected_}.bind(this))},t.Extensions.register("parent_tooltip_when_inline",t.Extensions.extensionParentTooltip_),t.fieldRegistry={},t.fieldRegistry.register=function(e,n){t.registry.register(t.registry.Type.FIELD,e,n)},t.fieldRegistry.unregister=function(e){t.registry.unregister(t.registry.Type.FIELD,e)},t.fieldRegistry.fromJson=function(e){var n=t.registry.getObject(t.registry.Type.FIELD,e.type);return n?n.fromJson(e):(console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)},t.IDeletable=function(){},t.blockAnimations={},t.blockAnimations.disconnectPid_=0,t.blockAnimations.disconnectGroup_=null,t.blockAnimations.disposeUiEffect=function(e){var n=e.workspace,a=e.getSvgRoot();n.getAudioManager().play("delete"),e=n.getSvgXY(a),(a=a.cloneNode(!0)).translateX_=e.x,a.translateY_=e.y,a.setAttribute("transform","translate("+e.x+","+e.y+")"),n.getParentSvg().appendChild(a),a.bBox_=a.getBBox(),t.blockAnimations.disposeUiStep_(a,n.RTL,new Date,n.scale)},t.blockAnimations.disposeUiStep_=function(e,n,a,u){var C=(new Date-a)/150;1<C?t.utils.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(n?-1:1)*e.bBox_.width*u/2*C)+","+(e.translateY_+e.bBox_.height*u*C)+") scale("+(1-C)*u+")"),setTimeout(t.blockAnimations.disposeUiStep_,10,e,n,a,u))},t.blockAnimations.connectionUiEffect=function(e){var n=e.workspace,a=n.scale;if(n.getAudioManager().play("click"),!(1>a)){var u=n.getSvgXY(e.getSvgRoot());e.outputConnection?(u.x+=(e.RTL?3:-3)*a,u.y+=13*a):e.previousConnection&&(u.x+=(e.RTL?-23:23)*a,u.y+=3*a),e=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:u.x,cy:u.y,r:0,fill:"none",stroke:"#888","stroke-width":10},n.getParentSvg()),t.blockAnimations.connectionUiStep_(e,new Date,a)}},t.blockAnimations.connectionUiStep_=function(e,n,a){var u=(new Date-n)/150;1<u?t.utils.dom.removeNode(e):(e.setAttribute("r",25*u*a),e.style.opacity=1-u,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.connectionUiStep_,10,e,n,a))},t.blockAnimations.disconnectUiEffect=function(e){if(e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var n=e.getHeightWidth().height;n=Math.atan(10/n)/Math.PI*180,e.RTL||(n*=-1),t.blockAnimations.disconnectUiStep_(e.getSvgRoot(),n,new Date)}},t.blockAnimations.disconnectUiStep_=function(e,n,a){var u=(new Date-a)/200;1<u?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(u*Math.PI*3)*(1-u)*n)+")",t.blockAnimations.disconnectGroup_=e,t.blockAnimations.disconnectPid_=setTimeout(t.blockAnimations.disconnectUiStep_,10,e,n,a)),e.setAttribute("transform",e.translate_+e.skew_)},t.blockAnimations.disconnectUiStop=function(){if(t.blockAnimations.disconnectGroup_){clearTimeout(t.blockAnimations.disconnectPid_);var e=t.blockAnimations.disconnectGroup_;e.skew_="",e.setAttribute("transform",e.translate_),t.blockAnimations.disconnectGroup_=null}},t.Events.BlockDrag=function(e,n,a){t.Events.BlockDrag.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isStart=n,this.blocks=a},t.utils.object.inherits(t.Events.BlockDrag,t.Events.UiBase),t.Events.BlockDrag.prototype.type=t.Events.BLOCK_DRAG,t.Events.BlockDrag.prototype.toJson=function(){var e=t.Events.BlockDrag.superClass_.toJson.call(this);return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e},t.Events.BlockDrag.prototype.fromJson=function(e){t.Events.BlockDrag.superClass_.fromJson.call(this,e),this.isStart=e.isStart,this.blockId=e.blockId,this.blocks=e.blocks},t.registry.register(t.registry.Type.EVENT,t.Events.BLOCK_DRAG,t.Events.BlockDrag),t.IBlockDragger=function(){},t.InsertionMarkerManager=function(e){this.topBlock_=t.selected=e,this.workspace_=e.workspace,this.lastMarker_=this.lastOnStack_=null,this.firstMarker_=this.createMarkerBlock_(this.topBlock_),this.localConnection_=this.closestConnection_=null,this.wouldDeleteBlock_=!1,this.fadedBlock_=this.highlightedBlock_=this.markerConnection_=null,this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.PREVIEW_TYPE={INSERTION_MARKER:0,INPUT_OUTLINE:1,REPLACEMENT_FADE:2},t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",t.InsertionMarkerManager.prototype.dispose=function(){this.availableConnections_.length=0,t.Events.disable();try{this.firstMarker_&&this.firstMarker_.dispose(),this.lastMarker_&&this.lastMarker_.dispose()}finally{t.Events.enable()}},t.InsertionMarkerManager.prototype.updateAvailableConnections=function(){this.availableConnections_=this.initAvailableConnections_()},t.InsertionMarkerManager.prototype.wouldDeleteBlock=function(){return this.wouldDeleteBlock_},t.InsertionMarkerManager.prototype.wouldConnectBlock=function(){return!!this.closestConnection_},t.InsertionMarkerManager.prototype.applyConnections=function(){if(this.closestConnection_&&(t.Events.disable(),this.hidePreview_(),t.Events.enable(),this.localConnection_.connect(this.closestConnection_),this.topBlock_.rendered)){var e=this.localConnection_.isSuperior()?this.closestConnection_:this.localConnection_;t.blockAnimations.connectionUiEffect(e.getSourceBlock()),this.topBlock_.getRootBlock().bringToFront()}},t.InsertionMarkerManager.prototype.update=function(e,n){var a=this.getCandidate_(e);((this.wouldDeleteBlock_=this.shouldDelete_(a,n))||this.shouldUpdatePreviews_(a,e))&&(t.Events.disable(),this.maybeHidePreview_(a),this.maybeShowPreview_(a),t.Events.enable())},t.InsertionMarkerManager.prototype.createMarkerBlock_=function(e){var n=e.type;t.Events.disable();try{var a=this.workspace_.newBlock(n);if(a.setInsertionMarker(!0),e.mutationToDom){var u=e.mutationToDom();u&&a.domToMutation(u)}for(n=0;n<e.inputList.length;n++){var C=e.inputList[n];if(C.name!=t.constants.COLLAPSED_INPUT_NAME){var D=a.inputList[n];if(!D)throw Error(t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","an input"));for(u=0;u<C.fieldRow.length;u++){var F=C.fieldRow[u],W=D.fieldRow[u];if(!W)throw Error(t.InsertionMarkerManager.DUPLICATE_BLOCK_ERROR.replace("%1","a field"));W.setValue(F.getValue())}}}a.setCollapsed(e.isCollapsed()),a.setInputsInline(e.getInputsInline()),a.initSvg(),a.getSvgRoot().setAttribute("visibility","hidden")}finally{t.Events.enable()}return a},t.InsertionMarkerManager.prototype.initAvailableConnections_=function(){var e=this.topBlock_.getConnections_(!1),n=this.topBlock_.lastConnectionInStack(!0);if(n&&n!=this.topBlock_.nextConnection){if(e.push(n),this.lastOnStack_=n,this.lastMarker_){t.Events.disable();try{this.lastMarker_.dispose()}finally{t.Events.enable()}}this.lastMarker_=this.createMarkerBlock_(n.getSourceBlock())}return e},t.InsertionMarkerManager.prototype.shouldUpdatePreviews_=function(e,n){var a=e.local,u=e.closest;return e=e.radius,a&&u?this.localConnection_&&this.closestConnection_?!(this.closestConnection_==u&&this.localConnection_==a||(a=this.localConnection_.x+n.x-this.closestConnection_.x,n=this.localConnection_.y+n.y-this.closestConnection_.y,n=Math.sqrt(a*a+n*n),u&&e>n-t.CURRENT_CONNECTION_PREFERENCE)):!this.localConnection_&&!this.closestConnection_||(console.error("Only one of localConnection_ and closestConnection_ was set."),console.error("Returning true from shouldUpdatePreviews, but it's not clear why."),!0):!(!this.localConnection_||!this.closestConnection_)},t.InsertionMarkerManager.prototype.getCandidate_=function(e){for(var n=this.getStartRadius_(),a=null,u=null,C=0;C<this.availableConnections_.length;C++){var D=this.availableConnections_[C],F=D.closest(n,e);F.connection&&(a=F.connection,u=D,n=F.radius)}return{closest:a,local:u,radius:n}},t.InsertionMarkerManager.prototype.getStartRadius_=function(){return this.closestConnection_&&this.localConnection_?t.CONNECTING_SNAP_RADIUS:t.SNAP_RADIUS},t.InsertionMarkerManager.prototype.shouldDelete_=function(e,n){return!(!n||!this.workspace_.getComponentManager().hasCapability(n.id,t.ComponentManager.Capability.DELETE_AREA))&&n.wouldDelete(this.topBlock_,e&&!!e.closest)},t.InsertionMarkerManager.prototype.maybeShowPreview_=function(e){if(!this.wouldDeleteBlock_){var n=e.closest;e=e.local,n&&(n==this.closestConnection_||n.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.closestConnection_=n,this.localConnection_=e,this.showPreview_()))}},t.InsertionMarkerManager.prototype.showPreview_=function(){var e=this.closestConnection_,n=this.workspace_.getRenderer();switch(n.getConnectionPreviewMethod(e,this.localConnection_,this.topBlock_)){case t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker_();break;case t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade_()}e&&n.shouldHighlightConnection(e)&&e.highlight()},t.InsertionMarkerManager.prototype.maybeHidePreview_=function(e){if(e.closest){var n=this.closestConnection_!=e.closest;e=this.localConnection_!=e.local,this.closestConnection_&&this.localConnection_&&(n||e||this.wouldDeleteBlock_)&&this.hidePreview_()}else this.hidePreview_();this.localConnection_=this.closestConnection_=this.markerConnection_=null},t.InsertionMarkerManager.prototype.hidePreview_=function(){this.closestConnection_&&this.closestConnection_.targetBlock()&&this.workspace_.getRenderer().shouldHighlightConnection(this.closestConnection_)&&this.closestConnection_.unhighlight(),this.fadedBlock_?this.hideReplacementFade_():this.highlightedBlock_?this.hideInsertionInputOutline_():this.markerConnection_&&this.hideInsertionMarker_()},t.InsertionMarkerManager.prototype.showInsertionMarker_=function(){var e=this.localConnection_,n=this.closestConnection_,a=this.lastOnStack_&&e==this.lastOnStack_?this.lastMarker_:this.firstMarker_;if((e=a.getMatchingConnection(e.getSourceBlock(),e))==this.markerConnection_)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");a.render(),a.rendered=!0,a.getSvgRoot().setAttribute("visibility","visible"),e&&n&&a.positionNearConnection(e,n),n&&e.connect(n),this.markerConnection_=e},t.InsertionMarkerManager.prototype.hideInsertionMarker_=function(){if(this.markerConnection_){var e=this.markerConnection_,n=e.getSourceBlock(),a=n.nextConnection,u=n.previousConnection,C=n.outputConnection;if(C=e.type==t.connectionTypes.INPUT_VALUE&&!(C&&C.targetConnection),!(e!=a||u&&u.targetConnection)||C?e.targetBlock().unplug(!1):e.type==t.connectionTypes.NEXT_STATEMENT&&e!=a?((a=e.targetConnection).getSourceBlock().unplug(!1),u=u?u.targetConnection:null,n.unplug(!0),u&&u.connect(a)):n.unplug(!0),e.targetConnection)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");this.markerConnection_=null,(e=n.getSvgRoot())&&e.setAttribute("visibility","hidden")}else console.log("No insertion marker connection to disconnect")},t.InsertionMarkerManager.prototype.showInsertionInputOutline_=function(){var e=this.closestConnection_;this.highlightedBlock_=e.getSourceBlock(),this.highlightedBlock_.highlightShapeForInput(e,!0)},t.InsertionMarkerManager.prototype.hideInsertionInputOutline_=function(){this.highlightedBlock_.highlightShapeForInput(this.closestConnection_,!1),this.highlightedBlock_=null},t.InsertionMarkerManager.prototype.showReplacementFade_=function(){this.fadedBlock_=this.closestConnection_.targetBlock(),this.fadedBlock_.fadeForReplacement(!0)},t.InsertionMarkerManager.prototype.hideReplacementFade_=function(){this.fadedBlock_.fadeForReplacement(!1),this.fadedBlock_=null},t.InsertionMarkerManager.prototype.getInsertionMarkers=function(){var e=[];return this.firstMarker_&&e.push(this.firstMarker_),this.lastMarker_&&e.push(this.lastMarker_),e},t.BlockDragger=function(e,n){this.draggingBlock_=e,this.workspace_=n,this.draggedConnectionManager_=new t.InsertionMarkerManager(this.draggingBlock_),this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=t.BlockDragger.initIconData_(e)},t.BlockDragger.prototype.dispose=function(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()},t.BlockDragger.initIconData_=function(e){var n=[];e=e.getDescendants(!1);for(var u,a=0;u=e[a];a++){u=u.getIcons();for(var C=0;C<u.length;C++){var D={location:u[C].getIconLocation(),icon:u[C]};n.push(D)}}return n},t.BlockDragger.prototype.startDrag=function(e,n){t.Events.getGroup()||t.Events.setGroup(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),t.utils.dom.startTextWidthCache(),this.workspace_.setResizesEnabled(!1),t.blockAnimations.disconnectUiStop(),this.shouldDisconnect_(n)&&this.disconnectBlock_(n,e),this.draggingBlock_.setDragging(!0),this.draggingBlock_.moveToDragSurface()},t.BlockDragger.prototype.shouldDisconnect_=function(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())},t.BlockDragger.prototype.disconnectBlock_=function(e,n){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(n),e=t.utils.Coordinate.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),t.blockAnimations.disconnectUiEffect(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()},t.BlockDragger.prototype.fireDragStartEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.drag=function(e,n){n=this.pixelsToWorkspaceUnits_(n);var a=t.utils.Coordinate.sum(this.startXY_,n);this.draggingBlock_.moveDuringDrag(a),this.dragIcons_(n),a=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),this.draggedConnectionManager_.update(n,this.dragTarget_),e=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock(),e!=this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==a&&(a&&a.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)},t.BlockDragger.prototype.endDrag=function(e,n){if(this.drag(e,n),this.dragIconData_=[],this.fireDragEndEvent_(),t.utils.dom.stopTextWidthCache(),t.blockAnimations.disconnectUiStop(),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_))e=this.startXY_;else{var a=(e=this.getNewLocationAfterDrag_(n)).delta;e=e.newLocation}this.draggingBlock_.moveOffDragSurface(e),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),a?this.updateBlockAfterMove_(a):t.bumpObjectIntoBounds_(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),t.Events.setGroup(!1)},t.BlockDragger.prototype.getNewLocationAfterDrag_=function(e){var n={};return n.delta=this.pixelsToWorkspaceUnits_(e),n.newLocation=t.utils.Coordinate.sum(this.startXY_,n.delta),n},t.BlockDragger.prototype.maybeDeleteBlock_=function(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),t.draggingConnections=[],!0)},t.BlockDragger.prototype.updateBlockAfterMove_=function(e){this.draggingBlock_.moveConnections(e.x,e.y),this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.render(),this.draggingBlock_.scheduleSnapAndBump()},t.BlockDragger.prototype.fireDragEndEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_DRAG))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));t.Events.fire(e)},t.BlockDragger.prototype.updateToolboxStyle_=function(e){var n=this.workspace_.getToolbox();if(n){var a=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"==typeof n.removeStyle?n.removeStyle(a):e||"function"!=typeof n.addStyle||n.addStyle(a)}},t.BlockDragger.prototype.fireMoveEvent_=function(){var e=new(t.Events.get(t.Events.BLOCK_MOVE))(this.draggingBlock_);e.oldCoordinate=this.startXY_,e.recordNew(),t.Events.fire(e)},t.BlockDragger.prototype.updateCursorDuringBlockDrag_=function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)},t.BlockDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BlockDragger.prototype.dragIcons_=function(e){for(var n=0;n<this.dragIconData_.length;n++){var a=this.dragIconData_[n];a.icon.setIconLocation(t.utils.Coordinate.sum(a.location,e))}},t.BlockDragger.prototype.getInsertionMarkers=function(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]},t.registry.register(t.registry.Type.BLOCK_DRAGGER,t.registry.DEFAULT,t.BlockDragger),t.IContextMenu=function(){},t.IDraggable=function(){},t.IBubble=function(){},t.Bubble=function(e,n,a,u,C,D){this.workspace_=e,this.content_=n,this.shape_=a,this.onMouseDownResizeWrapper_=this.onMouseDownBubbleWrapper_=this.moveCallback_=this.resizeCallback_=null,this.disposed=!1,a=t.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(a=-a),this.arrow_radians_=t.utils.math.toRadians(a),e.getBubbleCanvas().appendChild(this.createDom_(n,!(!C||!D))),this.setAnchorLocation(u),C&&D||(C=(e=this.content_.getBBox()).width+2*t.Bubble.BORDER_WIDTH,D=e.height+2*t.Bubble.BORDER_WIDTH),this.setBubbleSize(C,D),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0},t.Bubble.BORDER_WIDTH=6,t.Bubble.ARROW_THICKNESS=5,t.Bubble.ARROW_ANGLE=20,t.Bubble.ARROW_BEND=4,t.Bubble.ANCHOR_RADIUS=8,t.Bubble.onMouseUpWrapper_=null,t.Bubble.onMouseMoveWrapper_=null,t.Bubble.unbindDragEvents_=function(){t.Bubble.onMouseUpWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseUpWrapper_),t.Bubble.onMouseUpWrapper_=null),t.Bubble.onMouseMoveWrapper_&&(t.browserEvents.unbind(t.Bubble.onMouseMoveWrapper_),t.Bubble.onMouseMoveWrapper_=null)},t.Bubble.bubbleMouseUp_=function(e){t.Touch.clearTouchIdentifier(),t.Bubble.unbindDragEvents_()},t.Bubble.prototype.rendered_=!1,t.Bubble.prototype.anchorXY_=null,t.Bubble.prototype.relativeLeft_=0,t.Bubble.prototype.relativeTop_=0,t.Bubble.prototype.width_=0,t.Bubble.prototype.height_=0,t.Bubble.prototype.autoLayout_=!0,t.Bubble.prototype.createDom_=function(e,n){this.bubbleGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var a={filter:"url(#"+this.workspace_.getRenderer().getConstants().embossFilterId+")"};return t.utils.userAgent.JAVA_FX&&(a={}),a=t.utils.dom.createSvgElement(t.utils.Svg.G,a,this.bubbleGroup_),this.bubbleArrow_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{},a),this.bubbleBack_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyDraggable",x:0,y:0,rx:t.Bubble.BORDER_WIDTH,ry:t.Bubble.BORDER_WIDTH},a),n?(this.resizeGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),t.utils.dom.createSvgElement(t.utils.Svg.POLYGON,{points:"0,x x,x x,0".replace(/x/g,(n=2*t.Bubble.BORDER_WIDTH).toString())},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:n/3,y1:n-1,x2:n-1,y2:n/3},this.resizeGroup_),t.utils.dom.createSvgElement(t.utils.Svg.LINE,{class:"blocklyResizeLine",x1:2*n/3,y1:n-1,x2:n-1,y2:2*n/3},this.resizeGroup_)):this.resizeGroup_=null,this.workspace_.options.readOnly||(this.onMouseDownBubbleWrapper_=t.browserEvents.conditionalBind(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&(this.onMouseDownResizeWrapper_=t.browserEvents.conditionalBind(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))),this.bubbleGroup_.appendChild(e),this.bubbleGroup_},t.Bubble.prototype.getSvgRoot=function(){return this.bubbleGroup_},t.Bubble.prototype.setSvgId=function(e){this.bubbleGroup_.dataset&&(this.bubbleGroup_.dataset.blockId=e)},t.Bubble.prototype.bubbleMouseDown_=function(e){var n=this.workspace_.getGesture(e);n&&n.handleBubbleStart(e,this)},t.Bubble.prototype.showContextMenu=function(e){},t.Bubble.prototype.isDeletable=function(){return!1},t.Bubble.prototype.setDeleteStyle=function(e){},t.Bubble.prototype.resizeMouseDown_=function(e){this.promote(),t.Bubble.unbindDragEvents_(),t.utils.isRightButton(e)||(this.workspace_.startDrag(e,new t.utils.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),t.Bubble.onMouseUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",this,t.Bubble.bubbleMouseUp_),t.Bubble.onMouseMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",this,this.resizeMouseMove_),t.hideChaff()),e.stopPropagation()},t.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},t.Bubble.prototype.registerResizeEvent=function(e){this.resizeCallback_=e},t.Bubble.prototype.registerMoveEvent=function(e){this.moveCallback_=e},t.Bubble.prototype.promote=function(){var e=this.bubbleGroup_.parentNode;return e.lastChild!==this.bubbleGroup_&&(e.appendChild(this.bubbleGroup_),!0)},t.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},t.Bubble.prototype.layoutBubble_=function(){var e=this.workspace_.getMetricsManager().getViewMetrics(!0),n=this.getOptimalRelativeLeft_(e),a=this.getOptimalRelativeTop_(e),u=this.shape_.getBBox(),C={x:n,y:-this.height_-this.workspace_.getRenderer().getConstants().MIN_BLOCK_HEIGHT},D={x:-this.width_-30,y:a};a={x:u.width,y:a};var F={x:n,y:u.height};n=u.width<u.height?a:F,u=u.width<u.height?F:a,a=this.getOverlap_(C,e),F=this.getOverlap_(D,e);var W=this.getOverlap_(n,e);e=this.getOverlap_(u,e),a==(e=Math.max(a,F,W,e))?(this.relativeLeft_=C.x,this.relativeTop_=C.y):F==e?(this.relativeLeft_=D.x,this.relativeTop_=D.y):W==e?(this.relativeLeft_=n.x,this.relativeTop_=n.y):(this.relativeLeft_=u.x,this.relativeTop_=u.y)},t.Bubble.prototype.getOverlap_=function(e,n){var a=this.workspace_.RTL?this.anchorXY_.x-e.x-this.width_:e.x+this.anchorXY_.x;return e=e.y+this.anchorXY_.y,Math.max(0,Math.min(1,(Math.min(a+this.width_,n.left+n.width)-Math.max(a,n.left))*(Math.min(e+this.height_,n.top+n.height)-Math.max(e,n.top))/(this.width_*this.height_)))},t.Bubble.prototype.getOptimalRelativeLeft_=function(e){var n=-this.width_/4;if(this.width_>e.width)return n;if(this.workspace_.RTL)var a=this.anchorXY_.x-n,u=a-this.width_,C=e.left+e.width,D=e.left+t.Scrollbar.scrollbarThickness/this.workspace_.scale;else a=(u=n+this.anchorXY_.x)+this.width_,D=e.left,C=e.left+e.width-t.Scrollbar.scrollbarThickness/this.workspace_.scale;return this.workspace_.RTL?u<D?n=-(D-this.anchorXY_.x+this.width_):a>C&&(n=-(C-this.anchorXY_.x)):u<D?n=D-this.anchorXY_.x:a>C&&(n=C-this.anchorXY_.x-this.width_),n},t.Bubble.prototype.getOptimalRelativeTop_=function(e){var n=-this.height_/4;if(this.height_>e.height)return n;var a=this.anchorXY_.y+n,C=e.top;e=e.top+e.height-t.Scrollbar.scrollbarThickness/this.workspace_.scale;var D=this.anchorXY_.y;return a<C?n=C-D:a+this.height_>e&&(n=e-D-this.height_),n},t.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x;this.moveTo(e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_,this.relativeTop_+this.anchorXY_.y)},t.Bubble.prototype.moveTo=function(e,n){this.bubbleGroup_.setAttribute("transform","translate("+e+","+n+")")},t.Bubble.prototype.setDragging=function(e){!e&&this.moveCallback_&&this.moveCallback_()},t.Bubble.prototype.getBubbleSize=function(){return new t.utils.Size(this.width_,this.height_)},t.Bubble.prototype.setBubbleSize=function(e,n){var a=2*t.Bubble.BORDER_WIDTH;e=Math.max(e,a+45),n=Math.max(n,a+20),this.width_=e,this.height_=n,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",n),this.resizeGroup_&&this.resizeGroup_.setAttribute("transform",this.workspace_.RTL?"translate("+2*t.Bubble.BORDER_WIDTH+","+(n-a)+") scale(-1 1)":"translate("+(e-a)+","+(n-a)+")"),this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_(),this.resizeCallback_&&this.resizeCallback_()},t.Bubble.prototype.renderArrow_=function(){var e=[],n=this.width_/2,a=this.height_/2,u=-this.relativeLeft_,C=-this.relativeTop_;if(n==u&&a==C)e.push("M "+n+","+a);else{C-=a,u-=n,this.workspace_.RTL&&(u*=-1);var D=Math.sqrt(C*C+u*u),F=Math.acos(u/D);0>C&&(F=2*Math.PI-F);var W=F+Math.PI/2;W>2*Math.PI&&(W-=2*Math.PI);var te=Math.sin(W),oe=Math.cos(W),q=this.getBubbleSize();W=(q.width+q.height)/t.Bubble.ARROW_THICKNESS,W=Math.min(W,q.width,q.height)/4,u=n+(q=1-t.Bubble.ANCHOR_RADIUS/D)*u,C=a+q*C,q=n+W*oe;var ue=a+W*te;n-=W*oe,a-=W*te,(te=F+this.arrow_radians_)>2*Math.PI&&(te-=2*Math.PI),F=Math.sin(te)*D/t.Bubble.ARROW_BEND,D=Math.cos(te)*D/t.Bubble.ARROW_BEND,e.push("M"+q+","+ue),e.push("C"+(q+D)+","+(ue+F)+" "+u+","+C+" "+u+","+C),e.push("C"+u+","+C+" "+(n+D)+","+(a+F)+" "+n+","+a)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},t.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},t.Bubble.prototype.dispose=function(){this.onMouseDownBubbleWrapper_&&t.browserEvents.unbind(this.onMouseDownBubbleWrapper_),this.onMouseDownResizeWrapper_&&t.browserEvents.unbind(this.onMouseDownResizeWrapper_),t.Bubble.unbindDragEvents_(),t.utils.dom.removeNode(this.bubbleGroup_),this.disposed=!0},t.Bubble.prototype.moveDuringDrag=function(e,n){e?e.translateSurface(n.x,n.y):this.moveTo(n.x,n.y),this.relativeLeft_=this.workspace_.RTL?this.anchorXY_.x-n.x-this.width_:n.x-this.anchorXY_.x,this.relativeTop_=n.y-this.anchorXY_.y,this.renderArrow_()},t.Bubble.prototype.getRelativeToSurfaceXY=function(){return new t.utils.Coordinate(this.workspace_.RTL?-this.relativeLeft_+this.anchorXY_.x-this.width_:this.anchorXY_.x+this.relativeLeft_,this.anchorXY_.y+this.relativeTop_)},t.Bubble.prototype.setAutoLayout=function(e){this.autoLayout_=e},t.Bubble.textToDom=function(e){var n=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:t.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var a=0;a<e.length;a++){var u=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{dy:"1em",x:t.Bubble.BORDER_WIDTH},n),C=document.createTextNode(e[a]);u.appendChild(C)}return n},t.Bubble.createNonEditableBubble=function(e,n,a){if((a=new t.Bubble(n.workspace,e,n.pathObject.svgPath,a,null,null)).setSvgId(n.id),n.RTL){n=e.getBBox().width;for(var C,u=0;C=e.childNodes[u];u++)C.setAttribute("text-anchor","end"),C.setAttribute("x",n+t.Bubble.BORDER_WIDTH)}return a},t.Events.CommentBase=function(e){this.commentId=(this.isBlank=void 0===e)?"":e.id,this.workspaceId=this.isBlank?"":e.workspace.id,this.group=t.Events.getGroup(),this.recordUndo=t.Events.recordUndo},t.utils.object.inherits(t.Events.CommentBase,t.Events.Abstract),t.Events.CommentBase.prototype.toJson=function(){var e=t.Events.CommentBase.superClass_.toJson.call(this);return this.commentId&&(e.commentId=this.commentId),e},t.Events.CommentBase.prototype.fromJson=function(e){t.Events.CommentBase.superClass_.fromJson.call(this,e),this.commentId=e.commentId},t.Events.CommentChange=function(e,n,a){t.Events.CommentChange.superClass_.constructor.call(this,e),e&&(this.oldContents_=void 0===n?"":n,this.newContents_=void 0===a?"":a)},t.utils.object.inherits(t.Events.CommentChange,t.Events.CommentBase),t.Events.CommentChange.prototype.type=t.Events.COMMENT_CHANGE,t.Events.CommentChange.prototype.toJson=function(){var e=t.Events.CommentChange.superClass_.toJson.call(this);return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e},t.Events.CommentChange.prototype.fromJson=function(e){t.Events.CommentChange.superClass_.fromJson.call(this,e),this.oldContents_=e.oldContents,this.newContents_=e.newContents},t.Events.CommentChange.prototype.isNull=function(){return this.oldContents_==this.newContents_},t.Events.CommentChange.prototype.run=function(e){var n=this.getEventWorkspace_().getCommentById(this.commentId);n?n.setContent(e?this.newContents_:this.oldContents_):console.warn("Can't change non-existent comment: "+this.commentId)},t.Events.CommentCreate=function(e){t.Events.CommentCreate.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentCreate,t.Events.CommentBase),t.Events.CommentCreate.prototype.type=t.Events.COMMENT_CREATE,t.Events.CommentCreate.prototype.toJson=function(){var e=t.Events.CommentCreate.superClass_.toJson.call(this);return e.xml=t.Xml.domToText(this.xml),e},t.Events.CommentCreate.prototype.fromJson=function(e){t.Events.CommentCreate.superClass_.fromJson.call(this,e),this.xml=t.Xml.textToDom(e.xml)},t.Events.CommentCreate.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,e)},t.Events.CommentCreateDeleteHelper=function(e,n){var a=e.getEventWorkspace_();n?((n=t.utils.xml.createElement("xml")).appendChild(e.xml),t.Xml.domToWorkspace(n,a)):(a=a.getCommentById(e.commentId))?a.dispose(!1,!1):console.warn("Can't uncreate non-existent comment: "+e.commentId)},t.Events.CommentDelete=function(e){t.Events.CommentDelete.superClass_.constructor.call(this,e),e&&(this.xml=e.toXmlWithXY())},t.utils.object.inherits(t.Events.CommentDelete,t.Events.CommentBase),t.Events.CommentDelete.prototype.type=t.Events.COMMENT_DELETE,t.Events.CommentDelete.prototype.toJson=function(){return t.Events.CommentDelete.superClass_.toJson.call(this)},t.Events.CommentDelete.prototype.fromJson=function(e){t.Events.CommentDelete.superClass_.fromJson.call(this,e)},t.Events.CommentDelete.prototype.run=function(e){t.Events.CommentCreateDeleteHelper(this,!e)},t.Events.CommentMove=function(e){t.Events.CommentMove.superClass_.constructor.call(this,e),e&&(this.comment_=e,this.oldCoordinate_=e.getXY(),this.newCoordinate_=null)},t.utils.object.inherits(t.Events.CommentMove,t.Events.CommentBase),t.Events.CommentMove.prototype.recordNew=function(){if(!this.comment_)throw Error("Tried to record the new position of a comment on the same event twice.");this.newCoordinate_=this.comment_.getXY(),this.comment_=null},t.Events.CommentMove.prototype.type=t.Events.COMMENT_MOVE,t.Events.CommentMove.prototype.setOldCoordinate=function(e){this.oldCoordinate_=e},t.Events.CommentMove.prototype.toJson=function(){var e=t.Events.CommentMove.superClass_.toJson.call(this);return this.oldCoordinate_&&(e.oldCoordinate=Math.round(this.oldCoordinate_.x)+","+Math.round(this.oldCoordinate_.y)),this.newCoordinate_&&(e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y)),e},t.Events.CommentMove.prototype.fromJson=function(e){if(t.Events.CommentMove.superClass_.fromJson.call(this,e),e.oldCoordinate){var n=e.oldCoordinate.split(",");this.oldCoordinate_=new t.utils.Coordinate(Number(n[0]),Number(n[1]))}e.newCoordinate&&(n=e.newCoordinate.split(","),this.newCoordinate_=new t.utils.Coordinate(Number(n[0]),Number(n[1])))},t.Events.CommentMove.prototype.isNull=function(){return t.utils.Coordinate.equals(this.oldCoordinate_,this.newCoordinate_)},t.Events.CommentMove.prototype.run=function(e){var n=this.getEventWorkspace_().getCommentById(this.commentId);if(n){e=e?this.newCoordinate_:this.oldCoordinate_;var a=n.getXY();n.moveBy(e.x-a.x,e.y-a.y)}else console.warn("Can't move non-existent comment: "+this.commentId)},t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CREATE,t.Events.CommentCreate),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_CHANGE,t.Events.CommentChange),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_MOVE,t.Events.CommentMove),t.registry.register(t.registry.Type.EVENT,t.Events.COMMENT_DELETE,t.Events.CommentDelete),t.BubbleDragger=function(e,n){this.draggingBubble_=e,this.workspace_=n,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.draggingBubble_.getRelativeToSurfaceXY(),this.dragSurface_=t.utils.is3dSupported()&&n.getBlockDragSurface()?n.getBlockDragSurface():null},t.BubbleDragger.prototype.dispose=function(){this.dragSurface_=this.workspace_=this.draggingBubble_=null},t.BubbleDragger.prototype.startBubbleDrag=function(){t.Events.getGroup()||t.Events.setGroup(!0),this.workspace_.setResizesEnabled(!1),this.draggingBubble_.setAutoLayout(!1),this.dragSurface_&&this.moveToDragSurface_(),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!0)},t.BubbleDragger.prototype.dragBubble=function(e,n){n=this.pixelsToWorkspaceUnits_(n),n=t.utils.Coordinate.sum(this.startXY_,n),this.draggingBubble_.moveDuringDrag(this.dragSurface_,n),n=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!=this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==n&&(n&&n.onDragExit(this.draggingBubble_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBubble_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBubble_)},t.BubbleDragger.prototype.shouldDelete_=function(e){return!(!e||!this.workspace_.getComponentManager().hasCapability(e.id,t.ComponentManager.Capability.DELETE_AREA))&&e.wouldDelete(this.draggingBubble_,!1)},t.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=function(){this.draggingBubble_.setDeleteStyle(this.wouldDeleteBubble_)},t.BubbleDragger.prototype.endBubbleDrag=function(e,n){this.dragBubble(e,n),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBubble_)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(n),e=t.utils.Coordinate.sum(this.startXY_,e)),this.draggingBubble_.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBubble_),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.draggingBubble_.dispose(!1,!0)):(this.dragSurface_&&this.dragSurface_.clearAndHide(this.workspace_.getBubbleCanvas()),this.draggingBubble_.setDragging&&this.draggingBubble_.setDragging(!1),this.fireMoveEvent_()),this.workspace_.setResizesEnabled(!0),t.Events.setGroup(!1)},t.BubbleDragger.prototype.fireMoveEvent_=function(){if(this.draggingBubble_.isComment){var e=new(t.Events.get(t.Events.COMMENT_MOVE))(this.draggingBubble_);e.setOldCoordinate(this.startXY_),e.recordNew(),t.Events.fire(e)}},t.BubbleDragger.prototype.pixelsToWorkspaceUnits_=function(e){return e=new t.utils.Coordinate(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e},t.BubbleDragger.prototype.moveToDragSurface_=function(){this.draggingBubble_.moveTo(0,0),this.dragSurface_.translateSurface(this.startXY_.x,this.startXY_.y),this.dragSurface_.setBlocksAndShow(this.draggingBubble_.getSvgRoot())},t.Events.Click=function(e,n,a){t.Events.Click.superClass_.constructor.call(this,e?e.workspace.id:n),this.blockId=e?e.id:null,this.targetType=a},t.utils.object.inherits(t.Events.Click,t.Events.UiBase),t.Events.Click.prototype.type=t.Events.CLICK,t.Events.Click.prototype.toJson=function(){var e=t.Events.Click.superClass_.toJson.call(this);return e.targetType=this.targetType,this.blockId&&(e.blockId=this.blockId),e},t.Events.Click.prototype.fromJson=function(e){t.Events.Click.superClass_.fromJson.call(this,e),this.targetType=e.targetType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.CLICK,t.Events.Click),t.WorkspaceDragger=function(e){this.workspace_=e,this.horizontalScrollEnabled_=this.workspace_.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace_.isMovableVertically(),this.startScrollXY_=new t.utils.Coordinate(e.scrollX,e.scrollY)},t.WorkspaceDragger.prototype.dispose=function(){this.workspace_=null},t.WorkspaceDragger.prototype.startDrag=function(){t.selected&&t.selected.unselect(),this.workspace_.setupDragSurface()},t.WorkspaceDragger.prototype.endDrag=function(e){this.drag(e),this.workspace_.resetDragSurface()},t.WorkspaceDragger.prototype.drag=function(e){if(e=t.utils.Coordinate.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace_.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace_.scroll(e.x,this.workspace_.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace_.scroll(this.workspace_.scrollX,e.y)}},t.Gesture=function(e,n){this.mouseDownXY_=null,this.currentDragDeltaXY_=new t.utils.Coordinate(0,0),this.startWorkspace_=this.targetBlock_=this.startBlock_=this.startField_=this.startBubble_=null,this.creatorWorkspace_=n,this.isDraggingBubble_=this.isDraggingBlock_=this.isDraggingWorkspace_=this.hasExceededDragRadius_=!1,this.mostRecentEvent_=e,this.flyout_=this.workspaceDragger_=this.blockDragger_=this.bubbleDragger_=this.onUpWrapper_=this.onMoveWrapper_=null,this.isEnding_=this.hasStarted_=this.calledUpdateIsDragging_=!1,this.healStack_=!t.DRAG_STACK},t.Gesture.prototype.dispose=function(){t.Touch.clearTouchIdentifier(),t.Tooltip.unblock(),this.creatorWorkspace_.clearGesture(),this.onMoveWrapper_&&t.browserEvents.unbind(this.onMoveWrapper_),this.onUpWrapper_&&t.browserEvents.unbind(this.onUpWrapper_),this.blockDragger_&&this.blockDragger_.dispose(),this.workspaceDragger_&&this.workspaceDragger_.dispose(),this.bubbleDragger_&&this.bubbleDragger_.dispose()},t.Gesture.prototype.updateFromEvent_=function(e){var n=new t.utils.Coordinate(e.clientX,e.clientY);this.updateDragDelta_(n)&&(this.updateIsDragging_(),t.longStop_()),this.mostRecentEvent_=e},t.Gesture.prototype.updateDragDelta_=function(e){return this.currentDragDeltaXY_=t.utils.Coordinate.difference(e,this.mouseDownXY_),!this.hasExceededDragRadius_&&(this.hasExceededDragRadius_=t.utils.Coordinate.magnitude(this.currentDragDeltaXY_)>(this.flyout_?t.FLYOUT_DRAG_RADIUS:t.DRAG_RADIUS))},t.Gesture.prototype.updateIsDraggingFromFlyout_=function(){return!(!this.targetBlock_||!this.flyout_.isBlockCreatable_(this.targetBlock_)||this.flyout_.isScrollable()&&!this.flyout_.isDragTowardWorkspace(this.currentDragDeltaXY_)||(this.startWorkspace_=this.flyout_.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),t.Events.getGroup()||t.Events.setGroup(!0),this.startBlock_=null,this.targetBlock_=this.flyout_.createBlock(this.targetBlock_),this.targetBlock_.select(),0))},t.Gesture.prototype.updateIsDraggingBubble_=function(){return!!this.startBubble_&&(this.isDraggingBubble_=!0,this.startDraggingBubble_(),!0)},t.Gesture.prototype.updateIsDraggingBlock_=function(){return!!this.targetBlock_&&(this.flyout_?this.isDraggingBlock_=this.updateIsDraggingFromFlyout_():this.targetBlock_.isMovable()&&(this.isDraggingBlock_=!0),!!this.isDraggingBlock_&&(this.startDraggingBlock_(),!0))},t.Gesture.prototype.updateIsDraggingWorkspace_=function(){(this.flyout_?this.flyout_.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger_=new t.WorkspaceDragger(this.startWorkspace_),this.isDraggingWorkspace_=!0,this.workspaceDragger_.startDrag())},t.Gesture.prototype.updateIsDragging_=function(){if(this.calledUpdateIsDragging_)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging_=!0,this.updateIsDraggingBubble_()||this.updateIsDraggingBlock_()||this.updateIsDraggingWorkspace_()},t.Gesture.prototype.startDraggingBlock_=function(){this.blockDragger_=new(t.registry.getClassFromOptions(t.registry.Type.BLOCK_DRAGGER,this.creatorWorkspace_.options,!0))(this.targetBlock_,this.startWorkspace_),this.blockDragger_.startDrag(this.currentDragDeltaXY_,this.healStack_),this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.startDraggingBubble_=function(){this.bubbleDragger_=new t.BubbleDragger(this.startBubble_,this.startWorkspace_),this.bubbleDragger_.startBubbleDrag(),this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_)},t.Gesture.prototype.doStart=function(e){t.utils.isTargetInput(e)?this.cancel():(this.hasStarted_=!0,t.blockAnimations.disconnectUiStop(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),t.hideChaff(!!this.flyout_),this.startWorkspace_.markFocused(),this.mostRecentEvent_=e,t.Tooltip.block(),this.targetBlock_&&this.targetBlock_.select(),t.utils.isRightButton(e)?this.handleRightClick(e):("touchstart"!=e.type.toLowerCase()&&"pointerdown"!=e.type.toLowerCase()||"mouse"==e.pointerType||t.longStart(e,this),this.mouseDownXY_=new t.utils.Coordinate(e.clientX,e.clientY),this.healStack_=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e)))},t.Gesture.prototype.bindMouseEvents=function(e){this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this)),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this)),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleMove=function(e){this.updateFromEvent_(e),this.isDraggingWorkspace_?this.workspaceDragger_.drag(this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.drag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBubble_&&this.bubbleDragger_.dragBubble(this.mostRecentEvent_,this.currentDragDeltaXY_),e.preventDefault(),e.stopPropagation()},t.Gesture.prototype.handleUp=function(e){this.updateFromEvent_(e),t.longStop_(),this.isEnding_?console.log("Trying to end a gesture recursively."):(this.isEnding_=!0,this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(e,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(e,this.currentDragDeltaXY_):this.isDraggingWorkspace_?this.workspaceDragger_.endDrag(this.currentDragDeltaXY_):this.isBubbleClick_()?this.doBubbleClick_():this.isFieldClick_()?this.doFieldClick_():this.isBlockClick_()?this.doBlockClick_():this.isWorkspaceClick_()&&this.doWorkspaceClick_(e),e.preventDefault(),e.stopPropagation(),this.dispose())},t.Gesture.prototype.cancel=function(){this.isEnding_||(t.longStop_(),this.isDraggingBubble_?this.bubbleDragger_.endBubbleDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingBlock_?this.blockDragger_.endDrag(this.mostRecentEvent_,this.currentDragDeltaXY_):this.isDraggingWorkspace_&&this.workspaceDragger_.endDrag(this.currentDragDeltaXY_),this.dispose())},t.Gesture.prototype.handleRightClick=function(e){this.targetBlock_?(this.bringBlockToFront_(),t.hideChaff(!!this.flyout_),this.targetBlock_.showContextMenu(e)):this.startBubble_?this.startBubble_.showContextMenu(e):this.startWorkspace_&&!this.flyout_&&(t.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()},t.Gesture.prototype.handleWsStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace_(n),this.mostRecentEvent_=e,this.doStart(e)},t.Gesture.prototype.fireWorkspaceClick_=function(e){t.Events.fire(new(t.Events.get(t.Events.CLICK))(null,e.id,"workspace"))},t.Gesture.prototype.handleFlyoutStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout_(n),this.handleWsStart(e,n.getWorkspace())},t.Gesture.prototype.handleBlockStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(n),this.mostRecentEvent_=e},t.Gesture.prototype.handleBubbleStart=function(e,n){if(this.hasStarted_)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(n),this.mostRecentEvent_=e},t.Gesture.prototype.doBubbleClick_=function(){this.startBubble_.setFocus&&this.startBubble_.setFocus(),this.startBubble_.select&&this.startBubble_.select()},t.Gesture.prototype.doFieldClick_=function(){this.startField_.showEditor(this.mostRecentEvent_),this.bringBlockToFront_()},t.Gesture.prototype.doBlockClick_=function(){if(this.flyout_&&this.flyout_.autoClose)this.targetBlock_.isEnabled()&&(t.Events.getGroup()||t.Events.setGroup(!0),this.flyout_.createBlock(this.targetBlock_).scheduleSnapAndBump());else{var e=new(t.Events.get(t.Events.CLICK))(this.startBlock_,this.startWorkspace_.id,"block");t.Events.fire(e)}this.bringBlockToFront_(),t.Events.setGroup(!1)},t.Gesture.prototype.doWorkspaceClick_=function(e){e=this.creatorWorkspace_,t.selected&&t.selected.unselect(),this.fireWorkspaceClick_(this.startWorkspace_||e)},t.Gesture.prototype.bringBlockToFront_=function(){this.targetBlock_&&!this.flyout_&&this.targetBlock_.bringToFront()},t.Gesture.prototype.setStartField=function(e){if(this.hasStarted_)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField_||(this.startField_=e)},t.Gesture.prototype.setStartBubble=function(e){this.startBubble_||(this.startBubble_=e)},t.Gesture.prototype.setStartBlock=function(e){this.startBlock_||this.startBubble_||(this.startBlock_=e,e.isInFlyout&&e!=e.getRootBlock()?this.setTargetBlock_(e.getRootBlock()):this.setTargetBlock_(e))},t.Gesture.prototype.setTargetBlock_=function(e){e.isShadow()?this.setTargetBlock_(e.getParent()):this.targetBlock_=e},t.Gesture.prototype.setStartWorkspace_=function(e){this.startWorkspace_||(this.startWorkspace_=e)},t.Gesture.prototype.setStartFlyout_=function(e){this.flyout_||(this.flyout_=e)},t.Gesture.prototype.isBubbleClick_=function(){return!!this.startBubble_&&!this.hasExceededDragRadius_},t.Gesture.prototype.isBlockClick_=function(){return!!this.startBlock_&&!this.hasExceededDragRadius_&&!this.isFieldClick_()},t.Gesture.prototype.isFieldClick_=function(){return!!this.startField_&&this.startField_.isClickable()&&!this.hasExceededDragRadius_&&(!this.flyout_||!this.flyout_.autoClose)},t.Gesture.prototype.isWorkspaceClick_=function(){return!(this.startBlock_||this.startBubble_||this.startField_||this.hasExceededDragRadius_)},t.Gesture.prototype.isDragging=function(){return this.isDraggingWorkspace_||this.isDraggingBlock_||this.isDraggingBubble_},t.Gesture.prototype.hasStarted=function(){return this.hasStarted_},t.Gesture.prototype.getInsertionMarkers=function(){return this.blockDragger_?this.blockDragger_.getInsertionMarkers():[]},t.Gesture.prototype.getCurrentDragger=function(){return this.isDraggingBlock_?this.blockDragger_:this.isDraggingWorkspace_?this.workspaceDragger_:this.isDraggingBubble_?this.bubbleDragger_:null},t.Gesture.inProgress=function(){for(var a,e=t.Workspace.getAll(),n=0;a=e[n];n++)if(a.currentGesture_)return!0;return!1},t.IRegistrable=function(){},t.Marker=function(){this.drawer_=this.curNode_=this.colour=null,this.type="marker"},t.Marker.prototype.setDrawer=function(e){this.drawer_=e},t.Marker.prototype.getDrawer=function(){return this.drawer_},t.Marker.prototype.getCurNode=function(){return this.curNode_},t.Marker.prototype.setCurNode=function(e){var n=this.curNode_;this.curNode_=e,this.drawer_&&this.drawer_.draw(n,this.curNode_)},t.Marker.prototype.draw=function(){this.drawer_&&this.drawer_.draw(this.curNode_,this.curNode_)},t.Marker.prototype.hide=function(){this.drawer_&&this.drawer_.hide()},t.Marker.prototype.dispose=function(){this.getDrawer()&&this.getDrawer().dispose()},t.Cursor=function(){t.Cursor.superClass_.constructor.call(this),this.type="cursor"},t.utils.object.inherits(t.Cursor,t.Marker),t.Cursor.prototype.next=function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e},t.Cursor.prototype.in=function(){var e=this.getCurNode();return e?((e.getType()==t.ASTNode.types.PREVIOUS||e.getType()==t.ASTNode.types.OUTPUT)&&(e=e.next()),(e=e.in())&&this.setCurNode(e),e):null},t.Cursor.prototype.prev=function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()==t.ASTNode.types.NEXT||e.getType()==t.ASTNode.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e},t.Cursor.prototype.out=function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()==t.ASTNode.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null},t.registry.register(t.registry.Type.CURSOR,t.registry.DEFAULT,t.Cursor),t.MarkerManager=function(e){this.cursorSvg_=this.cursor_=null,this.markers_=Object.create(null),this.workspace_=e},t.MarkerManager.LOCAL_MARKER="local_marker_1",t.MarkerManager.prototype.registerMarker=function(e,n){this.markers_[e]&&this.unregisterMarker(e),n.setDrawer(this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,n)),this.setMarkerSvg(n.getDrawer().createDom()),this.markers_[e]=n},t.MarkerManager.prototype.unregisterMarker=function(e){var n=this.markers_[e];if(!n)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");n.dispose(),delete this.markers_[e]},t.MarkerManager.prototype.getCursor=function(){return this.cursor_},t.MarkerManager.prototype.getMarker=function(e){return this.markers_[e]||null},t.MarkerManager.prototype.setCursor=function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace_.getRenderer().makeMarkerDrawer(this.workspace_,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))},t.MarkerManager.prototype.setCursorSvg=function(e){e?(this.workspace_.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},t.MarkerManager.prototype.setMarkerSvg=function(e){e?this.workspace_.getBlockCanvas()&&(this.cursorSvg_?this.workspace_.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace_.getBlockCanvas().appendChild(e)):this.markerSvg_=null},t.MarkerManager.prototype.updateMarkers=function(){this.workspace_.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace_.getCursor().draw()},t.MarkerManager.prototype.dispose=function(){for(var a,e=Object.keys(this.markers_),n=0;a=e[n];n++)this.unregisterMarker(a);this.markers_=null,this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)},t.WidgetDiv={},t.WidgetDiv.owner_=null,t.WidgetDiv.dispose_=null,t.WidgetDiv.rendererClassName_="",t.WidgetDiv.themeClassName_="",t.WidgetDiv.createDom=function(){t.WidgetDiv.DIV||(t.WidgetDiv.DIV=document.createElement("div"),t.WidgetDiv.DIV.className="blocklyWidgetDiv",(t.parentContainer||document.body).appendChild(t.WidgetDiv.DIV))},t.WidgetDiv.show=function(e,n,a){t.WidgetDiv.hide(),t.WidgetDiv.owner_=e,t.WidgetDiv.dispose_=a,(e=t.WidgetDiv.DIV).style.direction=n?"rtl":"ltr",e.style.display="block",n=t.getMainWorkspace(),t.WidgetDiv.rendererClassName_=n.getRenderer().getClassName(),t.WidgetDiv.themeClassName_=n.getTheme().getClassName(),t.utils.dom.addClass(e,t.WidgetDiv.rendererClassName_),t.utils.dom.addClass(e,t.WidgetDiv.themeClassName_)},t.WidgetDiv.hide=function(){if(t.WidgetDiv.isVisible()){t.WidgetDiv.owner_=null;var e=t.WidgetDiv.DIV;e.style.display="none",e.style.left="",e.style.top="",t.WidgetDiv.dispose_&&t.WidgetDiv.dispose_(),t.WidgetDiv.dispose_=null,e.textContent="",t.WidgetDiv.rendererClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.rendererClassName_),t.WidgetDiv.rendererClassName_=""),t.WidgetDiv.themeClassName_&&(t.utils.dom.removeClass(e,t.WidgetDiv.themeClassName_),t.WidgetDiv.themeClassName_=""),t.getMainWorkspace().markFocused()}},t.WidgetDiv.isVisible=function(){return!!t.WidgetDiv.owner_},t.WidgetDiv.hideIfOwner=function(e){t.WidgetDiv.owner_==e&&t.WidgetDiv.hide()},t.WidgetDiv.positionInternal_=function(e,n,a){t.WidgetDiv.DIV.style.left=e+"px",t.WidgetDiv.DIV.style.top=n+"px",t.WidgetDiv.DIV.style.height=a+"px"},t.WidgetDiv.positionWithAnchor=function(e,n,a,u){var C=t.WidgetDiv.calculateY_(e,n,a);e=t.WidgetDiv.calculateX_(e,n,a,u),0>C?t.WidgetDiv.positionInternal_(e,0,a.height+C):t.WidgetDiv.positionInternal_(e,C,a.height)},t.WidgetDiv.calculateX_=function(e,n,a,u){return u?(n=Math.max(n.right-a.width,e.left),Math.min(n,e.right-a.width)):(n=Math.min(n.left,e.right-a.width),Math.max(n,e.left))},t.WidgetDiv.calculateY_=function(e,n,a){return n.bottom+a.height>=e.bottom?n.top-a.height:n.bottom},t.Field=function(e,n,a){this.value_=this.DEFAULT_VALUE,this.tooltip_=this.validator_=null,this.size_=new t.utils.Size(0,0),this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=null,a&&this.configure_(a),this.setValue(e),n&&this.setValidator(n)},t.Field.prototype.DEFAULT_VALUE=null,t.Field.prototype.name=void 0,t.Field.prototype.disposed=!1,t.Field.prototype.maxDisplayLength=50,t.Field.prototype.sourceBlock_=null,t.Field.prototype.isDirty_=!0,t.Field.prototype.visible_=!0,t.Field.prototype.clickTarget_=null,t.Field.NBSP="\xa0",t.Field.prototype.EDITABLE=!0,t.Field.prototype.SERIALIZABLE=!1,t.Field.prototype.configure_=function(e){var n=e.tooltip;"string"==typeof n&&(n=t.utils.replaceMessageReferences(e.tooltip)),n&&this.setTooltip(n)},t.Field.prototype.setSourceBlock=function(e){if(this.sourceBlock_)throw Error("Field already bound to a block.");this.sourceBlock_=e},t.Field.prototype.getConstants=function(){return!this.constants_&&this.sourceBlock_&&this.sourceBlock_.workspace&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_},t.Field.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())},t.Field.prototype.initView=function(){this.createBorderRect_(),this.createTextElement_()},t.Field.prototype.initModel=function(){},t.Field.prototype.createBorderRect_=function(){this.borderRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)},t.Field.prototype.createTextElement_=function(){this.textElement_=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)},t.Field.prototype.bindEvents_=function(){t.Tooltip.bindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_=t.browserEvents.conditionalBind(this.getClickTarget_(),"mousedown",this,this.onMouseDown_)},t.Field.prototype.fromXml=function(e){this.setValue(e.textContent)},t.Field.prototype.toXml=function(e){return e.textContent=this.getValue(),e},t.Field.prototype.dispose=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hideIfOwner(this),t.Tooltip.unbindMouseEvents(this.getClickTarget_()),this.mouseDownWrapper_&&t.browserEvents.unbind(this.mouseDownWrapper_),t.utils.dom.removeNode(this.fieldGroup_),this.disposed=!0},t.Field.prototype.updateEditable=function(){var e=this.fieldGroup_;this.EDITABLE&&e&&(this.sourceBlock_.isEditable()?(t.utils.dom.addClass(e,"blocklyEditableText"),t.utils.dom.removeClass(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(t.utils.dom.addClass(e,"blocklyNonEditableText"),t.utils.dom.removeClass(e,"blocklyEditableText"),e.style.cursor=""))},t.Field.prototype.isClickable=function(){return!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&!!this.showEditor_&&"function"==typeof this.showEditor_},t.Field.prototype.isCurrentlyEditable=function(){return this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()},t.Field.prototype.isSerializable=function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e},t.Field.prototype.isVisible=function(){return this.visible_},t.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var n=this.getSvgRoot();n&&(n.style.display=e?"block":"none")}},t.Field.prototype.setValidator=function(e){this.validator_=e},t.Field.prototype.getValidator=function(){return this.validator_},t.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},t.Field.prototype.applyColour=function(){},t.Field.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()},t.Field.prototype.showEditor=function(e){this.isClickable()&&this.showEditor_(e)},t.Field.prototype.updateSize_=function(e){var n=this.getConstants(),a=2*(e=null!=e?e:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0),u=n.FIELD_TEXT_HEIGHT,C=0;this.textElement_&&(a+=C=t.utils.dom.getFastTextWidth(this.textElement_,n.FIELD_TEXT_FONTSIZE,n.FIELD_TEXT_FONTWEIGHT,n.FIELD_TEXT_FONTFAMILY)),this.borderRect_&&(u=Math.max(u,n.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=u,this.size_.width=a,this.positionTextElement_(e,C),this.positionBorderRect_()},t.Field.prototype.positionTextElement_=function(e,n){if(this.textElement_){var a=this.getConstants(),u=this.size_.height/2;this.textElement_.setAttribute("x",this.sourceBlock_.RTL?this.size_.width-n-e:e),this.textElement_.setAttribute("y",a.FIELD_TEXT_BASELINE_CENTER?u:u-a.FIELD_TEXT_HEIGHT/2+a.FIELD_TEXT_BASELINE)}},t.Field.prototype.positionBorderRect_=function(){this.borderRect_&&(this.borderRect_.setAttribute("width",this.size_.width),this.borderRect_.setAttribute("height",this.size_.height),this.borderRect_.setAttribute("rx",this.getConstants().FIELD_BORDER_RECT_RADIUS),this.borderRect_.setAttribute("ry",this.getConstants().FIELD_BORDER_RECT_RADIUS))},t.Field.prototype.getSize=function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0==this.size_.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.render_()),this.size_):new t.utils.Size(0,0)},t.Field.prototype.getScaledBBox=function(){if(this.borderRect_)e=this.borderRect_.getBoundingClientRect(),a=t.utils.style.getPageOffset(this.borderRect_),u=e.width,e=e.height;else{var e=this.sourceBlock_.getHeightWidth(),n=this.sourceBlock_.workspace.scale,a=this.getAbsoluteXY_(),u=e.width*n;e=e.height*n,t.utils.userAgent.GECKO?(a.x+=1.5*n,a.y+=1.5*n):t.utils.userAgent.EDGE||t.utils.userAgent.IE||(a.x-=.5*n,a.y-=.5*n),u+=1*n,e+=1*n}return new t.utils.Rect(a.y,a.y+e,a.x,a.x+u)},t.Field.prototype.getDisplayText_=function(){var e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"\u2026"),e=e.replace(/\s/g,t.Field.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+="\u200f"),e):t.Field.NBSP},t.Field.prototype.getText=function(){if(this.getText_){var e=this.getText_.call(this);if(null!==e)return String(e)}return String(this.getValue())},t.Field.prototype.markDirty=function(){this.isDirty_=!0,this.constants_=null},t.Field.prototype.forceRerender=function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours(),this.updateMarkers_())},t.Field.prototype.setValue=function(e){if(null!==e){var n=this.doClassValidation_(e);if(!((e=this.processValidation_(e,n))instanceof Error)){if((n=this.getValidator())&&(n=n.call(this,e),(e=this.processValidation_(e,n))instanceof Error))return;if(!(n=this.sourceBlock_)||!n.disposed){var a=this.getValue();a===e?this.doValueUpdate_(e):(n&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(n,"field",this.name||null,a,e)),this.doValueUpdate_(e),this.isDirty_&&this.forceRerender())}}}},t.Field.prototype.processValidation_=function(e,n){return null===n?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):(void 0!==n&&(e=n),e)},t.Field.prototype.getValue=function(){return this.value_},t.Field.prototype.doClassValidation_=function(e){return null==e?null:e},t.Field.prototype.doValueUpdate_=function(e){this.value_=e,this.isDirty_=!0},t.Field.prototype.doValueInvalid_=function(e){},t.Field.prototype.onMouseDown_=function(e){this.sourceBlock_&&this.sourceBlock_.workspace&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)},t.Field.prototype.setTooltip=function(e){e||""===e||(e=this.sourceBlock_);var n=this.getClickTarget_();n?n.tooltip=e:this.tooltip_=e},t.Field.prototype.getTooltip=function(){var e=this.getClickTarget_();return t.Tooltip.getTooltipOfObject(e||{tooltip:this.tooltip_})},t.Field.prototype.getClickTarget_=function(){return this.clickTarget_||this.getSvgRoot()},t.Field.prototype.getAbsoluteXY_=function(){return t.utils.style.getPageOffset(this.getClickTarget_())},t.Field.prototype.referencesVariables=function(){return!1},t.Field.prototype.getParentInput=function(){for(var e=null,n=this.sourceBlock_,a=n.inputList,u=0;u<n.inputList.length;u++)for(var C=a[u],D=C.fieldRow,F=0;F<D.length;F++)if(D[F]===this){e=C;break}return e},t.Field.prototype.getFlipRtl=function(){return!1},t.Field.prototype.isTabNavigable=function(){return!1},t.Field.prototype.onShortcut=function(e){return!1},t.Field.prototype.setCursorSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null},t.Field.prototype.setMarkerSvg=function(e){e?(this.fieldGroup_.appendChild(e),this.markerSvg_=e):this.markerSvg_=null},t.Field.prototype.updateMarkers_=function(){var e=this.sourceBlock_.workspace;e.keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.FieldLabel=function(e,n,a){this.class_=null,t.FieldLabel.superClass_.constructor.call(this,e,null,a),a||(this.class_=n||null)},t.utils.object.inherits(t.FieldLabel,t.Field),t.FieldLabel.prototype.DEFAULT_VALUE="",t.FieldLabel.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabel(n,void 0,e)},t.FieldLabel.prototype.EDITABLE=!1,t.FieldLabel.prototype.configure_=function(e){t.FieldLabel.superClass_.configure_.call(this,e),this.class_=e.class},t.FieldLabel.prototype.initView=function(){this.createTextElement_(),this.class_&&t.utils.dom.addClass(this.textElement_,this.class_)},t.FieldLabel.prototype.doClassValidation_=function(e){return null==e?null:String(e)},t.FieldLabel.prototype.setClass=function(e){this.textElement_&&(this.class_&&t.utils.dom.removeClass(this.textElement_,this.class_),e&&t.utils.dom.addClass(this.textElement_,e)),this.class_=e},t.fieldRegistry.register("field_label",t.FieldLabel),t.Input=function(e,n,a,u){if(e!=t.inputTypes.DUMMY&&!n)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=e,this.name=n,this.sourceBlock_=a,this.connection=u,this.fieldRow=[]},t.Input.prototype.align=t.constants.ALIGN.LEFT,t.Input.prototype.visible_=!0,t.Input.prototype.getSourceBlock=function(){return this.sourceBlock_},t.Input.prototype.appendField=function(e,n){return this.insertFieldAt(this.fieldRow.length,e,n),this},t.Input.prototype.insertFieldAt=function(e,n,a){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return(n||""==n&&a)&&("string"==typeof n&&(n=t.fieldRegistry.fromJson({type:"field_label",text:n})),n.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&(n.init(),n.applyColour()),n.name=a,n.setVisible(this.isVisible()),n.prefixField&&(e=this.insertFieldAt(e,n.prefixField)),this.fieldRow.splice(e,0,n),++e,n.suffixField&&(e=this.insertFieldAt(e,n.suffixField)),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours())),e},t.Input.prototype.removeField=function(e,n){for(var u,a=0;u=this.fieldRow[a];a++)if(u.name===e)return u.dispose(),this.fieldRow.splice(a,1),this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours()),!0;if(n)return!1;throw Error('Field "'+e+'" not found.')},t.Input.prototype.isVisible=function(){return this.visible_},t.Input.prototype.setVisible=function(e){var n=[];if(this.visible_==e)return n;this.visible_=e;for(var u,a=0;u=this.fieldRow[a];a++)u.setVisible(e);return this.connection&&(this.connection=this.connection,e?n=this.connection.startTrackingAll():this.connection.stopTrackingAll(),a=this.connection.targetBlock())&&(a.getSvgRoot().style.display=e?"block":"none"),n},t.Input.prototype.markDirty=function(){for(var n,e=0;n=this.fieldRow[e];e++)n.markDirty()},t.Input.prototype.setCheck=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this},t.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&(this.sourceBlock_=this.sourceBlock_,this.sourceBlock_.render()),this},t.Input.prototype.setShadowDom=function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this},t.Input.prototype.getShadowDom=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()},t.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()},t.Input.prototype.dispose=function(){for(var n,e=0;n=this.fieldRow[e];e++)n.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},t.Block=function(e,n,a){if(t.Generator&&void 0!==t.Generator.prototype[n])throw Error('Block prototypeName "'+n+'" conflicts with Blockly.Generator members.');if(this.id=a&&!e.getBlockById(a)?a:t.utils.genUid(),e.setBlockById(this.id,this),this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=this.outputShape_=null,this.commentModel={text:null,pinned:!1,size:new t.utils.Size(160,80)},this.xy_=new t.utils.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,this.isInsertionMarker_=!1,this.hat=void 0,this.rendered=null,this.statementInputCount=0,n){if(this.type=n,!(a=t.Blocks[n])||"object"!=typeof a)throw TypeError("Unknown block type: "+n);t.utils.object.mixin(this,a)}e.addTopBlock(this),e.addTypedBlock(this),(e=t.Events.getGroup())||t.Events.setGroup(!0),n=t.Events.recordUndo;try{"function"==typeof this.init&&(t.Events.recordUndo=!1,this.init(),t.Events.recordUndo=n),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(this))}finally{e||t.Events.setGroup(!1),t.Events.recordUndo=n}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)},t.Block.COLLAPSED_INPUT_NAME=t.constants.COLLAPSED_INPUT_NAME,t.Block.COLLAPSED_FIELD_NAME=t.constants.COLLAPSED_FIELD_NAME,t.Block.prototype.data=null,t.Block.prototype.disposed=!1,t.Block.prototype.hue_=null,t.Block.prototype.colour_="#000000",t.Block.prototype.styleName_="",t.Block.prototype.dispose=function(e){if(this.workspace){this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_DELETE))(this)),t.Events.disable();try{this.workspace&&(this.workspace.removeTopBlock(this),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.workspace=null),t.selected==this&&(t.selected=null);for(var n=this.childBlocks_.length-1;0<=n;n--)this.childBlocks_[n].dispose(!1);n=0;for(var a;a=this.inputList[n];n++)a.dispose();this.inputList.length=0;var C,u=this.getConnections_(!0);for(n=0;C=u[n];n++)C.dispose()}finally{t.Events.enable(),this.disposed=!0}}},t.Block.prototype.initModel=function(){for(var n,e=0;n=this.inputList[e];e++)for(var u,a=0;u=n.fieldRow[a];a++)u.initModel&&u.initModel()},t.Block.prototype.unplug=function(e){this.outputConnection?this.unplugFromRow_(e):this.previousConnection&&this.unplugFromStack_(e)},t.Block.prototype.unplugFromRow_=function(e){var n=null;this.outputConnection.isConnected()&&(n=this.outputConnection.targetConnection,this.outputConnection.disconnect()),n&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&((e=e.targetConnection).disconnect(),this.workspace.connectionChecker.canConnect(e,n,!1)?n.connect(e):e.onFailedConnect(n))},t.Block.prototype.getOnlyValueConnection_=function(){for(var e=null,n=0;n<this.inputList.length;n++){var a=this.inputList[n].connection;if(a&&a.type==t.connectionTypes.INPUT_VALUE&&a.targetConnection){if(e)return null;e=a}}return e},t.Block.prototype.unplugFromStack_=function(e){var n=null;this.previousConnection.isConnected()&&(n=this.previousConnection.targetConnection,this.previousConnection.disconnect());var a=this.getNextBlock();e&&a&&!a.isShadow()&&((e=this.nextConnection.targetConnection).disconnect(),n&&this.workspace.connectionChecker.canConnect(n,e,!1)&&n.connect(e))},t.Block.prototype.getConnections_=function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var a,n=0;a=this.inputList[n];n++)a.connection&&e.push(a.connection);return e},t.Block.prototype.lastConnectionInStack=function(e){for(var n=this.nextConnection;n;){var a=n.targetBlock();if(!a||e&&a.isShadow())return n;n=a.nextConnection}return null},t.Block.prototype.bumpNeighbours=function(){},t.Block.prototype.getParent=function(){return this.parentBlock_},t.Block.prototype.getInputWithBlock=function(e){for(var a,n=0;a=this.inputList[n];n++)if(a.connection&&a.connection.targetBlock()==e)return a;return null},t.Block.prototype.getSurroundParent=function(){var e=this;do{var n=e;if(!(e=e.getParent()))return null}while(e.getNextBlock()==n);return e},t.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},t.Block.prototype.getPreviousBlock=function(){return this.previousConnection&&this.previousConnection.targetBlock()},t.Block.prototype.getFirstStatementConnection=function(){for(var n,e=0;n=this.inputList[e];e++)if(n.connection&&n.connection.type==t.connectionTypes.NEXT_STATEMENT)return n.connection;return null},t.Block.prototype.getRootBlock=function(){var e=this;do{var n=e;e=n.parentBlock_}while(e);return n},t.Block.prototype.getTopStackBlock=function(){var e=this;do{var n=e.getPreviousBlock()}while(n&&n.getNextBlock()==e&&(e=n));return e},t.Block.prototype.getChildren=function(e){if(!e)return this.childBlocks_;e=[];for(var a,n=0;a=this.inputList[n];n++)a.connection&&(a=a.connection.targetBlock())&&e.push(a);return(n=this.getNextBlock())&&e.push(n),e},t.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){if(t.utils.arrayRemove(this.parentBlock_.childBlocks_,this),this.previousConnection&&this.previousConnection.isConnected())throw Error("Still connected to previous block.");if(this.outputConnection&&this.outputConnection.isConnected())throw Error("Still connected to parent block.");this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},t.Block.prototype.getDescendants=function(e){for(var u,n=[this],a=this.getChildren(e),C=0;u=a[C];C++)n.push.apply(n,u.getDescendants(e));return n},t.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setDeletable=function(e){this.deletable_=e},t.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setMovable=function(e){this.movable_=e},t.Block.prototype.isDuplicatable=function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(t.utils.getBlockTypeCounts(this,!0))},t.Block.prototype.isShadow=function(){return this.isShadow_},t.Block.prototype.setShadow=function(e){this.isShadow_=e},t.Block.prototype.isInsertionMarker=function(){return this.isInsertionMarker_},t.Block.prototype.setInsertionMarker=function(e){this.isInsertionMarker_=e},t.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},t.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var n;n=this.inputList[e];e++)for(var u,a=0;u=n.fieldRow[a];a++)u.updateEditable()},t.Block.prototype.isDisposed=function(){return this.disposed},t.Block.prototype.getMatchingConnection=function(e,n){var a=this.getConnections_(!0);if(e=e.getConnections_(!0),a.length!=e.length)throw Error("Connection lists did not match in length.");for(var u=0;u<e.length;u++)if(e[u]==n)return a[u];return null},t.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},t.Block.prototype.setTooltip=function(e){this.tooltip=e},t.Block.prototype.getTooltip=function(){return t.Tooltip.getTooltipOfObject(this)},t.Block.prototype.getColour=function(){return this.colour_},t.Block.prototype.getStyleName=function(){return this.styleName_},t.Block.prototype.getHue=function(){return this.hue_},t.Block.prototype.setColour=function(e){e=t.utils.parseBlockColour(e),this.hue_=e.hue,this.colour_=e.hex},t.Block.prototype.setStyle=function(e){this.styleName_=e},t.Block.prototype.setOnChange=function(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),(this.onchange=e)&&(this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},t.Block.prototype.getField=function(e){if("string"!=typeof e)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(var a,n=0;a=this.inputList[n];n++)for(var C,u=0;C=a.fieldRow[u];u++)if(C.name===e)return C;return null},t.Block.prototype.getVars=function(){for(var a,e=[],n=0;a=this.inputList[n];n++)for(var C,u=0;C=a.fieldRow[u];u++)C.referencesVariables()&&e.push(C.getValue());return e},t.Block.prototype.getVarModels=function(){for(var a,e=[],n=0;a=this.inputList[n];n++)for(var C,u=0;C=a.fieldRow[u];u++)C.referencesVariables()&&(C=this.workspace.getVariableById(C.getValue()))&&e.push(C);return e},t.Block.prototype.updateVarName=function(e){for(var a,n=0;a=this.inputList[n];n++)for(var C,u=0;C=a.fieldRow[u];u++)C.referencesVariables()&&e.getId()==C.getValue()&&C.refreshVariableName()},t.Block.prototype.renameVarById=function(e,n){for(var u,a=0;u=this.inputList[a];a++)for(var D,C=0;D=u.fieldRow[C];C++)D.referencesVariables()&&e==D.getValue()&&D.setValue(n)},t.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},t.Block.prototype.setFieldValue=function(e,n){var a=this.getField(n);if(!a)throw Error('Field "'+n+'" not found.');a.setValue(e)},t.Block.prototype.setPreviousStatement=function(e,n){if(e){if(void 0===n&&(n=null),!this.previousConnection){if(this.outputConnection)throw Error("Remove output connection prior to adding previous connection.");this.previousConnection=this.makeConnection_(t.connectionTypes.PREVIOUS_STATEMENT)}this.previousConnection.setCheck(n)}else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}},t.Block.prototype.setNextStatement=function(e,n){if(e)void 0===n&&(n=null),this.nextConnection||(this.nextConnection=this.makeConnection_(t.connectionTypes.NEXT_STATEMENT)),this.nextConnection.setCheck(n);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}},t.Block.prototype.setOutput=function(e,n){if(e){if(void 0===n&&(n=null),!this.outputConnection){if(this.previousConnection)throw Error("Remove previous connection prior to adding output connection.");this.outputConnection=this.makeConnection_(t.connectionTypes.OUTPUT_VALUE)}this.outputConnection.setCheck(n)}else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}},t.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},t.Block.prototype.getInputsInline=function(){if(null!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.DUMMY&&this.inputList[e].type==t.inputTypes.DUMMY)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==t.inputTypes.VALUE&&this.inputList[e].type==t.inputTypes.DUMMY)return!0;return!1},t.Block.prototype.setOutputShape=function(e){this.outputShape_=e},t.Block.prototype.getOutputShape=function(){return this.outputShape_},t.Block.prototype.isEnabled=function(){return!this.disabled},t.Block.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"disabled",null,this.disabled,!e)),this.disabled=!e)},t.Block.prototype.getInheritedDisabled=function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1},t.Block.prototype.isCollapsed=function(){return this.collapsed_},t.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},t.Block.prototype.toString=function(e,n){function a(oe){var q=oe.getCheck();return!q&&oe.targetConnection&&(q=oe.targetConnection.getCheck()),!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function u(){F&&F.getType()==W.getType()&&F.getLocation()==W.getLocation()&&(F=null)}var C=[];n=n||"?";var D=t.ASTNode.NAVIGATE_ALL_FIELDS;t.ASTNode.NAVIGATE_ALL_FIELDS=!0;for(var F=t.ASTNode.createBlockNode(this),W=F;F;){switch(F.getType()){case t.ASTNode.types.INPUT:var te=F.getLocation();F.in()?a(te)&&C.push("("):C.push(n);break;case t.ASTNode.types.FIELD:(te=F.getLocation()).name!=t.constants.COLLAPSED_FIELD_NAME&&C.push(te.getText())}if(!(F=(te=F).in()||te.next())){for(F=te.out(),u();F&&!F.next();)F=F.out(),u(),F&&F.getType()==t.ASTNode.types.INPUT&&a(F.getLocation())&&C.push(")");F&&(F=F.next())}}for(t.ASTNode.NAVIGATE_ALL_FIELDS=D,n=2;n<C.length;n++)"("==C[n-2]&&")"==C[n]&&(C[n-2]=C[n-1],C.splice(n-1,2));return C=(C=C.reduce(function(oe,q){return oe+("("==oe.substr(-1)||")"==q?"":" ")+q},"")).trim()||"???",e&&C.length>e&&(C=C.substring(0,e-3)+"..."),C},t.Block.prototype.appendValueInput=function(e){return this.appendInput_(t.inputTypes.VALUE,e)},t.Block.prototype.appendStatementInput=function(e){return this.appendInput_(t.inputTypes.STATEMENT,e)},t.Block.prototype.appendDummyInput=function(e){return this.appendInput_(t.inputTypes.DUMMY,e||"")},t.Block.prototype.jsonInit=function(e){var n=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(n+"Must not have both an output and a previousStatement.");if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(n+"Must not have both a colour and a style.");e.style?this.jsonInitStyle_(e,n):this.jsonInitColour_(e,n);for(var a=0;void 0!==e["message"+a];)this.interpolate_(e["message"+a],e["args"+a]||[],e["lastDummyAlign"+a],n),a++;if(void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(a=t.utils.replaceMessageReferences(a=e.tooltip),this.setTooltip(a)),void 0!==e.enableContextMenu&&(this.contextMenu=!!(a=e.enableContextMenu)),void 0!==e.helpUrl&&(a=t.utils.replaceMessageReferences(a=e.helpUrl),this.setHelpUrl(a)),"string"==typeof e.extensions&&(console.warn(n+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&t.Extensions.apply(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(n=0;n<e.length;++n)t.Extensions.apply(e[n],this,!1)},t.Block.prototype.jsonInitColour_=function(e,n){if("colour"in e)if(void 0===e.colour)console.warn(n+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(a){console.warn(n+"Illegal colour value: ",e)}}},t.Block.prototype.jsonInitStyle_=function(e,n){e=e.style;try{this.setStyle(e)}catch(a){console.warn(n+"Style does not exist: ",e)}},t.Block.prototype.mixin=function(e,n){if(void 0!==n&&"boolean"!=typeof n)throw Error("opt_disableCheck must be a boolean if provided");if(!n){for(var a in n=[],e)void 0!==this[a]&&n.push(a);if(n.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(n))}t.utils.object.mixin(this,e)},t.Block.prototype.interpolate_=function(e,n,a,u){e=t.utils.tokenizeInterpolation(e),this.validateTokens_(e,n.length),n=this.interpolateArguments_(e,n,a),a=[],e=0;for(var C;C=n[e];e++)if(this.isInputKeyword_(C.type)){if(C=this.inputFromJson_(C,u)){for(var F,D=0;F=a[D];D++)C.appendField(F[0],F[1]);a.length=0}}else(D=this.fieldFromJson_(C))&&a.push([D,C.name])},t.Block.prototype.validateTokens_=function(e,n){for(var a=[],u=0,C=0;C<e.length;C++){var D=e[C];if("number"==typeof D){if(1>D||D>n)throw Error('Block "'+this.type+'": Message index %'+D+" out of range.");if(a[D])throw Error('Block "'+this.type+'": Message index %'+D+" duplicated.");a[D]=!0,u++}}if(u!=n)throw Error('Block "'+this.type+'": Message does not reference all '+n+" arg(s).")},t.Block.prototype.interpolateArguments_=function(e,n,a){for(var u=[],C=0;C<e.length;C++){var D=e[C];"number"==typeof D&&(D=n[D-1]),("string"!=typeof D||(D=this.stringToFieldJson_(D)))&&u.push(D)}return(e=u.length)&&!this.isInputKeyword_(u[e-1].type)&&(e={type:"input_dummy"},a&&(e.align=a),u.push(e)),u},t.Block.prototype.fieldFromJson_=function(e){var n=t.fieldRegistry.fromJson(e);return!n&&e.alt?"string"==typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):n},t.Block.prototype.inputFromJson_=function(e,n){var a={LEFT:t.constants.ALIGN.LEFT,RIGHT:t.constants.ALIGN.RIGHT,CENTRE:t.constants.ALIGN.CENTRE,CENTER:t.constants.ALIGN.CENTRE},u=null;switch(e.type){case"input_value":u=this.appendValueInput(e.name);break;case"input_statement":u=this.appendStatementInput(e.name);break;case"input_dummy":u=this.appendDummyInput(e.name)}return u?(e.check&&u.setCheck(e.check),e.align&&(void 0===(a=a[e.align.toUpperCase()])?console.warn(n+"Illegal align value: ",e.align):u.setAlign(a)),u):null},t.Block.prototype.isInputKeyword_=function(e){return"input_value"==e||"input_statement"==e||"input_dummy"==e},t.Block.prototype.stringToFieldJson_=function(e){return(e=e.trim())?{type:"field_label",text:e}:null},t.Block.prototype.appendInput_=function(e,n){var a=null;return(e==t.inputTypes.VALUE||e==t.inputTypes.STATEMENT)&&(a=this.makeConnection_(e)),e==t.inputTypes.STATEMENT&&this.statementInputCount++,e=new t.Input(e,n,this,a),this.inputList.push(e),e},t.Block.prototype.moveInputBefore=function(e,n){if(e!=n){for(var D,a=-1,u=n?-1:this.inputList.length,C=0;D=this.inputList[C];C++)if(D.name==e){if(a=C,-1!=u)break}else if(n&&D.name==n&&(u=C,-1!=a))break;if(-1==a)throw Error('Named input "'+e+'" not found.');if(-1==u)throw Error('Reference input "'+n+'" not found.');this.moveNumberedInputBefore(a,u)}},t.Block.prototype.moveNumberedInputBefore=function(e,n){if(e==n)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(n>this.inputList.length)throw RangeError("Reference input "+n+" out of bounds.");var a=this.inputList[e];this.inputList.splice(e,1),e<n&&n--,this.inputList.splice(n,0,a)},t.Block.prototype.removeInput=function(e,n){for(var u,a=0;u=this.inputList[a];a++)if(u.name==e)return u.type==t.inputTypes.STATEMENT&&this.statementInputCount--,u.dispose(),this.inputList.splice(a,1),!0;if(n)return!1;throw Error("Input not found: "+e)},t.Block.prototype.getInput=function(e){for(var a,n=0;a=this.inputList[n];n++)if(a.name==e)return a;return null},t.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},t.Block.prototype.getCommentText=function(){return this.commentModel.text},t.Block.prototype.setCommentText=function(e){this.commentModel.text!=e&&(t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this,"comment",null,this.commentModel.text,e)),this.comment=this.commentModel.text=e)},t.Block.prototype.setWarningText=function(e,n){},t.Block.prototype.setMutator=function(e){},t.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},t.Block.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var a=new(t.Events.get(t.Events.BLOCK_MOVE))(this);this.xy_.translate(e,n),a.recordNew(),t.Events.fire(a)},t.Block.prototype.makeConnection_=function(e){return new t.Connection(this,e)},t.Block.prototype.allInputsFilled=function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var a,n=0;a=this.inputList[n];n++)if(a.connection&&(!(a=a.connection.targetBlock())||!a.allInputsFilled(e)))return!1;return!(n=this.getNextBlock())||n.allInputsFilled(e)},t.Block.prototype.toDevString=function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e},t.blockRendering.IPathObject=function(e,n){},t.utils.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,FF_HASH:163,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},t.Menu=function(){this.menuItems_=[],this.roleName_=this.element_=this.onKeyDownHandler_=this.mouseLeaveHandler_=this.mouseEnterHandler_=this.clickHandler_=this.mouseOverHandler_=this.highlightedItem_=this.openingCoords=null},t.Menu.prototype.addChild=function(e){this.menuItems_.push(e)},t.Menu.prototype.render=function(e){var n=document.createElement("div");n.className="blocklyMenu goog-menu blocklyNonSelectable",n.tabIndex=0,this.roleName_&&t.utils.aria.setRole(n,this.roleName_),this.element_=n;for(var u,a=0;u=this.menuItems_[a];a++)n.appendChild(u.createDom());this.mouseOverHandler_=t.browserEvents.conditionalBind(n,"mouseover",this,this.handleMouseOver_,!0),this.clickHandler_=t.browserEvents.conditionalBind(n,"click",this,this.handleClick_,!0),this.mouseEnterHandler_=t.browserEvents.conditionalBind(n,"mouseenter",this,this.handleMouseEnter_,!0),this.mouseLeaveHandler_=t.browserEvents.conditionalBind(n,"mouseleave",this,this.handleMouseLeave_,!0),this.onKeyDownHandler_=t.browserEvents.conditionalBind(n,"keydown",this,this.handleKeyEvent_),e.appendChild(n)},t.Menu.prototype.getElement=function(){return this.element_},t.Menu.prototype.focus=function(){var e=this.getElement();e&&(e.focus({preventScroll:!0}),t.utils.dom.addClass(e,"blocklyFocused"))},t.Menu.prototype.blur_=function(){var e=this.getElement();e&&(e.blur(),t.utils.dom.removeClass(e,"blocklyFocused"))},t.Menu.prototype.setRole=function(e){this.roleName_=e},t.Menu.prototype.dispose=function(){this.mouseOverHandler_&&(t.browserEvents.unbind(this.mouseOverHandler_),this.mouseOverHandler_=null),this.clickHandler_&&(t.browserEvents.unbind(this.clickHandler_),this.clickHandler_=null),this.mouseEnterHandler_&&(t.browserEvents.unbind(this.mouseEnterHandler_),this.mouseEnterHandler_=null),this.mouseLeaveHandler_&&(t.browserEvents.unbind(this.mouseLeaveHandler_),this.mouseLeaveHandler_=null),this.onKeyDownHandler_&&(t.browserEvents.unbind(this.onKeyDownHandler_),this.onKeyDownHandler_=null);for(var n,e=0;n=this.menuItems_[e];e++)n.dispose();this.element_=null},t.Menu.prototype.getMenuItem_=function(e){for(var n=this.getElement();e&&e!=n;){if(t.utils.dom.hasClass(e,"blocklyMenuItem"))for(var u,a=0;u=this.menuItems_[a];a++)if(u.getElement()==e)return u;e=e.parentElement}return null},t.Menu.prototype.setHighlighted=function(e){var n=this.highlightedItem_;n&&(n.setHighlighted(!1),this.highlightedItem_=null),e&&(e.setHighlighted(!0),this.highlightedItem_=e,n=this.getElement(),t.utils.style.scrollIntoContainerView(e.getElement(),n),t.utils.aria.setState(n,t.utils.aria.State.ACTIVEDESCENDANT,e.getId()))},t.Menu.prototype.highlightNext=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(e,1)},t.Menu.prototype.highlightPrevious=function(){var e=this.menuItems_.indexOf(this.highlightedItem_);this.highlightHelper_(0>e?this.menuItems_.length:e,-1)},t.Menu.prototype.highlightFirst_=function(){this.highlightHelper_(-1,1)},t.Menu.prototype.highlightLast_=function(){this.highlightHelper_(this.menuItems_.length,-1)},t.Menu.prototype.highlightHelper_=function(e,n){e+=n;for(var a;a=this.menuItems_[e];){if(a.isEnabled()){this.setHighlighted(a);break}e+=n}},t.Menu.prototype.handleMouseOver_=function(e){(e=this.getMenuItem_(e.target))&&(e.isEnabled()?this.highlightedItem_!=e&&this.setHighlighted(e):this.setHighlighted(null))},t.Menu.prototype.handleClick_=function(e){var n=this.openingCoords;if(this.openingCoords=null,n&&"number"==typeof e.clientX){var a=new t.utils.Coordinate(e.clientX,e.clientY);if(1>t.utils.Coordinate.distance(n,a))return}(e=this.getMenuItem_(e.target))&&e.performAction()},t.Menu.prototype.handleMouseEnter_=function(e){this.focus()},t.Menu.prototype.handleMouseLeave_=function(e){this.getElement()&&(this.blur_(),this.setHighlighted(null))},t.Menu.prototype.handleKeyEvent_=function(e){if(this.menuItems_.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var n=this.highlightedItem_;switch(e.keyCode){case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:n&&n.performAction();break;case t.utils.KeyCodes.UP:this.highlightPrevious();break;case t.utils.KeyCodes.DOWN:this.highlightNext();break;case t.utils.KeyCodes.PAGE_UP:case t.utils.KeyCodes.HOME:this.highlightFirst_();break;case t.utils.KeyCodes.PAGE_DOWN:case t.utils.KeyCodes.END:this.highlightLast_();break;default:return}e.preventDefault(),e.stopPropagation()}},t.Menu.prototype.getSize=function(){var e=this.getElement(),n=t.utils.style.getSize(e);return n.height=e.scrollHeight,n},t.MenuItem=function(e,n){this.content_=e,this.value_=n,this.enabled_=!0,this.element_=null,this.rightToLeft_=!1,this.roleName_=null,this.highlight_=this.checked_=this.checkable_=!1,this.actionHandler_=null},t.MenuItem.prototype.createDom=function(){var e=document.createElement("div");e.id=t.utils.IdGenerator.getNextUniqueId(),this.element_=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled_?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked_?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight_?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft_?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var n=document.createElement("div");if(n.className="blocklyMenuItemContent goog-menuitem-content",this.checkable_){var a=document.createElement("div");a.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",n.appendChild(a)}return a=this.content_,"string"==typeof this.content_&&(a=document.createTextNode(this.content_)),n.appendChild(a),e.appendChild(n),this.roleName_&&t.utils.aria.setRole(e,this.roleName_),t.utils.aria.setState(e,t.utils.aria.State.SELECTED,this.checkable_&&this.checked_||!1),t.utils.aria.setState(e,t.utils.aria.State.DISABLED,!this.enabled_),e},t.MenuItem.prototype.dispose=function(){this.element_=null},t.MenuItem.prototype.getElement=function(){return this.element_},t.MenuItem.prototype.getId=function(){return this.element_.id},t.MenuItem.prototype.getValue=function(){return this.value_},t.MenuItem.prototype.setRightToLeft=function(e){this.rightToLeft_=e},t.MenuItem.prototype.setRole=function(e){this.roleName_=e},t.MenuItem.prototype.setCheckable=function(e){this.checkable_=e},t.MenuItem.prototype.setChecked=function(e){this.checked_=e},t.MenuItem.prototype.setHighlighted=function(e){this.highlight_=e;var n=this.getElement();n&&this.isEnabled()&&(e?(t.utils.dom.addClass(n,"blocklyMenuItemHighlight"),t.utils.dom.addClass(n,"goog-menuitem-highlight")):(t.utils.dom.removeClass(n,"blocklyMenuItemHighlight"),t.utils.dom.removeClass(n,"goog-menuitem-highlight")))},t.MenuItem.prototype.isEnabled=function(){return this.enabled_},t.MenuItem.prototype.setEnabled=function(e){this.enabled_=e},t.MenuItem.prototype.performAction=function(){this.isEnabled()&&this.actionHandler_&&this.actionHandler_(this)},t.MenuItem.prototype.onAction=function(e,n){this.actionHandler_=e.bind(n)},t.ContextMenu={},t.ContextMenu.currentBlock=null,t.ContextMenu.menu_=null,t.ContextMenu.show=function(e,n,a){if(t.WidgetDiv.show(t.ContextMenu,a,t.ContextMenu.dispose),n.length){var u=t.ContextMenu.populate_(n,a);t.ContextMenu.menu_=u,t.ContextMenu.position_(u,e,a),setTimeout(function(){u.focus()},1),t.ContextMenu.currentBlock=null}else t.ContextMenu.hide()},t.ContextMenu.populate_=function(e,n){var a=new t.Menu;a.setRole(t.utils.aria.Role.MENU);for(var C,u=0;C=e[u];u++){var D=new t.MenuItem(C.text);D.setRightToLeft(n),D.setRole(t.utils.aria.Role.MENUITEM),a.addChild(D),D.setEnabled(C.enabled),C.enabled&&D.onAction(function(F){t.ContextMenu.hide(),this.callback(this.scope)},C)}return a},t.ContextMenu.position_=function(e,n,a){var u=t.utils.getViewportBBox();n=new t.utils.Rect(n.clientY+u.top,n.clientY+u.top,n.clientX+u.left,n.clientX+u.left),t.ContextMenu.createWidget_(e);var C=e.getSize();a&&(n.left+=C.width,n.right+=C.width,u.left+=C.width,u.right+=C.width),t.WidgetDiv.positionWithAnchor(u,n,C,a),e.focus()},t.ContextMenu.createWidget_=function(e){e.render(t.WidgetDiv.DIV);var n=e.getElement();t.utils.dom.addClass(n,"blocklyContextMenu"),t.browserEvents.conditionalBind(n,"contextmenu",null,t.utils.noEvent),e.focus()},t.ContextMenu.hide=function(){t.WidgetDiv.hideIfOwner(t.ContextMenu),t.ContextMenu.currentBlock=null},t.ContextMenu.dispose=function(){t.ContextMenu.menu_&&(t.ContextMenu.menu_.dispose(),t.ContextMenu.menu_=null)},t.ContextMenu.callbackFactory=function(e,n){return function(){t.Events.disable();try{var a=t.Xml.domToBlock(n,e.workspace),u=e.getRelativeToSurfaceXY();u.x=e.RTL?u.x-t.SNAP_RADIUS:u.x+t.SNAP_RADIUS,u.y+=2*t.SNAP_RADIUS,a.moveBy(u.x,u.y)}finally{t.Events.enable()}t.Events.isEnabled()&&!a.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(a)),a.select()}},t.ContextMenu.commentDeleteOption=function(e){return{text:t.Msg.REMOVE_COMMENT,enabled:!0,callback:function(){t.Events.setGroup(!0),e.dispose(!0,!0),t.Events.setGroup(!1)}}},t.ContextMenu.commentDuplicateOption=function(e){return{text:t.Msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){t.duplicate(e)}}},t.ContextMenu.workspaceCommentOption=function(e,n){if(!t.WorkspaceCommentSvg)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var a={enabled:!t.utils.userAgent.IE};return a.text=t.Msg.ADD_COMMENT,a.callback=function(){var u=new t.WorkspaceCommentSvg(e,t.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,t.WorkspaceCommentSvg.DEFAULT_SIZE,t.WorkspaceCommentSvg.DEFAULT_SIZE),C=e.getInjectionDiv().getBoundingClientRect();C=new t.utils.Coordinate(n.clientX-C.left,n.clientY-C.top);var D=e.getOriginOffsetInPixels();(C=t.utils.Coordinate.difference(C,D)).scale(1/e.scale),u.moveBy(C.x,C.y),e.rendered&&(u.initSvg(),u.render(),u.select())},a},t.ContextMenuRegistry=function(){t.ContextMenuRegistry.registry=this,this.registry_=Object.create(null)},t.ContextMenuRegistry.ScopeType={BLOCK:"block",WORKSPACE:"workspace"},t.ContextMenuRegistry.registry=null,t.ContextMenuRegistry.prototype.register=function(e){if(this.registry_[e.id])throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_[e.id]=e},t.ContextMenuRegistry.prototype.unregister=function(e){if(!this.registry_[e])throw Error('Menu item with ID "'+e+'" not found.');delete this.registry_[e]},t.ContextMenuRegistry.prototype.getItem=function(e){return this.registry_[e]||null},t.ContextMenuRegistry.prototype.getContextMenuOptions=function(e,n){var a=[],u=this.registry_;return Object.keys(u).forEach(function(C){if(e==(C=u[C]).scopeType){var D=C.preconditionFn(n);"hidden"!=D&&(C={text:"function"==typeof C.displayText?C.displayText(n):C.displayText,enabled:"enabled"==D,callback:C.callback,scope:n,weight:C.weight},a.push(C))}}),a.sort(function(C,D){return C.weight-D.weight}),a},new t.ContextMenuRegistry,t.Events.Selected=function(e,n,a){t.Events.Selected.superClass_.constructor.call(this,a),this.oldElementId=e,this.newElementId=n},t.utils.object.inherits(t.Events.Selected,t.Events.UiBase),t.Events.Selected.prototype.type=t.Events.SELECTED,t.Events.Selected.prototype.toJson=function(){var e=t.Events.Selected.superClass_.toJson.call(this);return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e},t.Events.Selected.prototype.fromJson=function(e){t.Events.Selected.superClass_.fromJson.call(this,e),this.oldElementId=e.oldElementId,this.newElementId=e.newElementId},t.registry.register(t.registry.Type.EVENT,t.Events.SELECTED,t.Events.Selected),t.IBoundedElement=function(){},t.ICopyable=function(){},t.RenderedConnection=function(e,n){t.RenderedConnection.superClass_.constructor.call(this,e,n),this.db_=e.workspace.connectionDBList[n],this.dbOpposite_=e.workspace.connectionDBList[t.OPPOSITE_TYPE[n]],this.offsetInBlock_=new t.utils.Coordinate(0,0),this.trackedState_=t.RenderedConnection.TrackedState.WILL_TRACK,this.targetConnection=null},t.utils.object.inherits(t.RenderedConnection,t.Connection),t.RenderedConnection.TrackedState={WILL_TRACK:-1,UNTRACKED:0,TRACKED:1},t.RenderedConnection.prototype.dispose=function(){t.RenderedConnection.superClass_.dispose.call(this),this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y)},t.RenderedConnection.prototype.getSourceBlock=function(){return t.RenderedConnection.superClass_.getSourceBlock.call(this)},t.RenderedConnection.prototype.targetBlock=function(){return t.RenderedConnection.superClass_.targetBlock.call(this)},t.RenderedConnection.prototype.distanceFrom=function(e){var n=this.x-e.x;return e=this.y-e.y,Math.sqrt(n*n+e*e)},t.RenderedConnection.prototype.bumpAwayFrom=function(e){if(!this.sourceBlock_.workspace.isDragging()){var n=this.sourceBlock_.getRootBlock();if(!n.isInFlyout){var a=!1;if(!n.isMovable()){if(!(n=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,a=!0}var u=t.selected==n;u||n.addSelect();var C=e.x+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x,D=e.y+t.SNAP_RADIUS+Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.y;a&&(D=-D),n.RTL&&(C=e.x-t.SNAP_RADIUS-Math.floor(Math.random()*t.BUMP_RANDOMNESS)-this.x),n.moveBy(C,D),u||n.removeSelect()}}},t.RenderedConnection.prototype.moveTo=function(e,n){this.trackedState_==t.RenderedConnection.TrackedState.WILL_TRACK?(this.db_.addConnection(this,n),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&(this.db_.removeConnection(this,this.y),this.db_.addConnection(this,n)),this.x=e,this.y=n},t.RenderedConnection.prototype.moveBy=function(e,n){this.moveTo(this.x+e,this.y+n)},t.RenderedConnection.prototype.moveToOffset=function(e){this.moveTo(e.x+this.offsetInBlock_.x,e.y+this.offsetInBlock_.y)},t.RenderedConnection.prototype.setOffsetInBlock=function(e,n){this.offsetInBlock_.x=e,this.offsetInBlock_.y=n},t.RenderedConnection.prototype.getOffsetInBlock=function(){return this.offsetInBlock_},t.RenderedConnection.prototype.tighten=function(){var e=this.targetConnection.x-this.x,n=this.targetConnection.y-this.y;if(0!=e||0!=n){var a=this.targetBlock(),u=a.getSvgRoot();if(!u)throw Error("block is not rendered.");u=t.utils.getRelativeXY(u),a.getSvgRoot().setAttribute("transform","translate("+(u.x-e)+","+(u.y-n)+")"),a.moveConnections(-e,-n)}},t.RenderedConnection.prototype.closest=function(e,n){return this.dbOpposite_.searchForClosest(this,e,n)},t.RenderedConnection.prototype.highlight=function(){var e=this.sourceBlock_.workspace.getRenderer().getConstants(),n=e.shapeFor(this);n=this.type==t.connectionTypes.INPUT_VALUE||this.type==t.connectionTypes.OUTPUT_VALUE?t.utils.svgPaths.moveBy(0,-(e=e.TAB_OFFSET_FROM_TOP))+t.utils.svgPaths.lineOnAxis("v",e)+n.pathDown+t.utils.svgPaths.lineOnAxis("v",e):t.utils.svgPaths.moveBy(-(e=e.NOTCH_OFFSET_LEFT-e.CORNER_RADIUS),0)+t.utils.svgPaths.lineOnAxis("h",e)+n.pathLeft+t.utils.svgPaths.lineOnAxis("h",e),e=this.sourceBlock_.getRelativeToSurfaceXY(),t.Connection.highlightedPath_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyHighlightedConnectionPath",d:n,transform:"translate("+(this.x-e.x)+","+(this.y-e.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},t.RenderedConnection.prototype.unhighlight=function(){t.utils.dom.removeNode(t.Connection.highlightedPath_),delete t.Connection.highlightedPath_},t.RenderedConnection.prototype.setTracking=function(e){e&&this.trackedState_==t.RenderedConnection.TrackedState.TRACKED||!e&&this.trackedState_==t.RenderedConnection.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db_.addConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.TRACKED):(this.trackedState_==t.RenderedConnection.TrackedState.TRACKED&&this.db_.removeConnection(this,this.y),this.trackedState_=t.RenderedConnection.TrackedState.UNTRACKED))},t.RenderedConnection.prototype.stopTrackingAll=function(){if(this.setTracking(!1),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),n=0;n<e.length;n++){for(var a=e[n],u=a.getConnections_(!0),C=0;C<u.length;C++)u[C].setTracking(!1);for(a=a.getIcons(),C=0;C<a.length;C++)a[C].setVisible(!1)}},t.RenderedConnection.prototype.startTrackingAll=function(){this.setTracking(!0);var e=[];if(this.type!=t.connectionTypes.INPUT_VALUE&&this.type!=t.connectionTypes.NEXT_STATEMENT)return e;var n=this.targetBlock();if(n){if(n.isCollapsed()){var a=[];n.outputConnection&&a.push(n.outputConnection),n.nextConnection&&a.push(n.nextConnection),n.previousConnection&&a.push(n.previousConnection)}else a=n.getConnections_(!0);for(var u=0;u<a.length;u++)e.push.apply(e,a[u].startTrackingAll());e.length||(e[0]=n)}return e},t.RenderedConnection.prototype.isConnectionAllowed=function(e,n){return t.utils.deprecation.warn("RenderedConnection.prototype.isConnectionAllowed","July 2020","July 2021","Blockly.Workspace.prototype.getConnectionChecker().canConnect"),!(this.distanceFrom(e)>n)&&t.RenderedConnection.superClass_.isConnectionAllowed.call(this,e)},t.RenderedConnection.prototype.onFailedConnect=function(e){var n=this.getSourceBlock();if(t.Events.recordUndo){var a=t.Events.getGroup();setTimeout(function(){n.isDisposed()||n.getParent()||(t.Events.setGroup(a),this.bumpAwayFrom(e),t.Events.setGroup(!1))}.bind(this),t.BUMP_DELAY)}},t.RenderedConnection.prototype.disconnectInternal_=function(e,n){t.RenderedConnection.superClass_.disconnectInternal_.call(this,e,n),e.rendered&&e.render(),n.rendered&&(n.updateDisabled(),n.render(),n.getSvgRoot().style.display="block")},t.RenderedConnection.prototype.respawnShadow_=function(){t.RenderedConnection.superClass_.respawnShadow_.call(this);var e=this.targetBlock();e&&(e.initSvg(),e.render(!1),(e=this.getSourceBlock()).rendered&&e.render())},t.RenderedConnection.prototype.neighbours=function(e){return this.dbOpposite_.getNeighbours(this,e)},t.RenderedConnection.prototype.connect_=function(e){t.RenderedConnection.superClass_.connect_.call(this,e);var n=this.getSourceBlock();e=e.getSourceBlock();var a=n.rendered,u=e.rendered;a&&n.updateDisabled(),u&&e.updateDisabled(),a&&u&&(this.type==t.connectionTypes.NEXT_STATEMENT||this.type==t.connectionTypes.PREVIOUS_STATEMENT?e.render():n.render()),(n=n.getInputWithBlock(e))&&(n=n.isVisible(),e.getSvgRoot().style.display=n?"block":"none")},t.RenderedConnection.prototype.onCheckChanged_=function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())},t.BasicCursor=function(){t.BasicCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.BasicCursor,t.Cursor),t.BasicCursor.registrationName="basicCursor",t.BasicCursor.prototype.next=function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null},t.BasicCursor.prototype.in=function(){return this.next()},t.BasicCursor.prototype.prev=function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null},t.BasicCursor.prototype.out=function(){return this.prev()},t.BasicCursor.prototype.getNextNode_=function(e,n){if(!e)return null;var a=e.in()||e.next();return n(a)?a:a?this.getNextNode_(a,n):n(e=this.findSiblingOrParent_(e.out()))?e:e?this.getNextNode_(e,n):null},t.BasicCursor.prototype.getPreviousNode_=function(e,n){if(!e)return null;var a=e.prev();return n(a=a?this.getRightMostChild_(a):e.out())?a:a?this.getPreviousNode_(a,n):null},t.BasicCursor.prototype.validNode_=function(e){var n=!1;return((e=e&&e.getType())==t.ASTNode.types.OUTPUT||e==t.ASTNode.types.INPUT||e==t.ASTNode.types.FIELD||e==t.ASTNode.types.NEXT||e==t.ASTNode.types.PREVIOUS||e==t.ASTNode.types.WORKSPACE)&&(n=!0),n},t.BasicCursor.prototype.findSiblingOrParent_=function(e){return e?e.next()||this.findSiblingOrParent_(e.out()):null},t.BasicCursor.prototype.getRightMostChild_=function(e){if(!e.in())return e;for(e=e.in();e.next();)e=e.next();return this.getRightMostChild_(e)},t.registry.register(t.registry.Type.CURSOR,t.BasicCursor.registrationName,t.BasicCursor),t.TabNavigateCursor=function(){t.TabNavigateCursor.superClass_.constructor.call(this)},t.utils.object.inherits(t.TabNavigateCursor,t.BasicCursor),t.TabNavigateCursor.prototype.validNode_=function(e){var n=!1,a=e&&e.getType();return e&&(e=e.getLocation(),a==t.ASTNode.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(n=!0)),n},t.BlockSvg=function(e,n,a){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null),this.svgGroup_.translate_="",this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),this.renderIsInProgress_=this.rendered=!1,this.workspace=e,this.previousConnection=this.nextConnection=this.outputConnection=null,this.useDragSurface_=t.utils.is3dSupported()&&!!e.getBlockDragSurface();var u=this.pathObject.svgPath;u.tooltip=this,t.Tooltip.bindMouseEvents(u),t.BlockSvg.superClass_.constructor.call(this,e,n,a),this.svgGroup_.dataset?this.svgGroup_.dataset.id=this.id:t.utils.userAgent.IE&&this.svgGroup_.setAttribute("data-id",this.id)},t.utils.object.inherits(t.BlockSvg,t.Block),t.BlockSvg.prototype.height=0,t.BlockSvg.prototype.width=0,t.BlockSvg.prototype.warningTextDb_=null,t.BlockSvg.INLINE=-1,t.BlockSvg.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_",t.BlockSvg.prototype.initSvg=function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var n,e=0;n=this.inputList[e];e++)n.init();for(n=this.getIcons(),e=0;e<n.length;e++)n[e].createIcon();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||t.browserEvents.conditionalBind(e,"mousedown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)},t.BlockSvg.prototype.getColourSecondary=function(){return this.style.colourSecondary},t.BlockSvg.prototype.getColourTertiary=function(){return this.style.colourTertiary},t.BlockSvg.prototype.getColourShadow=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourShadow","January 2020","January 2021","style.colourSecondary"),this.getColourSecondary()},t.BlockSvg.prototype.getColourBorder=function(){return t.utils.deprecation.warn("BlockSvg.prototype.getColourBorder","January 2020","January 2021","style.colourTertiary"),{colourBorder:this.getColourTertiary(),colourLight:null,colourDark:null}},t.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(t.selected!=this){var e=null;if(t.selected){e=t.selected.id,t.Events.disable();try{t.selected.unselect()}finally{t.Events.enable()}}e=new(t.Events.get(t.Events.SELECTED))(e,this.id,this.workspace.id),t.Events.fire(e),t.selected=this,this.addSelect()}},t.BlockSvg.prototype.unselect=function(){if(t.selected==this){var e=new(t.Events.get(t.Events.SELECTED))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,t.Events.fire(e),t.selected=null,this.removeSelect()}},t.BlockSvg.prototype.mutator=null,t.BlockSvg.prototype.comment=null,t.BlockSvg.prototype.commentIcon_=null,t.BlockSvg.prototype.warning=null,t.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.commentIcon_&&e.push(this.commentIcon_),this.warning&&e.push(this.warning),e},t.BlockSvg.prototype.setParent=function(e){var n=this.parentBlock_;if(e!=n){t.utils.dom.startTextWidthCache(),t.BlockSvg.superClass_.setParent.call(this,e),t.utils.dom.stopTextWidthCache();var a=this.getSvgRoot();if(!this.workspace.isClearing&&a){var u=this.getRelativeToSurfaceXY();e?(e.getSvgRoot().appendChild(a),e=this.getRelativeToSurfaceXY(),this.moveConnections(e.x-u.x,e.y-u.y)):n&&(this.workspace.getCanvas().appendChild(a),this.translate(u.x,u.y)),this.applyColour()}}},t.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,n=0,a=this.useDragSurface_?this.workspace.getBlockDragSurface().getGroup():null,u=this.getSvgRoot();if(u)do{var C=t.utils.getRelativeXY(u);e+=C.x,n+=C.y,this.useDragSurface_&&this.workspace.getBlockDragSurface().getCurrentBlock()==u&&(e+=(C=this.workspace.getBlockDragSurface().getSurfaceTranslation()).x,n+=C.y),u=u.parentNode}while(u&&u!=this.workspace.getCanvas()&&u!=a);return new t.utils.Coordinate(e,n)},t.BlockSvg.prototype.moveBy=function(e,n){if(this.parentBlock_)throw Error("Block has parent.");var a=t.Events.isEnabled();if(a)var u=new(t.Events.get(t.Events.BLOCK_MOVE))(this);var C=this.getRelativeToSurfaceXY();this.translate(C.x+e,C.y+n),this.moveConnections(e,n),a&&(u.recordNew(),t.Events.fire(u)),this.workspace.resizeContents()},t.BlockSvg.prototype.translate=function(e,n){this.getSvgRoot().setAttribute("transform","translate("+e+","+n+")")},t.BlockSvg.prototype.moveToDragSurface=function(){if(this.useDragSurface_){var e=this.getRelativeToSurfaceXY();this.clearTransformAttributes_(),this.workspace.getBlockDragSurface().translateSurface(e.x,e.y),(e=this.getSvgRoot())&&this.workspace.getBlockDragSurface().setBlocksAndShow(e)}},t.BlockSvg.prototype.moveTo=function(e){var n=this.getRelativeToSurfaceXY();this.moveBy(e.x-n.x,e.y-n.y)},t.BlockSvg.prototype.moveOffDragSurface=function(e){this.useDragSurface_&&(this.translate(e.x,e.y),this.workspace.getBlockDragSurface().clearAndHide(this.workspace.getCanvas()))},t.BlockSvg.prototype.moveDuringDrag=function(e){this.useDragSurface_?this.workspace.getBlockDragSurface().translateSurface(e.x,e.y):(this.svgGroup_.translate_="translate("+e.x+","+e.y+")",this.svgGroup_.setAttribute("transform",this.svgGroup_.translate_+this.svgGroup_.skew_))},t.BlockSvg.prototype.clearTransformAttributes_=function(){this.getSvgRoot().removeAttribute("transform")},t.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&!this.workspace.isDragging()&&!this.getParent()&&!this.isInFlyout){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var n=e.getSpacing(),a=n/2,u=this.getRelativeToSurfaceXY();e=Math.round((u.x-a)/n)*n+a-u.x,n=Math.round((u.y-a)/n)*n+a-u.y,e=Math.round(e),n=Math.round(n),0==e&&0==n||this.moveBy(e,n)}}},t.BlockSvg.prototype.getBoundingRectangle=function(){var e=this.getRelativeToSurfaceXY(),n=this.getHeightWidth();if(this.RTL)var a=e.x-n.width,u=e.x;else a=e.x,u=e.x+n.width;return new t.utils.Rect(e.y,e.y+n.height,a,u)},t.BlockSvg.prototype.markDirty=function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var n,e=0;n=this.inputList[e];e++)n.markDirty()},t.BlockSvg.prototype.setCollapsed=function(e){this.collapsed_!=e&&(t.BlockSvg.superClass_.setCollapsed.call(this,e),e?this.rendered&&this.render():this.updateCollapsed_())},t.BlockSvg.prototype.updateCollapsed_=function(){for(var C,e=this.isCollapsed(),n=t.constants.COLLAPSED_INPUT_NAME,a=t.constants.COLLAPSED_FIELD_NAME,u=0;C=this.inputList[u];u++)C.name!=n&&C.setVisible(!e);if(e){for(C=this.getIcons(),u=0;e=C[u];u++)e.setVisible(!1);u=this.toString(t.COLLAPSE_CHARS),(C=this.getField(a))?C.setValue(u):(C=this.getInput(n)||this.appendDummyInput(n)).appendField(new t.FieldLabel(u),a)}else this.updateDisabled(),this.removeInput(n)},t.BlockSvg.prototype.tab=function(e,n){var a=new t.TabNavigateCursor;a.setCurNode(t.ASTNode.createFieldNode(e)),e=a.getCurNode(),n?a.next():a.prev(),(n=a.getCurNode())&&n!==e&&(n.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(n))},t.BlockSvg.prototype.onMouseDown_=function(e){var n=this.workspace&&this.workspace.getGesture(e);n&&n.handleBlockStart(e,this)},t.BlockSvg.prototype.showHelp=function(){var e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)},t.BlockSvg.prototype.generateContextMenu=function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e},t.BlockSvg.prototype.showContextMenu=function(e){var n=this.generateContextMenu();n&&n.length&&(t.ContextMenu.show(e,n,this.RTL),t.ContextMenu.currentBlock=this)},t.BlockSvg.prototype.moveConnections=function(e,n){if(this.rendered){for(var a=this.getConnections_(!1),u=0;u<a.length;u++)a[u].moveBy(e,n);for(a=this.getIcons(),u=0;u<a.length;u++)a[u].computeIconLocation();for(u=0;u<this.childBlocks_.length;u++)this.childBlocks_[u].moveConnections(e,n)}},t.BlockSvg.prototype.setDragging=function(e){if(e){var n=this.getSvgRoot();n.translate_="",n.skew_="",t.draggingConnections=t.draggingConnections.concat(this.getConnections_(!0)),t.utils.dom.addClass(this.svgGroup_,"blocklyDragging")}else t.draggingConnections=[],t.utils.dom.removeClass(this.svgGroup_,"blocklyDragging");for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].setDragging(e)},t.BlockSvg.prototype.setMovable=function(e){t.BlockSvg.superClass_.setMovable.call(this,e),this.pathObject.updateMovable(e)},t.BlockSvg.prototype.setEditable=function(e){t.BlockSvg.superClass_.setEditable.call(this,e),e=this.getIcons();for(var n=0;n<e.length;n++)e[n].updateEditable()},t.BlockSvg.prototype.setShadow=function(e){t.BlockSvg.superClass_.setShadow.call(this,e),this.applyColour()},t.BlockSvg.prototype.setInsertionMarker=function(e){this.isInsertionMarker_!=e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))},t.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.BlockSvg.prototype.dispose=function(e,n){if(this.workspace){t.Tooltip.dispose(),t.Tooltip.unbindMouseEvents(this.pathObject.svgPath),t.utils.dom.startTextWidthCache();var a=this.workspace;if(t.selected==this&&(this.unselect(),this.workspace.cancelCurrentGesture()),t.ContextMenu.currentBlock==this&&t.ContextMenu.hide(),n&&this.rendered&&(this.unplug(e),t.blockAnimations.disposeUiEffect(this)),this.rendered=!1,this.warningTextDb_){for(var u in this.warningTextDb_)clearTimeout(this.warningTextDb_[u]);this.warningTextDb_=null}for(n=this.getIcons(),u=0;u<n.length;u++)n[u].dispose();t.BlockSvg.superClass_.dispose.call(this,!!e),t.utils.dom.removeNode(this.svgGroup_),a.resizeContents(),this.svgGroup_=null,t.utils.dom.stopTextWidthCache()}},t.BlockSvg.prototype.toCopyData=function(){if(this.isInsertionMarker_)return null;var e=t.Xml.blockToDom(this,!0);t.Xml.deleteNext(e);var n=this.getRelativeToSurfaceXY();return e.setAttribute("x",this.RTL?-n.x:n.x),e.setAttribute("y",n.y),{xml:e,source:this.workspace,typeCounts:t.utils.getBlockTypeCounts(this,!0)}},t.BlockSvg.prototype.applyColour=function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),n=0;n<e.length;n++)e[n].applyColour();for(e=0;n=this.inputList[e];e++)for(var u,a=0;u=n.fieldRow[a];a++)u.applyColour()},t.BlockSvg.prototype.updateDisabled=function(){var e=this.getChildren(!1);if(this.applyColour(),!this.isCollapsed())for(var a,n=0;a=e[n];n++)a.rendered&&a.updateDisabled()},t.BlockSvg.prototype.getCommentIcon=function(){return this.commentIcon_},t.BlockSvg.prototype.setCommentText=function(e){if(!t.Comment)throw Error("Missing require for Blockly.Comment");this.commentModel.text!=e&&(t.BlockSvg.superClass_.setCommentText.call(this,e),!!this.commentIcon_==(e=null!=e)?this.commentIcon_.updateText():(e?this.comment=this.commentIcon_=new t.Comment(this):(this.commentIcon_.dispose(),this.comment=this.commentIcon_=null),this.rendered&&(this.render(),this.bumpNeighbours())))},t.BlockSvg.prototype.setWarningText=function(e,n){if(!t.Warning)throw Error("Missing require for Blockly.Warning");this.warningTextDb_||(this.warningTextDb_=Object.create(null));var a=n||"";if(a)this.warningTextDb_[a]&&(clearTimeout(this.warningTextDb_[a]),delete this.warningTextDb_[a]);else for(var u in this.warningTextDb_)clearTimeout(this.warningTextDb_[u]),delete this.warningTextDb_[u];if(this.workspace.isDragging()){var C=this;this.warningTextDb_[a]=setTimeout(function(){C.workspace&&(delete C.warningTextDb_[a],C.setWarningText(e,a))},100)}else{if(this.isInFlyout&&(e=null),n=!1,"string"==typeof e){u=this.getSurroundParent();for(var D=null;u;)u.isCollapsed()&&(D=u),u=u.getSurroundParent();D&&D.setWarningText(t.Msg.COLLAPSED_WARNINGS_WARNING,t.BlockSvg.COLLAPSED_WARNING_ID),this.warning||(this.warning=new t.Warning(this),n=!0),this.warning.setText(e,a)}else this.warning&&!a?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",a),(u=this.warning.getText())||this.warning.dispose(),n=n!=u);n&&this.rendered&&(this.render(),this.bumpNeighbours())}},t.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.setBlock(this),this.mutator=e,e.createIcon()),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setEnabled=function(e){this.isEnabled()!=e&&(t.BlockSvg.superClass_.setEnabled.call(this,e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())},t.BlockSvg.prototype.setHighlighted=function(e){this.rendered&&this.pathObject.updateHighlighted(e)},t.BlockSvg.prototype.addSelect=function(){this.pathObject.updateSelected(!0)},t.BlockSvg.prototype.removeSelect=function(){this.pathObject.updateSelected(!1)},t.BlockSvg.prototype.setDeleteStyle=function(e){this.pathObject.updateDraggingDelete(e)},t.BlockSvg.prototype.getColour=function(){return this.style.colourPrimary},t.BlockSvg.prototype.setColour=function(e){t.BlockSvg.superClass_.setColour.call(this,e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()},t.BlockSvg.prototype.setStyle=function(e){var n=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!n)throw Error("Invalid style name: "+e);this.hat=n.hat,this.pathObject.setStyle(n),this.colour_=n.colourPrimary,this.style=n,this.applyColour()},t.BlockSvg.prototype.bringToFront=function(){var e=this;do{var n=e.getSvgRoot(),a=n.parentNode,u=a.childNodes;u[u.length-1]!==n&&a.appendChild(n),e=e.getParent()}while(e)},t.BlockSvg.prototype.setPreviousStatement=function(e,n){t.BlockSvg.superClass_.setPreviousStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setNextStatement=function(e,n){t.BlockSvg.superClass_.setNextStatement.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setOutput=function(e,n){t.BlockSvg.superClass_.setOutput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.setInputsInline=function(e){t.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.removeInput=function(e,n){return e=t.BlockSvg.superClass_.removeInput.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.moveNumberedInputBefore=function(e,n){t.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours())},t.BlockSvg.prototype.appendInput_=function(e,n){return e=t.BlockSvg.superClass_.appendInput_.call(this,e,n),this.rendered&&(this.render(),this.bumpNeighbours()),e},t.BlockSvg.prototype.setConnectionTracking=function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var n=this.nextConnection.targetBlock();n&&n.setConnectionTracking(e)}if(!this.collapsed_)for(n=0;n<this.inputList.length;n++){var a=this.inputList[n].connection;a&&(a.setTracking(e),(a=a.targetBlock())&&a.setConnectionTracking(e))}},t.BlockSvg.prototype.getConnections_=function(e){var n=[];if((e||this.rendered)&&(this.outputConnection&&n.push(this.outputConnection),this.previousConnection&&n.push(this.previousConnection),this.nextConnection&&n.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var a;a=this.inputList[e];e++)a.connection&&n.push(a.connection)}return n},t.BlockSvg.prototype.lastConnectionInStack=function(e){return t.BlockSvg.superClass_.lastConnectionInStack.call(this,e)},t.BlockSvg.prototype.getMatchingConnection=function(e,n){return t.BlockSvg.superClass_.getMatchingConnection.call(this,e,n)},t.BlockSvg.prototype.makeConnection_=function(e){return new t.RenderedConnection(this,e)},t.BlockSvg.prototype.bumpNeighbours=function(){if(this.workspace&&!this.workspace.isDragging()){var e=this.getRootBlock();if(!e.isInFlyout)for(var u,n=this.getConnections_(!1),a=0;u=n[a];a++){u.isConnected()&&u.isSuperior()&&u.targetBlock().bumpNeighbours();for(var F,C=u.neighbours(t.SNAP_RADIUS),D=0;F=C[D];D++)u.isConnected()&&F.isConnected()||F.getSourceBlock().getRootBlock()!=e&&(u.isSuperior()?F.bumpAwayFrom(u):u.bumpAwayFrom(F))}}},t.BlockSvg.prototype.scheduleSnapAndBump=function(){var e=this,n=t.Events.getGroup();setTimeout(function(){t.Events.setGroup(n),e.snapToGrid(),t.Events.setGroup(!1)},t.BUMP_DELAY/2),setTimeout(function(){t.Events.setGroup(n),e.bumpNeighbours(),t.Events.setGroup(!1)},t.BUMP_DELAY)},t.BlockSvg.prototype.positionNearConnection=function(e,n){e.type!=t.connectionTypes.NEXT_STATEMENT&&e.type!=t.connectionTypes.INPUT_VALUE||this.moveBy(n.x-e.x,n.y-e.y)},t.BlockSvg.prototype.getParent=function(){return t.BlockSvg.superClass_.getParent.call(this)},t.BlockSvg.prototype.getRootBlock=function(){return t.BlockSvg.superClass_.getRootBlock.call(this)},t.BlockSvg.prototype.render=function(e){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,t.utils.dom.startTextWidthCache(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionLocations_(),!1!==e){var n=this.getParent();n?n.render(!0):this.workspace.resizeContents()}t.utils.dom.stopTextWidthCache(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}},t.BlockSvg.prototype.updateMarkers_=function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(t.MarkerManager.LOCAL_MARKER).draw()},t.BlockSvg.prototype.updateConnectionLocations_=function(){var e=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(e),this.outputConnection&&this.outputConnection.moveToOffset(e);for(var n=0;n<this.inputList.length;n++){var a=this.inputList[n].connection;a&&(a.moveToOffset(e),a.isConnected()&&a.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(e),this.nextConnection.isConnected()&&this.nextConnection.tighten())},t.BlockSvg.prototype.setCursorSvg=function(e){this.pathObject.setCursorSvg(e)},t.BlockSvg.prototype.setMarkerSvg=function(e){this.pathObject.setMarkerSvg(e)},t.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,n=this.width,a=this.getNextBlock();if(a){a=a.getHeightWidth();var u=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=a.height-u,n=Math.max(n,a.width)}return{height:e,width:n}},t.BlockSvg.prototype.fadeForReplacement=function(e){this.pathObject.updateReplacementFade(e)},t.BlockSvg.prototype.highlightShapeForInput=function(e,n){this.pathObject.updateShapeForInputHighlight(e,n)},t.ConnectionDB=function(e){this.connections_=[],this.connectionChecker_=e},t.ConnectionDB.prototype.addConnection=function(e,n){n=this.calculateIndexForYPos_(n),this.connections_.splice(n,0,e)},t.ConnectionDB.prototype.findIndexOfConnection_=function(e,n){if(!this.connections_.length)return-1;var a=this.calculateIndexForYPos_(n);if(a>=this.connections_.length)return-1;n=e.y;for(var u=a;0<=u&&this.connections_[u].y==n;){if(this.connections_[u]==e)return u;u--}for(u=a;u<this.connections_.length&&this.connections_[u].y==n;){if(this.connections_[u]==e)return u;u++}return-1},t.ConnectionDB.prototype.calculateIndexForYPos_=function(e){if(!this.connections_.length)return 0;for(var n=0,a=this.connections_.length;n<a;){var u=Math.floor((n+a)/2);if(this.connections_[u].y<e)n=u+1;else{if(!(this.connections_[u].y>e)){n=u;break}a=u}}return n},t.ConnectionDB.prototype.removeConnection=function(e,n){if(-1==(e=this.findIndexOfConnection_(e,n)))throw Error("Unable to find connection in connectionDB.");this.connections_.splice(e,1)},t.ConnectionDB.prototype.getNeighbours=function(e,n){function a(oe){var q=C-u[oe].x,ue=D-u[oe].y;return Math.sqrt(q*q+ue*ue)<=n&&te.push(u[oe]),ue<n}var u=this.connections_,C=e.x,D=e.y;e=0;for(var F=u.length-2,W=F;e<W;)u[W].y<D?e=W:F=W,W=Math.floor((e+F)/2);var te=[];if(F=e=W,u.length){for(;0<=e&&a(e);)e--;do{F++}while(F<u.length&&a(F))}return te},t.ConnectionDB.prototype.isInYRange_=function(e,n,a){return Math.abs(this.connections_[e].y-n)<=a},t.ConnectionDB.prototype.searchForClosest=function(e,n,a){if(!this.connections_.length)return{connection:null,radius:n};var u=e.y,C=e.x;e.x=C+a.x,e.y=u+a.y;var D=this.calculateIndexForYPos_(e.y);a=null;for(var W,F=n,te=D-1;0<=te&&this.isInYRange_(te,e.y,n);)this.connectionChecker_.canConnect(e,W=this.connections_[te],!0,F)&&(a=W,F=W.distanceFrom(e)),te--;for(;D<this.connections_.length&&this.isInYRange_(D,e.y,n);)this.connectionChecker_.canConnect(e,W=this.connections_[D],!0,F)&&(a=W,F=W.distanceFrom(e)),D++;return e.x=C,e.y=u,{connection:a,radius:F}},t.ConnectionDB.init=function(e){var n=[];return n[t.connectionTypes.INPUT_VALUE]=new t.ConnectionDB(e),n[t.connectionTypes.OUTPUT_VALUE]=new t.ConnectionDB(e),n[t.connectionTypes.NEXT_STATEMENT]=new t.ConnectionDB(e),n[t.connectionTypes.PREVIOUS_STATEMENT]=new t.ConnectionDB(e),n},t.Events.ThemeChange=function(e,n){t.Events.ThemeChange.superClass_.constructor.call(this,n),this.themeName=e},t.utils.object.inherits(t.Events.ThemeChange,t.Events.UiBase),t.Events.ThemeChange.prototype.type=t.Events.THEME_CHANGE,t.Events.ThemeChange.prototype.toJson=function(){var e=t.Events.ThemeChange.superClass_.toJson.call(this);return e.themeName=this.themeName,e},t.Events.ThemeChange.prototype.fromJson=function(e){t.Events.ThemeChange.superClass_.fromJson.call(this,e),this.themeName=e.themeName},t.registry.register(t.registry.Type.EVENT,t.Events.THEME_CHANGE,t.Events.ThemeChange),t.Events.ViewportChange=function(e,n,a,u,C){t.Events.ViewportChange.superClass_.constructor.call(this,u),this.viewTop=e,this.viewLeft=n,this.scale=a,this.oldScale=C},t.utils.object.inherits(t.Events.ViewportChange,t.Events.UiBase),t.Events.ViewportChange.prototype.type=t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange.prototype.toJson=function(){var e=t.Events.ViewportChange.superClass_.toJson.call(this);return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e},t.Events.ViewportChange.prototype.fromJson=function(e){t.Events.ViewportChange.superClass_.fromJson.call(this,e),this.viewTop=e.viewTop,this.viewLeft=e.viewLeft,this.scale=e.scale,this.oldScale=e.oldScale},t.registry.register(t.registry.Type.EVENT,t.Events.VIEWPORT_CHANGE,t.Events.ViewportChange),t.IMetricsManager=function(){},t.MetricsManager=function(e){this.workspace_=e},t.MetricsManager.prototype.getDimensionsPx_=function(e){var n=0,a=0;return e&&(n=e.getWidth(),a=e.getHeight()),new t.utils.Size(n,a)},t.MetricsManager.prototype.getFlyoutMetrics=function(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getToolboxMetrics=function(){var e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}},t.MetricsManager.prototype.getSvgMetrics=function(){return this.workspace_.getCachedParentSvgSize()},t.MetricsManager.prototype.getAbsoluteMetrics=function(){var e=0,n=this.getToolboxMetrics(),a=this.getFlyoutMetrics(!0),u=!!this.workspace_.getToolbox(),C=!!this.workspace_.getFlyout(!0),D=u?n.position:a.position,F=D==t.utils.toolbox.Position.LEFT;return D=D==t.utils.toolbox.Position.TOP,u&&F?e=n.width:C&&F&&(e=a.width),F=0,u&&D?F=n.height:C&&D&&(F=a.height),{top:F,left:e}},t.MetricsManager.prototype.getViewMetrics=function(e){e=e?this.workspace_.scale:1;var n=this.getSvgMetrics(),a=this.getToolboxMetrics(),u=this.getFlyoutMetrics(!0),C=this.workspace_.getToolbox()?a.position:u.position;return this.workspace_.getToolbox()?C==t.utils.toolbox.Position.TOP||C==t.utils.toolbox.Position.BOTTOM?n.height-=a.height:(C==t.utils.toolbox.Position.LEFT||C==t.utils.toolbox.Position.RIGHT)&&(n.width-=a.width):this.workspace_.getFlyout(!0)&&(C==t.utils.toolbox.Position.TOP||C==t.utils.toolbox.Position.BOTTOM?n.height-=u.height:(C==t.utils.toolbox.Position.LEFT||C==t.utils.toolbox.Position.RIGHT)&&(n.width-=u.width)),{height:n.height/e,width:n.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}},t.MetricsManager.prototype.getContentMetrics=function(e){e=e?1:this.workspace_.scale;var n=this.workspace_.getBlocksBoundingBox();return{height:(n.bottom-n.top)*e,width:(n.right-n.left)*e,top:n.top*e,left:n.left*e}},t.MetricsManager.prototype.hasFixedEdges=function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()},t.MetricsManager.prototype.getComputedFixedEdges_=function(e){if(!this.hasFixedEdges())return{};var n=this.workspace_.isMovableHorizontally(),a=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);var u={};return a||(u.top=e.top,u.bottom=e.top+e.height),n||(u.left=e.left,u.right=e.left+e.width),u},t.MetricsManager.prototype.getPaddedContent_=function(e,n){var a=n.top+n.height,u=n.left+n.width,C=e.width,D=C/2,F=(e=e.height)/2;return{top:Math.min(n.top-F,a-e),bottom:Math.max(a+F,n.top+e),left:Math.min(n.left-D,u-C),right:Math.max(u+D,n.left+C)}},t.MetricsManager.prototype.getScrollMetrics=function(e,n,a){e=e?this.workspace_.scale:1,n=n||this.getViewMetrics(!1);var u=a||this.getContentMetrics();a=this.getComputedFixedEdges_(n),n=this.getPaddedContent_(n,u);var C=void 0!==a.left?a.left:n.left;return{top:(u=void 0!==a.top?a.top:n.top)/e,left:C/e,width:((void 0!==a.right?a.right:n.right)-C)/e,height:((void 0!==a.bottom?a.bottom:n.bottom)-u)/e}},t.MetricsManager.prototype.getUiMetrics=function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}},t.MetricsManager.prototype.getMetrics=function(){var e=this.getToolboxMetrics(),n=this.getFlyoutMetrics(!0),a=this.getSvgMetrics(),u=this.getAbsoluteMetrics(),C=this.getViewMetrics(),D=this.getContentMetrics(),F=this.getScrollMetrics(!1,C,D);return{contentHeight:D.height,contentWidth:D.width,contentTop:D.top,contentLeft:D.left,scrollHeight:F.height,scrollWidth:F.width,scrollTop:F.top,scrollLeft:F.left,viewHeight:C.height,viewWidth:C.width,viewTop:C.top,viewLeft:C.left,absoluteTop:u.top,absoluteLeft:u.left,svgHeight:a.height,svgWidth:a.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:n.width,flyoutHeight:n.height}},t.registry.register(t.registry.Type.METRICS_MANAGER,t.registry.DEFAULT,t.MetricsManager),t.FlyoutMetricsManager=function(e,n){this.flyout_=n,t.FlyoutMetricsManager.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.FlyoutMetricsManager,t.MetricsManager),t.FlyoutMetricsManager.prototype.getBoundingBox_=function(){try{var e=this.workspace_.getCanvas().getBBox()}catch(n){e={height:0,y:0,width:0,x:0}}return e},t.FlyoutMetricsManager.prototype.getContentMetrics=function(e){var n=this.getBoundingBox_();return{height:n.height*(e=e?1:this.workspace_.scale),width:n.width*e,top:n.y*e,left:n.x*e}},t.FlyoutMetricsManager.prototype.getScrollMetrics=function(e,n,a){return{height:((n=a||this.getContentMetrics()).height+2*(a=this.flyout_.MARGIN*this.workspace_.scale))/(e=e?this.workspace_.scale:1),width:(n.width+n.left+a)/e,top:0,left:0}},t.ThemeManager=function(e,n){this.workspace_=e,this.theme_=n,this.subscribedWorkspaces_=[],this.componentDB_=Object.create(null)},t.ThemeManager.prototype.getTheme=function(){return this.theme_},t.ThemeManager.prototype.setTheme=function(e){var a,n=this.theme_;for(this.theme_=e,(e=this.workspace_.getInjectionDiv())&&(n&&t.utils.dom.removeClass(e,n.getClassName()),t.utils.dom.addClass(e,this.theme_.getClassName())),n=0;e=this.subscribedWorkspaces_[n];n++)e.refreshTheme();for(n=0,e=Object.keys(this.componentDB_);a=e[n];n++)for(var C,u=0;C=this.componentDB_[a][u];u++){var D=C.element;C=C.propertyName;var F=this.theme_&&this.theme_.getComponentStyle(a);D.style[C]=F||""}t.hideChaff()},t.ThemeManager.prototype.subscribeWorkspace=function(e){this.subscribedWorkspaces_.push(e)},t.ThemeManager.prototype.unsubscribeWorkspace=function(e){if(0>(e=this.subscribedWorkspaces_.indexOf(e)))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");this.subscribedWorkspaces_.splice(e,1)},t.ThemeManager.prototype.subscribe=function(e,n,a){this.componentDB_[n]||(this.componentDB_[n]=[]),this.componentDB_[n].push({element:e,propertyName:a}),n=this.theme_&&this.theme_.getComponentStyle(n),e.style[a]=n||""},t.ThemeManager.prototype.unsubscribe=function(e){if(e)for(var u,n=Object.keys(this.componentDB_),a=0;u=n[a];a++){for(var C=this.componentDB_[u],D=C.length-1;0<=D;D--)C[D].element===e&&C.splice(D,1);this.componentDB_[u].length||delete this.componentDB_[u]}},t.ThemeManager.prototype.dispose=function(){this.componentDB_=this.subscribedWorkspaces_=this.theme_=this.owner_=null},t.TouchGesture=function(e,n){t.TouchGesture.superClass_.constructor.call(this,e,n),this.isMultiTouch_=!1,this.cachedPoints_=Object.create(null),this.startDistance_=this.previousScale_=0,this.isPinchZoomEnabled_=this.onStartWrapper_=null},t.utils.object.inherits(t.TouchGesture,t.Gesture),t.TouchGesture.ZOOM_IN_MULTIPLIER=5,t.TouchGesture.ZOOM_OUT_MULTIPLIER=6,t.TouchGesture.prototype.doStart=function(e){this.isPinchZoomEnabled_=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,t.TouchGesture.superClass_.doStart.call(this,e),!this.isEnding_&&t.Touch.isTouchEvent(e)&&this.handleTouchStart(e)},t.TouchGesture.prototype.bindMouseEvents=function(e){this.onStartWrapper_=t.browserEvents.conditionalBind(document,"mousedown",null,this.handleStart.bind(this),!0),this.onMoveWrapper_=t.browserEvents.conditionalBind(document,"mousemove",null,this.handleMove.bind(this),!0),this.onUpWrapper_=t.browserEvents.conditionalBind(document,"mouseup",null,this.handleUp.bind(this),!0),e.preventDefault(),e.stopPropagation()},t.TouchGesture.prototype.handleStart=function(e){!this.isDragging()&&t.Touch.isTouchEvent(e)&&(this.handleTouchStart(e),this.isMultiTouch()&&t.longStop_())},t.TouchGesture.prototype.handleMove=function(e){this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleMove.call(this,e):this.isMultiTouch()?(t.Touch.isTouchEvent(e)&&this.handleTouchMove(e),t.longStop_()):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handleUp=function(e){t.Touch.isTouchEvent(e)&&!this.isDragging()&&this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()?t.Touch.shouldHandleEvent(e)&&t.TouchGesture.superClass_.handleUp.call(this,e):(e.preventDefault(),e.stopPropagation(),this.dispose())},t.TouchGesture.prototype.isMultiTouch=function(){return this.isMultiTouch_},t.TouchGesture.prototype.dispose=function(){t.TouchGesture.superClass_.dispose.call(this),this.onStartWrapper_&&t.browserEvents.unbind(this.onStartWrapper_)},t.TouchGesture.prototype.handleTouchStart=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),2==(n=Object.keys(this.cachedPoints_)).length&&(this.startDistance_=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]]),this.isMultiTouch_=!0,e.preventDefault())},t.TouchGesture.prototype.handleTouchMove=function(e){var n=t.Touch.getTouchIdentifierFromEvent(e);this.cachedPoints_[n]=this.getTouchPoint(e),n=Object.keys(this.cachedPoints_),this.isPinchZoomEnabled_&&2===n.length?this.handlePinch_(e):t.TouchGesture.superClass_.handleMove.call(this,e)},t.TouchGesture.prototype.handlePinch_=function(e){var n=Object.keys(this.cachedPoints_);if(n=t.utils.Coordinate.distance(this.cachedPoints_[n[0]],this.cachedPoints_[n[1]])/this.startDistance_,0<this.previousScale_&&1/0>this.previousScale_){var a=n-this.previousScale_;a=0<a?a*t.TouchGesture.ZOOM_IN_MULTIPLIER:a*t.TouchGesture.ZOOM_OUT_MULTIPLIER;var u=this.startWorkspace_,C=t.utils.mouseToSvg(e,u.getParentSvg(),u.getInverseScreenCTM());u.zoom(C.x,C.y,a)}this.previousScale_=n,e.preventDefault()},t.TouchGesture.prototype.handleTouchEnd=function(e){e=t.Touch.getTouchIdentifierFromEvent(e),this.cachedPoints_[e]&&delete this.cachedPoints_[e],2>Object.keys(this.cachedPoints_).length&&(this.cachedPoints_=Object.create(null),this.previousScale_=0)},t.TouchGesture.prototype.getTouchPoint=function(e){return this.startWorkspace_?new t.utils.Coordinate(e.pageX?e.pageX:e.changedTouches[0].pageX,e.pageY?e.pageY:e.changedTouches[0].pageY):null},t.WorkspaceAudio=function(e){this.parentWorkspace_=e,this.SOUNDS_=Object.create(null)},t.WorkspaceAudio.prototype.lastSound_=null,t.WorkspaceAudio.prototype.dispose=function(){this.SOUNDS_=this.parentWorkspace_=null},t.WorkspaceAudio.prototype.load=function(e,n){if(e.length){try{var a=new t.utils.global.Audio}catch(W){return}for(var u,C=0;C<e.length;C++){var D=e[C],F=D.match(/\.(\w+)$/);if(F&&a.canPlayType("audio/"+F[1])){u=new t.utils.global.Audio(D);break}}u&&u.play&&(this.SOUNDS_[n]=u)}},t.WorkspaceAudio.prototype.preload=function(){for(var e in this.SOUNDS_){var n=this.SOUNDS_[e];n.volume=.01;var a=n.play();if(void 0!==a?a.then(n.pause).catch(function(){}):n.pause(),t.utils.userAgent.IPAD||t.utils.userAgent.IPHONE)break}},t.WorkspaceAudio.prototype.play=function(e,n){var a=this.SOUNDS_[e];a?(e=new Date,null!=this.lastSound_&&e-this.lastSound_<t.SOUND_LIMIT||(this.lastSound_=e,(a=t.utils.userAgent.IPAD||t.utils.userAgent.ANDROID?a:a.cloneNode()).volume=void 0===n?1:n,a.play())):this.parentWorkspace_&&this.parentWorkspace_.getAudioManager().play(e,n)},t.WorkspaceSvg=function(e,n,a){t.WorkspaceSvg.superClass_.constructor.call(this,e),this.metricsManager_=new(t.registry.getClassFromOptions(t.registry.Type.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager_.getMetrics.bind(this.metricsManager_),this.setMetrics=e.setMetrics||t.WorkspaceSvg.setTopLevelWorkspaceMetrics_,this.componentManager_=new t.ComponentManager,this.connectionDBList=t.ConnectionDB.init(this.connectionChecker),n&&(this.blockDragSurface_=n),a&&(this.workspaceDragSurface_=a),this.useWorkspaceDragSurface_=!!this.workspaceDragSurface_&&t.utils.is3dSupported(),this.highlightedBlocks_=[],this.audioManager_=new t.WorkspaceAudio(e.parentWorkspace),this.grid_=this.options.gridPattern?new t.Grid(this.options.gridPattern,e.gridOptions):null,this.markerManager_=new t.MarkerManager(this),this.toolboxCategoryCallbacks_=Object.create(null),this.flyoutButtonCallbacks_=Object.create(null),t.Variables&&t.Variables.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_CATEGORY_NAME,t.Variables.flyoutCategory),t.VariablesDynamic&&t.VariablesDynamic.flyoutCategory&&this.registerToolboxCategoryCallback(t.VARIABLE_DYNAMIC_CATEGORY_NAME,t.VariablesDynamic.flyoutCategory),t.Procedures&&t.Procedures.flyoutCategory&&(this.registerToolboxCategoryCallback(t.PROCEDURE_CATEGORY_NAME,t.Procedures.flyoutCategory),this.addChangeListener(t.Procedures.mutatorOpenListener)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new t.ThemeManager(this,this.options.theme||t.Themes.Classic),this.themeManager_.subscribeWorkspace(this),this.renderer_=t.blockRendering.init(this.options.renderer||"geras",this.getTheme(),this.options.rendererOverrides),this.cachedParentSvg_=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements_=[],this.dragTargetAreas_=[],this.cachedParentSvgSize_=new t.utils.Size(0,0)},t.utils.object.inherits(t.WorkspaceSvg,t.Workspace),t.WorkspaceSvg.prototype.resizeHandlerWrapper_=null,t.WorkspaceSvg.prototype.rendered=!0,t.WorkspaceSvg.prototype.isVisible_=!0,t.WorkspaceSvg.prototype.isFlyout=!1,t.WorkspaceSvg.prototype.isMutator=!1,t.WorkspaceSvg.prototype.resizesEnabled_=!0,t.WorkspaceSvg.prototype.scrollX=0,t.WorkspaceSvg.prototype.scrollY=0,t.WorkspaceSvg.prototype.startScrollX=0,t.WorkspaceSvg.prototype.startScrollY=0,t.WorkspaceSvg.prototype.dragDeltaXY_=null,t.WorkspaceSvg.prototype.scale=1,t.WorkspaceSvg.prototype.oldScale_=1,t.WorkspaceSvg.prototype.oldTop_=0,t.WorkspaceSvg.prototype.oldLeft_=0,t.WorkspaceSvg.prototype.trashcan=null,t.WorkspaceSvg.prototype.scrollbar=null,t.WorkspaceSvg.prototype.flyout_=null,t.WorkspaceSvg.prototype.toolbox_=null,t.WorkspaceSvg.prototype.currentGesture_=null,t.WorkspaceSvg.prototype.blockDragSurface_=null,t.WorkspaceSvg.prototype.workspaceDragSurface_=null,t.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!1,t.WorkspaceSvg.prototype.isDragSurfaceActive_=!1,t.WorkspaceSvg.prototype.injectionDiv_=null,t.WorkspaceSvg.prototype.lastRecordedPageScroll_=null,t.WorkspaceSvg.prototype.targetWorkspace=null,t.WorkspaceSvg.prototype.inverseScreenCTM_=null,t.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!0,t.WorkspaceSvg.prototype.getMarkerManager=function(){return this.markerManager_},t.WorkspaceSvg.prototype.getMetricsManager=function(){return this.metricsManager_},t.WorkspaceSvg.prototype.setMetricsManager=function(e){this.metricsManager_=e,this.getMetrics=this.metricsManager_.getMetrics.bind(this.metricsManager_)},t.WorkspaceSvg.prototype.getComponentManager=function(){return this.componentManager_},t.WorkspaceSvg.prototype.setCursorSvg=function(e){this.markerManager_.setCursorSvg(e)},t.WorkspaceSvg.prototype.setMarkerSvg=function(e){this.markerManager_.setMarkerSvg(e)},t.WorkspaceSvg.prototype.getMarker=function(e){return this.markerManager_?this.markerManager_.getMarker(e):null},t.WorkspaceSvg.prototype.getCursor=function(){return this.markerManager_?this.markerManager_.getCursor():null},t.WorkspaceSvg.prototype.getRenderer=function(){return this.renderer_},t.WorkspaceSvg.prototype.getThemeManager=function(){return this.themeManager_},t.WorkspaceSvg.prototype.getTheme=function(){return this.themeManager_.getTheme()},t.WorkspaceSvg.prototype.setTheme=function(e){e||(e=t.Themes.Classic),this.themeManager_.setTheme(e)},t.WorkspaceSvg.prototype.refreshTheme=function(){this.svgGroup_&&this.renderer_.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(n){return!!n.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var e=new(t.Events.get(t.Events.THEME_CHANGE))(this.getTheme().name,this.id);t.Events.fire(e)},t.WorkspaceSvg.prototype.updateBlockStyles_=function(e){for(var a,n=0;a=e[n];n++){var u=a.getStyleName();u&&(a.setStyle(u),a.mutator&&a.mutator.updateBlockStyle())}},t.WorkspaceSvg.prototype.getInverseScreenCTM=function(){if(this.inverseScreenCTMDirty_){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM_=e.inverse(),this.inverseScreenCTMDirty_=!1)}return this.inverseScreenCTM_},t.WorkspaceSvg.prototype.updateInverseScreenCTM=function(){this.inverseScreenCTMDirty_=!0},t.WorkspaceSvg.prototype.isVisible=function(){return this.isVisible_},t.WorkspaceSvg.prototype.getSvgXY=function(e){var n=0,a=0,u=1;(t.utils.dom.containsNode(this.getCanvas(),e)||t.utils.dom.containsNode(this.getBubbleCanvas(),e))&&(u=this.scale);do{var C=t.utils.getRelativeXY(e);(e==this.getCanvas()||e==this.getBubbleCanvas())&&(u=1),n+=C.x*u,a+=C.y*u,e=e.parentNode}while(e&&e!=this.getParentSvg());return new t.utils.Coordinate(n,a)},t.WorkspaceSvg.prototype.getCachedParentSvgSize=function(){var e=this.cachedParentSvgSize_;return new t.utils.Size(e.width,e.height)},t.WorkspaceSvg.prototype.getOriginOffsetInPixels=function(){return t.utils.getInjectionDivXY_(this.getCanvas())},t.WorkspaceSvg.prototype.getInjectionDiv=function(){if(!this.injectionDiv_)for(var e=this.svgGroup_;e;){if(-1!=(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv_=e;break}e=e.parentNode}return this.injectionDiv_},t.WorkspaceSvg.prototype.getBlockCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setResizeHandlerWrapper=function(e){this.resizeHandlerWrapper_=e},t.WorkspaceSvg.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyWorkspace"},null),e&&(this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"==e&&this.grid_?this.svgBackground_.style.fill="url(#"+this.grid_.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(t.browserEvents.conditionalBind(this.svgGroup_,"mousedown",this,this.onMouseDown_,!1,!0),t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(t.registry.getClassFromOptions(t.registry.Type.TOOLBOX,this.options,!0))(this)),this.grid_&&this.grid_.update(this.scale),this.recordDragTargets(),(e=t.registry.getClassFromOptions(t.registry.Type.CURSOR,this.options))&&this.markerManager_.setCursor(new e),this.renderer_.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_},t.WorkspaceSvg.prototype.dispose=function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.audioManager_&&(this.audioManager_.dispose(),this.audioManager_=null),this.grid_&&(this.grid_.dispose(),this.grid_=null),this.renderer_.dispose(),this.markerManager_&&(this.markerManager_.dispose(),this.markerManager_=null),t.WorkspaceSvg.superClass_.dispose.call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||(this.themeManager_.dispose(),this.themeManager_=null)),this.flyoutButtonCallbacks_=this.toolboxCategoryCallbacks_=this.connectionDBList=null,!this.options.parentWorkspace){var e=this.getParentSvg();e&&e.parentNode&&t.utils.dom.removeNode(e.parentNode)}this.resizeHandlerWrapper_&&(t.browserEvents.unbind(this.resizeHandlerWrapper_),this.resizeHandlerWrapper_=null)},t.WorkspaceSvg.prototype.newBlock=function(e,n){return new t.BlockSvg(this,e,n)},t.WorkspaceSvg.prototype.addTrashcan=function(){if(!t.Trashcan)throw Error("Missing require for Blockly.Trashcan");this.trashcan=new t.Trashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},t.WorkspaceSvg.prototype.addZoomControls=function(){if(!t.ZoomControls)throw Error("Missing require for Blockly.ZoomControls");this.zoomControls_=new t.ZoomControls(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)},t.WorkspaceSvg.prototype.addFlyout=function(e){var n=new t.Options({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=this.options.toolboxPosition,this.flyout_=this.horizontalLayout?new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(n):new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(n),this.flyout_.autoClose=!1,this.flyout_.getWorkspace().setVisible(!0),this.flyout_.createDom(e)},t.WorkspaceSvg.prototype.getFlyout=function(e){return this.flyout_||e?this.flyout_:this.toolbox_?this.toolbox_.getFlyout():null},t.WorkspaceSvg.prototype.getToolbox=function(){return this.toolbox_},t.WorkspaceSvg.prototype.updateScreenCalculations_=function(){this.updateInverseScreenCTM(),this.recordDragTargets()},t.WorkspaceSvg.prototype.resizeContents=function(){this.resizesEnabled_&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())},t.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position();for(var C,e=this.componentManager_.getComponents(t.ComponentManager.Capability.POSITIONABLE,!0),n=this.getMetricsManager().getUiMetrics(),a=[],u=0;C=e[u];u++)C.position(n,a),(C=C.getBoundingRectangle())&&a.push(C);this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()},t.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=function(){var e=t.utils.getDocumentScroll();t.utils.Coordinate.equals(this.lastRecordedPageScroll_,e)||(this.lastRecordedPageScroll_=e,this.updateScreenCalculations_())},t.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},t.WorkspaceSvg.prototype.setCachedParentSvgSize=function(e,n){var a=this.getParentSvg();e&&(this.cachedParentSvgSize_.width=e,a.cachedWidth_=e),n&&(this.cachedParentSvgSize_.height=n,a.cachedHeight_=n)},t.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},t.WorkspaceSvg.prototype.getParentSvg=function(){if(!this.cachedParentSvg_)for(var e=this.svgGroup_;e;){if("svg"==e.tagName){this.cachedParentSvg_=e;break}e=e.parentNode}return this.cachedParentSvg_},t.WorkspaceSvg.prototype.maybeFireViewportChangeEvent=function(){if(t.Events.isEnabled()){var e=this.scale,n=-this.scrollY,a=-this.scrollX;if(!(e==this.oldScale_&&1>Math.abs(n-this.oldTop_)&&1>Math.abs(a-this.oldLeft_))){var u=new(t.Events.get(t.Events.VIEWPORT_CHANGE))(n,a,e,this.id,this.oldScale_);this.oldScale_=e,this.oldTop_=n,this.oldLeft_=a,t.Events.fire(u)}}},t.WorkspaceSvg.prototype.translate=function(e,n){if(this.useWorkspaceDragSurface_&&this.isDragSurfaceActive_)this.workspaceDragSurface_.translateSurface(e,n);else{var a="translate("+e+","+n+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",a),this.svgBubbleCanvas_.setAttribute("transform",a)}this.blockDragSurface_&&this.blockDragSurface_.translateAndScaleGroup(e,n,this.scale),this.grid_&&this.grid_.moveTo(e,n),this.maybeFireViewportChangeEvent()},t.WorkspaceSvg.prototype.resetDragSurface=function(){if(this.useWorkspaceDragSurface_){this.isDragSurfaceActive_=!1;var e=this.workspaceDragSurface_.getSurfaceTranslation();this.workspaceDragSurface_.clearAndHide(this.svgGroup_),this.svgBlockCanvas_.setAttribute("transform",e="translate("+e.x+","+e.y+") scale("+this.scale+")"),this.svgBubbleCanvas_.setAttribute("transform",e)}},t.WorkspaceSvg.prototype.setupDragSurface=function(){if(this.useWorkspaceDragSurface_&&!this.isDragSurfaceActive_){this.isDragSurfaceActive_=!0;var e=this.svgBlockCanvas_.previousSibling,n=parseInt(this.getParentSvg().getAttribute("width"),10),a=parseInt(this.getParentSvg().getAttribute("height"),10),u=t.utils.getRelativeXY(this.getCanvas());this.workspaceDragSurface_.setContentsAndShow(this.getCanvas(),this.getBubbleCanvas(),e,n,a,this.scale),this.workspaceDragSurface_.translateSurface(u.x,u.y)}},t.WorkspaceSvg.prototype.getBlockDragSurface=function(){return this.blockDragSurface_},t.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},t.WorkspaceSvg.prototype.setVisible=function(e){if(this.isVisible_=e,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e){for(var n=(e=this.getAllBlocks(!1)).length-1;0<=n;n--)e[n].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else t.hideChaff(!0)},t.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(!1),n=e.length-1;0<=n;n--)e[n].render(!1);if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),n=0;n<e.length;n++)e[n].render(!1);this.markerManager_.updateMarkers()},t.WorkspaceSvg.prototype.highlightBlock=function(e,n){if(void 0===n){for(var u,a=0;u=this.highlightedBlocks_[a];a++)u.setHighlighted(!1);this.highlightedBlocks_.length=0}(u=e?this.getBlockById(e):null)&&((e=void 0===n||n)?-1==this.highlightedBlocks_.indexOf(u)&&this.highlightedBlocks_.push(u):t.utils.arrayRemove(this.highlightedBlocks_,u),u.setHighlighted(e))},t.WorkspaceSvg.prototype.paste=function(e){!this.rendered||!e.tagName||e.getElementsByTagName("block").length>=this.remainingCapacity()||(this.currentGesture_&&this.currentGesture_.cancel(),"comment"==e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e))},t.WorkspaceSvg.prototype.pasteBlock_=function(e){t.Events.disable();try{var n=t.Xml.domToBlock(e,this),a=parseInt(e.getAttribute("x"),10),u=parseInt(e.getAttribute("y"),10);if(!isNaN(a)&&!isNaN(u)){this.RTL&&(a=-a);do{e=!1;for(var F,C=this.getAllBlocks(!1),D=0;F=C[D];D++){var W=F.getRelativeToSurfaceXY();if(1>=Math.abs(a-W.x)&&1>=Math.abs(u-W.y)){e=!0;break}}if(!e){var oe,te=n.getConnections_(!1);for(D=0;oe=te[D];D++)if(oe.closest(t.SNAP_RADIUS,new t.utils.Coordinate(a,u)).connection){e=!0;break}}e&&(a=this.RTL?a-t.SNAP_RADIUS:a+t.SNAP_RADIUS,u+=2*t.SNAP_RADIUS)}while(e);n.moveBy(a,u)}}finally{t.Events.enable()}t.Events.isEnabled()&&!n.isShadow()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n)),n.select()},t.WorkspaceSvg.prototype.pasteWorkspaceComment_=function(e){t.Events.disable();try{var n=t.WorkspaceCommentSvg.fromXml(e,this),a=parseInt(e.getAttribute("x"),10),u=parseInt(e.getAttribute("y"),10);isNaN(a)||isNaN(u)||(this.RTL&&(a=-a),n.moveBy(a+50,u+50))}finally{t.Events.enable()}t.Events.isEnabled()&&t.WorkspaceComment.fireCreateEvent(n),n.select()},t.WorkspaceSvg.prototype.refreshToolboxSelection=function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()},t.WorkspaceSvg.prototype.renameVariableById=function(e,n){t.WorkspaceSvg.superClass_.renameVariableById.call(this,e,n),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.deleteVariableById=function(e){t.WorkspaceSvg.superClass_.deleteVariableById.call(this,e),this.refreshToolboxSelection()},t.WorkspaceSvg.prototype.createVariable=function(e,n,a){return e=t.WorkspaceSvg.superClass_.createVariable.call(this,e,n,a),this.refreshToolboxSelection(),e},t.WorkspaceSvg.prototype.recordDeleteAreas=function(){t.utils.deprecation.warn("WorkspaceSvg.prototype.recordDeleteAreas","June 2021","June 2022","WorkspaceSvg.prototype.recordDragTargets"),this.recordDragTargets()},t.WorkspaceSvg.prototype.recordDragTargets=function(){var e=this.componentManager_.getComponents(t.ComponentManager.Capability.DRAG_TARGET,!0);this.dragTargetAreas_=[];for(var a,n=0;a=e[n];n++){var u=a.getClientRect();u&&this.dragTargetAreas_.push({component:a,clientRect:u})}},t.WorkspaceSvg.prototype.getDragTarget=function(e){for(var a,n=0;a=this.dragTargetAreas_[n];n++)if(a.clientRect.contains(e.clientX,e.clientY))return a.component;return null},t.WorkspaceSvg.prototype.onMouseDown_=function(e){var n=this.getGesture(e);n&&n.handleWsStart(e,this)},t.WorkspaceSvg.prototype.startDrag=function(e,n){(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY_=t.utils.Coordinate.difference(n,e)},t.WorkspaceSvg.prototype.moveDrag=function(e){return(e=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,t.utils.Coordinate.sum(this.dragDeltaXY_,e)},t.WorkspaceSvg.prototype.isDragging=function(){return null!=this.currentGesture_&&this.currentGesture_.isDragging()},t.WorkspaceSvg.prototype.isDraggable=function(){return this.options.moveOptions&&this.options.moveOptions.drag},t.WorkspaceSvg.prototype.isMovable=function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch},t.WorkspaceSvg.prototype.isMovableHorizontally=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())},t.WorkspaceSvg.prototype.isMovableVertically=function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())},t.WorkspaceSvg.prototype.onMouseWheel_=function(e){if(t.Gesture.inProgress())e.preventDefault(),e.stopPropagation();else{var n=this.options.zoomOptions&&this.options.zoomOptions.wheel,a=this.options.moveOptions&&this.options.moveOptions.wheel;if(n||a){var u=t.utils.getScrollDeltaPixels(e);!n||!e.ctrlKey&&a?(n=this.scrollX-u.x,a=this.scrollY-u.y,e.shiftKey&&!u.x&&(n=this.scrollX-u.y,a=this.scrollY),this.scroll(n,a)):(u=-u.y/50,n=t.utils.mouseToSvg(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(n.x,n.y,u)),e.preventDefault()}}},t.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBoundedElements();if(!e.length)return new t.utils.Rect(0,0,0,0);for(var n=e[0].getBoundingRectangle(),a=1;a<e.length;a++){var u=e[a];u.isInsertionMarker&&u.isInsertionMarker()||((u=u.getBoundingRectangle()).top<n.top&&(n.top=u.top),u.bottom>n.bottom&&(n.bottom=u.bottom),u.left<n.left&&(n.left=u.left),u.right>n.right&&(n.right=u.right))}return n},t.WorkspaceSvg.prototype.cleanUp=function(){this.setResizesEnabled(!1),t.Events.setGroup(!0);for(var u,e=this.getTopBlocks(!0),n=0,a=0;u=e[a];a++)if(u.isMovable()){var C=u.getRelativeToSurfaceXY();u.moveBy(-C.x,n-C.y),u.snapToGrid(),n=u.getRelativeToSurfaceXY().y+u.getHeightWidth().height+this.renderer_.getConstants().MIN_BLOCK_HEIGHT}t.Events.setGroup(!1),this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.showContextMenu=function(e){if(!this.options.readOnly&&!this.isFlyout){var n=t.ContextMenuRegistry.registry.getContextMenuOptions(t.ContextMenuRegistry.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(n,e),t.ContextMenu.show(e,n,this.RTL)}},t.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=t.utils.toolbox.convertToolboxDefToJson(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(t.utils.toolbox.hasCategories(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout_)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout_.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")},t.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(t.mainWorkspace=this,this.setBrowserFocus())},t.WorkspaceSvg.prototype.setBrowserFocus=function(){document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{this.getParentSvg().focus({preventScroll:!0})}catch(e){try{this.getParentSvg().parentNode.setActive()}catch(n){this.getParentSvg().parentNode.focus({preventScroll:!0})}}},t.WorkspaceSvg.prototype.zoom=function(e,n,a){a=Math.pow(this.options.zoomOptions.scaleSpeed,a);var u=this.scale*a;if(this.scale!=u){u>this.options.zoomOptions.maxScale?a=this.options.zoomOptions.maxScale/this.scale:u<this.options.zoomOptions.minScale&&(a=this.options.zoomOptions.minScale/this.scale);var C=this.getCanvas().getCTM(),D=this.getParentSvg().createSVGPoint();D.x=e,D.y=n,D=D.matrixTransform(C.inverse()),C=C.translate((e=D.x)*(1-a),(n=D.y)*(1-a)).scale(a),this.scrollX=C.e,this.scrollY=C.f,this.setScale(u)}},t.WorkspaceSvg.prototype.zoomCenter=function(e){var n=this.getMetrics();if(this.flyout_){var a=n.svgWidth?n.svgWidth/2:0;n=n.svgHeight?n.svgHeight/2:0}else a=n.viewWidth/2+n.absoluteLeft,n=n.viewHeight/2+n.absoluteTop;this.zoom(a,n,e)},t.WorkspaceSvg.prototype.zoomToFit=function(){if(this.isMovable()){var e=this.getMetrics(),n=e.viewWidth;e=e.viewHeight;var a=this.getBlocksBoundingBox(),u=a.right-a.left;if(a=a.bottom-a.top,u){this.flyout_&&(this.horizontalLayout?(e+=this.flyout_.getHeight(),a+=this.flyout_.getHeight()/this.scale):(n+=this.flyout_.getWidth(),u+=this.flyout_.getWidth()/this.scale)),n/=u,e/=a,t.Events.disable();try{this.setScale(Math.min(n,e)),this.scrollCenter()}finally{t.Events.enable()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.beginCanvasTransition=function(){t.utils.dom.addClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.addClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.endCanvasTransition=function(){t.utils.dom.removeClass(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),t.utils.dom.removeClass(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")},t.WorkspaceSvg.prototype.scrollCenter=function(){if(this.isMovable()){var e=this.getMetrics(),n=(e.scrollWidth-e.viewWidth)/2,a=(e.scrollHeight-e.viewHeight)/2;this.scroll(n=-n-e.scrollLeft,a=-a-e.scrollTop)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.centerOnBlock=function(e){if(this.isMovable()){if(e=e?this.getBlockById(e):null){var n=e.getRelativeToSurfaceXY(),a=e.getHeightWidth(),u=this.scale;e=(n.x+(this.RTL?-1:1)*a.width/2)*u,n=(n.y+a.height/2)*u,a=this.getMetrics(),this.scroll(-(e-a.viewWidth/2),-(n-a.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")},t.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,t.hideChaff(!1),this.flyout_&&(this.flyout_.reflow(),this.recordDragTargets()),this.grid_&&this.grid_.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout_?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))},t.WorkspaceSvg.prototype.getScale=function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale},t.WorkspaceSvg.prototype.scroll=function(e,n){t.hideChaff(!0);var a=this.getMetrics();e=Math.min(e,-a.scrollLeft),n=Math.min(n,-a.scrollTop);var u=a.scrollTop+Math.max(0,a.scrollHeight-a.viewHeight);e=Math.max(e,-(a.scrollLeft+Math.max(0,a.scrollWidth-a.viewWidth))),n=Math.max(n,-u),this.scrollX=e,this.scrollY=n,this.scrollbar&&this.scrollbar.set(-(e+a.scrollLeft),-(n+a.scrollTop),!1),this.translate(e+=a.absoluteLeft,n+=a.absoluteTop)},t.WorkspaceSvg.setTopLevelWorkspaceMetrics_=function(e){var n=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(n.scrollLeft+(n.scrollWidth-n.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(n.scrollTop+(n.scrollHeight-n.viewHeight)*e.y)),this.translate(this.scrollX+n.absoluteLeft,this.scrollY+n.absoluteTop)},t.WorkspaceSvg.prototype.getBlockById=function(e){return t.WorkspaceSvg.superClass_.getBlockById.call(this,e)},t.WorkspaceSvg.prototype.getTopBlocks=function(e){return t.WorkspaceSvg.superClass_.getTopBlocks.call(this,e)},t.WorkspaceSvg.prototype.addTopBlock=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopBlock.call(this,e)},t.WorkspaceSvg.prototype.removeTopBlock=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopBlock.call(this,e)},t.WorkspaceSvg.prototype.addTopComment=function(e){this.addTopBoundedElement(e),t.WorkspaceSvg.superClass_.addTopComment.call(this,e)},t.WorkspaceSvg.prototype.removeTopComment=function(e){this.removeTopBoundedElement(e),t.WorkspaceSvg.superClass_.removeTopComment.call(this,e)},t.WorkspaceSvg.prototype.addTopBoundedElement=function(e){this.topBoundedElements_.push(e)},t.WorkspaceSvg.prototype.removeTopBoundedElement=function(e){t.utils.arrayRemove(this.topBoundedElements_,e)},t.WorkspaceSvg.prototype.getTopBoundedElements=function(){return[].concat(this.topBoundedElements_)},t.WorkspaceSvg.prototype.setResizesEnabled=function(e){var n=!this.resizesEnabled_&&e;this.resizesEnabled_=e,n&&this.resizeContents()},t.WorkspaceSvg.prototype.clear=function(){this.setResizesEnabled(!1),t.WorkspaceSvg.superClass_.clear.call(this),this.topBoundedElements_=[],this.setResizesEnabled(!0)},t.WorkspaceSvg.prototype.registerButtonCallback=function(e,n){if("function"!=typeof n)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks_[e]=n},t.WorkspaceSvg.prototype.getButtonCallback=function(e){return(e=this.flyoutButtonCallbacks_[e])?e:null},t.WorkspaceSvg.prototype.removeButtonCallback=function(e){this.flyoutButtonCallbacks_[e]=null},t.WorkspaceSvg.prototype.registerToolboxCategoryCallback=function(e,n){if("function"!=typeof n)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks_[e]=n},t.WorkspaceSvg.prototype.getToolboxCategoryCallback=function(e){return this.toolboxCategoryCallbacks_[e]||null},t.WorkspaceSvg.prototype.removeToolboxCategoryCallback=function(e){this.toolboxCategoryCallbacks_[e]=null},t.WorkspaceSvg.prototype.getGesture=function(e){var n="mousedown"==e.type||"touchstart"==e.type||"pointerdown"==e.type,a=this.currentGesture_;return a?n&&a.hasStarted()?(console.warn("Tried to start the same gesture twice."),a.cancel(),null):a:n?this.currentGesture_=new t.TouchGesture(e,this):null},t.WorkspaceSvg.prototype.clearGesture=function(){this.currentGesture_=null},t.WorkspaceSvg.prototype.cancelCurrentGesture=function(){this.currentGesture_&&this.currentGesture_.cancel()},t.WorkspaceSvg.prototype.getAudioManager=function(){return this.audioManager_},t.WorkspaceSvg.prototype.getGrid=function(){return this.grid_},t.inject=function(e,n){if(t.checkBlockColourConstants(),"string"==typeof e&&(e=document.getElementById(e)||document.querySelector(e)),!e||!t.utils.dom.containsNode(document,e))throw Error("Error: container is not in current document.");n=new t.Options(n||{});var a=document.createElement("div");a.className="injectionDiv",a.tabIndex=0,t.utils.aria.setState(a,t.utils.aria.State.LABEL,t.Msg.WORKSPACE_ARIA_LABEL),e.appendChild(a),e=t.createDom_(a,n);var u=new t.BlockDragSurfaceSvg(a),C=new t.WorkspaceDragSurfaceSvg(a),D=t.createMainWorkspace_(e,n,u,C);return t.init_(D),t.mainWorkspace=D,t.svgResize(D),a.addEventListener("focusin",function(){t.mainWorkspace=D}),D},t.createDom_=function(e,n){e.setAttribute("dir","LTR"),t.Css.inject(n.hasCss,n.pathToMedia),e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",class:"blocklySvg",tabindex:"0"},e);var a=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),u=String(Math.random()).substring(2);return n.gridPattern=t.Grid.createDom(u,n.gridOptions,a),e},t.createMainWorkspace_=function(e,n,a,u){return n.parentWorkspace=null,(n=new t.WorkspaceSvg(n,a,u)).scale=(a=n.options).zoomOptions.startScale,e.appendChild(n.createDom("blocklyMainBackground")),t.utils.dom.addClass(n.getInjectionDiv(),n.getRenderer().getClassName()),t.utils.dom.addClass(n.getInjectionDiv(),n.getTheme().getClassName()),!a.hasCategories&&a.languageTree&&(u=n.addFlyout(t.utils.Svg.SVG),t.utils.dom.insertAfter(u,e)),a.hasTrashcan&&n.addTrashcan(),a.zoomOptions&&a.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(e,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(t.bumpIntoBoundsHandler_(n)),t.svgResize(n),t.WidgetDiv.createDom(),t.DropDownDiv.createDom(),t.Tooltip.createDom(),n},t.extractObjectFromEvent_=function(e,n){var a=null;switch(n.type){case t.Events.BLOCK_CREATE:case t.Events.BLOCK_MOVE:(a=e.getBlockById(n.blockId))&&(a=a.getRootBlock());break;case t.Events.COMMENT_CREATE:case t.Events.COMMENT_MOVE:a=e.getCommentById(n.commentId)}return a},t.bumpTopObjectsIntoBounds_=function(e){var n=e.getMetricsManager();if(n.hasFixedEdges()&&!e.isDragging()){n=n.getScrollMetrics(!0);for(var C,a=e.getTopBoundedElements(),u=0;C=a[u];u++)t.bumpObjectIntoBounds_(e,n,C)}},t.bumpIntoBoundsHandler_=function(e){return function(n){var a=e.getMetricsManager();if(a.hasFixedEdges()&&!e.isDragging())if(-1!==t.Events.BUMP_EVENTS.indexOf(n.type)){a=a.getScrollMetrics(!0);var u=t.extractObjectFromEvent_(e,n);if(u){var C=t.Events.getGroup();t.Events.setGroup(n.group),t.bumpObjectIntoBounds_(e,a,u)&&!n.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),null!==C&&t.Events.setGroup(C)}}else n.type===t.Events.VIEWPORT_CHANGE&&n.scale>n.oldScale&&t.bumpTopObjectsIntoBounds_(e)}},t.bumpObjectIntoBounds_=function(e,n,a){var u=a.getBoundingRectangle(),C=u.right-u.left,D=t.utils.math.clamp(n.top,u.top,n.top+n.height-(u.bottom-u.top))-u.top,F=n.left;return n=n.left+n.width-C,e.RTL?F=Math.min(n,F):n=Math.max(F,n),!(!(e=t.utils.math.clamp(F,u.left,n)-u.left)&&!D||(a.moveBy(e,D),0))},t.init_=function(e){var n=e.options,a=e.getParentSvg();if(t.browserEvents.conditionalBind(a.parentNode,"contextmenu",null,function(C){t.utils.isTargetInput(C)||C.preventDefault()}),a=t.browserEvents.conditionalBind(window,"resize",null,function(){t.hideChaff(!0),t.svgResize(e),t.bumpTopObjectsIntoBounds_(e)}),e.setResizeHandlerWrapper(a),t.inject.bindDocumentEvents_(),n.languageTree){a=e.getToolbox();var u=e.getFlyout(!0);a?a.init():u&&(u.init(e),u.show(n.languageTree),"function"==typeof u.scrollToStart&&u.scrollToStart())}n.hasTrashcan&&e.trashcan.init(),n.zoomOptions&&n.zoomOptions.controls&&e.zoomControls_.init(),n.moveOptions&&n.moveOptions.scrollbars?(e.scrollbar=new t.ScrollbarPair(e,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.horizontal,!0===n.moveOptions.scrollbars||!!n.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),n.hasSounds&&t.inject.loadSounds_(n.pathToMedia,e)},t.inject.bindDocumentEvents_=function(){t.documentEventsBound_||(t.browserEvents.conditionalBind(document,"scroll",null,function(){for(var a,e=t.Workspace.getAll(),n=0;a=e[n];n++)a.updateInverseScreenCTM&&a.updateInverseScreenCTM()}),t.browserEvents.conditionalBind(document,"keydown",null,t.onKeyDown),t.browserEvents.bind(document,"touchend",null,t.longStop_),t.browserEvents.bind(document,"touchcancel",null,t.longStop_),t.utils.userAgent.IPAD&&t.browserEvents.conditionalBind(window,"orientationchange",document,function(){t.svgResize(t.getMainWorkspace())})),t.documentEventsBound_=!0},t.inject.loadSounds_=function(e,n){var a=n.getAudioManager();a.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),a.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),a.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var u=[];e=function(){for(;u.length;)t.browserEvents.unbind(u.pop());a.preload()},u.push(t.browserEvents.conditionalBind(document,"mousemove",null,e,!0)),u.push(t.browserEvents.conditionalBind(document,"touchstart",null,e,!0))},t.Names=function(e,n){if(this.variablePrefix_=n||"",this.reservedDict_=Object.create(null),e)for(e=e.split(","),n=0;n<e.length;n++)this.reservedDict_[e[n]]=!0;this.reset()},t.Names.DEVELOPER_VARIABLE_TYPE="DEVELOPER_VARIABLE",t.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null),this.variableMap_=null},t.Names.prototype.setVariableMap=function(e){this.variableMap_=e},t.Names.prototype.getNameForUserVariable_=function(e){return this.variableMap_?(e=this.variableMap_.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)},t.Names.prototype.populateVariables=function(e){e=t.Variables.allUsedVarModels(e);for(var n=0;n<e.length;n++)this.getName(e[n].getId(),t.VARIABLE_CATEGORY_NAME)},t.Names.prototype.populateProcedures=function(e){e=(e=t.Procedures.allProcedures(e))[0].concat(e[1]);for(var n=0;n<e.length;n++)this.getName(e[n][0],t.PROCEDURE_CATEGORY_NAME)},t.Names.prototype.getName=function(e,n){var a=e;n==t.VARIABLE_CATEGORY_NAME&&(e=this.getNameForUserVariable_(e))&&(a=e),e=a.toLowerCase();var u=n==t.VARIABLE_CATEGORY_NAME||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"";n in this.db_||(this.db_[n]=Object.create(null));var C=this.db_[n];return e in C?u+C[e]:(n=this.getDistinctName(a,n),C[e]=n.substr(u.length),n)},t.Names.prototype.getUserNames=function(e){return Object.keys(this.db_[e]||{})},t.Names.prototype.getDistinctName=function(e,n){e=this.safeName_(e);for(var a="";this.dbReverse_[e+a]||e+a in this.reservedDict_;)a=a?a+1:2;return this.dbReverse_[e+=a]=!0,(n==t.VARIABLE_CATEGORY_NAME||n==t.Names.DEVELOPER_VARIABLE_TYPE?this.variablePrefix_:"")+e},t.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=t.Msg.UNNAMED_KEY||"unnamed",e},t.Names.equals=function(e,n){return e.toLowerCase()==n.toLowerCase()},t.Procedures={},t.Procedures.NAME_TYPE=t.PROCEDURE_CATEGORY_NAME,t.Procedures.DEFAULT_ARG="x",t.Procedures.allProcedures=function(e){var n=e.getBlocksByType("procedures_defnoreturn",!1).map(function(a){return a.getProcedureDef()});return e=e.getBlocksByType("procedures_defreturn",!1).map(function(a){return a.getProcedureDef()}),n.sort(t.Procedures.procTupleComparator_),e.sort(t.Procedures.procTupleComparator_),[n,e]},t.Procedures.procTupleComparator_=function(e,n){return e[0].localeCompare(n[0],void 0,{sensitivity:"base"})},t.Procedures.findLegalName=function(e,n){if(n.isInFlyout)return e;for(e=e||t.Msg.UNNAMED_KEY||"unnamed";!t.Procedures.isLegalName_(e,n.workspace,n);){var a=e.match(/^(.*?)(\d+)$/);e=a?a[1]+(parseInt(a[2],10)+1):e+"2"}return e},t.Procedures.isLegalName_=function(e,n,a){return!t.Procedures.isNameUsed(e,n,a)},t.Procedures.isNameUsed=function(e,n,a){n=n.getAllBlocks(!1);for(var u=0;u<n.length;u++)if(n[u]!=a&&n[u].getProcedureDef){var C=n[u].getProcedureDef();if(t.Names.equals(C[0],e))return!0}return!1},t.Procedures.rename=function(e){e=e.trim();var n=t.Procedures.findLegalName(e,this.getSourceBlock()),a=this.getValue();if(a!=e&&a!=n){e=this.getSourceBlock().workspace.getAllBlocks(!1);for(var u=0;u<e.length;u++)e[u].renameProcedure&&e[u].renameProcedure(a,n)}return n},t.Procedures.flyoutCategory=function(e){function n(D,F){for(var W=0;W<D.length;W++){var te=D[W][0],oe=D[W][1],q=t.utils.xml.createElement("block");q.setAttribute("type",F),q.setAttribute("gap",16);var ue=t.utils.xml.createElement("mutation");for(ue.setAttribute("name",te),q.appendChild(ue),te=0;te<oe.length;te++){var Te=t.utils.xml.createElement("arg");Te.setAttribute("name",oe[te]),ue.appendChild(Te)}a.push(q)}}var a=[];if(t.Blocks.procedures_defnoreturn){var u=t.utils.xml.createElement("block");u.setAttribute("type","procedures_defnoreturn"),u.setAttribute("gap",16);var C=t.utils.xml.createElement("field");C.setAttribute("name","NAME"),C.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFNORETURN_PROCEDURE)),u.appendChild(C),a.push(u)}return t.Blocks.procedures_defreturn&&((u=t.utils.xml.createElement("block")).setAttribute("type","procedures_defreturn"),u.setAttribute("gap",16),(C=t.utils.xml.createElement("field")).setAttribute("name","NAME"),C.appendChild(t.utils.xml.createTextNode(t.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),u.appendChild(C),a.push(u)),t.Blocks.procedures_ifreturn&&((u=t.utils.xml.createElement("block")).setAttribute("type","procedures_ifreturn"),u.setAttribute("gap",16),a.push(u)),a.length&&a[a.length-1].setAttribute("gap",24),n((e=t.Procedures.allProcedures(e))[0],"procedures_callnoreturn"),n(e[1],"procedures_callreturn"),a},t.Procedures.updateMutatorFlyout_=function(e){for(var C,n=[],a=e.getBlocksByType("procedures_mutatorarg",!1),u=0;C=a[u];u++)n.push(C.getFieldValue("NAME"));a=t.utils.xml.createElement("xml"),(u=t.utils.xml.createElement("block")).setAttribute("type","procedures_mutatorarg"),(C=t.utils.xml.createElement("field")).setAttribute("name","NAME"),n=t.Variables.generateUniqueNameFromOptions(t.Procedures.DEFAULT_ARG,n),n=t.utils.xml.createTextNode(n),C.appendChild(n),u.appendChild(C),a.appendChild(u),e.updateToolbox(a)},t.Procedures.mutatorOpenListener=function(e){if(e.type==t.Events.BUBBLE_OPEN&&"mutator"===e.bubbleType&&e.isOpen){var n=(e=t.Workspace.getById(e.workspaceId).getBlockById(e.blockId)).type;("procedures_defnoreturn"==n||"procedures_defreturn"==n)&&(e=e.mutator.getWorkspace(),t.Procedures.updateMutatorFlyout_(e),e.addChangeListener(t.Procedures.mutatorChangeListener_))}},t.Procedures.mutatorChangeListener_=function(e){(e.type==t.Events.BLOCK_CREATE||e.type==t.Events.BLOCK_DELETE||e.type==t.Events.BLOCK_CHANGE)&&(e=t.Workspace.getById(e.workspaceId),t.Procedures.updateMutatorFlyout_(e))},t.Procedures.getCallers=function(e,n){var a=[];n=n.getAllBlocks(!1);for(var u=0;u<n.length;u++)if(n[u].getProcedureCall){var C=n[u].getProcedureCall();C&&t.Names.equals(C,e)&&a.push(n[u])}return a},t.Procedures.mutateCallers=function(e){var C,n=t.Events.recordUndo,a=e.getProcedureDef()[0],u=e.mutationToDom(!0);for(e=t.Procedures.getCallers(a,e.workspace),a=0;C=e[a];a++){var D=C.mutationToDom();D=D&&t.Xml.domToText(D),C.domToMutation(u);var F=C.mutationToDom();D!=(F=F&&t.Xml.domToText(F))&&(t.Events.recordUndo=!1,t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(C,"mutation",null,D,F)),t.Events.recordUndo=n)}},t.Procedures.getDefinition=function(e,n){n=n.getAllBlocks(!1);for(var a=0;a<n.length;a++)if(n[a].getProcedureDef){var u=n[a].getProcedureDef();if(u&&t.Names.equals(u[0],e))return n[a]}return null},t.ShortcutRegistry=function(){t.ShortcutRegistry.registry=this,this.registry_=Object.create(null),this.keyMap_=Object.create(null)},t.ShortcutRegistry.modifierKeys={Shift:t.utils.KeyCodes.SHIFT,Control:t.utils.KeyCodes.CTRL,Alt:t.utils.KeyCodes.ALT,Meta:t.utils.KeyCodes.META},t.ShortcutRegistry.prototype.register=function(e,n){if(this.registry_[e.name]&&!n)throw Error('Shortcut with name "'+e.name+'" already exists.');this.registry_[e.name]=e},t.ShortcutRegistry.prototype.unregister=function(e){return this.registry_[e]?(this.removeAllKeyMappings(e),delete this.registry_[e],!0):(console.warn('Keyboard shortcut with name "'+e+'" not found.'),!1)},t.ShortcutRegistry.prototype.addKeyMapping=function(e,n,a){e=String(e);var u=this.keyMap_[e];if(u&&!a)throw Error('Shortcut with name "'+n+'" collides with shortcuts '+u.toString());u&&a?u.unshift(n):this.keyMap_[e]=[n]},t.ShortcutRegistry.prototype.removeKeyMapping=function(e,n,a){var u=this.keyMap_[e];if(!u&&!a)return console.warn('No keyboard shortcut with name "'+n+'" registered with key code "'+e+'"'),!1;var C=u.indexOf(n);return-1<C?(u.splice(C,1),0==u.length&&delete this.keyMap_[e],!0):(a||console.warn('No keyboard shortcut with name "'+n+'" registered with key code "'+e+'"'),!1)},t.ShortcutRegistry.prototype.removeAllKeyMappings=function(e){for(var n in this.keyMap_)this.removeKeyMapping(n,e,!0)},t.ShortcutRegistry.prototype.setKeyMap=function(e){this.keyMap_=e},t.ShortcutRegistry.prototype.getKeyMap=function(){return t.utils.object.deepMerge(Object.create(null),this.keyMap_)},t.ShortcutRegistry.prototype.getRegistry=function(){return t.utils.object.deepMerge(Object.create(null),this.registry_)},t.ShortcutRegistry.prototype.onKeyDown=function(e,n){var a=this.serializeKeyEvent_(n);if(!(a=this.getShortcutNamesByKeyCode(a)))return!1;for(var C,u=0;C=a[u];u++)if((!(C=this.registry_[C]).preconditionFn||C.preconditionFn(e))&&C.callback&&C.callback(e,n,C))return!0;return!1},t.ShortcutRegistry.prototype.getShortcutNamesByKeyCode=function(e){return this.keyMap_[e]||[]},t.ShortcutRegistry.prototype.getKeyCodesByShortcutName=function(e){var a,n=[];for(a in this.keyMap_)-1<this.keyMap_[a].indexOf(e)&&n.push(a);return n},t.ShortcutRegistry.prototype.serializeKeyEvent_=function(e){var a,n="";for(a in t.ShortcutRegistry.modifierKeys)e.getModifierState(a)&&(""!=n&&(n+="+"),n+=a);return""!=n&&e.keyCode?n=n+"+"+e.keyCode:e.keyCode&&(n=e.keyCode.toString()),n},t.ShortcutRegistry.prototype.checkModifiers_=function(e){for(var u,n=t.utils.object.values(t.ShortcutRegistry.modifierKeys),a=0;u=e[a];a++)if(0>n.indexOf(u))throw Error(u+" is not a valid modifier key.")},t.ShortcutRegistry.prototype.createSerializedKey=function(e,n){var a="";if(n)for(var u in this.checkModifiers_(n),t.ShortcutRegistry.modifierKeys)-1<n.indexOf(t.ShortcutRegistry.modifierKeys[u])&&(""!=a&&(a+="+"),a+=u);return""!=a&&e?a=a+"+"+e:e&&(a=e.toString()),a},new t.ShortcutRegistry,t.VariableModel=function(e,n,a,u){this.workspace=e,this.name=n,this.type=a||"",this.id_=u||t.utils.genUid(),t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(this))},t.VariableModel.prototype.getId=function(){return this.id_},t.VariableModel.compareByName=function(e,n){return e.name.localeCompare(n.name,void 0,{sensitivity:"base"})},t.Variables={},t.Variables.NAME_TYPE=t.VARIABLE_CATEGORY_NAME,t.Variables.allUsedVarModels=function(e){var n=e.getAllBlocks(!1);e=Object.create(null);for(var a=0;a<n.length;a++){var u=n[a].getVarModels();if(u)for(var C=0;C<u.length;C++){var D=u[C],F=D.getId();F&&(e[F]=D)}}for(F in n=[],e)n.push(e[F]);return n},t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={},t.Variables.allDeveloperVariables=function(e){e=e.getAllBlocks(!1);for(var u,n=Object.create(null),a=0;u=e[a];a++){var C=u.getDeveloperVariables;if(!C&&u.getDeveloperVars&&(C=u.getDeveloperVars,t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[u.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+u.type+"')"),t.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[u.type]=!0)),C)for(u=C(),C=0;C<u.length;C++)n[u[C]]=!0}return Object.keys(n)},t.Variables.flyoutCategory=function(e){var n=[],a=document.createElement("button");return a.setAttribute("text","%{BKY_NEW_VARIABLE}"),a.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",function(u){t.Variables.createVariableButtonHandler(u.getTargetWorkspace())}),n.push(a),e=t.Variables.flyoutCategoryBlocks(e),n.concat(e)},t.Variables.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getVariablesOfType("")).length){var a=e[e.length-1];if(t.Blocks.variables_set){var u=t.utils.xml.createElement("block");u.setAttribute("type","variables_set"),u.setAttribute("gap",t.Blocks.math_change?8:24),u.appendChild(t.Variables.generateVariableFieldDom(a)),n.push(u)}if(t.Blocks.math_change&&((u=t.utils.xml.createElement("block")).setAttribute("type","math_change"),u.setAttribute("gap",t.Blocks.variables_get?20:8),u.appendChild(t.Variables.generateVariableFieldDom(a)),a=t.Xml.textToDom('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),u.appendChild(a),n.push(u)),t.Blocks.variables_get){e.sort(t.VariableModel.compareByName),a=0;for(var C;C=e[a];a++)(u=t.utils.xml.createElement("block")).setAttribute("type","variables_get"),u.setAttribute("gap",8),u.appendChild(t.Variables.generateVariableFieldDom(C)),n.push(u)}}return n},t.Variables.VAR_LETTER_OPTIONS="ijkmnopqrstuvwxyzabcdefgh",t.Variables.generateUniqueName=function(e){return t.Variables.generateUniqueNameFromOptions(t.Variables.VAR_LETTER_OPTIONS.charAt(0),e.getAllVariableNames())},t.Variables.generateUniqueNameFromOptions=function(e,n){if(!n.length)return e;for(var a=t.Variables.VAR_LETTER_OPTIONS,u="",C=a.indexOf(e);;){for(var D=!1,F=0;F<n.length;F++)if(n[F].toLowerCase()==e){D=!0;break}if(!D)return e;++C==a.length&&(C=0,u=Number(u)+1),e=a.charAt(C)+u}},t.Variables.createVariableButtonHandler=function(e,n,a){var u=a||"",C=function(D){t.Variables.promptName(t.Msg.NEW_VARIABLE_TITLE,D,function(F){if(F){var W=t.Variables.nameUsedWithAnyType(F,e);if(W){if(W.type==u)var te=t.Msg.VARIABLE_ALREADY_EXISTS.replace("%1",W.name);else te=(te=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",W.name).replace("%2",W.type);t.alert(te,function(){C(F)})}else e.createVariable(F,u),n&&n(F)}else n&&n(null)})};C("")},t.Variables.createVariable=t.Variables.createVariableButtonHandler,t.Variables.renameVariable=function(e,n,a){var u=function(C){var D=t.Msg.RENAME_VARIABLE_TITLE.replace("%1",n.name);t.Variables.promptName(D,C,function(F){if(F){var W=t.Variables.nameUsedWithOtherType_(F,n.type,e);W?(W=t.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",W.name).replace("%2",W.type),t.alert(W,function(){u(F)})):(e.renameVariableById(n.getId(),F),a&&a(F))}else a&&a(null)})};u("")},t.Variables.promptName=function(e,n,a){t.prompt(e,n,function(u){u&&((u=u.replace(/[\s\xa0]+/g," ").trim())==t.Msg.RENAME_VARIABLE||u==t.Msg.NEW_VARIABLE)&&(u=null),a(u)})},t.Variables.nameUsedWithOtherType_=function(e,n,a){a=a.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var C,u=0;C=a[u];u++)if(C.name.toLowerCase()==e&&C.type!=n)return C;return null},t.Variables.nameUsedWithAnyType=function(e,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var u,a=0;u=n[a];a++)if(u.name.toLowerCase()==e)return u;return null},t.Variables.generateVariableFieldDom=function(e){var n=t.utils.xml.createElement("field");return n.setAttribute("name","VAR"),n.setAttribute("id",e.getId()),n.setAttribute("variabletype",e.type),e=t.utils.xml.createTextNode(e.name),n.appendChild(e),n},t.Variables.getOrCreateVariablePackage=function(e,n,a,u){var C=t.Variables.getVariable(e,n,a,u);return C||(C=t.Variables.createVariable_(e,n,a,u)),C},t.Variables.getVariable=function(e,n,a,u){var C=e.getPotentialVariableMap(),D=null;if(n&&(!(D=e.getVariableById(n))&&C&&(D=C.getVariableById(n)),D))return D;if(a){if(null==u)throw Error("Tried to look up a variable by name without a type");!(D=e.getVariable(a,u))&&C&&(D=C.getVariable(a,u))}return D},t.Variables.createVariable_=function(e,n,a,u){var C=e.getPotentialVariableMap();return a||(a=t.Variables.generateUniqueName(e.isFlyout?e.targetWorkspace:e)),C?C.createVariable(a,u,n):e.createVariable(a,u,n)},t.Variables.getAddedVariables=function(e,n){e=e.getAllVariables();var a=[];if(n.length!=e.length)for(var u=0;u<e.length;u++){var C=e[u];-1==n.indexOf(C)&&a.push(C)}return a},t.VERSION="6.20210701.0",t.mainWorkspace=null,t.selected=null,t.draggingConnections=[],t.clipboardXml_=null,t.clipboardSource_=null,t.clipboardTypeCounts_=null,t.cache3dSupported_=null,t.parentContainer=null,t.svgSize=function(e){return t.utils.deprecation.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize"),new t.utils.Size(e.cachedWidth_,e.cachedHeight_)},t.resizeSvgContents=function(e){e.resizeContents()},t.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var n=e.getParentSvg(),a=e.getCachedParentSvgSize(),u=n.parentNode;if(u){var C=u.offsetWidth;u=u.offsetHeight,a.width!=C&&(n.setAttribute("width",C+"px"),e.setCachedParentSvgSize(C,null)),a.height!=u&&(n.setAttribute("height",u+"px"),e.setCachedParentSvgSize(null,u)),e.resize()}},t.onKeyDown=function(e){var n=t.mainWorkspace;n&&!(t.utils.isTargetInput(e)||n.rendered&&!n.isVisible())&&t.ShortcutRegistry.registry.onKeyDown(n,e)},t.deleteBlock=function(e){e.workspace.isFlyout||(t.Events.setGroup(!0),t.hideChaff(),e.dispose(!e.outputConnection,!0),t.Events.setGroup(!1))},t.copy=function(e){(e=e.toCopyData())&&(t.clipboardXml_=e.xml,t.clipboardSource_=e.source,t.clipboardTypeCounts_=e.typeCounts)},t.paste=function(){if(!t.clipboardXml_)return!1;var e=t.clipboardSource_;return e.isFlyout&&(e=e.targetWorkspace),!(!t.clipboardTypeCounts_||!e.isCapacityAvailable(t.clipboardTypeCounts_)||(t.Events.setGroup(!0),e.paste(t.clipboardXml_),t.Events.setGroup(!1),0))},t.duplicate=function(e){var n=t.clipboardXml_,a=t.clipboardSource_;t.copy(e),e.workspace.paste(t.clipboardXml_),t.clipboardXml_=n,t.clipboardSource_=a},t.onContextMenu_=function(e){t.utils.isTargetInput(e)||e.preventDefault()},t.hideChaff=function(e){t.Tooltip.hide(),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation();var n=!!e;t.getMainWorkspace().getComponentManager().getComponents(t.ComponentManager.Capability.AUTOHIDEABLE,!0).forEach(function(a){a.autoHide(n)})},t.getMainWorkspace=function(){return t.mainWorkspace},t.alert=function(e,n){alert(e),n&&n()},t.confirm=function(e,n){n(confirm(e))},t.prompt=function(e,n,a){a(prompt(e,n))},t.jsonInitFactory_=function(e){return function(){this.jsonInit(e)}},t.defineBlocksWithJsonArray=function(e){for(var n=0;n<e.length;n++){var a=e[n];if(a){var u=a.type;null==u||""===u?console.warn("Block definition #"+n+" in JSON array is missing a type attribute. Skipping."):(t.Blocks[u]&&console.warn("Block definition #"+n+' in JSON array overwrites prior definition of "'+u+'".'),t.Blocks[u]={init:t.jsonInitFactory_(a)})}else console.warn("Block definition #"+n+" in JSON array is "+a+". Skipping.")}},t.isNumber=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},t.hueToHex=function(e){return t.utils.colour.hsvToHex(e,t.HSV_SATURATION,255*t.HSV_VALUE)},t.checkBlockColourConstants=function(){t.checkBlockColourConstant_("LOGIC_HUE",["Blocks","logic","HUE"],void 0),t.checkBlockColourConstant_("LOGIC_HUE",["Constants","Logic","HUE"],210),t.checkBlockColourConstant_("LOOPS_HUE",["Blocks","loops","HUE"],void 0),t.checkBlockColourConstant_("LOOPS_HUE",["Constants","Loops","HUE"],120),t.checkBlockColourConstant_("MATH_HUE",["Blocks","math","HUE"],void 0),t.checkBlockColourConstant_("MATH_HUE",["Constants","Math","HUE"],230),t.checkBlockColourConstant_("TEXTS_HUE",["Blocks","texts","HUE"],void 0),t.checkBlockColourConstant_("TEXTS_HUE",["Constants","Text","HUE"],160),t.checkBlockColourConstant_("LISTS_HUE",["Blocks","lists","HUE"],void 0),t.checkBlockColourConstant_("LISTS_HUE",["Constants","Lists","HUE"],260),t.checkBlockColourConstant_("COLOUR_HUE",["Blocks","colour","HUE"],void 0),t.checkBlockColourConstant_("COLOUR_HUE",["Constants","Colour","HUE"],20),t.checkBlockColourConstant_("VARIABLES_HUE",["Blocks","variables","HUE"],void 0),t.checkBlockColourConstant_("VARIABLES_HUE",["Constants","Variables","HUE"],330),t.checkBlockColourConstant_("VARIABLES_DYNAMIC_HUE",["Constants","VariablesDynamic","HUE"],310),t.checkBlockColourConstant_("PROCEDURES_HUE",["Blocks","procedures","HUE"],void 0)},t.checkBlockColourConstant_=function(e,n,a){for(var u="Blockly",C=t,D=0;D<n.length;++D)u+="."+n[D],C&&(C=C[n[D]]);C&&C!==a&&(e=(void 0===a?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",u).replace("%2",e),console.warn(e))},t.setParentContainer=function(e){t.parentContainer=e},t.bindEvent_=t.browserEvents.bind,t.unbindEvent_=t.browserEvents.unbind,t.bindEventWithChecks_=t.browserEvents.conditionalBind,t.ALIGN_LEFT=t.constants.ALIGN.LEFT,t.ALIGN_CENTRE=t.constants.ALIGN.CENTRE,t.ALIGN_RIGHT=t.constants.ALIGN.RIGHT,t.INPUT_VALUE=t.connectionTypes.INPUT_VALUE,t.OUTPUT_VALUE=t.connectionTypes.OUTPUT_VALUE,t.NEXT_STATEMENT=t.connectionTypes.NEXT_STATEMENT,t.PREVIOUS_STATEMENT=t.connectionTypes.PREVIOUS_STATEMENT,t.DUMMY_INPUT=t.inputTypes.DUMMY,t.TOOLBOX_AT_TOP=t.utils.toolbox.Position.TOP,t.TOOLBOX_AT_BOTTOM=t.utils.toolbox.Position.BOTTOM,t.TOOLBOX_AT_LEFT=t.utils.toolbox.Position.LEFT,t.TOOLBOX_AT_RIGHT=t.utils.toolbox.Position.RIGHT,t.Events.BubbleOpen=function(e,n,a){t.Events.BubbleOpen.superClass_.constructor.call(this,e?e.workspace.id:void 0),this.blockId=e?e.id:null,this.isOpen=n,this.bubbleType=a},t.utils.object.inherits(t.Events.BubbleOpen,t.Events.UiBase),t.Events.BubbleOpen.prototype.type=t.Events.BUBBLE_OPEN,t.Events.BubbleOpen.prototype.toJson=function(){var e=t.Events.BubbleOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId,e},t.Events.BubbleOpen.prototype.fromJson=function(e){t.Events.BubbleOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen,this.bubbleType=e.bubbleType,this.blockId=e.blockId},t.registry.register(t.registry.Type.EVENT,t.Events.BUBBLE_OPEN,t.Events.BubbleOpen),t.Icon=function(e){this.block_=e,this.iconGroup_=null},t.Icon.prototype.collapseHidden=!0,t.Icon.prototype.SIZE=17,t.Icon.prototype.bubble_=null,t.Icon.prototype.iconXY_=null,t.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyIconGroup"},null),this.block_.isInFlyout&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly"),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),t.browserEvents.conditionalBind(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},t.Icon.prototype.dispose=function(){t.utils.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},t.Icon.prototype.updateEditable=function(){},t.Icon.prototype.isVisible=function(){return!!this.bubble_},t.Icon.prototype.iconClick_=function(e){this.block_.workspace.isDragging()||this.block_.isInFlyout||t.utils.isRightButton(e)||this.setVisible(!this.isVisible())},t.Icon.prototype.applyColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.style.colourPrimary)},t.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},t.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),n=t.utils.getRelativeXY(this.iconGroup_);e=new t.utils.Coordinate(e.x+n.x+this.SIZE/2,e.y+n.y+this.SIZE/2),t.utils.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},t.Icon.prototype.getIconLocation=function(){return this.iconXY_},t.Icon.prototype.getCorrectedSize=function(){return new t.utils.Size(t.Icon.prototype.SIZE,t.Icon.prototype.SIZE-2)},t.Warning=function(e){t.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_=Object.create(null)},t.utils.object.inherits(t.Warning,t.Icon),t.Warning.prototype.collapseHidden=!1,t.Warning.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},t.Warning.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"warning")),e?this.createBubble_():this.disposeBubble_())},t.Warning.prototype.createBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.getText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Warning.prototype.disposeBubble_=function(){this.bubble_.dispose(),this.paragraphElement_=this.bubble_=null},t.Warning.prototype.setText=function(e,n){this.text_[n]!=e&&(e?this.text_[n]=e:delete this.text_[n],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},t.Warning.prototype.getText=function(){var n,e=[];for(n in this.text_)e.push(this.text_[n]);return e.join("\n")},t.Warning.prototype.dispose=function(){this.block_.warning=null,t.Icon.prototype.dispose.call(this)},t.Comment=function(e){t.Comment.superClass_.constructor.call(this,e),this.model_=e.commentModel,this.model_.text=this.model_.text||"",this.cachedText_="",this.onInputWrapper_=this.onChangeWrapper_=this.onWheelWrapper_=this.onMouseUpWrapper_=null,this.createIcon()},t.utils.object.inherits(t.Comment,t.Icon),t.Comment.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},t.Comment.prototype.createEditor_=function(){this.foreignObject_=t.utils.dom.createSvgElement(t.utils.Svg.FOREIGNOBJECT,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(t.utils.dom.HTML_NS,"body");e.setAttribute("xmlns",t.utils.dom.HTML_NS),e.className="blocklyMinimalBody";var n=this.textarea_=document.createElementNS(t.utils.dom.HTML_NS,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),n.value=this.model_.text,this.resizeTextarea_(),e.appendChild(n),this.foreignObject_.appendChild(e),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(n,"mouseup",this,this.startEdit_,!0,!0),this.onWheelWrapper_=t.browserEvents.conditionalBind(n,"wheel",this,function(a){a.stopPropagation()}),this.onChangeWrapper_=t.browserEvents.conditionalBind(n,"change",this,function(a){this.cachedText_!=this.model_.text&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.block_,"comment",null,this.cachedText_,this.model_.text))}),this.onInputWrapper_=t.browserEvents.conditionalBind(n,"input",this,function(a){this.model_.text=n.value}),setTimeout(n.focus.bind(n),0),this.foreignObject_},t.Comment.prototype.updateEditable=function(){t.Comment.superClass_.updateEditable.call(this),this.isVisible()&&(this.disposeBubble_(),this.createBubble_())},t.Comment.prototype.onBubbleResize_=function(){this.isVisible()&&(this.model_.size=this.bubble_.getBubbleSize(),this.resizeTextarea_())},t.Comment.prototype.resizeTextarea_=function(){var e=this.model_.size,n=2*t.Bubble.BORDER_WIDTH,a=e.width-n;e=e.height-n,this.foreignObject_.setAttribute("width",a),this.foreignObject_.setAttribute("height",e),this.textarea_.style.width=a-4+"px",this.textarea_.style.height=e-4+"px"},t.Comment.prototype.setVisible=function(e){e!=this.isVisible()&&(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"comment")),(this.model_.pinned=e)?this.createBubble_():this.disposeBubble_())},t.Comment.prototype.createBubble_=function(){!this.block_.isEditable()||t.utils.userAgent.IE?this.createNonEditableBubble_():this.createEditableBubble_()},t.Comment.prototype.createEditableBubble_=function(){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,this.model_.size.width,this.model_.size.height),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerResizeEvent(this.onBubbleResize_.bind(this)),this.applyColour()},t.Comment.prototype.createNonEditableBubble_=function(){this.paragraphElement_=t.Bubble.textToDom(this.block_.getCommentText()),this.bubble_=t.Bubble.createNonEditableBubble(this.paragraphElement_,this.block_,this.iconXY_),this.applyColour()},t.Comment.prototype.disposeBubble_=function(){this.onMouseUpWrapper_&&(t.browserEvents.unbind(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onWheelWrapper_&&(t.browserEvents.unbind(this.onWheelWrapper_),this.onWheelWrapper_=null),this.onChangeWrapper_&&(t.browserEvents.unbind(this.onChangeWrapper_),this.onChangeWrapper_=null),this.onInputWrapper_&&(t.browserEvents.unbind(this.onInputWrapper_),this.onInputWrapper_=null),this.bubble_.dispose(),this.paragraphElement_=this.foreignObject_=this.textarea_=this.bubble_=null},t.Comment.prototype.startEdit_=function(e){this.bubble_.promote()&&this.textarea_.focus(),this.cachedText_=this.model_.text},t.Comment.prototype.getBubbleSize=function(){return this.model_.size},t.Comment.prototype.setBubbleSize=function(e,n){this.bubble_?this.bubble_.setBubbleSize(e,n):(this.model_.size.width=e,this.model_.size.height=n)},t.Comment.prototype.updateText=function(){this.textarea_?this.textarea_.value=this.model_.text:this.paragraphElement_&&(this.paragraphElement_.firstChild.textContent=this.model_.text)},t.Comment.prototype.dispose=function(){this.block_.comment=null,t.Icon.prototype.dispose.call(this)},t.Css.register(".blocklyCommentTextarea {,background-color: #fef49c;,border: 0;,outline: 0;,margin: 0;,padding: 3px;,resize: none;,display: block;,text-overflow: hidden;,}".split(",")),t.IComponent=function(){},t.IDragTarget=function(){},t.DragTarget=function(){},t.DragTarget.prototype.onDragEnter=function(e){},t.DragTarget.prototype.onDragOver=function(e){},t.DragTarget.prototype.onDragExit=function(e){},t.DragTarget.prototype.onDrop=function(e){},t.DragTarget.prototype.shouldPreventMove=function(e){return!1},t.IDeleteArea=function(){},t.DeleteArea=function(){t.DeleteArea.superClass_.constructor.call(this),this.wouldDelete_=!1},t.utils.object.inherits(t.DeleteArea,t.DragTarget),t.DeleteArea.prototype.wouldDelete=function(e,n){return e instanceof t.BlockSvg?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!n)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_},t.DeleteArea.prototype.updateWouldDelete_=function(e){this.wouldDelete_=e},t.IFlyout=function(){},t.Flyout=function(e){t.Flyout.superClass_.constructor.call(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new t.WorkspaceSvg(e),this.workspace_.setMetricsManager(new t.FlyoutMetricsManager(this.workspace_,this)),this.workspace_.isFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=t.utils.genUid(),this.RTL=!!e.RTL,this.horizontalLayout=!1,this.toolboxPosition_=e.toolboxPosition,this.eventWrappers_=[],this.mats_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[],this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.targetWorkspace=null},t.utils.object.inherits(t.Flyout,t.DeleteArea),t.Flyout.prototype.autoClose=!0,t.Flyout.prototype.isVisible_=!1,t.Flyout.prototype.containerVisible_=!0,t.Flyout.prototype.CORNER_RADIUS=8,t.Flyout.prototype.MARGIN=t.Flyout.prototype.CORNER_RADIUS,t.Flyout.prototype.GAP_X=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.GAP_Y=3*t.Flyout.prototype.MARGIN,t.Flyout.prototype.SCROLLBAR_MARGIN=2.5,t.Flyout.prototype.width_=0,t.Flyout.prototype.height_=0,t.Flyout.prototype.dragAngleRange_=70,t.Flyout.prototype.createDom=function(e){return this.svgGroup_=t.utils.dom.createSvgElement(e,{class:"blocklyFlyout",style:"display: none"},null),this.svgBackground_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_},t.Flyout.prototype.init=function(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new t.ScrollbarPair(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,t.browserEvents.conditionalBind(this.svgBackground_,"mousedown",this,this.onMouseDown_)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET]})},t.Flyout.prototype.dispose=function(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id),t.browserEvents.unbind(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace=this.svgBackground_=null},t.Flyout.prototype.getWidth=function(){return this.width_},t.Flyout.prototype.getHeight=function(){return this.height_},t.Flyout.prototype.getFlyoutScale=function(){return this.targetWorkspace.scale},t.Flyout.prototype.getWorkspace=function(){return this.workspace_},t.Flyout.prototype.isVisible=function(){return this.isVisible_},t.Flyout.prototype.setVisible=function(e){var n=e!=this.isVisible();this.isVisible_=e,n&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay_())},t.Flyout.prototype.setContainerVisible=function(e){var n=e!=this.containerVisible_;this.containerVisible_=e,n&&this.updateDisplay_()},t.Flyout.prototype.updateDisplay_=function(){var e=!!this.containerVisible_&&this.isVisible();this.svgGroup_.style.display=e?"block":"none",this.workspace_.scrollbar.setContainerVisible(e)},t.Flyout.prototype.positionAt_=function(e,n,a,u){this.svgGroup_.setAttribute("width",e),this.svgGroup_.setAttribute("height",n),this.workspace_.setCachedParentSvgSize(e,n),"svg"==this.svgGroup_.tagName?t.utils.dom.setCssTransform(this.svgGroup_,"translate("+a+"px,"+u+"px)"):this.svgGroup_.setAttribute("transform","translate("+a+","+u+")"),(e=this.workspace_.scrollbar)&&(e.setOrigin(a,u),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))},t.Flyout.prototype.hide=function(){if(this.isVisible()){this.setVisible(!1);for(var n,e=0;n=this.listeners_[e];e++)t.browserEvents.unbind(n);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},t.Flyout.prototype.show=function(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks_(),"string"==typeof e&&(e=this.getDynamicCategoryContents_(e)),this.setVisible(!0),e=t.utils.toolbox.convertFlyoutDefToJsonArray(e),e=this.createFlyoutInfo_(e),this.layout_(e.contents,e.gaps),this.listeners_.push(t.browserEvents.conditionalBind(this.svgBackground_,"mouseover",this,function(){for(var u,n=this.workspace_.getTopBlocks(!1),a=0;u=n[a];a++)u.removeSelect()})),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity_(),this.position(),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.createFlyoutInfo_=function(e){var n=[],a=[];this.permanentlyDisabled_.length=0;for(var D,u=this.horizontalLayout?this.GAP_X:this.GAP_Y,C=0;D=e[C];C++)switch(D.custom&&(D=this.getDynamicCategoryContents_(D.custom),D=t.utils.toolbox.convertFlyoutDefToJsonArray(D),e.splice.apply(e,[C,1].concat(D)),D=e[C]),D.kind.toUpperCase()){case"BLOCK":var F=D,W=this.getBlockXml_(F);D=this.createBlock_(W),F=parseInt(F.gap||W.getAttribute("gap"),10),a.push(isNaN(F)?u:F),n.push({type:"block",block:D});break;case"SEP":this.addSeparatorGap_(D,a,u);break;case"LABEL":D=this.createButton_(D,!0),n.push({type:"button",button:D}),a.push(u);break;case"BUTTON":D=this.createButton_(D,!1),n.push({type:"button",button:D}),a.push(u)}return{contents:n,gaps:a}},t.Flyout.prototype.getDynamicCategoryContents_=function(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");if(e=e(this.workspace_.targetWorkspace),!Array.isArray(e))throw new TypeError("Result of toolbox category callback must be an array.");return e},t.Flyout.prototype.createButton_=function(e,n){if(!t.FlyoutButton)throw Error("Missing require for Blockly.FlyoutButton");return new t.FlyoutButton(this.workspace_,this.targetWorkspace,e,n)},t.Flyout.prototype.createBlock_=function(e){return(e=t.Xml.domToBlock(e,this.workspace_)).isEnabled()||this.permanentlyDisabled_.push(e),e},t.Flyout.prototype.getBlockXml_=function(e){var n=null,a=e.blockxml;if(a&&"string"!=typeof a?n=a:a&&"string"==typeof a?(n=t.Xml.textToDom(a),e.blockxml=n):e.type&&((n=t.utils.xml.createElement("xml")).setAttribute("type",e.type),n.setAttribute("disabled",e.disabled),e.blockxml=n),!n)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");return n},t.Flyout.prototype.addSeparatorGap_=function(e,n,a){e=parseInt(e.gap,10),!isNaN(e)&&0<n.length?n[n.length-1]=e:n.push(a)},t.Flyout.prototype.clearOldBlocks_=function(){for(var a,e=this.workspace_.getTopBlocks(!1),n=0;a=e[n];n++)a.workspace==this.workspace_&&a.dispose(!1,!1);for(n=0;n<this.mats_.length;n++)(e=this.mats_[n])&&(t.Tooltip.unbindMouseEvents(e),t.utils.dom.removeNode(e));for(n=this.mats_.length=0;e=this.buttons_[n];n++)e.dispose();this.buttons_.length=0,this.workspace_.getPotentialVariableMap().clear()},t.Flyout.prototype.addBlockListeners_=function(e,n,a){this.listeners_.push(t.browserEvents.conditionalBind(e,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.browserEvents.conditionalBind(a,"mousedown",null,this.blockMouseDown_(n))),this.listeners_.push(t.browserEvents.bind(e,"mouseenter",n,n.addSelect)),this.listeners_.push(t.browserEvents.bind(e,"mouseleave",n,n.removeSelect)),this.listeners_.push(t.browserEvents.bind(a,"mouseenter",n,n.addSelect)),this.listeners_.push(t.browserEvents.bind(a,"mouseleave",n,n.removeSelect))},t.Flyout.prototype.blockMouseDown_=function(e){var n=this;return function(a){var u=n.targetWorkspace.getGesture(a);u&&(u.setStartBlock(e),u.handleFlyoutStart(a,n))}},t.Flyout.prototype.onMouseDown_=function(e){var n=this.targetWorkspace.getGesture(e);n&&n.handleFlyoutStart(e,this)},t.Flyout.prototype.isBlockCreatable_=function(e){return e.isEnabled()},t.Flyout.prototype.createBlock=function(e){var n=null;t.Events.disable();var a=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{n=this.placeNewBlock_(e)}finally{t.Events.enable()}if(t.hideChaff(),e=t.Variables.getAddedVariables(this.targetWorkspace,a),t.Events.isEnabled()){for(t.Events.setGroup(!0),a=0;a<e.length;a++){var u=e[a];t.Events.fire(new(t.Events.get(t.Events.VAR_CREATE))(u))}t.Events.fire(new(t.Events.get(t.Events.BLOCK_CREATE))(n))}return this.autoClose?this.hide():this.filterForCapacity_(),n},t.Flyout.prototype.initFlyoutButton_=function(e,n,a){var u=e.createDom();e.moveTo(n,a),e.show(),this.listeners_.push(t.browserEvents.conditionalBind(u,"mousedown",this,this.onMouseDown_)),this.buttons_.push(e)},t.Flyout.prototype.createRect_=function(e,n,a,u,C){return(n=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{"fill-opacity":0,x:n,y:a,height:u.height,width:u.width},null)).tooltip=e,t.Tooltip.bindMouseEvents(n),this.workspace_.getCanvas().insertBefore(n,e.getSvgRoot()),e.flyoutRect_=n,this.mats_[C]=n},t.Flyout.prototype.moveRectToBlock_=function(e,n){var a=n.getHeightWidth();e.setAttribute("width",a.width),e.setAttribute("height",a.height),n=n.getRelativeToSurfaceXY(),e.setAttribute("y",n.y),e.setAttribute("x",this.RTL?n.x-a.width:n.x)},t.Flyout.prototype.filterForCapacity_=function(){for(var a,e=this.workspace_.getTopBlocks(!1),n=0;a=e[n];n++)if(-1==this.permanentlyDisabled_.indexOf(a))for(var u=this.targetWorkspace.isCapacityAvailable(t.utils.getBlockTypeCounts(a));a;)a.setEnabled(u),a=a.getNextBlock()},t.Flyout.prototype.reflow=function(){this.reflowWrapper_&&this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowInternal_(),this.reflowWrapper_&&this.workspace_.addChangeListener(this.reflowWrapper_)},t.Flyout.prototype.isScrollable=function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()},t.Flyout.prototype.placeNewBlock_=function(e){var n=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered.");var a=t.Xml.blockToDom(e,!0);if(n.setResizesEnabled(!1),!(a=t.Xml.domToBlock(a,n)).getSvgRoot())throw Error("block is not rendered.");var u=n.getOriginOffsetInPixels(),C=this.workspace_.getOriginOffsetInPixels();return(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),e=t.utils.Coordinate.sum(C,e),(u=t.utils.Coordinate.difference(e,u)).scale(1/n.scale),a.moveBy(u.x,u.y),a},t.HorizontalFlyout=function(e){t.HorizontalFlyout.superClass_.constructor.call(this,e),this.horizontalLayout=!0},t.utils.object.inherits(t.HorizontalFlyout,t.Flyout),t.HorizontalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var n=this.workspace_.getMetricsManager(),a=n.getScrollMetrics(),u=n.getViewMetrics();n=n.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(a.left+(a.width-u.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+n.left,this.workspace_.scrollY+n.top)}},t.HorizontalFlyout.prototype.getX=function(){return 0},t.HorizontalFlyout.prototype.getY=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),n=e.getAbsoluteMetrics(),a=e.getViewMetrics();e=e.getToolboxMetrics();var u=this.toolboxPosition_==t.utils.toolbox.Position.TOP;return this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?u?e.height:a.height-this.height_:u?0:a.height:u?0:a.height+n.top-this.height_},t.HorizontalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath_(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var n=this.getY();this.positionAt_(this.width_,this.height_,e,n)}},t.HorizontalFlyout.prototype.setBackgroundPath_=function(e,n){var a=this.toolboxPosition_==t.utils.toolbox.Position.TOP,u=["M 0,"+(a?0:this.CORNER_RADIUS)];a?(u.push("h",e+2*this.CORNER_RADIUS),u.push("v",n),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",-e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),u.push("h",e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",n),u.push("h",-e-2*this.CORNER_RADIUS)),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))},t.HorizontalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setX(this.RTL?1/0:0)},t.HorizontalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n=n.x||n.y){var a=this.workspace_.getMetricsManager(),u=a.getScrollMetrics();n=a.getViewMetrics().left-u.left+n,this.workspace_.scrollbar.setX(n),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.HorizontalFlyout.prototype.layout_=function(e,n){this.workspace_.scale=this.targetWorkspace.scale;var a=this.MARGIN,u=a+this.tabWidth_;this.RTL&&(e=e.reverse());for(var D,C=0;D=e[C];C++)if("block"==D.type){for(var te,F=(D=D.block).getDescendants(!1),W=0;te=F[W];W++)te.isInFlyout=!0;D.render(),F=D.getSvgRoot(),W=D.getHeightWidth(),te=D.outputConnection?this.tabWidth_:0,D.moveBy(te=this.RTL?u+W.width:u-te,a),te=this.createRect_(D,te,a,W,C),u+=W.width+n[C],this.addBlockListeners_(F,D,te)}else"button"==D.type&&(this.initFlyoutButton_(D.button,u,a),u+=D.button.width+n[C])},t.HorizontalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var n=this.dragAngleRange_;return e<90+n&&e>90-n||e>-90-n&&e<-90+n},t.HorizontalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top;return this.toolboxPosition_==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e9,n+e.height,-1e9,1e9):new t.utils.Rect(n,1e9,-1e9,1e9)},t.HorizontalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var u,e=0,n=this.workspace_.getTopBlocks(!1),a=0;u=n[a];a++)e=Math.max(e,u.getHeightWidth().height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,this.height_!=(e+=t.Scrollbar.scrollbarThickness)){for(a=0;u=n[a];a++)u.flyoutRect_&&this.moveRectToBlock_(u.flyoutRect_,u);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.recordDragTargets()}},t.registry.register(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,t.registry.DEFAULT,t.HorizontalFlyout),t.VerticalFlyout=function(e){t.VerticalFlyout.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.VerticalFlyout,t.Flyout),t.VerticalFlyout.registryName="verticalFlyout",t.VerticalFlyout.prototype.setMetrics_=function(e){if(this.isVisible()){var n=this.workspace_.getMetricsManager(),a=n.getScrollMetrics(),u=n.getViewMetrics();n=n.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(a.top+(a.height-u.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+n.left,this.workspace_.scrollY+n.top)}},t.VerticalFlyout.prototype.getX=function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),n=e.getAbsoluteMetrics(),a=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition==this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_==t.utils.toolbox.Position.LEFT?e.width:a.width-this.width_:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:a.width:this.toolboxPosition_==t.utils.toolbox.Position.LEFT?0:a.width+n.left-this.width_},t.VerticalFlyout.prototype.getY=function(){return 0},t.VerticalFlyout.prototype.position=function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath_(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var n=this.getY();this.positionAt_(this.width_,this.height_,e,n)}},t.VerticalFlyout.prototype.setBackgroundPath_=function(e,n){var a=this.toolboxPosition_==t.utils.toolbox.Position.RIGHT,u=e+this.CORNER_RADIUS;(u=["M "+(a?u:0)+",0"]).push("h",a?-e:e),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,a?0:1,a?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("v",Math.max(0,n)),u.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,a?0:1,a?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),u.push("h",a?e:-e),u.push("z"),this.svgBackground_.setAttribute("d",u.join(" "))},t.VerticalFlyout.prototype.scrollToStart=function(){this.workspace_.scrollbar.setY(0)},t.VerticalFlyout.prototype.wheel_=function(e){var n=t.utils.getScrollDeltaPixels(e);if(n.y){var a=this.workspace_.getMetricsManager(),u=a.getScrollMetrics();n=a.getViewMetrics().top-u.top+n.y,this.workspace_.scrollbar.setY(n),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()}e.preventDefault(),e.stopPropagation()},t.VerticalFlyout.prototype.layout_=function(e,n){this.workspace_.scale=this.targetWorkspace.scale;for(var D,a=this.MARGIN,u=this.RTL?a:a+this.tabWidth_,C=0;D=e[C];C++)if("block"==D.type){for(var te,F=(D=D.block).getDescendants(!1),W=0;te=F[W];W++)te.isInFlyout=!0;D.render(),F=D.getSvgRoot(),W=D.getHeightWidth(),D.moveBy(te=D.outputConnection?u-this.tabWidth_:u,a),te=this.createRect_(D,this.RTL?te-W.width:te,a,W,C),this.addBlockListeners_(F,D,te),a+=W.height+n[C]}else"button"==D.type&&(this.initFlyoutButton_(D.button,u,a),a+=D.button.height+n[C])},t.VerticalFlyout.prototype.isDragTowardWorkspace=function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var n=this.dragAngleRange_;return e<n&&e>-n||e<-180+n||e>180-n},t.VerticalFlyout.prototype.getClientRect=function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.left;return this.toolboxPosition_==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e9,1e9,-1e9,n+e.width):new t.utils.Rect(-1e9,1e9,n,1e9)},t.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=this.getFlyoutScale();for(var u,e=0,n=this.workspace_.getTopBlocks(!1),a=0;u=n[a];a++){var C=u.getHeightWidth().width;u.outputConnection&&(C-=this.tabWidth_),e=Math.max(e,C)}for(a=0;u=this.buttons_[a];a++)e=Math.max(e,u.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,this.width_!=(e+=t.Scrollbar.scrollbarThickness)){for(a=0;u=n[a];a++){if(this.RTL){C=u.getRelativeToSurfaceXY().x;var D=e/this.workspace_.scale-this.MARGIN;u.outputConnection||(D-=this.tabWidth_),u.moveBy(D-C,0)}u.flyoutRect_&&this.moveRectToBlock_(u.flyoutRect_,u)}if(this.RTL)for(a=0;u=this.buttons_[a];a++)n=u.getPosition().y,u.moveTo(e/this.workspace_.scale-u.width-this.MARGIN-this.tabWidth_,n);this.targetWorkspace.toolboxPosition!=this.toolboxPosition_||this.toolboxPosition_!=t.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.recordDragTargets()}},t.registry.register(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,t.registry.DEFAULT,t.VerticalFlyout),t.FlyoutButton=function(e,n,a,u){this.workspace_=e,this.targetWorkspace_=n,this.text_=a.text,this.position_=new t.utils.Coordinate(0,0),this.isLabel_=u,this.callbackKey_=a.callbackKey||a.callbackkey,this.cssClass_=a["web-class"]||null,this.onMouseUpWrapper_=null,this.info=a},t.FlyoutButton.MARGIN_X=5,t.FlyoutButton.MARGIN_Y=2,t.FlyoutButton.prototype.width=0,t.FlyoutButton.prototype.height=0,t.FlyoutButton.prototype.createDom=function(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";if(this.cssClass_&&(e+=" "+this.cssClass_),this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},this.workspace_.getCanvas()),!this.isLabel_)var n=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyFlyoutButtonShadow",rx:4,ry:4,x:1,y:1},this.svgGroup_);e=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:4,ry:4},this.svgGroup_);var a=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup_),u=t.utils.replaceMessageReferences(this.text_);this.workspace_.RTL&&(u+="\u200f"),a.textContent=u,this.isLabel_&&(this.svgText_=a,this.workspace_.getThemeManager().subscribe(this.svgText_,"flyoutForegroundColour","fill"));var C=t.utils.style.getComputedStyle(a,"fontSize"),D=t.utils.style.getComputedStyle(a,"fontWeight"),F=t.utils.style.getComputedStyle(a,"fontFamily");return this.width=t.utils.dom.getFastTextWidthWithSizeString(a,C,D,F),u=t.utils.dom.measureFontMetrics(u,C,D,F),this.height=u.height,this.isLabel_||(this.width+=2*t.FlyoutButton.MARGIN_X,this.height+=2*t.FlyoutButton.MARGIN_Y,n.setAttribute("width",this.width),n.setAttribute("height",this.height)),e.setAttribute("width",this.width),e.setAttribute("height",this.height),a.setAttribute("x",this.width/2),a.setAttribute("y",this.height/2-u.height/2+u.baseline),this.updateTransform_(),this.onMouseUpWrapper_=t.browserEvents.conditionalBind(this.svgGroup_,"mouseup",this,this.onMouseUp_),this.svgGroup_},t.FlyoutButton.prototype.show=function(){this.updateTransform_(),this.svgGroup_.setAttribute("display","block")},t.FlyoutButton.prototype.updateTransform_=function(){this.svgGroup_.setAttribute("transform","translate("+this.position_.x+","+this.position_.y+")")},t.FlyoutButton.prototype.moveTo=function(e,n){this.position_.x=e,this.position_.y=n,this.updateTransform_()},t.FlyoutButton.prototype.isLabel=function(){return this.isLabel_},t.FlyoutButton.prototype.getPosition=function(){return this.position_},t.FlyoutButton.prototype.getButtonText=function(){return this.text_},t.FlyoutButton.prototype.getTargetWorkspace=function(){return this.targetWorkspace_},t.FlyoutButton.prototype.dispose=function(){this.onMouseUpWrapper_&&t.browserEvents.unbind(this.onMouseUpWrapper_),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.svgText_&&this.workspace_.getThemeManager().unsubscribe(this.svgText_)},t.FlyoutButton.prototype.onMouseUp_=function(e){(e=this.targetWorkspace_.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey_?console.warn("Labels should not have callbacks. Label text: "+this.text_):this.isLabel_||this.callbackKey_&&this.targetWorkspace_.getButtonCallback(this.callbackKey_)?this.isLabel_||this.targetWorkspace_.getButtonCallback(this.callbackKey_)(this):console.warn("Buttons should have callbacks. Button text: "+this.text_)},t.Css.register(".blocklyFlyoutButton {,fill: #888;,cursor: default;,},.blocklyFlyoutButtonShadow {,fill: #666;,},.blocklyFlyoutButton:hover {,fill: #aaa;,},.blocklyFlyoutLabel {,cursor: default;,},.blocklyFlyoutLabelBackground {,opacity: 0;,}".split(",")),t.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},t.Generator.prototype.INFINITE_LOOP_TRAP=null,t.Generator.prototype.STATEMENT_PREFIX=null,t.Generator.prototype.STATEMENT_SUFFIX=null,t.Generator.prototype.INDENT="  ",t.Generator.prototype.COMMENT_WRAP=60,t.Generator.prototype.ORDER_OVERRIDES=[],t.Generator.prototype.isInitialized=null,t.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=t.getMainWorkspace());var n=[];this.init(e),e=e.getTopBlocks(!0);for(var u,a=0;u=e[a];a++){var C=this.blockToCode(u);Array.isArray(C)&&(C=C[0]),C&&(u.outputConnection&&(C=this.scrubNakedValue(C),this.STATEMENT_PREFIX&&!u.suppressPrefixSuffix&&(C=this.injectId(this.STATEMENT_PREFIX,u)+C),this.STATEMENT_SUFFIX&&!u.suppressPrefixSuffix&&(C+=this.injectId(this.STATEMENT_SUFFIX,u))),n.push(C))}return n=n.join("\n"),(n=(n=(n=this.finish(n)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")},t.Generator.prototype.prefixLines=function(e,n){return n+e.replace(/(?!\n$)\n/g,"\n"+n)},t.Generator.prototype.allNestedComments=function(e){var n=[];e=e.getDescendants(!0);for(var a=0;a<e.length;a++){var u=e[a].getCommentText();u&&n.push(u)}return n.length&&n.push(""),n.join("\n")},t.Generator.prototype.blockToCode=function(e,n){if(!1===this.isInitialized&&console.warn("Generator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return n?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return n?"":this.blockToCode(e.getChildren(!1)[0]);var a=this[e.type];if("function"!=typeof a)throw Error('Language "'+this.name_+'" does not know how to generate code for block type "'+e.type+'".');if(a=a.call(e,e),Array.isArray(a)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,a[0],n),a[1]]}if("string"==typeof a)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(a=this.injectId(this.STATEMENT_PREFIX,e)+a),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(a+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,a,n);if(null===a)return"";throw SyntaxError("Invalid code generated: "+a)},t.Generator.prototype.valueToCode=function(e,n,a){if(isNaN(a))throw TypeError("Expecting valid order from block: "+e.type);var u=e.getInputTargetBlock(n);if(!u||""===(n=this.blockToCode(u)))return"";if(!Array.isArray(n))throw TypeError("Expecting tuple from value block: "+u.type);if(e=n[0],n=n[1],isNaN(n))throw TypeError("Expecting valid order from value block: "+u.type);if(!e)return"";u=!1;var C=Math.floor(a),D=Math.floor(n);if(C<=D&&(C!=D||0!=C&&99!=C))for(u=!0,C=0;C<this.ORDER_OVERRIDES.length;C++)if(this.ORDER_OVERRIDES[C][0]==a&&this.ORDER_OVERRIDES[C][1]==n){u=!1;break}return u&&(e="("+e+")"),e},t.Generator.prototype.statementToCode=function(e,n){if(e=e.getInputTargetBlock(n),"string"!=typeof(n=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return n&&(n=this.prefixLines(n,this.INDENT)),n},t.Generator.prototype.addLoopTrap=function(e,n){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,n),this.INDENT)+e),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,n),this.INDENT)+e),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,n),this.INDENT)),e},t.Generator.prototype.injectId=function(e,n){return n=n.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+n+"'")},t.Generator.prototype.RESERVED_WORDS_="",t.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},t.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Object.defineProperty(t.Generator.prototype,"variableDB_",{get:function(){return t.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_},set:function(e){t.utils.deprecation.warn("variableDB_","May 2021","May 2026","nameDB_"),this.nameDB_=e}}),t.Generator.prototype.provideFunction_=function(e,n){if(!this.definitions_[e]){var u,a=this.nameDB_.getDistinctName(e,t.PROCEDURE_CATEGORY_NAME);for(this.functionNames_[e]=a,n=n.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,a);u!=n;)u=n,n=n.replace(/^(( {2})*) {2}/gm,"$1\0");n=n.replace(/\0/g,this.INDENT),this.definitions_[e]=n}return this.functionNames_[e]},t.Generator.prototype.init=function(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)},t.Generator.prototype.scrub_=function(e,n,a){return n},t.Generator.prototype.finish=function(e){return delete this.definitions_,delete this.functionNames_,e},t.Generator.prototype.scrubNakedValue=function(e){return e},t.IToolboxItem=function(){},t.ISelectableToolboxItem=function(){},t.ICollapsibleToolboxItem=function(){},t.ToolboxItem=function(e,n,a){this.id_=e.toolboxitemid||t.utils.IdGenerator.getNextUniqueId(),this.level_=(this.parent_=a||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=n,this.workspace_=this.parentToolbox_.getWorkspace()},t.ToolboxItem.prototype.init=function(){},t.ToolboxItem.prototype.getDiv=function(){return null},t.ToolboxItem.prototype.getId=function(){return this.id_},t.ToolboxItem.prototype.getParent=function(){return null},t.ToolboxItem.prototype.getLevel=function(){return this.level_},t.ToolboxItem.prototype.isSelectable=function(){return!1},t.ToolboxItem.prototype.isCollapsible=function(){return!1},t.ToolboxItem.prototype.dispose=function(){},t.ToolboxCategory=function(e,n,a){t.ToolboxCategory.superClass_.constructor.call(this,e,n,a),this.name_=t.utils.replaceMessageReferences(e.name),this.colour_=this.getColour_(e),this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.cssConfig_=this.makeDefaultCssConfig_(),t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig),this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.parseContents_(e)},t.utils.object.inherits(t.ToolboxCategory,t.ToolboxItem),t.ToolboxCategory.registrationName="category",t.ToolboxCategory.nestedPadding=19,t.ToolboxCategory.borderWidth=8,t.ToolboxCategory.defaultBackgroundColour="#57e",t.ToolboxCategory.prototype.makeDefaultCssConfig_=function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}},t.ToolboxCategory.prototype.parseContents_=function(e){var n=e.contents;if(e.custom)this.flyoutItems_=e.custom;else if(n){e=0;for(var a;a=n[e];e++)this.flyoutItems_.push(a)}},t.ToolboxCategory.prototype.init=function(){this.createDom_(),"true"==this.toolboxItemDef_.hidden&&this.hide()},t.ToolboxCategory.prototype.createDom_=function(){return this.htmlDiv_=this.createContainer_(),t.utils.aria.setRole(this.htmlDiv_,t.utils.aria.Role.TREEITEM),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,!1),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LEVEL,this.level_),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),t.utils.aria.setRole(this.iconDom_,t.utils.aria.Role.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.LABELLEDBY,this.labelDom_.getAttribute("id")),this.addColourBorder_(this.colour_),this.htmlDiv_},t.ToolboxCategory.prototype.createContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),e},t.ToolboxCategory.prototype.createRowContainer_=function(){var e=document.createElement("div");t.utils.dom.addClass(e,this.cssConfig_.row);var n=t.ToolboxCategory.nestedPadding*this.getLevel();return n=n.toString()+"px",this.workspace_.RTL?e.style.paddingRight=n:e.style.paddingLeft=n,e},t.ToolboxCategory.prototype.createRowContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.rowcontentcontainer),e},t.ToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.display="inline-block",e},t.ToolboxCategory.prototype.createLabelDom_=function(e){var n=document.createElement("span");return n.setAttribute("id",this.getId()+".label"),n.textContent=e,t.utils.dom.addClass(n,this.cssConfig_.label),n},t.ToolboxCategory.prototype.refreshTheme=function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)},t.ToolboxCategory.prototype.addColourBorder_=function(e){e&&(e=t.ToolboxCategory.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)},t.ToolboxCategory.prototype.getColour_=function(e){var n=e.categorystyle||e.categoryStyle;return(e=e.colour)&&n?(console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour'),""):n?this.getColourfromStyle_(n):this.parseColour_(e)},t.ToolboxCategory.prototype.getColourfromStyle_=function(e){var n=this.workspace_.getTheme();if(e&&n){if((n=n.categoryStyles[e])&&n.colour)return this.parseColour_(n.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""},t.ToolboxCategory.prototype.getClickTarget=function(){return this.rowDiv_},t.ToolboxCategory.prototype.parseColour_=function(e){if(null==(e=t.utils.replaceMessageReferences(e))||""===e)return"";var n=Number(e);return isNaN(n)?(n=t.utils.colour.parse(e))?n:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):t.hueToHex(n)},t.ToolboxCategory.prototype.openIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.closedicon),t.utils.dom.addClass(e,this.cssConfig_.openicon))},t.ToolboxCategory.prototype.closeIcon_=function(e){e&&(t.utils.dom.removeClasses(e,this.cssConfig_.openicon),t.utils.dom.addClass(e,this.cssConfig_.closedicon))},t.ToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.ToolboxCategory.prototype.hide=function(){this.setVisible_(!1)},t.ToolboxCategory.prototype.show=function(){this.setVisible_(!0)},t.ToolboxCategory.prototype.isVisible=function(){return!this.isHidden_&&this.allAncestorsExpanded_()},t.ToolboxCategory.prototype.allAncestorsExpanded_=function(){for(var e=this;e.getParent();)if(!(e=e.getParent()).isExpanded())return!1;return!0},t.ToolboxCategory.prototype.isSelectable=function(){return this.isVisible()&&!this.isDisabled_},t.ToolboxCategory.prototype.onClick=function(e){},t.ToolboxCategory.prototype.setSelected=function(e){if(e){var n=this.parseColour_(t.ToolboxCategory.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||n,t.utils.dom.addClass(this.rowDiv_,this.cssConfig_.selected)}else this.rowDiv_.style.backgroundColor="",t.utils.dom.removeClass(this.rowDiv_,this.cssConfig_.selected);t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.SELECTED,e)},t.ToolboxCategory.prototype.setDisabled=function(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",e),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")},t.ToolboxCategory.prototype.getName=function(){return this.name_},t.ToolboxCategory.prototype.getParent=function(){return this.parent_},t.ToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxCategory.prototype.getContents=function(){return this.flyoutItems_},t.ToolboxCategory.prototype.updateFlyoutContents=function(e){this.flyoutItems_=[],"string"==typeof e?this.toolboxItemDef_.custom=e:(delete this.toolboxItemDef_.custom,this.toolboxItemDef_.contents=t.utils.toolbox.convertFlyoutDefToJsonArray(e)),this.parseContents_(this.toolboxItemDef_)},t.ToolboxCategory.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register([".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: rgba(255, 255, 255, 0.2);","}",'.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {',"margin: 1px 5px 1px 0;","}",'.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {',"margin: 1px 0 1px 5px;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","padding-right: 0px","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","visibility: hidden;","width: 16px;","}",".blocklyTreeIconClosed {","background-position: -32px -1px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {',"background-position: 0 -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosed {","background-position: -32px -17px;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {',"background-position: 0 -17px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeLabel {","cursor: default;","font: 16px sans-serif;","padding: 0 3px;","vertical-align: middle;","}",".blocklyToolboxDelete .blocklyTreeLabel {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}"]),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxCategory.registrationName,t.ToolboxCategory),t.ToolboxSeparator=function(e,n){t.ToolboxSeparator.superClass_.constructor.call(this,e,n),this.cssConfig_={container:"blocklyTreeSeparator"},t.utils.object.mixin(this.cssConfig_,e.cssconfig||e.cssConfig)},t.utils.object.inherits(t.ToolboxSeparator,t.ToolboxItem),t.ToolboxSeparator.registrationName="sep",t.ToolboxSeparator.prototype.init=function(){this.createDom_()},t.ToolboxSeparator.prototype.createDom_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,this.cssConfig_.container),this.htmlDiv_=e},t.ToolboxSeparator.prototype.getDiv=function(){return this.htmlDiv_},t.ToolboxSeparator.prototype.dispose=function(){t.utils.dom.removeNode(this.htmlDiv_)},t.Css.register('.blocklyTreeSeparator {,border-bottom: solid #e5e5e5 1px;,height: 0;,margin: 5px 0;,},.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {,border-right: solid #e5e5e5 1px;,border-bottom: none;,height: auto;,margin: 0 5px 0 5px;,padding: 5px 0;,width: 0;,}'.split(",")),t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.ToolboxSeparator.registrationName,t.ToolboxSeparator),t.CollapsibleToolboxCategory=function(e,n,a){this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[],t.CollapsibleToolboxCategory.superClass_.constructor.call(this,e,n,a)},t.utils.object.inherits(t.CollapsibleToolboxCategory,t.ToolboxCategory),t.CollapsibleToolboxCategory.registrationName="collapsibleCategory",t.CollapsibleToolboxCategory.prototype.makeDefaultCssConfig_=function(){var e=t.CollapsibleToolboxCategory.superClass_.makeDefaultCssConfig_.call(this);return e.contents="blocklyToolboxContents",e},t.CollapsibleToolboxCategory.prototype.parseContents_=function(e){var n=e.contents,a=!0;if(e.custom)this.flyoutItems_=e.custom;else if(n){e=0;for(var u;u=n[e];e++)!t.registry.hasItem(t.registry.Type.TOOLBOX_ITEM,u.kind)||u.kind.toLowerCase()==t.ToolboxSeparator.registrationName&&a?(this.flyoutItems_.push(u),a=!0):(this.createToolboxItem_(u),a=!1)}},t.CollapsibleToolboxCategory.prototype.createToolboxItem_=function(e){var n=e.kind;"CATEGORY"==n.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(n=t.CollapsibleToolboxCategory.registrationName),e=new(t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,n))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)},t.CollapsibleToolboxCategory.prototype.init=function(){t.CollapsibleToolboxCategory.superClass_.init.call(this),this.setExpanded("true"==this.toolboxItemDef_.expanded||this.toolboxItemDef_.expanded)},t.CollapsibleToolboxCategory.prototype.createDom_=function(){t.CollapsibleToolboxCategory.superClass_.createDom_.call(this);var e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),t.utils.aria.setRole(this.subcategoriesDiv_,t.utils.aria.Role.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.createIconDom_=function(){var e=document.createElement("span");return this.parentToolbox_.isHorizontal()||(t.utils.dom.addClass(e,this.cssConfig_.icon),e.style.visibility="visible"),e.style.display="inline-block",e},t.CollapsibleToolboxCategory.prototype.createSubCategoriesDom_=function(e){var n=document.createElement("div");t.utils.dom.addClass(n,this.cssConfig_.contents);for(var a=0;a<e.length;a++){var u=e[a];u.init();var C=u.getDiv();n.appendChild(C),u.getClickTarget&&u.getClickTarget().setAttribute("id",u.getId())}return n},t.CollapsibleToolboxCategory.prototype.setExpanded=function(e){this.expanded_!=e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),t.utils.aria.setState(this.htmlDiv_,t.utils.aria.State.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())},t.CollapsibleToolboxCategory.prototype.setVisible_=function(e){this.htmlDiv_.style.display=e?"block":"none";for(var a,n=0;a=this.getChildToolboxItems()[n];n++)a.setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()==this&&this.parentToolbox_.clearSelection()},t.CollapsibleToolboxCategory.prototype.isExpanded=function(){return this.expanded_},t.CollapsibleToolboxCategory.prototype.isCollapsible=function(){return!0},t.CollapsibleToolboxCategory.prototype.onClick=function(e){this.toggleExpanded()},t.CollapsibleToolboxCategory.prototype.toggleExpanded=function(){this.setExpanded(!this.expanded_)},t.CollapsibleToolboxCategory.prototype.getDiv=function(){return this.htmlDiv_},t.CollapsibleToolboxCategory.prototype.getChildToolboxItems=function(){return this.toolboxItems_},t.registry.register(t.registry.Type.TOOLBOX_ITEM,t.CollapsibleToolboxCategory.registrationName,t.CollapsibleToolboxCategory),t.Events.ToolboxItemSelect=function(e,n,a){t.Events.ToolboxItemSelect.superClass_.constructor.call(this,a),this.oldItem=e,this.newItem=n},t.utils.object.inherits(t.Events.ToolboxItemSelect,t.Events.UiBase),t.Events.ToolboxItemSelect.prototype.type=t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect.prototype.toJson=function(){var e=t.Events.ToolboxItemSelect.superClass_.toJson.call(this);return e.oldItem=this.oldItem,e.newItem=this.newItem,e},t.Events.ToolboxItemSelect.prototype.fromJson=function(e){t.Events.ToolboxItemSelect.superClass_.fromJson.call(this,e),this.oldItem=e.oldItem,this.newItem=e.newItem},t.registry.register(t.registry.Type.EVENT,t.Events.TOOLBOX_ITEM_SELECT,t.Events.ToolboxItemSelect),t.IAutoHideable=function(){},t.IStyleable=function(){},t.IToolbox=function(){},t.Toolbox=function(e){t.Toolbox.superClass_.constructor.call(this),this.workspace_=e,this.id="toolbox",this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.RTL=e.options.RTL,this.flyout_=null,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition,this.previouslySelectedItem_=this.selectedItem_=null,this.boundEvents_=[]},t.utils.object.inherits(t.Toolbox,t.DeleteArea),t.Toolbox.prototype.onShortcut=function(e){return!1},t.Toolbox.prototype.init=function(){var e=this.workspace_,n=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),t.utils.dom.insertAfter(this.flyout_.createDom("svg"),n),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.AUTOHIDEABLE,t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET]})},t.Toolbox.prototype.createDom_=function(e){e=e.getParentSvg();var n=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,t.utils.aria.setRole(this.contentsDiv_,t.utils.aria.Role.TREE),n.appendChild(this.contentsDiv_),e.parentNode.insertBefore(n,e),this.attachEvents_(n,this.contentsDiv_),n},t.Toolbox.prototype.createContainer_=function(){var e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),t.utils.dom.addClass(e,"blocklyToolboxDiv"),t.utils.dom.addClass(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e},t.Toolbox.prototype.createContentsContainer_=function(){var e=document.createElement("div");return t.utils.dom.addClass(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e},t.Toolbox.prototype.attachEvents_=function(e,n){e=t.browserEvents.conditionalBind(e,"click",this,this.onClick_,!1,!0),this.boundEvents_.push(e),n=t.browserEvents.conditionalBind(n,"keydown",this,this.onKeyDown_,!1,!0),this.boundEvents_.push(n)},t.Toolbox.prototype.onClick_=function(e){if(t.utils.isRightButton(e)||e.target==this.HtmlDiv)t.hideChaff(!1);else{var n=e.target.getAttribute("id");n&&(n=this.getToolboxItemById(n)).isSelectable()&&(this.setSelectedItem(n),n.onClick(e)),t.hideChaff(!0)}t.Touch.clearTouchIdentifier()},t.Toolbox.prototype.onKeyDown_=function(e){var n=!1;switch(e.keyCode){case t.utils.KeyCodes.DOWN:n=this.selectNext_();break;case t.utils.KeyCodes.UP:n=this.selectPrevious_();break;case t.utils.KeyCodes.LEFT:n=this.selectParent_();break;case t.utils.KeyCodes.RIGHT:n=this.selectChild_();break;case t.utils.KeyCodes.ENTER:case t.utils.KeyCodes.SPACE:this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),n=!0);break;default:n=!1}!n&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(n=this.selectedItem_.onKeyDown(e)),n&&e.preventDefault()},t.Toolbox.prototype.createFlyout_=function(){var e=this.workspace_,n=new t.Options({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return n.toolboxPosition=e.options.toolboxPosition,new(t.registry.getClassFromOptions(e.horizontalLayout?t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX:t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(n)},t.Toolbox.prototype.render=function(e){this.toolboxDef_=e;for(var n=0;n<this.contents_.length;n++){var a=this.contents_[n];a&&a.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()},t.Toolbox.prototype.renderContents_=function(e){for(var u,n=document.createDocumentFragment(),a=0;u=e[a];a++)this.createToolboxItem_(u,n);this.contentsDiv_.appendChild(n)},t.Toolbox.prototype.createToolboxItem_=function(e,n){var a=e.kind;"CATEGORY"==a.toUpperCase()&&t.utils.toolbox.isCategoryCollapsible(e)&&(a=t.CollapsibleToolboxCategory.registrationName),(a=t.registry.getClass(t.registry.Type.TOOLBOX_ITEM,a.toLowerCase()))&&(e=new a(e,this),this.addToolboxItem_(e),e.init(),(a=e.getDiv())&&n.appendChild(a),e.getClickTarget&&e.getClickTarget().setAttribute("id",e.getId()))},t.Toolbox.prototype.addToolboxItem_=function(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible())for(var a,n=0;a=e.getChildToolboxItems()[n];n++)this.addToolboxItem_(a)},t.Toolbox.prototype.getToolboxItems=function(){return this.contents_},t.Toolbox.prototype.addStyle=function(e){t.utils.dom.addClass(this.HtmlDiv,e)},t.Toolbox.prototype.removeStyle=function(e){t.utils.dom.removeClass(this.HtmlDiv,e)},t.Toolbox.prototype.getClientRect=function(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect(),n=e.top,a=n+e.height,u=e.left;return e=u+e.width,this.toolboxPosition==t.utils.toolbox.Position.TOP?new t.utils.Rect(-1e7,a,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.BOTTOM?new t.utils.Rect(n,1e7,-1e7,1e7):this.toolboxPosition==t.utils.toolbox.Position.LEFT?new t.utils.Rect(-1e7,1e7,-1e7,e):new t.utils.Rect(-1e7,1e7,u,1e7)},t.Toolbox.prototype.wouldDelete=function(e,n){return this.updateWouldDelete_(e instanceof t.BlockSvg?!e.getParent()&&e.isDeletable():e.isDeletable()),this.wouldDelete_},t.Toolbox.prototype.onDragEnter=function(e){this.updateCursorDeleteStyle_(!0)},t.Toolbox.prototype.onDragExit=function(e){this.updateCursorDeleteStyle_(!1)},t.Toolbox.prototype.onDrop=function(e){this.updateCursorDeleteStyle_(!1)},t.Toolbox.prototype.updateWouldDelete_=function(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))},t.Toolbox.prototype.updateCursorDeleteStyle_=function(e){var n=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(n):this.removeStyle(n)},t.Toolbox.prototype.getToolboxItemById=function(e){return this.contentMap_[e]||null},t.Toolbox.prototype.getWidth=function(){return this.width_},t.Toolbox.prototype.getHeight=function(){return this.height_},t.Toolbox.prototype.getFlyout=function(){return this.flyout_},t.Toolbox.prototype.getWorkspace=function(){return this.workspace_},t.Toolbox.prototype.getSelectedItem=function(){return this.selectedItem_},t.Toolbox.prototype.getPreviouslySelectedItem=function(){return this.previouslySelectedItem_},t.Toolbox.prototype.isHorizontal=function(){return this.horizontalLayout_},t.Toolbox.prototype.position=function(){var e=this.workspace_.getMetrics(),n=this.HtmlDiv;n&&(this.horizontalLayout_?(n.style.left="0",n.style.height="auto",n.style.width="100%",this.height_=n.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition==t.utils.toolbox.Position.TOP?n.style.top="0":n.style.bottom="0"):(this.toolboxPosition==t.utils.toolbox.Position.RIGHT?n.style.right="0":n.style.left="0",n.style.height="100%",this.width_=n.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())},t.Toolbox.prototype.handleToolboxItemResize=function(){var e=this.workspace_,n=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition==t.utils.toolbox.Position.LEFT?e.scrollX+n.width:e.scrollX,this.toolboxPosition==t.utils.toolbox.Position.TOP?e.scrollY+n.height:e.scrollY),t.svgResize(e)},t.Toolbox.prototype.clearSelection=function(){this.setSelectedItem(null)},t.Toolbox.prototype.refreshTheme=function(){for(var e=0;e<this.contents_.length;e++){var n=this.contents_[e];n.refreshTheme&&n.refreshTheme()}},t.Toolbox.prototype.refreshSelection=function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())},t.Toolbox.prototype.setVisible=function(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())},t.Toolbox.prototype.autoHide=function(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()},t.Toolbox.prototype.setSelectedItem=function(e){var n=this.selectedItem_;!e&&!n||e&&!e.isSelectable()||(this.shouldDeselectItem_(n,e)&&null!=n&&this.deselectItem_(n),this.shouldSelectItem_(n,e)&&null!=e&&this.selectItem_(n,e),this.updateFlyout_(n,e),this.fireSelectEvent_(n,e))},t.Toolbox.prototype.shouldDeselectItem_=function(e,n){return null!=e&&(!e.isCollapsible()||e!=n)},t.Toolbox.prototype.shouldSelectItem_=function(e,n){return null!=n&&n!=e},t.Toolbox.prototype.deselectItem_=function(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,"")},t.Toolbox.prototype.selectItem_=function(e,n){this.selectedItem_=n,this.previouslySelectedItem_=e,n.setSelected(!0),t.utils.aria.setState(this.contentsDiv_,t.utils.aria.State.ACTIVEDESCENDANT,n.getId())},t.Toolbox.prototype.selectItemByPosition=function(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)},t.Toolbox.prototype.updateFlyout_=function(e,n){(e!=n||n.isCollapsible())&&n&&n.getContents().length?(this.flyout_.show(n.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()},t.Toolbox.prototype.fireSelectEvent_=function(e,n){var a=e&&e.getName(),u=n&&n.getName();e==n&&(u=null),e=new(t.Events.get(t.Events.TOOLBOX_ITEM_SELECT))(a,u,this.workspace_.id),t.Events.fire(e)},t.Toolbox.prototype.selectParent_=function(){return!(!this.selectedItem_||(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.setExpanded(!1),0):!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable()||(this.setSelectedItem(this.selectedItem_.getParent()),0)))},t.Toolbox.prototype.selectChild_=function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.setExpanded(!0),!0},t.Toolbox.prototype.selectNext_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){for(var n=this.contents_[e];n&&!n.isSelectable();)n=this.contents_[++e];if(n&&n.isSelectable())return this.setSelectedItem(n),!0}return!1},t.Toolbox.prototype.selectPrevious_=function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){for(var n=this.contents_[e];n&&!n.isSelectable();)n=this.contents_[--e];if(n&&n.isSelectable())return this.setSelectedItem(n),!0}return!1},t.Toolbox.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)t.browserEvents.unbind(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),t.utils.dom.removeNode(this.HtmlDiv)},t.Css.register([".blocklyToolboxDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyToolboxGrab {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","padding: 4px 0 4px 0;","position: absolute;","z-index: 70;","-webkit-tap-highlight-color: transparent;","}",".blocklyToolboxContents {","display: flex;","flex-wrap: wrap;","flex-direction: column;","}",".blocklyToolboxContents:focus {","outline: none;","}"]),t.registry.register(t.registry.Type.TOOLBOX,t.registry.DEFAULT,t.Toolbox),t.Events.TrashcanOpen=function(e,n){t.Events.TrashcanOpen.superClass_.constructor.call(this,n),this.isOpen=e},t.utils.object.inherits(t.Events.TrashcanOpen,t.Events.UiBase),t.Events.TrashcanOpen.prototype.type=t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen.prototype.toJson=function(){var e=t.Events.TrashcanOpen.superClass_.toJson.call(this);return e.isOpen=this.isOpen,e},t.Events.TrashcanOpen.prototype.fromJson=function(e){t.Events.TrashcanOpen.superClass_.fromJson.call(this,e),this.isOpen=e.isOpen},t.registry.register(t.registry.Type.EVENT,t.Events.TRASHCAN_OPEN,t.Events.TrashcanOpen),t.IPositionable=function(){},t.uiPosition={},t.uiPosition.verticalPosition={TOP:0,BOTTOM:1},t.uiPosition.horizontalPosition={LEFT:0,RIGHT:1},t.uiPosition.bumpDirection={UP:0,DOWN:1},t.uiPosition.getStartPositionRect=function(e,n,a,u,C,D){var F=D.scrollbar&&D.scrollbar.canScrollVertically();return e.horizontal===t.uiPosition.horizontalPosition.LEFT?(a=C.absoluteMetrics.left+a,F&&D.RTL&&(a+=t.Scrollbar.scrollbarThickness)):(a=C.absoluteMetrics.left+C.viewMetrics.width-n.width-a,F&&!D.RTL&&(a-=t.Scrollbar.scrollbarThickness)),e.vertical===t.uiPosition.verticalPosition.TOP?e=C.absoluteMetrics.top+u:(e=C.absoluteMetrics.top+C.viewMetrics.height-n.height-u,D.scrollbar&&D.scrollbar.canScrollHorizontally()&&(e-=t.Scrollbar.scrollbarThickness)),new t.utils.Rect(e,e+n.height,a,a+n.width)},t.uiPosition.getCornerOppositeToolbox=function(e,n){return{horizontal:n.toolboxMetrics.position===t.utils.toolbox.Position.LEFT||e.horizontalLayout&&!e.RTL?t.uiPosition.horizontalPosition.RIGHT:t.uiPosition.horizontalPosition.LEFT,vertical:n.toolboxMetrics.position===t.utils.toolbox.Position.BOTTOM?t.uiPosition.verticalPosition.TOP:t.uiPosition.verticalPosition.BOTTOM}},t.uiPosition.bumpPositionRect=function(e,n,a,u){for(var te,C=e.left,D=e.right-e.left,F=e.bottom-e.top,W=0;te=u[W];W++)e.intersects(te)&&(e=new t.utils.Rect(e=a===t.uiPosition.bumpDirection.UP?te.top-F-n:te.bottom+n,e+F,C,C+D),W=-1);return e},t.Trashcan=function(e){t.Trashcan.superClass_.constructor.call(this),this.workspace_=e,this.id="trashcan",this.contents_=[],this.flyout=null,0>=this.workspace_.options.maxTrashcanContents||(e=new t.Options({scrollbars:!0,parentWorkspace:this.workspace_,rtl:this.workspace_.RTL,oneBasedIndex:this.workspace_.options.oneBasedIndex,renderer:this.workspace_.options.renderer,rendererOverrides:this.workspace_.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace_.horizontalLayout?(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.TOP?t.utils.toolbox.Position.BOTTOM:t.utils.toolbox.Position.TOP,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace_.options,!0))(e)):(e.toolboxPosition=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT?t.utils.toolbox.Position.LEFT:t.utils.toolbox.Position.RIGHT,this.flyout=new(t.registry.getClassFromOptions(t.registry.Type.FLYOUTS_VERTICAL_TOOLBOX,this.workspace_.options,!0))(e)),this.workspace_.addChangeListener(this.onDelete_.bind(this)))},t.utils.object.inherits(t.Trashcan,t.DeleteArea),t.Trashcan.prototype.WIDTH_=47,t.Trashcan.prototype.BODY_HEIGHT_=44,t.Trashcan.prototype.LID_HEIGHT_=16,t.Trashcan.prototype.MARGIN_VERTICAL_=20,t.Trashcan.prototype.MARGIN_HORIZONTAL_=20,t.Trashcan.prototype.MARGIN_HOTSPOT_=10,t.Trashcan.prototype.SPRITE_LEFT_=0,t.Trashcan.prototype.SPRITE_TOP_=32,t.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE_=.1,t.Trashcan.ANIMATION_LENGTH_=80,t.Trashcan.ANIMATION_FRAMES_=4,t.Trashcan.OPACITY_MIN_=.4,t.Trashcan.OPACITY_MAX_=.8,t.Trashcan.MAX_LID_ANGLE_=45,t.Trashcan.prototype.isLidOpen=!1,t.Trashcan.prototype.minOpenness_=0,t.Trashcan.prototype.svgGroup_=null,t.Trashcan.prototype.svgLid_=null,t.Trashcan.prototype.lidTask_=0,t.Trashcan.prototype.lidOpen_=0,t.Trashcan.prototype.left_=0,t.Trashcan.prototype.top_=0,t.Trashcan.prototype.initialized_=!1,t.Trashcan.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyTrash"},null);var e=String(Math.random()).substring(2),n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},n);var a=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_);return a.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.WIDTH_,height:this.LID_HEIGHT_},n),this.svgLid_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,x:-this.SPRITE_LEFT_,height:t.SPRITE.height,y:-this.SPRITE_TOP_,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),t.browserEvents.bind(this.svgGroup_,"mousedown",this,this.blockMouseDownWhenOpenable_),t.browserEvents.bind(this.svgGroup_,"mouseup",this,this.click),t.browserEvents.bind(a,"mouseover",this,this.mouseOver_),t.browserEvents.bind(a,"mouseout",this,this.mouseOut_),this.animateLid_(),this.svgGroup_},t.Trashcan.prototype.init=function(){0<this.workspace_.options.maxTrashcanContents&&(t.utils.dom.insertAfter(this.flyout.createDom(t.utils.Svg.SVG),this.workspace_.getParentSvg()),this.flyout.init(this.workspace_)),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[t.ComponentManager.Capability.AUTOHIDEABLE,t.ComponentManager.Capability.DELETE_AREA,t.ComponentManager.Capability.DRAG_TARGET,t.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0,this.setLidOpen(!1)},t.Trashcan.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("trashcan"),this.svgGroup_&&(t.utils.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,clearTimeout(this.lidTask_)},t.Trashcan.prototype.hasContents_=function(){return!!this.contents_.length},t.Trashcan.prototype.contentsIsOpen=function(){return this.flyout.isVisible()},t.Trashcan.prototype.openFlyout=function(){if(!this.contentsIsOpen()){var e=this.contents_.map(t.Xml.textToDom);this.flyout.show(e),this.fireUiEvent_(!0)}},t.Trashcan.prototype.closeFlyout=function(){this.contentsIsOpen()&&(this.flyout.hide(),this.fireUiEvent_(!1))},t.Trashcan.prototype.autoHide=function(e){!e&&this.flyout&&this.closeFlyout()},t.Trashcan.prototype.emptyContents=function(){this.hasContents_()&&(this.contents_.length=0,this.setMinOpenness_(0),this.closeFlyout())},t.Trashcan.prototype.position=function(e,n){if(this.initialized_){var a=t.uiPosition.getCornerOppositeToolbox(this.workspace_,e);e=t.uiPosition.getStartPositionRect(a,new t.utils.Size(this.WIDTH_,this.BODY_HEIGHT_+this.LID_HEIGHT_),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,e,this.workspace_),n=t.uiPosition.bumpPositionRect(e,this.MARGIN_VERTICAL_,a.vertical===t.uiPosition.verticalPosition.TOP?t.uiPosition.bumpDirection.DOWN:t.uiPosition.bumpDirection.UP,n),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.Trashcan.prototype.getBoundingRectangle=function(){return new t.utils.Rect(this.top_,this.top_+this.BODY_HEIGHT_+this.LID_HEIGHT_,this.left_,this.left_+this.WIDTH_)},t.Trashcan.prototype.getClientRect=function(){if(!this.svgGroup_)return null;var e=this.svgGroup_.getBoundingClientRect(),n=e.top+this.SPRITE_TOP_-this.MARGIN_HOTSPOT_;return new t.utils.Rect(n,n+this.LID_HEIGHT_+this.BODY_HEIGHT_+2*this.MARGIN_HOTSPOT_,e=e.left+this.SPRITE_LEFT_-this.MARGIN_HOTSPOT_,e+this.WIDTH_+2*this.MARGIN_HOTSPOT_)},t.Trashcan.prototype.onDragOver=function(e){this.setLidOpen(this.wouldDelete_)},t.Trashcan.prototype.onDragExit=function(e){this.setLidOpen(!1)},t.Trashcan.prototype.onDrop=function(e){setTimeout(this.setLidOpen.bind(this,!1),100)},t.Trashcan.prototype.setLidOpen=function(e){this.isLidOpen!=e&&(clearTimeout(this.lidTask_),this.isLidOpen=e,this.animateLid_())},t.Trashcan.prototype.animateLid_=function(){var e=t.Trashcan.ANIMATION_FRAMES_,n=1/(e+1);this.lidOpen_+=this.isLidOpen?n:-n,this.lidOpen_=Math.min(Math.max(this.lidOpen_,this.minOpenness_),1),this.setLidAngle_(this.lidOpen_*t.Trashcan.MAX_LID_ANGLE_),this.svgGroup_.style.opacity=(n=t.Trashcan.OPACITY_MIN_)+this.lidOpen_*(t.Trashcan.OPACITY_MAX_-n),this.lidOpen_>this.minOpenness_&&1>this.lidOpen_&&(this.lidTask_=setTimeout(this.animateLid_.bind(this),t.Trashcan.ANIMATION_LENGTH_/e))},t.Trashcan.prototype.setLidAngle_=function(e){var n=this.workspace_.toolboxPosition==t.utils.toolbox.Position.RIGHT||this.workspace_.horizontalLayout&&this.workspace_.RTL;this.svgLid_.setAttribute("transform","rotate("+(n?-e:e)+","+(n?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")")},t.Trashcan.prototype.setMinOpenness_=function(e){this.minOpenness_=e,this.isLidOpen||this.setLidAngle_(e*t.Trashcan.MAX_LID_ANGLE_)},t.Trashcan.prototype.closeLid=function(){this.setLidOpen(!1)},t.Trashcan.prototype.click=function(){this.hasContents_()&&this.openFlyout()},t.Trashcan.prototype.fireUiEvent_=function(e){e=new(t.Events.get(t.Events.TRASHCAN_OPEN))(e,this.workspace_.id),t.Events.fire(e)},t.Trashcan.prototype.blockMouseDownWhenOpenable_=function(e){!this.contentsIsOpen()&&this.hasContents_()&&e.stopPropagation()},t.Trashcan.prototype.mouseOver_=function(){this.hasContents_()&&this.setLidOpen(!0)},t.Trashcan.prototype.mouseOut_=function(){this.setLidOpen(!1)},t.Trashcan.prototype.onDelete_=function(e){if(!(0>=this.workspace_.options.maxTrashcanContents)&&e.type==t.Events.BLOCK_DELETE&&e.oldXml.tagName&&"shadow"!=e.oldXml.tagName.toLowerCase()&&(e=this.cleanBlockXML_(e.oldXml),-1==this.contents_.indexOf(e))){for(this.contents_.unshift(e);this.contents_.length>this.workspace_.options.maxTrashcanContents;)this.contents_.pop();this.setMinOpenness_(this.HAS_BLOCKS_LID_ANGLE_)}},t.Trashcan.prototype.cleanBlockXML_=function(e){for(var n=e=e.cloneNode(!0);n;){n.removeAttribute&&(n.removeAttribute("x"),n.removeAttribute("y"),n.removeAttribute("id"),n.removeAttribute("disabled"),"comment"==n.nodeName&&(n.removeAttribute("h"),n.removeAttribute("w"),n.removeAttribute("pinned")));var a=n.firstChild||n.nextSibling;if(!a)for(a=n.parentNode;a;){if(a.nextSibling){a=a.nextSibling;break}a=a.parentNode}n=a}return t.Xml.domToText(e)},t.VariablesDynamic={},t.VariablesDynamic.onCreateVariableButtonClick_String=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"String")},t.VariablesDynamic.onCreateVariableButtonClick_Number=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Number")},t.VariablesDynamic.onCreateVariableButtonClick_Colour=function(e){t.Variables.createVariableButtonHandler(e.getTargetWorkspace(),void 0,"Colour")},t.VariablesDynamic.flyoutCategory=function(e){var n=[],a=document.createElement("button");return a.setAttribute("text",t.Msg.NEW_STRING_VARIABLE),a.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),n.push(a),(a=document.createElement("button")).setAttribute("text",t.Msg.NEW_NUMBER_VARIABLE),a.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),n.push(a),(a=document.createElement("button")).setAttribute("text",t.Msg.NEW_COLOUR_VARIABLE),a.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),n.push(a),e.registerButtonCallback("CREATE_VARIABLE_STRING",t.VariablesDynamic.onCreateVariableButtonClick_String),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",t.VariablesDynamic.onCreateVariableButtonClick_Number),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",t.VariablesDynamic.onCreateVariableButtonClick_Colour),e=t.VariablesDynamic.flyoutCategoryBlocks(e),n.concat(e)},t.VariablesDynamic.flyoutCategoryBlocks=function(e){var n=[];if(0<(e=e.getAllVariables()).length){if(t.Blocks.variables_set_dynamic){var a=e[e.length-1],u=t.utils.xml.createElement("block");u.setAttribute("type","variables_set_dynamic"),u.setAttribute("gap",24),u.appendChild(t.Variables.generateVariableFieldDom(a)),n.push(u)}if(t.Blocks.variables_get_dynamic){e.sort(t.VariableModel.compareByName),a=0;for(var C;C=e[a];a++)(u=t.utils.xml.createElement("block")).setAttribute("type","variables_get_dynamic"),u.setAttribute("gap",8),u.appendChild(t.Variables.generateVariableFieldDom(C)),n.push(u)}}return n},t.ZoomControls=function(e){this.workspace_=e,this.id="zoomControls",this.zoomResetGroup_=this.zoomOutGroup_=this.zoomInGroup_=this.onZoomOutWrapper_=this.onZoomInWrapper_=this.onZoomResetWrapper_=null},t.ZoomControls.prototype.WIDTH_=32,t.ZoomControls.prototype.HEIGHT_=32,t.ZoomControls.prototype.SMALL_SPACING_=2,t.ZoomControls.prototype.LARGE_SPACING_=11,t.ZoomControls.prototype.MARGIN_VERTICAL_=20,t.ZoomControls.prototype.MARGIN_HORIZONTAL_=20,t.ZoomControls.prototype.svgGroup_=null,t.ZoomControls.prototype.left_=0,t.ZoomControls.prototype.top_=0,t.ZoomControls.prototype.initialized_=!1,t.ZoomControls.prototype.createDom=function(){this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{},null);var e=String(Math.random()).substring(2);return this.createZoomOutSvg_(e),this.createZoomInSvg_(e),this.workspace_.isMovable()&&this.createZoomResetSvg_(e),this.svgGroup_},t.ZoomControls.prototype.init=function(){this.workspace_.getComponentManager().addComponent({component:this,weight:2,capabilities:[t.ComponentManager.Capability.POSITIONABLE]}),this.initialized_=!0},t.ZoomControls.prototype.dispose=function(){this.workspace_.getComponentManager().removeComponent("zoomControls"),this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_),this.onZoomResetWrapper_&&t.browserEvents.unbind(this.onZoomResetWrapper_),this.onZoomInWrapper_&&t.browserEvents.unbind(this.onZoomInWrapper_),this.onZoomOutWrapper_&&t.browserEvents.unbind(this.onZoomOutWrapper_)},t.ZoomControls.prototype.getBoundingRectangle=function(){var e=this.SMALL_SPACING_+2*this.HEIGHT_;return this.zoomResetGroup_&&(e+=this.LARGE_SPACING_+this.HEIGHT_),new t.utils.Rect(this.top_,this.top_+e,this.left_,this.left_+this.WIDTH_)},t.ZoomControls.prototype.position=function(e,n){if(this.initialized_){var a=t.uiPosition.getCornerOppositeToolbox(this.workspace_,e),u=this.SMALL_SPACING_+2*this.HEIGHT_;this.zoomResetGroup_&&(u+=this.LARGE_SPACING_+this.HEIGHT_),e=t.uiPosition.getStartPositionRect(a,new t.utils.Size(this.WIDTH_,u),this.MARGIN_HORIZONTAL_,this.MARGIN_VERTICAL_,e,this.workspace_),n=t.uiPosition.bumpPositionRect(e,this.MARGIN_VERTICAL_,(a=a.vertical)===t.uiPosition.verticalPosition.TOP?t.uiPosition.bumpDirection.DOWN:t.uiPosition.bumpDirection.UP,n),a===t.uiPosition.verticalPosition.TOP?(this.zoomInGroup_.setAttribute("transform","translate(0, "+(a=this.SMALL_SPACING_+this.HEIGHT_)+")"),this.zoomResetGroup_&&this.zoomResetGroup_.setAttribute("transform","translate(0, "+(a+this.LARGE_SPACING_+this.HEIGHT_)+")")):(this.zoomInGroup_.setAttribute("transform","translate(0, "+(a=this.zoomResetGroup_?this.LARGE_SPACING_+this.HEIGHT_:0)+")"),this.zoomOutGroup_.setAttribute("transform","translate(0, "+(a+this.SMALL_SPACING_+this.HEIGHT_)+")")),this.top_=n.top,this.left_=n.left,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")")}},t.ZoomControls.prototype.createZoomOutSvg_=function(e){this.zoomOutGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomOutWrapper_=t.browserEvents.conditionalBind(this.zoomOutGroup_,"mousedown",null,this.zoom_.bind(this,-1))},t.ZoomControls.prototype.createZoomInSvg_=function(e){this.zoomInGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomInWrapper_=t.browserEvents.conditionalBind(this.zoomInGroup_,"mousedown",null,this.zoom_.bind(this,1))},t.ZoomControls.prototype.zoom_=function(e,n){this.workspace_.markFocused(),this.workspace_.zoomCenter(e),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),n.stopPropagation(),n.preventDefault()},t.ZoomControls.prototype.createZoomResetSvg_=function(e){this.zoomResetGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyZoom"},this.svgGroup_);var n=t.utils.dom.createSvgElement(t.utils.Svg.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup_);t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:32,height:32},n),t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{width:t.SPRITE.width,height:t.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup_).setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.workspace_.options.pathToMedia+t.SPRITE.url),this.onZoomResetWrapper_=t.browserEvents.conditionalBind(this.zoomResetGroup_,"mousedown",null,this.resetZoom_.bind(this))},t.ZoomControls.prototype.resetZoom_=function(e){this.workspace_.markFocused();var n=Math.log(this.workspace_.options.zoomOptions.startScale/this.workspace_.scale)/Math.log(this.workspace_.options.zoomOptions.scaleSpeed);this.workspace_.beginCanvasTransition(),this.workspace_.zoomCenter(n),this.workspace_.scrollCenter(),setTimeout(this.workspace_.endCanvasTransition.bind(this.workspace_),500),this.fireZoomEvent_(),t.Touch.clearTouchIdentifier(),e.stopPropagation(),e.preventDefault()},t.ZoomControls.prototype.fireZoomEvent_=function(){var e=new(t.Events.get(t.Events.CLICK))(null,this.workspace_.id,"zoom_controls");t.Events.fire(e)},t.Css.register([".blocklyZoom>image, .blocklyZoom>svg>image {","opacity: .4;","}",".blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {","opacity: .6;","}",".blocklyZoom>image:active, .blocklyZoom>svg>image:active {","opacity: .8;","}"]),t.ShortcutItems={},t.ShortcutItems.names={ESCAPE:"escape",DELETE:"delete",COPY:"copy",CUT:"cut",PASTE:"paste",UNDO:"undo",REDO:"redo"},t.ShortcutItems.registerEscape=function(){var e={name:t.ShortcutItems.names.ESCAPE,preconditionFn:function(n){return!n.options.readOnly},callback:function(){return t.hideChaff(),!0}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.ESC,e.name)},t.ShortcutItems.registerDelete=function(){var e={name:t.ShortcutItems.names.DELETE,preconditionFn:function(n){return!n.options.readOnly&&t.selected&&t.selected.isDeletable()},callback:function(n,a){return a.preventDefault(),!t.Gesture.inProgress()&&(t.deleteBlock(t.selected),!0)}};t.ShortcutRegistry.registry.register(e),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.DELETE,e.name),t.ShortcutRegistry.registry.addKeyMapping(t.utils.KeyCodes.BACKSPACE,e.name)},t.ShortcutItems.registerCopy=function(){var e={name:t.ShortcutItems.names.COPY,preconditionFn:function(a){return!a.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()},callback:function(a,u){return u.preventDefault(),t.hideChaff(),t.copy(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.C,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerCut=function(){var e={name:t.ShortcutItems.names.CUT,preconditionFn:function(a){return!a.options.readOnly&&!t.Gesture.inProgress()&&t.selected&&t.selected.isDeletable()&&t.selected.isMovable()&&!t.selected.workspace.isFlyout},callback:function(){return t.copy(t.selected),t.deleteBlock(t.selected),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.X,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerPaste=function(){var e={name:t.ShortcutItems.names.PASTE,preconditionFn:function(a){return!a.options.readOnly&&!t.Gesture.inProgress()},callback:function(){return t.paste()}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.V,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerUndo=function(){var e={name:t.ShortcutItems.names.UNDO,preconditionFn:function(a){return!a.options.readOnly&&!t.Gesture.inProgress()},callback:function(a){return t.hideChaff(),a.undo(!1),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerRedo=function(){var e={name:t.ShortcutItems.names.REDO,preconditionFn:function(a){return!t.Gesture.inProgress()&&!a.options.readOnly},callback:function(a){return t.hideChaff(),a.undo(!0),!0}};t.ShortcutRegistry.registry.register(e);var n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.CTRL]);t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.ALT]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Z,[t.utils.KeyCodes.SHIFT,t.utils.KeyCodes.META]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name),n=t.ShortcutRegistry.registry.createSerializedKey(t.utils.KeyCodes.Y,[t.utils.KeyCodes.CTRL]),t.ShortcutRegistry.registry.addKeyMapping(n,e.name)},t.ShortcutItems.registerDefaultShortcuts=function(){t.ShortcutItems.registerEscape(),t.ShortcutItems.registerDelete(),t.ShortcutItems.registerCopy(),t.ShortcutItems.registerCut(),t.ShortcutItems.registerPaste(),t.ShortcutItems.registerUndo(),t.ShortcutItems.registerRedo()},t.ShortcutItems.registerDefaultShortcuts(),t.ContextMenuItems={},t.ContextMenuItems.registerUndo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.UNDO},preconditionFn:function(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!1)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},t.ContextMenuItems.registerRedo=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.REDO},preconditionFn:function(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!0)},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},t.ContextMenuItems.registerCleanup=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.CLEAN_UP},preconditionFn:function(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(e){e.workspace.cleanUp()},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},t.ContextMenuItems.toggleOption_=function(e,n){for(var a=0,u=0;u<n.length;u++)for(var C=n[u];C;)setTimeout(C.setCollapsed.bind(C,e),a),C=C.getNextBlock(),a+=10},t.ContextMenuItems.registerCollapse=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.COLLAPSE_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var n=0;n<e.length;n++)for(var a=e[n];a;){if(!a.isCollapsed())return"enabled";a=a.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!0,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},t.ContextMenuItems.registerExpand=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.EXPAND_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var n=0;n<e.length;n++)for(var a=e[n];a;){if(a.isCollapsed())return"enabled";a=a.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){t.ContextMenuItems.toggleOption_(!1,e.workspace.getTopBlocks(!0))},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},t.ContextMenuItems.addDeletableBlocks_=function(e,n){if(e.isDeletable())Array.prototype.push.apply(n,e.getDescendants(!1));else{e=e.getChildren(!1);for(var a=0;a<e.length;a++)t.ContextMenuItems.addDeletableBlocks_(e[a],n)}},t.ContextMenuItems.getDeletableBlocks_=function(e){var n=[];e=e.getTopBlocks(!0);for(var a=0;a<e.length;a++)t.ContextMenuItems.addDeletableBlocks_(e[a],n);return n},t.ContextMenuItems.deleteNext_=function(e,n){t.Events.setGroup(n);var a=e.shift();a&&(a.workspace?(a.dispose(!1,!0),setTimeout(t.ContextMenuItems.deleteNext_,10,e,n)):t.ContextMenuItems.deleteNext_(e,n)),t.Events.setGroup(!1)},t.ContextMenuItems.registerDeleteAll=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){if(e.workspace)return 1==(e=t.ContextMenuItems.getDeletableBlocks_(e.workspace).length)?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(e){if(e.workspace)return 0<t.ContextMenuItems.getDeletableBlocks_(e.workspace).length?"enabled":"disabled"},callback:function(e){if(e.workspace){e.workspace.cancelCurrentGesture();var n=t.ContextMenuItems.getDeletableBlocks_(e.workspace),a=t.utils.genUid();2>n.length?t.ContextMenuItems.deleteNext_(n,a):t.confirm(t.Msg.DELETE_ALL_BLOCKS.replace("%1",n.length),function(u){u&&t.ContextMenuItems.deleteNext_(n,a)})}},scopeType:t.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},t.ContextMenuItems.registerWorkspaceOptions_=function(){t.ContextMenuItems.registerUndo(),t.ContextMenuItems.registerRedo(),t.ContextMenuItems.registerCleanup(),t.ContextMenuItems.registerCollapse(),t.ContextMenuItems.registerExpand(),t.ContextMenuItems.registerDeleteAll()},t.ContextMenuItems.registerDuplicate=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.DUPLICATE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(e){e.block&&t.duplicate(e.block)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},t.ContextMenuItems.registerComment=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getCommentIcon()?t.Msg.REMOVE_COMMENT:t.Msg.ADD_COMMENT},preconditionFn:function(e){return e=e.block,t.utils.userAgent.IE||e.isInFlyout||!e.workspace.options.comments||e.isCollapsed()||!e.isEditable()?"hidden":"enabled"},callback:function(e){(e=e.block).getCommentIcon()?e.setCommentText(null):e.setCommentText("")},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockComment",weight:2})},t.ContextMenuItems.registerInline=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.getInputsInline()?t.Msg.EXTERNAL_INPUTS:t.Msg.INLINE_INPUTS},preconditionFn:function(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed())for(var n=1;n<e.inputList.length;n++)if(e.inputList[n-1].type!=t.inputTypes.STATEMENT&&e.inputList[n].type!=t.inputTypes.STATEMENT)return"enabled";return"hidden"},callback:function(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockInline",weight:3})},t.ContextMenuItems.registerCollapseExpandBlock=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isCollapsed()?t.Msg.EXPAND_BLOCK:t.Msg.COLLAPSE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback:function(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},t.ContextMenuItems.registerDisable=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){return e.block.isEnabled()?t.Msg.DISABLE_BLOCK:t.Msg.ENABLE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(e){e=e.block;var n=t.Events.getGroup();n||t.Events.setGroup(!0),e.setEnabled(!e.isEnabled()),n||t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDisable",weight:5})},t.ContextMenuItems.registerDelete=function(){t.ContextMenuRegistry.registry.register({displayText:function(e){var n=e.block;return e=n.getDescendants(!1).length,(n=n.getNextBlock())&&(e-=n.getDescendants(!1).length),1==e?t.Msg.DELETE_BLOCK:t.Msg.DELETE_X_BLOCKS.replace("%1",String(e))},preconditionFn:function(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback:function(e){t.Events.setGroup(!0),e.block&&t.deleteBlock(e.block),t.Events.setGroup(!1)},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockDelete",weight:6})},t.ContextMenuItems.registerHelp=function(){t.ContextMenuRegistry.registry.register({displayText:function(){return t.Msg.HELP},preconditionFn:function(e){return("function"==typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback:function(e){e.block.showHelp()},scopeType:t.ContextMenuRegistry.ScopeType.BLOCK,id:"blockHelp",weight:7})},t.ContextMenuItems.registerBlockOptions_=function(){t.ContextMenuItems.registerDuplicate(),t.ContextMenuItems.registerComment(),t.ContextMenuItems.registerInline(),t.ContextMenuItems.registerCollapseExpandBlock(),t.ContextMenuItems.registerDisable(),t.ContextMenuItems.registerDelete(),t.ContextMenuItems.registerHelp()},t.ContextMenuItems.registerDefaultOptions=function(){t.ContextMenuItems.registerWorkspaceOptions_(),t.ContextMenuItems.registerBlockOptions_()},t.ContextMenuItems.registerDefaultOptions(),t.Mutator=function(e){t.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},t.utils.object.inherits(t.Mutator,t.Icon),t.Mutator.prototype.workspace_=null,t.Mutator.prototype.workspaceWidth_=0,t.Mutator.prototype.workspaceHeight_=0,t.Mutator.prototype.setBlock=function(e){this.block_=e},t.Mutator.prototype.getWorkspace=function(){return this.workspace_},t.Mutator.prototype.drawIcon_=function(e){t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},t.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&t.Icon.prototype.iconClick_.call(this,e)},t.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{x:t.Bubble.BORDER_WIDTH,y:t.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var a,e=t.utils.xml.createElement("xml"),n=0;a=this.quarkNames_[n];n++){var u=t.utils.xml.createElement("block");u.setAttribute("type",a),e.appendChild(u)}else e=null;return(n=new t.Options({disable:!1,parentWorkspace:this.block_.workspace,media:this.block_.workspace.options.pathToMedia,rtl:this.block_.RTL,horizontalLayout:!1,renderer:this.block_.workspace.options.renderer,rendererOverrides:this.block_.workspace.options.rendererOverrides})).toolboxPosition=this.block_.RTL?t.utils.toolbox.Position.RIGHT:t.utils.toolbox.Position.LEFT,(a=!!e)&&(n.languageTree=t.utils.toolbox.convertToolboxDefToJson(e)),this.workspace_=new t.WorkspaceSvg(n),this.workspace_.isMutator=!0,this.workspace_.addChangeListener(t.Events.disableOrphans),e=a?this.workspace_.addFlyout(t.utils.Svg.G):null,n=this.workspace_.createDom("blocklyMutatorBackground"),e&&n.insertBefore(e,this.workspace_.svgBlockCanvas_),this.svgDialog_.appendChild(n),this.svgDialog_},t.Mutator.prototype.updateEditable=function(){t.Mutator.superClass_.updateEditable.call(this),this.block_.isInFlyout||(this.block_.isEditable()?this.iconGroup_&&t.utils.dom.removeClass(this.iconGroup_,"blocklyIconGroupReadonly"):(this.setVisible(!1),this.iconGroup_&&t.utils.dom.addClass(this.iconGroup_,"blocklyIconGroupReadonly")))},t.Mutator.prototype.resizeBubble_=function(){var e=2*t.Bubble.BORDER_WIDTH,n=this.workspace_.getCanvas().getBBox(),a=n.width+n.x,u=n.height+3*e,C=this.workspace_.getFlyout();if(C){var D=C.getWorkspace().getMetricsManager().getScrollMetrics();u=Math.max(u,D.height+20),a+=C.getWidth()}this.block_.RTL&&(a=-n.x),a+=3*e,(Math.abs(this.workspaceWidth_-a)>e||Math.abs(this.workspaceHeight_-u)>e)&&(this.workspaceWidth_=a,this.workspaceHeight_=u,this.bubble_.setBubbleSize(a+e,u+e),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_),this.workspace_.setCachedParentSvgSize(this.workspaceWidth_,this.workspaceHeight_)),this.block_.RTL&&(e="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",e)),this.workspace_.resize()},t.Mutator.prototype.onBubbleMove_=function(){this.workspace_&&this.workspace_.recordDragTargets()},t.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(t.Events.fire(new(t.Events.get(t.Events.BUBBLE_OPEN))(this.block_,e,"mutator")),e){this.bubble_=new t.Bubble(this.block_.workspace,this.createEditor_(),this.block_.pathObject.svgPath,this.iconXY_,null,null),this.bubble_.setSvgId(this.block_.id),this.bubble_.registerMoveEvent(this.onBubbleMove_.bind(this));var n=this.workspace_.options.languageTree;e=this.workspace_.getFlyout(),n&&(e.init(this.workspace_),e.show(n)),this.rootBlock_=this.block_.decompose(this.workspace_),n=this.rootBlock_.getDescendants(!1);for(var u,a=0;u=n[a];a++)u.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),e?(n=2*e.CORNER_RADIUS,e=this.rootBlock_.RTL?e.getWidth()+n:n):e=n=16,this.block_.RTL&&(e=-e),this.rootBlock_.moveBy(e,n),this.block_.saveConnections){var C=this,D=this.block_;D.saveConnections(this.rootBlock_),this.sourceListener_=function(){D.saveConnections(C.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.applyColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},t.Mutator.prototype.workspaceChanged_=function(e){if(!(e.isUiEvent||e.type==t.Events.CHANGE&&"disabled"==e.element)){if(!this.workspace_.isDragging()){e=this.workspace_.getTopBlocks(!1);for(var a,n=0;a=e[n];n++){var u=a.getRelativeToSurfaceXY();if(20>u.y&&a.moveBy(0,20-u.y),a.RTL){var C=-20,D=this.workspace_.getFlyout();D&&(C-=D.getWidth()),u.x>C&&a.moveBy(C-u.x,0)}else 20>u.x&&a.moveBy(20-u.x,0)}}if(this.rootBlock_.workspace==this.workspace_){if(t.Events.setGroup(!0),e=(e=(a=this.block_).mutationToDom())&&t.Xml.domToText(e),n=a.rendered,a.rendered=!1,a.compose(this.rootBlock_),a.rendered=n,a.initSvg(),a.rendered&&a.render(),e!=(n=(n=a.mutationToDom())&&t.Xml.domToText(n))){t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(a,"mutation",null,e,n));var F=t.Events.getGroup();setTimeout(function(){t.Events.setGroup(F),a.bumpNeighbours(),t.Events.setGroup(!1)},t.BUMP_DELAY)}this.workspace_.isDragging()||this.resizeBubble_(),t.Events.setGroup(!1)}}},t.Mutator.prototype.dispose=function(){this.block_.mutator=null,t.Icon.prototype.dispose.call(this)},t.Mutator.prototype.updateBlockStyle=function(){var e=this.workspace_;if(e&&e.getAllBlocks(!1)){for(var u,n=e.getAllBlocks(!1),a=0;u=n[a];a++)u.setStyle(u.getStyleName());if(a=e.getFlyout())for(e=a.workspace_.getAllBlocks(!1),a=0;u=e[a];a++)u.setStyle(u.getStyleName())}},t.Mutator.reconnect=function(e,n,a){if(!e||!e.getSourceBlock().workspace)return!1;a=n.getInput(a).connection;var u=e.targetBlock();return!(u&&u!=n||a.targetConnection==e||(a.isConnected()&&a.disconnect(),a.connect(e),0))},t.Mutator.findParentWs=function(e){var n=null;if(e&&e.options){var a=e.options.parentWorkspace;e.isFlyout?a&&a.options&&(n=a.options.parentWorkspace):a&&(n=a)}return n},t.FieldTextInput=function(e,n,a){this.spellcheck_=!0,t.FieldTextInput.superClass_.constructor.call(this,e,n,a),this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.htmlInput_=null,this.fullBlockClickTarget_=!1,this.workspace_=null},t.utils.object.inherits(t.FieldTextInput,t.Field),t.FieldTextInput.prototype.DEFAULT_VALUE="",t.FieldTextInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldTextInput(n,void 0,e)},t.FieldTextInput.prototype.SERIALIZABLE=!0,t.FieldTextInput.BORDERRADIUS=4,t.FieldTextInput.prototype.CURSOR="text",t.FieldTextInput.prototype.configure_=function(e){t.FieldTextInput.superClass_.configure_.call(this,e),"boolean"==typeof e.spellcheck&&(this.spellcheck_=e.spellcheck)},t.FieldTextInput.prototype.initView=function(){if(this.getConstants().FULL_BLOCK_FIELDS){for(var u,e=0,n=0,a=0;u=this.sourceBlock_.inputList[a];a++){for(var C=0;u.fieldRow[C];C++)e++;u.connection&&n++}this.fullBlockClickTarget_=1>=e&&this.sourceBlock_.outputConnection&&!n}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()},t.FieldTextInput.prototype.doClassValidation_=function(e){return null==e?null:String(e)},t.FieldTextInput.prototype.doValueInvalid_=function(e){this.isBeingEdited_&&(this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.untypedDefaultValue_,this.sourceBlock_&&t.Events.isEnabled()&&t.Events.fire(new(t.Events.get(t.Events.BLOCK_CHANGE))(this.sourceBlock_,"field",this.name||null,e,this.value_)))},t.FieldTextInput.prototype.doValueUpdate_=function(e){this.isTextValid_=!0,this.value_=e,this.isBeingEdited_||(this.isDirty_=!0)},t.FieldTextInput.prototype.applyColour=function(){this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS&&(this.borderRect_?this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary):this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR))},t.FieldTextInput.prototype.render_=function(){if(t.FieldTextInput.superClass_.render_.call(this),this.isBeingEdited_){this.resizeEditor_();var e=this.htmlInput_;this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0))}},t.FieldTextInput.prototype.setSpellcheck=function(e){e!=this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))},t.FieldTextInput.prototype.showEditor_=function(e,n){this.workspace_=this.sourceBlock_.workspace,!(e=n||!1)&&(t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD)?this.showPromptEditor_():this.showInlineEditor_(e)},t.FieldTextInput.prototype.showPromptEditor_=function(){t.prompt(t.Msg.CHANGE_VALUE_TITLE,this.getText(),function(e){this.setValue(this.getValueFromEditorText_(e))}.bind(this))},t.FieldTextInput.prototype.showInlineEditor_=function(e){t.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())},t.FieldTextInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV;t.utils.dom.addClass(this.getClickTarget_(),"editing");var n=document.createElement("input");n.className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);var a=this.workspace_.getScale(),u=this.getConstants().FIELD_TEXT_FONTSIZE*a+"pt";if(e.style.fontSize=u,n.style.fontSize=u,u=t.FieldTextInput.BORDERRADIUS*a+"px",this.fullBlockClickTarget_){u=((u=this.getScaledBBox()).bottom-u.top)/2+"px";var C=this.sourceBlock_.getParent()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;n.style.border=1*a+"px solid "+C,e.style.borderRadius=u,e.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(e.style.boxShadow="rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*a+"px")}return n.style.borderRadius=u,e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.untypedDefaultValue_=this.value_,n.oldValue_=null,this.resizeEditor_(),this.bindInputEvents_(n),n},t.FieldTextInput.prototype.widgetDispose_=function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_&&this.onFinishEditing_(this.value_),this.unbindInputEvents_();var e=t.WidgetDiv.DIV.style;e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,t.utils.dom.removeClass(this.getClickTarget_(),"editing")},t.FieldTextInput.prototype.bindInputEvents_=function(e){this.onKeyDownWrapper_=t.browserEvents.conditionalBind(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=t.browserEvents.conditionalBind(e,"input",this,this.onHtmlInputChange_)},t.FieldTextInput.prototype.unbindInputEvents_=function(){this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(t.browserEvents.unbind(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)},t.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode==t.utils.KeyCodes.ENTER?(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.ESC?(this.setValue(this.htmlInput_.untypedDefaultValue_),t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation()):e.keyCode==t.utils.KeyCodes.TAB&&(t.WidgetDiv.hide(),t.DropDownDiv.hideWithoutAnimation(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},t.FieldTextInput.prototype.onHtmlInputChange_=function(e){(e=this.htmlInput_.value)!==this.htmlInput_.oldValue_&&(this.htmlInput_.oldValue_=e,t.Events.setGroup(!0),e=this.getValueFromEditorText_(e),this.setValue(e),this.forceRerender(),this.resizeEditor_(),t.Events.setGroup(!1))},t.FieldTextInput.prototype.setEditorValue_=function(e){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e)},t.FieldTextInput.prototype.resizeEditor_=function(){var e=t.WidgetDiv.DIV,n=this.getScaledBBox();e.style.width=n.right-n.left+"px",e.style.height=n.bottom-n.top+"px",n=new t.utils.Coordinate(this.sourceBlock_.RTL?n.right-e.offsetWidth:n.left,n.top),e.style.left=n.x+"px",e.style.top=n.y+"px"},t.FieldTextInput.prototype.isTabNavigable=function(){return!0},t.FieldTextInput.prototype.getText_=function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null},t.FieldTextInput.prototype.getEditorText_=function(e){return String(e)},t.FieldTextInput.prototype.getValueFromEditorText_=function(e){return e},t.fieldRegistry.register("field_input",t.FieldTextInput),t.FieldAngle=function(e,n,a){this.clockwise_=t.FieldAngle.CLOCKWISE,this.offset_=t.FieldAngle.OFFSET,this.wrap_=t.FieldAngle.WRAP,this.round_=t.FieldAngle.ROUND,t.FieldAngle.superClass_.constructor.call(this,e,n,a),this.moveSurfaceWrapper_=this.clickSurfaceWrapper_=this.clickWrapper_=this.line_=this.gauge_=this.editor_=null},t.utils.object.inherits(t.FieldAngle,t.FieldTextInput),t.FieldAngle.prototype.DEFAULT_VALUE=0,t.FieldAngle.fromJson=function(e){return new t.FieldAngle(e.angle,void 0,e)},t.FieldAngle.prototype.SERIALIZABLE=!0,t.FieldAngle.ROUND=15,t.FieldAngle.HALF=50,t.FieldAngle.CLOCKWISE=!1,t.FieldAngle.OFFSET=0,t.FieldAngle.WRAP=360,t.FieldAngle.RADIUS=t.FieldAngle.HALF-1,t.FieldAngle.prototype.configure_=function(e){switch(t.FieldAngle.superClass_.configure_.call(this,e),e.mode){case"compass":this.clockwise_=!0,this.offset_=90;break;case"protractor":this.clockwise_=!1,this.offset_=0}var n=e.clockwise;"boolean"==typeof n&&(this.clockwise_=n),null!=(n=e.offset)&&(n=Number(n),isNaN(n)||(this.offset_=n)),null!=(n=e.wrap)&&(n=Number(n),isNaN(n)||(this.wrap_=n)),null!=(e=e.round)&&(e=Number(e),isNaN(e)||(this.round_=e))},t.FieldAngle.prototype.initView=function(){t.FieldAngle.superClass_.initView.call(this),this.symbol_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},null),this.symbol_.appendChild(document.createTextNode("\xb0")),this.textElement_.appendChild(this.symbol_)},t.FieldAngle.prototype.render_=function(){t.FieldAngle.superClass_.render_.call(this),this.updateGraph_()},t.FieldAngle.prototype.showEditor_=function(e){t.FieldAngle.superClass_.showEditor_.call(this,e,t.utils.userAgent.MOBILE||t.utils.userAgent.ANDROID||t.utils.userAgent.IPAD),this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.editor_),t.DropDownDiv.setColour(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.updateGraph_()},t.FieldAngle.prototype.dropdownCreate_=function(){var e=t.utils.dom.createSvgElement(t.utils.Svg.SVG,{xmlns:t.utils.dom.SVG_NS,"xmlns:html":t.utils.dom.HTML_NS,"xmlns:xlink":t.utils.dom.XLINK_NS,version:"1.1",height:2*t.FieldAngle.HALF+"px",width:2*t.FieldAngle.HALF+"px",style:"touch-action: none"},null),n=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{cx:t.FieldAngle.HALF,cy:t.FieldAngle.HALF,r:t.FieldAngle.RADIUS,class:"blocklyAngleCircle"},e);this.gauge_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyAngleGauge"},e),this.line_=t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF,y1:t.FieldAngle.HALF,class:"blocklyAngleLine"},e);for(var a=0;360>a;a+=15)t.utils.dom.createSvgElement(t.utils.Svg.LINE,{x1:t.FieldAngle.HALF+t.FieldAngle.RADIUS,y1:t.FieldAngle.HALF,x2:t.FieldAngle.HALF+t.FieldAngle.RADIUS-(a%45==0?10:5),y2:t.FieldAngle.HALF,class:"blocklyAngleMarks",transform:"rotate("+a+","+t.FieldAngle.HALF+","+t.FieldAngle.HALF+")"},e);this.clickWrapper_=t.browserEvents.conditionalBind(e,"click",this,this.hide_),this.clickSurfaceWrapper_=t.browserEvents.conditionalBind(n,"click",this,this.onMouseMove_,!0,!0),this.moveSurfaceWrapper_=t.browserEvents.conditionalBind(n,"mousemove",this,this.onMouseMove_,!0,!0),this.editor_=e},t.FieldAngle.prototype.dropdownDispose_=function(){this.clickWrapper_&&(t.browserEvents.unbind(this.clickWrapper_),this.clickWrapper_=null),this.clickSurfaceWrapper_&&(t.browserEvents.unbind(this.clickSurfaceWrapper_),this.clickSurfaceWrapper_=null),this.moveSurfaceWrapper_&&(t.browserEvents.unbind(this.moveSurfaceWrapper_),this.moveSurfaceWrapper_=null),this.line_=this.gauge_=null},t.FieldAngle.prototype.hide_=function(){t.DropDownDiv.hideIfOwner(this),t.WidgetDiv.hide()},t.FieldAngle.prototype.onMouseMove_=function(e){var n=this.gauge_.ownerSVGElement.getBoundingClientRect(),a=e.clientX-n.left-t.FieldAngle.HALF;e=e.clientY-n.top-t.FieldAngle.HALF,n=Math.atan(-e/a),isNaN(n)||(n=t.utils.math.toDegrees(n),0>a?n+=180:0<e&&(n+=360),this.displayMouseOrKeyboardValue_(n=this.clockwise_?this.offset_+360-n:360-(this.offset_-n)))},t.FieldAngle.prototype.displayMouseOrKeyboardValue_=function(e){this.round_&&(e=Math.round(e/this.round_)*this.round_),(e=this.wrapValue_(e))!=this.value_&&this.setEditorValue_(e)},t.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+this.offset_,n=t.utils.math.toRadians(e%360);e=["M ",t.FieldAngle.HALF,",",t.FieldAngle.HALF];var a=t.FieldAngle.HALF,u=t.FieldAngle.HALF;if(!isNaN(n)){var C=Number(this.clockwise_),D=t.utils.math.toRadians(this.offset_),F=Math.cos(D)*t.FieldAngle.RADIUS,W=Math.sin(D)*-t.FieldAngle.RADIUS;C&&(n=2*D-n),a+=Math.cos(n)*t.FieldAngle.RADIUS,u-=Math.sin(n)*t.FieldAngle.RADIUS,n=Math.abs(Math.floor((n-D)/Math.PI)%2),C&&(n=1-n),e.push(" l ",F,",",W," A ",t.FieldAngle.RADIUS,",",t.FieldAngle.RADIUS," 0 ",n," ",C," ",a,",",u," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",a),this.line_.setAttribute("y2",u)}},t.FieldAngle.prototype.onHtmlInputKeyDown_=function(e){var n;if(t.FieldAngle.superClass_.onHtmlInputKeyDown_.call(this,e),e.keyCode===t.utils.KeyCodes.LEFT?n=this.sourceBlock_.RTL?1:-1:e.keyCode===t.utils.KeyCodes.RIGHT?n=this.sourceBlock_.RTL?-1:1:e.keyCode===t.utils.KeyCodes.DOWN?n=-1:e.keyCode===t.utils.KeyCodes.UP&&(n=1),n){var a=this.getValue();this.displayMouseOrKeyboardValue_(a+n*this.round_),e.preventDefault(),e.stopPropagation()}},t.FieldAngle.prototype.doClassValidation_=function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue_(e)},t.FieldAngle.prototype.wrapValue_=function(e){return 0>(e%=360)&&(e+=360),e>this.wrap_&&(e-=360),e},t.Css.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(",")),t.fieldRegistry.register("field_angle",t.FieldAngle),t.FieldCheckbox=function(e,n,a){this.checkChar_=null,t.FieldCheckbox.superClass_.constructor.call(this,e,n,a)},t.utils.object.inherits(t.FieldCheckbox,t.Field),t.FieldCheckbox.prototype.DEFAULT_VALUE=!1,t.FieldCheckbox.fromJson=function(e){return new t.FieldCheckbox(e.checked,void 0,e)},t.FieldCheckbox.CHECK_CHAR="\u2713",t.FieldCheckbox.prototype.SERIALIZABLE=!0,t.FieldCheckbox.prototype.CURSOR="default",t.FieldCheckbox.prototype.configure_=function(e){t.FieldCheckbox.superClass_.configure_.call(this,e),e.checkCharacter&&(this.checkChar_=e.checkCharacter)},t.FieldCheckbox.prototype.initView=function(){t.FieldCheckbox.superClass_.initView.call(this),t.utils.dom.addClass(this.textElement_,"blocklyCheckbox"),this.textElement_.style.display=this.value_?"block":"none"},t.FieldCheckbox.prototype.render_=function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)},t.FieldCheckbox.prototype.getDisplayText_=function(){return this.checkChar_||t.FieldCheckbox.CHECK_CHAR},t.FieldCheckbox.prototype.setCheckCharacter=function(e){this.checkChar_=e,this.forceRerender()},t.FieldCheckbox.prototype.showEditor_=function(){this.setValue(!this.value_)},t.FieldCheckbox.prototype.doClassValidation_=function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null},t.FieldCheckbox.prototype.doValueUpdate_=function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")},t.FieldCheckbox.prototype.getValue=function(){return this.value_?"TRUE":"FALSE"},t.FieldCheckbox.prototype.getValueBoolean=function(){return this.value_},t.FieldCheckbox.prototype.getText=function(){return String(this.convertValueToBool_(this.value_))},t.FieldCheckbox.prototype.convertValueToBool_=function(e){return"string"==typeof e?"TRUE"==e:!!e},t.fieldRegistry.register("field_checkbox",t.FieldCheckbox),t.FieldColour=function(e,n,a){t.FieldColour.superClass_.constructor.call(this,e,n,a),this.onKeyDownWrapper_=this.onMouseLeaveWrapper_=this.onMouseEnterWrapper_=this.onMouseMoveWrapper_=this.onClickWrapper_=this.highlightedIndex_=this.picker_=null},t.utils.object.inherits(t.FieldColour,t.Field),t.FieldColour.fromJson=function(e){return new t.FieldColour(e.colour,void 0,e)},t.FieldColour.prototype.SERIALIZABLE=!0,t.FieldColour.prototype.CURSOR="default",t.FieldColour.prototype.isDirty_=!1,t.FieldColour.prototype.colours_=null,t.FieldColour.prototype.titles_=null,t.FieldColour.prototype.columns_=0,t.FieldColour.prototype.configure_=function(e){t.FieldColour.superClass_.configure_.call(this,e),e.colourOptions&&(this.colours_=e.colourOptions,this.titles_=e.colourTitles),e.columns&&(this.columns_=e.columns)},t.FieldColour.prototype.initView=function(){this.size_=new t.utils.Size(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.clickTarget_=this.sourceBlock_.getSvgRoot():(this.createBorderRect_(),this.borderRect_.style.fillOpacity="1")},t.FieldColour.prototype.applyColour=function(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())},t.FieldColour.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:t.utils.colour.parse(e)},t.FieldColour.prototype.doValueUpdate_=function(e){this.value_=e,this.borderRect_?this.borderRect_.style.fill=e:this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",e),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))},t.FieldColour.prototype.getText=function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e},t.FieldColour.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),t.FieldColour.prototype.DEFAULT_VALUE=t.FieldColour.COLOURS[0],t.FieldColour.TITLES=[],t.FieldColour.COLUMNS=7,t.FieldColour.prototype.setColours=function(e,n){return this.colours_=e,n&&(this.titles_=n),this},t.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},t.FieldColour.prototype.showEditor_=function(){this.dropdownCreate_(),t.DropDownDiv.getContentDiv().appendChild(this.picker_),t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onClick_=function(e){null!==(e=(e=e.target)&&e.label)&&(this.setValue(e),t.DropDownDiv.hideIfOwner(this))},t.FieldColour.prototype.onKeyDown_=function(e){var n=!1;e.keyCode===t.utils.KeyCodes.UP?(this.moveHighlightBy_(0,-1),n=!0):e.keyCode===t.utils.KeyCodes.DOWN?(this.moveHighlightBy_(0,1),n=!0):e.keyCode===t.utils.KeyCodes.LEFT?(this.moveHighlightBy_(-1,0),n=!0):e.keyCode===t.utils.KeyCodes.RIGHT?(this.moveHighlightBy_(1,0),n=!0):e.keyCode===t.utils.KeyCodes.ENTER&&((n=this.getHighlighted_())&&null!==(n=n&&n.label)&&this.setValue(n),t.DropDownDiv.hideWithoutAnimation(),n=!0),n&&e.stopPropagation()},t.FieldColour.prototype.moveHighlightBy_=function(e,n){var a=this.colours_||t.FieldColour.COLOURS,u=this.columns_||t.FieldColour.COLUMNS,C=this.highlightedIndex_%u,D=Math.floor(this.highlightedIndex_/u);C+=e,D+=n,0>e?0>C&&0<D?(C=u-1,D--):0>C&&(C=0):0<e?C>u-1&&D<Math.floor(a.length/u)-1?(C=0,D++):C>u-1&&C--:0>n?0>D&&(D=0):0<n&&D>Math.floor(a.length/u)-1&&(D=Math.floor(a.length/u)-1),this.setHighlightedCell_(this.picker_.childNodes[D].childNodes[C],D*u+C)},t.FieldColour.prototype.onMouseMove_=function(e){var n=(e=e.target)&&Number(e.getAttribute("data-index"));null!==n&&n!==this.highlightedIndex_&&this.setHighlightedCell_(e,n)},t.FieldColour.prototype.onMouseEnter_=function(){this.picker_.focus({preventScroll:!0})},t.FieldColour.prototype.onMouseLeave_=function(){this.picker_.blur();var e=this.getHighlighted_();e&&t.utils.dom.removeClass(e,"blocklyColourHighlighted")},t.FieldColour.prototype.getHighlighted_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.picker_.childNodes[Math.floor(this.highlightedIndex_/e)];return n?n.childNodes[this.highlightedIndex_%e]:null},t.FieldColour.prototype.setHighlightedCell_=function(e,n){var a=this.getHighlighted_();a&&t.utils.dom.removeClass(a,"blocklyColourHighlighted"),t.utils.dom.addClass(e,"blocklyColourHighlighted"),this.highlightedIndex_=n,t.utils.aria.setState(this.picker_,t.utils.aria.State.ACTIVEDESCENDANT,e.getAttribute("id"))},t.FieldColour.prototype.dropdownCreate_=function(){var e=this.columns_||t.FieldColour.COLUMNS,n=this.colours_||t.FieldColour.COLOURS,a=this.titles_||t.FieldColour.TITLES,u=this.getValue(),C=document.createElement("table");C.className="blocklyColourTable",C.tabIndex=0,C.dir="ltr",t.utils.aria.setRole(C,t.utils.aria.Role.GRID),t.utils.aria.setState(C,t.utils.aria.State.EXPANDED,!0),t.utils.aria.setState(C,t.utils.aria.State.ROWCOUNT,Math.floor(n.length/e)),t.utils.aria.setState(C,t.utils.aria.State.COLCOUNT,e);for(var D,F=0;F<n.length;F++){F%e==0&&(D=document.createElement("tr"),t.utils.aria.setRole(D,t.utils.aria.Role.ROW),C.appendChild(D));var W=document.createElement("td");D.appendChild(W),W.label=n[F],W.title=a[F]||n[F],W.id=t.utils.IdGenerator.getNextUniqueId(),W.setAttribute("data-index",F),t.utils.aria.setRole(W,t.utils.aria.Role.GRIDCELL),t.utils.aria.setState(W,t.utils.aria.State.LABEL,n[F]),t.utils.aria.setState(W,t.utils.aria.State.SELECTED,n[F]==u),W.style.backgroundColor=n[F],n[F]==u&&(W.className="blocklyColourSelected",this.highlightedIndex_=F)}this.onClickWrapper_=t.browserEvents.conditionalBind(C,"click",this,this.onClick_,!0),this.onMouseMoveWrapper_=t.browserEvents.conditionalBind(C,"mousemove",this,this.onMouseMove_,!0),this.onMouseEnterWrapper_=t.browserEvents.conditionalBind(C,"mouseenter",this,this.onMouseEnter_,!0),this.onMouseLeaveWrapper_=t.browserEvents.conditionalBind(C,"mouseleave",this,this.onMouseLeave_,!0),this.onKeyDownWrapper_=t.browserEvents.conditionalBind(C,"keydown",this,this.onKeyDown_),this.picker_=C},t.FieldColour.prototype.dropdownDispose_=function(){this.onClickWrapper_&&(t.browserEvents.unbind(this.onClickWrapper_),this.onClickWrapper_=null),this.onMouseMoveWrapper_&&(t.browserEvents.unbind(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null),this.onMouseEnterWrapper_&&(t.browserEvents.unbind(this.onMouseEnterWrapper_),this.onMouseEnterWrapper_=null),this.onMouseLeaveWrapper_&&(t.browserEvents.unbind(this.onMouseLeaveWrapper_),this.onMouseLeaveWrapper_=null),this.onKeyDownWrapper_&&(t.browserEvents.unbind(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.highlightedIndex_=this.picker_=null},t.Css.register([".blocklyColourTable {","border-collapse: collapse;","display: block;","outline: none;","padding: 1px;","}",".blocklyColourTable>tr>td {","border: .5px solid #888;","box-sizing: border-box;","cursor: pointer;","display: inline-block;","height: 20px;","padding: 0;","width: 20px;","}",".blocklyColourTable>tr>td.blocklyColourHighlighted {","border-color: #eee;","box-shadow: 2px 2px 7px 2px rgba(0,0,0,.3);","position: relative;","}",".blocklyColourSelected, .blocklyColourSelected:hover {","border-color: #eee !important;","outline: 1px solid #333;","position: relative;","}"]),t.fieldRegistry.register("field_colour",t.FieldColour),t.FieldDropdown=function(e,n,a){"function"!=typeof e&&t.FieldDropdown.validateOptions_(e),this.menuGenerator_=e,this.suffixField=this.prefixField=this.generatedOptions_=null,this.trimOptions_(),this.selectedOption_=this.getOptions(!1)[0],t.FieldDropdown.superClass_.constructor.call(this,this.selectedOption_[1],n,a),this.svgArrow_=this.arrow_=this.imageElement_=this.menu_=this.selectedMenuItem_=null},t.utils.object.inherits(t.FieldDropdown,t.Field),t.FieldDropdown.fromJson=function(e){return new t.FieldDropdown(e.options,void 0,e)},t.FieldDropdown.prototype.fromXml=function(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)},t.FieldDropdown.prototype.SERIALIZABLE=!0,t.FieldDropdown.CHECKMARK_OVERHANG=25,t.FieldDropdown.MAX_MENU_HEIGHT_VH=.45,t.FieldDropdown.IMAGE_Y_OFFSET=5,t.FieldDropdown.IMAGE_Y_PADDING=2*t.FieldDropdown.IMAGE_Y_OFFSET,t.FieldDropdown.ARROW_CHAR=t.utils.userAgent.ANDROID?"\u25bc":"\u25be",t.FieldDropdown.prototype.CURSOR="default",t.FieldDropdown.prototype.initView=function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&t.utils.dom.addClass(this.borderRect_,"blocklyDropdownRect")},t.FieldDropdown.prototype.shouldAddBorderRect_=function(){return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!this.sourceBlock_.isShadow()},t.FieldDropdown.prototype.createTextArrow_=function(){this.arrow_=t.utils.dom.createSvgElement(t.utils.Svg.TSPAN,{},this.textElement_),this.arrow_.appendChild(document.createTextNode(this.sourceBlock_.RTL?t.FieldDropdown.ARROW_CHAR+" ":" "+t.FieldDropdown.ARROW_CHAR)),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textContent_):this.textElement_.appendChild(this.arrow_)},t.FieldDropdown.prototype.createSVGArrow_=function(){this.svgArrow_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)},t.FieldDropdown.prototype.showEditor_=function(e){if(this.dropdownCreate_(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new t.utils.Coordinate(e.clientX,e.clientY):null,this.menu_.render(t.DropDownDiv.getContentDiv()),e=this.menu_.getElement(),t.utils.dom.addClass(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV){e=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().getColour():this.sourceBlock_.getColour();var n=this.sourceBlock_.isShadow()?this.sourceBlock_.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary;t.DropDownDiv.setColour(e,n)}t.DropDownDiv.showPositionedByField(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem_&&this.menu_.setHighlighted(this.selectedMenuItem_),this.applyColour()},t.FieldDropdown.prototype.dropdownCreate_=function(){var e=new t.Menu;e.setRole(t.utils.aria.Role.LISTBOX),this.menu_=e;var n=this.getOptions(!1);this.selectedMenuItem_=null;for(var a=0;a<n.length;a++){var u=n[a][0],C=n[a][1];if("object"==typeof u){var D=new Image(u.width,u.height);D.src=u.src,D.alt=u.alt||"",u=D}(u=new t.MenuItem(u,C)).setRole(t.utils.aria.Role.OPTION),u.setRightToLeft(this.sourceBlock_.RTL),u.setCheckable(!0),e.addChild(u),u.setChecked(C==this.value_),C==this.value_&&(this.selectedMenuItem_=u),u.onAction(this.handleMenuActionEvent_,this)}},t.FieldDropdown.prototype.dropdownDispose_=function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem_=this.menu_=null,this.applyColour()},t.FieldDropdown.prototype.handleMenuActionEvent_=function(e){t.DropDownDiv.hideIfOwner(this,!0),this.onItemSelected_(this.menu_,e)},t.FieldDropdown.prototype.onItemSelected_=function(e,n){this.setValue(n.getValue())},t.FieldDropdown.prototype.trimOptions_=function(){var e=this.menuGenerator_;if(Array.isArray(e)){for(var n=!1,a=0;a<e.length;a++){var u=e[a][0];"string"==typeof u?e[a][0]=t.utils.replaceMessageReferences(u):(null!=u.alt&&(e[a][0].alt=t.utils.replaceMessageReferences(u.alt)),n=!0)}if(!(n||2>e.length)){for(n=[],a=0;a<e.length;a++)n.push(e[a][0]);a=t.utils.string.shortestStringLength(n),u=t.utils.string.commonWordPrefix(n,a);var C=t.utils.string.commonWordSuffix(n,a);!u&&!C||a<=u+C||(u&&(this.prefixField=n[0].substring(0,u-1)),C&&(this.suffixField=n[0].substr(1-C)),this.menuGenerator_=t.FieldDropdown.applyTrim_(e,u,C))}}},t.FieldDropdown.applyTrim_=function(e,n,a){for(var u=[],C=0;C<e.length;C++){var D=e[C][0],F=e[C][1];D=D.substring(n,D.length-a),u[C]=[D,F]}return u},t.FieldDropdown.prototype.isOptionListDynamic=function(){return"function"==typeof this.menuGenerator_},t.FieldDropdown.prototype.getOptions=function(e){return this.isOptionListDynamic()?(this.generatedOptions_&&e||(this.generatedOptions_=this.menuGenerator_.call(this),t.FieldDropdown.validateOptions_(this.generatedOptions_)),this.generatedOptions_):this.menuGenerator_},t.FieldDropdown.prototype.doClassValidation_=function(e){for(var C,n=!1,a=this.getOptions(!0),u=0;C=a[u];u++)if(C[1]==e){n=!0;break}return n?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)},t.FieldDropdown.prototype.doValueUpdate_=function(e){t.FieldDropdown.superClass_.doValueUpdate_.call(this,e),e=this.getOptions(!0);for(var a,n=0;a=e[n];n++)a[1]==this.value_&&(this.selectedOption_=a)},t.FieldDropdown.prototype.applyColour=function(){this.borderRect_&&(this.borderRect_.setAttribute("stroke",this.sourceBlock_.style.colourTertiary),this.borderRect_.setAttribute("fill",this.menu_?this.sourceBlock_.style.colourTertiary:"transparent")),this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.isShadow()?this.sourceBlock_.style.colourSecondary:this.sourceBlock_.style.colourPrimary)},t.FieldDropdown.prototype.render_=function(){this.textContent_.nodeValue="",this.imageElement_.style.display="none";var e=this.selectedOption_&&this.selectedOption_[0];e&&"object"==typeof e?this.renderSelectedImage_(e):this.renderSelectedText_(),this.positionBorderRect_()},t.FieldDropdown.prototype.renderSelectedImage_=function(e){this.imageElement_.style.display="",this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",e.src),this.imageElement_.setAttribute("height",e.height),this.imageElement_.setAttribute("width",e.width);var n=Number(e.height);e=Number(e.width);var a=!!this.borderRect_,u=Math.max(a?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+t.FieldDropdown.IMAGE_Y_PADDING);a=a?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var C=this.svgArrow_?this.positionSVGArrow_(e+a,u/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):t.utils.dom.getFastTextWidth(this.arrow_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);this.size_.width=e+C+2*a,this.size_.height=u;var D=0;this.sourceBlock_.RTL?this.imageElement_.setAttribute("x",a+C):(D=e+C,this.textElement_.setAttribute("text-anchor","end"),this.imageElement_.setAttribute("x",a)),this.imageElement_.setAttribute("y",u/2-n/2),this.positionTextElement_(D+a,e+C)},t.FieldDropdown.prototype.renderSelectedText_=function(){this.textContent_.nodeValue=this.getDisplayText_(),t.utils.dom.addClass(this.textElement_,"blocklyDropdownText"),this.textElement_.setAttribute("text-anchor","start");var e=!!this.borderRect_,n=Math.max(e?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT),a=t.utils.dom.getFastTextWidth(this.textElement_,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);e=e?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var u=0;this.svgArrow_&&(u=this.positionSVGArrow_(a+e,n/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=a+u+2*e,this.size_.height=n,this.positionTextElement_(e,a)},t.FieldDropdown.prototype.positionSVGArrow_=function(e,n){if(!this.svgArrow_)return 0;var a=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,u=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,C=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow_.setAttribute("transform","translate("+(this.sourceBlock_.RTL?a:e+u)+","+n+")"),C+u},t.FieldDropdown.prototype.getText_=function(){if(!this.selectedOption_)return null;var e=this.selectedOption_[0];return"object"==typeof e?e.alt:e},t.FieldDropdown.validateOptions_=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var n=!1,a=0;a<e.length;++a){var u=e[a];Array.isArray(u)?"string"!=typeof u[1]?(n=!0,console.error("Invalid option["+a+"]: Each FieldDropdown option id must be a string. Found "+u[1]+" in: ",u)):u[0]&&"string"!=typeof u[0]&&"string"!=typeof u[0].src&&(n=!0,console.error("Invalid option["+a+"]: Each FieldDropdown option must have a string label or image description. Found"+u[0]+" in: ",u)):(n=!0,console.error("Invalid option["+a+"]: Each FieldDropdown option must be an array. Found: ",u))}if(n)throw TypeError("Found invalid FieldDropdown options.")},t.fieldRegistry.register("field_dropdown",t.FieldDropdown),t.FieldLabelSerializable=function(e,n,a){t.FieldLabelSerializable.superClass_.constructor.call(this,e,n,a)},t.utils.object.inherits(t.FieldLabelSerializable,t.FieldLabel),t.FieldLabelSerializable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldLabelSerializable(n,void 0,e)},t.FieldLabelSerializable.prototype.EDITABLE=!1,t.FieldLabelSerializable.prototype.SERIALIZABLE=!0,t.fieldRegistry.register("field_label_serializable",t.FieldLabelSerializable),t.FieldImage=function(e,n,a,u,C,D,F){if(!e)throw Error("Src value of an image field is required");if(e=t.utils.replaceMessageReferences(e),a=Number(t.utils.replaceMessageReferences(a)),n=Number(t.utils.replaceMessageReferences(n)),isNaN(a)||isNaN(n))throw Error("Height and width values of an image field must cast to numbers.");if(0>=a||0>=n)throw Error("Height and width values of an image field must be greater than 0.");this.flipRtl_=!1,this.altText_="",t.FieldImage.superClass_.constructor.call(this,e,null,F),F||(this.flipRtl_=!!D,this.altText_=t.utils.replaceMessageReferences(u)||""),this.size_=new t.utils.Size(n,a+t.FieldImage.Y_PADDING),this.imageHeight_=a,this.clickHandler_=null,"function"==typeof C&&(this.clickHandler_=C),this.imageElement_=null},t.utils.object.inherits(t.FieldImage,t.Field),t.FieldImage.prototype.DEFAULT_VALUE="",t.FieldImage.fromJson=function(e){return new t.FieldImage(e.src,e.width,e.height,void 0,void 0,void 0,e)},t.FieldImage.Y_PADDING=1,t.FieldImage.prototype.EDITABLE=!1,t.FieldImage.prototype.isDirty_=!1,t.FieldImage.prototype.configure_=function(e){t.FieldImage.superClass_.configure_.call(this,e),this.flipRtl_=!!e.flipRtl,this.altText_=t.utils.replaceMessageReferences(e.alt)||""},t.FieldImage.prototype.initView=function(){this.imageElement_=t.utils.dom.createSvgElement(t.utils.Svg.IMAGE,{height:this.imageHeight_+"px",width:this.size_.width+"px",alt:this.altText_},this.fieldGroup_),this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",this.value_),this.clickHandler_&&(this.imageElement_.style.cursor="pointer")},t.FieldImage.prototype.updateSize_=function(){},t.FieldImage.prototype.doClassValidation_=function(e){return"string"!=typeof e?null:e},t.FieldImage.prototype.doValueUpdate_=function(e){this.value_=e,this.imageElement_&&this.imageElement_.setAttributeNS(t.utils.dom.XLINK_NS,"xlink:href",String(this.value_))},t.FieldImage.prototype.getFlipRtl=function(){return this.flipRtl_},t.FieldImage.prototype.setAlt=function(e){e!=this.altText_&&(this.altText_=e||"",this.imageElement_&&this.imageElement_.setAttribute("alt",this.altText_))},t.FieldImage.prototype.showEditor_=function(){this.clickHandler_&&this.clickHandler_(this)},t.FieldImage.prototype.setOnClickHandler=function(e){this.clickHandler_=e},t.FieldImage.prototype.getText_=function(){return this.altText_},t.fieldRegistry.register("field_image",t.FieldImage),t.FieldMultilineInput=function(e,n,a){t.FieldMultilineInput.superClass_.constructor.call(this,e,n,a),this.textGroup_=null,this.maxLines_=1/0,this.isOverflowedY_=!1},t.utils.object.inherits(t.FieldMultilineInput,t.FieldTextInput),t.FieldMultilineInput.prototype.configure_=function(e){t.FieldMultilineInput.superClass_.configure_.call(this,e),e.maxLines&&this.setMaxLines(e.maxLines)},t.FieldMultilineInput.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.text);return new t.FieldMultilineInput(n,void 0,e)},t.FieldMultilineInput.prototype.toXml=function(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e},t.FieldMultilineInput.prototype.fromXml=function(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))},t.FieldMultilineInput.prototype.initView=function(){this.createBorderRect_(),this.textGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:"blocklyEditableText"},this.fieldGroup_)},t.FieldMultilineInput.prototype.getDisplayText_=function(){var e=this.getText();if(!e)return t.Field.NBSP;var n=e.split("\n");e="";for(var a=this.isOverflowedY_?this.maxLines_:n.length,u=0;u<a;u++){var C=n[u];C.length>this.maxDisplayLength?C=C.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&u===a-1&&(C=C.substring(0,C.length-3)+"..."),e+=C=C.replace(/\s/g,t.Field.NBSP),u!==a-1&&(e+="\n")}return this.sourceBlock_.RTL&&(e+="\u200f"),e},t.FieldMultilineInput.prototype.doValueUpdate_=function(e){t.FieldMultilineInput.superClass_.doValueUpdate_.call(this,e),this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_},t.FieldMultilineInput.prototype.render_=function(){for(var e;e=this.textGroup_.firstChild;)this.textGroup_.removeChild(e);e=this.getDisplayText_().split("\n");for(var n=0,a=0;a<e.length;a++){var u=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:n+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},this.textGroup_).appendChild(document.createTextNode(e[a])),n+=u}this.isBeingEdited_&&(e=this.htmlInput_,this.isOverflowedY_?t.utils.dom.addClass(e,"blocklyHtmlTextAreaInputOverflowedY"):t.utils.dom.removeClass(e,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(this.sourceBlock_.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(t.utils.dom.removeClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!1)):(t.utils.dom.addClass(e,"blocklyInvalidInput"),t.utils.aria.setState(e,t.utils.aria.State.INVALID,!0)))},t.FieldMultilineInput.prototype.updateSize_=function(){for(var e=this.textGroup_.childNodes,n=0,a=0,u=0;u<e.length;u++){var C=t.utils.dom.getTextWidth(e[u]);C>n&&(n=C),a+=this.getConstants().FIELD_TEXT_HEIGHT+(0<u?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){e=this.value_.split("\n"),C=t.utils.dom.createSvgElement(t.utils.Svg.TEXT,{class:"blocklyText blocklyMultilineText"});var D=this.getConstants().FIELD_TEXT_FONTSIZE,F=this.getConstants().FIELD_TEXT_FONTWEIGHT,W=this.getConstants().FIELD_TEXT_FONTFAMILY;for(u=0;u<e.length;u++){e[u].length>this.maxDisplayLength&&(e[u]=e[u].substring(0,this.maxDisplayLength)),C.textContent=e[u];var te=t.utils.dom.getFastTextWidth(C,D,F,W);te>n&&(n=te)}n+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(a+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",n),this.borderRect_.setAttribute("height",a)),this.size_.width=n,this.size_.height=a,this.positionBorderRect_()},t.FieldMultilineInput.prototype.showEditor_=function(e,n){t.FieldMultilineInput.superClass_.showEditor_.call(this,e,n),this.forceRerender()},t.FieldMultilineInput.prototype.widgetCreate_=function(){var e=t.WidgetDiv.DIV,n=this.workspace_.getScale(),a=document.createElement("textarea");a.className="blocklyHtmlInput blocklyHtmlTextAreaInput",a.setAttribute("spellcheck",this.spellcheck_);var u=this.getConstants().FIELD_TEXT_FONTSIZE*n+"pt";e.style.fontSize=u,a.style.fontSize=u,a.style.borderRadius=t.FieldTextInput.BORDERRADIUS*n+"px",u=this.getConstants().FIELD_BORDER_RECT_X_PADDING*n;var C=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*n/2;return a.style.padding=C+"px "+u+"px "+C+"px "+u+"px",u=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,a.style.lineHeight=u*n+"px",e.appendChild(a),a.value=a.defaultValue=this.getEditorText_(this.value_),a.untypedDefaultValue_=this.value_,a.oldValue_=null,t.utils.userAgent.GECKO?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(a),a},t.FieldMultilineInput.prototype.setMaxLines=function(e){"number"==typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())},t.FieldMultilineInput.prototype.getMaxLines=function(){return this.maxLines_},t.FieldMultilineInput.prototype.onHtmlInputKeyDown_=function(e){e.keyCode!==t.utils.KeyCodes.ENTER&&t.FieldMultilineInput.superClass_.onHtmlInputKeyDown_.call(this,e)},t.Css.register(".blocklyHtmlTextAreaInput {,font-family: monospace;,resize: none;,overflow: hidden;,height: 100%;,text-align: left;,},.blocklyHtmlTextAreaInputOverflowedY {,overflow-y: scroll;,}".split(",")),t.fieldRegistry.register("field_multilinetext",t.FieldMultilineInput),t.FieldNumber=function(e,n,a,u,C,D){this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces_=null,t.FieldNumber.superClass_.constructor.call(this,e,C,D),D||this.setConstraints(n,a,u)},t.utils.object.inherits(t.FieldNumber,t.FieldTextInput),t.FieldNumber.prototype.DEFAULT_VALUE=0,t.FieldNumber.fromJson=function(e){return new t.FieldNumber(e.value,void 0,void 0,void 0,void 0,e)},t.FieldNumber.prototype.SERIALIZABLE=!0,t.FieldNumber.prototype.configure_=function(e){t.FieldNumber.superClass_.configure_.call(this,e),this.setMinInternal_(e.min),this.setMaxInternal_(e.max),this.setPrecisionInternal_(e.precision)},t.FieldNumber.prototype.setConstraints=function(e,n,a){this.setMinInternal_(e),this.setMaxInternal_(n),this.setPrecisionInternal_(a),this.setValue(this.getValue())},t.FieldNumber.prototype.setMin=function(e){this.setMinInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setMinInternal_=function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))},t.FieldNumber.prototype.getMin=function(){return this.min_},t.FieldNumber.prototype.setMax=function(e){this.setMaxInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setMaxInternal_=function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))},t.FieldNumber.prototype.getMax=function(){return this.max_},t.FieldNumber.prototype.setPrecision=function(e){this.setPrecisionInternal_(e),this.setValue(this.getValue())},t.FieldNumber.prototype.setPrecisionInternal_=function(e){this.precision_=Number(e)||0;var n=String(this.precision_);-1!=n.indexOf("e")&&(n=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var a=n.indexOf(".");this.decimalPlaces_=-1==a?e?0:null:n.length-a-1},t.FieldNumber.prototype.getPrecision=function(){return this.precision_},t.FieldNumber.prototype.doClassValidation_=function(e){return null===e||(e=(e=(e=(e=String(e)).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e))?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!=this.decimalPlaces_&&(e=Number(e.toFixed(this.decimalPlaces_))),e)},t.FieldNumber.prototype.widgetCreate_=function(){var e=t.FieldNumber.superClass_.widgetCreate_.call(this);return-1/0<this.min_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMIN,this.min_),1/0>this.max_&&t.utils.aria.setState(e,t.utils.aria.State.VALUEMAX,this.max_),e},t.fieldRegistry.register("field_number",t.FieldNumber),t.FieldVariable=function(e,n,a,u,C){this.menuGenerator_=t.FieldVariable.dropdownCreate,this.defaultVariableName="string"==typeof e?e:"",this.size_=new t.utils.Size(0,0),C&&this.configure_(C),n&&this.setValidator(n),C||this.setTypes_(a,u)},t.utils.object.inherits(t.FieldVariable,t.FieldDropdown),t.FieldVariable.fromJson=function(e){var n=t.utils.replaceMessageReferences(e.variable);return new t.FieldVariable(n,void 0,void 0,void 0,e)},t.FieldVariable.prototype.SERIALIZABLE=!0,t.FieldVariable.prototype.configure_=function(e){t.FieldVariable.superClass_.configure_.call(this,e),this.setTypes_(e.variableTypes,e.defaultType)},t.FieldVariable.prototype.initModel=function(){if(!this.variable_){var e=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,null,this.defaultVariableName,this.defaultType_);this.doValueUpdate_(e.getId())}},t.FieldVariable.prototype.shouldAddBorderRect_=function(){return t.FieldVariable.superClass_.shouldAddBorderRect_.call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!=this.sourceBlock_.type)},t.FieldVariable.prototype.fromXml=function(e){var n=e.getAttribute("id"),a=e.textContent,u=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(n=t.Variables.getOrCreateVariablePackage(this.sourceBlock_.workspace,n,a,u),null!=u&&u!==n.type)throw Error("Serialized variable type with id '"+n.getId()+"' had type "+n.type+", and does not match variable field that references it: "+t.Xml.domToText(e)+".");this.setValue(n.getId())},t.FieldVariable.prototype.toXml=function(e){return this.initModel(),e.id=this.variable_.getId(),e.textContent=this.variable_.name,this.variable_.type&&e.setAttribute("variabletype",this.variable_.type),e},t.FieldVariable.prototype.setSourceBlock=function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");t.FieldVariable.superClass_.setSourceBlock.call(this,e)},t.FieldVariable.prototype.getValue=function(){return this.variable_?this.variable_.getId():null},t.FieldVariable.prototype.getText=function(){return this.variable_?this.variable_.name:""},t.FieldVariable.prototype.getVariable=function(){return this.variable_},t.FieldVariable.prototype.getValidator=function(){return this.variable_?this.validator_:null},t.FieldVariable.prototype.doClassValidation_=function(e){if(null===e)return null;var n=t.Variables.getVariable(this.sourceBlock_.workspace,e);return n?this.typeIsAllowed_(n=n.type)?e:(console.warn("Variable type doesn't match this field!  Type was "+n),null):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)},t.FieldVariable.prototype.doValueUpdate_=function(e){this.variable_=t.Variables.getVariable(this.sourceBlock_.workspace,e),t.FieldVariable.superClass_.doValueUpdate_.call(this,e)},t.FieldVariable.prototype.typeIsAllowed_=function(e){var n=this.getVariableTypes_();if(!n)return!0;for(var a=0;a<n.length;a++)if(e==n[a])return!0;return!1},t.FieldVariable.prototype.getVariableTypes_=function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&this.sourceBlock_.workspace)return this.sourceBlock_.workspace.getVariableTypes();if(0==(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e},t.FieldVariable.prototype.setTypes_=function(e,n){if(n=n||"",null==e||null==e)e=null;else{if(!Array.isArray(e))throw Error("'variableTypes' was not an array in the definition of a FieldVariable");for(var a=!1,u=0;u<e.length;u++)e[u]==n&&(a=!0);if(!a)throw Error("Invalid default type '"+n+"' in the definition of a FieldVariable")}this.defaultType_=n,this.variableTypes=e},t.FieldVariable.prototype.refreshVariableName=function(){this.forceRerender()},t.FieldVariable.dropdownCreate=function(){if(!this.variable_)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),n=[];if(this.sourceBlock_&&this.sourceBlock_.workspace)for(var a=this.getVariableTypes_(),u=0;u<a.length;u++){var C=this.sourceBlock_.workspace.getVariablesOfType(a[u]);n=n.concat(C)}for(n.sort(t.VariableModel.compareByName),a=[],u=0;u<n.length;u++)a[u]=[n[u].name,n[u].getId()];return a.push([t.Msg.RENAME_VARIABLE,t.RENAME_VARIABLE_ID]),t.Msg.DELETE_VARIABLE&&a.push([t.Msg.DELETE_VARIABLE.replace("%1",e),t.DELETE_VARIABLE_ID]),a},t.FieldVariable.prototype.onItemSelected_=function(e,n){if(e=n.getValue(),this.sourceBlock_&&this.sourceBlock_.workspace){if(e==t.RENAME_VARIABLE_ID)return void t.Variables.renameVariable(this.sourceBlock_.workspace,this.variable_);if(e==t.DELETE_VARIABLE_ID)return void this.sourceBlock_.workspace.deleteVariableById(this.variable_.getId())}this.setValue(e)},t.FieldVariable.prototype.referencesVariables=function(){return!0},t.fieldRegistry.register("field_variable",t.FieldVariable),t.utils.svgPaths={},t.utils.svgPaths.point=function(e,n){return" "+e+","+n+" "},t.utils.svgPaths.curve=function(e,n){return" "+e+n.join("")},t.utils.svgPaths.moveTo=function(e,n){return" M "+e+","+n+" "},t.utils.svgPaths.moveBy=function(e,n){return" m "+e+","+n+" "},t.utils.svgPaths.lineTo=function(e,n){return" l "+e+","+n+" "},t.utils.svgPaths.line=function(e){return" l"+e.join("")},t.utils.svgPaths.lineOnAxis=function(e,n){return" "+e+" "+n+" "},t.utils.svgPaths.arc=function(e,n,a,u){return e+" "+a+" "+a+" "+n+u},t.blockRendering.ConstantProvider=function(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.CORNER_RADIUS=8,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=t.utils.svgPaths.moveBy(0,0),this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_TEXT_BASELINE_CENTER=!t.utils.userAgent.IE&&!t.utils.userAgent.EDGE,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2),this.embossFilterId="",this.embossFilter_=null,this.disabledPatternId="",this.disabledPattern_=null,this.debugFilterId="",this.cssNode_=this.debugFilter_=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2}},t.blockRendering.ConstantProvider.prototype.init=function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()},t.blockRendering.ConstantProvider.prototype.setTheme=function(e){this.blockStyles=Object.create(null);var a,n=e.blockStyles;for(a in n)this.blockStyles[a]=this.validatedBlockStyle_(n[a]);this.setDynamicProperties_(e)},t.blockRendering.ConstantProvider.prototype.setDynamicProperties_=function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=null!=e.startHats?e.startHats:this.ADD_START_HATS},t.blockRendering.ConstantProvider.prototype.setFontConstants_=function(e){this.FIELD_TEXT_FONTFAMILY=e.fontStyle&&null!=e.fontStyle.family?e.fontStyle.family:this.FIELD_TEXT_FONTFAMILY,this.FIELD_TEXT_FONTWEIGHT=e.fontStyle&&null!=e.fontStyle.weight?e.fontStyle.weight:this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTSIZE=e.fontStyle&&null!=e.fontStyle.size?e.fontStyle.size:this.FIELD_TEXT_FONTSIZE,e=t.utils.dom.measureFontMetrics("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline},t.blockRendering.ConstantProvider.prototype.setComponentConstants_=function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY},t.blockRendering.ConstantProvider.prototype.getBlockStyleForColour=function(e){var n="auto_"+e;return this.blockStyles[n]||(this.blockStyles[n]=this.createBlockStyle_(e)),{style:this.blockStyles[n],name:n}},t.blockRendering.ConstantProvider.prototype.getBlockStyle=function(e){return this.blockStyles[e||""]||(e&&0==e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))},t.blockRendering.ConstantProvider.prototype.createBlockStyle_=function(e){return this.validatedBlockStyle_({colourPrimary:e})},t.blockRendering.ConstantProvider.prototype.validatedBlockStyle_=function(e){var n={};return e&&t.utils.object.mixin(n,e),e=t.utils.parseBlockColour(n.colourPrimary||"#000"),n.colourPrimary=e.hex,n.colourSecondary=n.colourSecondary?t.utils.parseBlockColour(n.colourSecondary).hex:this.generateSecondaryColour_(n.colourPrimary),n.colourTertiary=n.colourTertiary?t.utils.parseBlockColour(n.colourTertiary).hex:this.generateTertiaryColour_(n.colourPrimary),n.hat=n.hat||"",n},t.blockRendering.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#fff",e,.6)||e},t.blockRendering.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#fff",e,.3)||e},t.blockRendering.ConstantProvider.prototype.dispose=function(){this.embossFilter_&&t.utils.dom.removeNode(this.embossFilter_),this.disabledPattern_&&t.utils.dom.removeNode(this.disabledPattern_),this.debugFilter_&&t.utils.dom.removeNode(this.debugFilter_),this.cssNode_=null},t.blockRendering.ConstantProvider.prototype.makeJaggedTeeth=function(){var e=this.JAGGED_TEETH_HEIGHT,n=this.JAGGED_TEETH_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.line([t.utils.svgPaths.point(n,e/4),t.utils.svgPaths.point(2*-n,e/2),t.utils.svgPaths.point(n,e/4)])}},t.blockRendering.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(30,-e),t.utils.svgPaths.point(70,-e),t.utils.svgPaths.point(n,0)])}},t.blockRendering.ConstantProvider.prototype.makePuzzleTab=function(){function e(D){var F=-(D=D?-1:1),W=a/2,te=W+2.5,oe=W+.5,q=t.utils.svgPaths.point(-n,D*W);return W=t.utils.svgPaths.point(n,D*W),t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(0,D*te),t.utils.svgPaths.point(-n,F*oe),q])+t.utils.svgPaths.curve("s",[t.utils.svgPaths.point(n,2.5*F),W])}var n=this.TAB_WIDTH,a=this.TAB_HEIGHT,u=e(!0),C=e(!1);return{type:this.SHAPES.PUZZLE,width:n,height:a,pathDown:C,pathUp:u}},t.blockRendering.ConstantProvider.prototype.makeNotch=function(){function e(F){return t.utils.svgPaths.line([t.utils.svgPaths.point(F*u,a),t.utils.svgPaths.point(3*F,0),t.utils.svgPaths.point(F*u,-a)])}var n=this.NOTCH_WIDTH,a=this.NOTCH_HEIGHT,u=(n-3)/2,C=e(1),D=e(-1);return{type:this.SHAPES.NOTCH,width:n,height:a,pathLeft:C,pathRight:D}},t.blockRendering.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e))}},t.blockRendering.ConstantProvider.prototype.makeOutsideCorners=function(){var e=this.CORNER_RADIUS,n=t.utils.svgPaths.moveBy(0,e)+t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,-e)),a=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e)),u=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,-e));return{topLeft:n,topRight:a,bottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e)),bottomLeft:u,rightHeight:e}},t.blockRendering.ConstantProvider.prototype.shapeFor=function(e){switch(e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:return this.PUZZLE_TAB;case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}},t.blockRendering.ConstantProvider.prototype.createDom=function(e,n,a){this.injectCSS_(n,a),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},n),a=t.utils.dom.createSvgElement(t.utils.Svg.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},a),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},n),this.embossFilterId=n.id,this.embossFilter_=n,n=t.utils.dom.createSvgElement(t.utils.Svg.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},e),t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:10,height:10,fill:"#aaa"},n),t.utils.dom.createSvgElement(t.utils.Svg.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},n),this.disabledPatternId=n.id,this.disabledPattern_=n,t.blockRendering.Debug&&(e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter_=e)},t.blockRendering.ConstantProvider.prototype.injectCSS_=function(e,n){n=this.getCSS_(n),e="blockly-renderer-style-"+e,this.cssNode_=document.getElementById(e);var a=n.join("\n");this.cssNode_?this.cssNode_.firstChild.textContent=a:((n=document.createElement("style")).id=e,e=document.createTextNode(a),n.appendChild(e),document.head.insertBefore(n,document.head.firstChild),this.cssNode_=n)},t.blockRendering.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText, ",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect,",e+" .blocklyEditableText>rect {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","fill-opacity: .6;","stroke: none;","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text {","fill: #000;","}",e+" .blocklyFlyoutLabelText {","fill: #000;","}",e+" .blocklyText.blocklyBubbleText {","fill: #000;","}",e+" .blocklyEditableText:not(.editing):hover>rect {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","}",e+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",e+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",e+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",e+" .blocklyReplaceable .blocklyPathLight,",e+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.blockRendering.Types={NONE:0,FIELD:1,HAT:2,ICON:4,SPACER:8,BETWEEN_ROW_SPACER:16,IN_ROW_SPACER:32,EXTERNAL_VALUE_INPUT:64,INPUT:128,INLINE_INPUT:256,STATEMENT_INPUT:512,CONNECTION:1024,PREVIOUS_CONNECTION:2048,NEXT_CONNECTION:4096,OUTPUT_CONNECTION:8192,CORNER:16384,LEFT_SQUARE_CORNER:32768,LEFT_ROUND_CORNER:65536,RIGHT_SQUARE_CORNER:131072,RIGHT_ROUND_CORNER:262144,JAGGED_EDGE:524288,ROW:1048576,TOP_ROW:2097152,BOTTOM_ROW:4194304,INPUT_ROW:8388608},t.blockRendering.Types.LEFT_CORNER=t.blockRendering.Types.LEFT_SQUARE_CORNER|t.blockRendering.Types.LEFT_ROUND_CORNER,t.blockRendering.Types.RIGHT_CORNER=t.blockRendering.Types.RIGHT_SQUARE_CORNER|t.blockRendering.Types.RIGHT_ROUND_CORNER,t.blockRendering.Types.nextTypeValue_=16777216,t.blockRendering.Types.getType=function(e){return Object.prototype.hasOwnProperty.call(t.blockRendering.Types,e)||(t.blockRendering.Types[e]=t.blockRendering.Types.nextTypeValue_,t.blockRendering.Types.nextTypeValue_<<=1),t.blockRendering.Types[e]},t.blockRendering.Types.isField=function(e){return e.type&t.blockRendering.Types.FIELD},t.blockRendering.Types.isHat=function(e){return e.type&t.blockRendering.Types.HAT},t.blockRendering.Types.isIcon=function(e){return e.type&t.blockRendering.Types.ICON},t.blockRendering.Types.isSpacer=function(e){return e.type&t.blockRendering.Types.SPACER},t.blockRendering.Types.isInRowSpacer=function(e){return e.type&t.blockRendering.Types.IN_ROW_SPACER},t.blockRendering.Types.isInput=function(e){return e.type&t.blockRendering.Types.INPUT},t.blockRendering.Types.isExternalInput=function(e){return e.type&t.blockRendering.Types.EXTERNAL_VALUE_INPUT},t.blockRendering.Types.isInlineInput=function(e){return e.type&t.blockRendering.Types.INLINE_INPUT},t.blockRendering.Types.isStatementInput=function(e){return e.type&t.blockRendering.Types.STATEMENT_INPUT},t.blockRendering.Types.isPreviousConnection=function(e){return e.type&t.blockRendering.Types.PREVIOUS_CONNECTION},t.blockRendering.Types.isNextConnection=function(e){return e.type&t.blockRendering.Types.NEXT_CONNECTION},t.blockRendering.Types.isPreviousOrNextConnection=function(e){return e.type&(t.blockRendering.Types.PREVIOUS_CONNECTION|t.blockRendering.Types.NEXT_CONNECTION)},t.blockRendering.Types.isLeftRoundedCorner=function(e){return e.type&t.blockRendering.Types.LEFT_ROUND_CORNER},t.blockRendering.Types.isRightRoundedCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_ROUND_CORNER},t.blockRendering.Types.isLeftSquareCorner=function(e){return e.type&t.blockRendering.Types.LEFT_SQUARE_CORNER},t.blockRendering.Types.isRightSquareCorner=function(e){return e.type&t.blockRendering.Types.RIGHT_SQUARE_CORNER},t.blockRendering.Types.isCorner=function(e){return e.type&t.blockRendering.Types.CORNER},t.blockRendering.Types.isJaggedEdge=function(e){return e.type&t.blockRendering.Types.JAGGED_EDGE},t.blockRendering.Types.isRow=function(e){return e.type&t.blockRendering.Types.ROW},t.blockRendering.Types.isBetweenRowSpacer=function(e){return e.type&t.blockRendering.Types.BETWEEN_ROW_SPACER},t.blockRendering.Types.isTopRow=function(e){return e.type&t.blockRendering.Types.TOP_ROW},t.blockRendering.Types.isBottomRow=function(e){return e.type&t.blockRendering.Types.BOTTOM_ROW},t.blockRendering.Types.isTopOrBottomRow=function(e){return e.type&(t.blockRendering.Types.TOP_ROW|t.blockRendering.Types.BOTTOM_ROW)},t.blockRendering.Types.isInputRow=function(e){return e.type&t.blockRendering.Types.INPUT_ROW},t.blockRendering.Measurable=function(e){this.height=this.width=0,this.type=t.blockRendering.Types.NONE,this.centerline=this.xPos=0,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT},t.blockRendering.Connection=function(e,n){t.blockRendering.Connection.superClass_.constructor.call(this,e),this.connectionModel=n,this.shape=this.constants_.shapeFor(n),this.isDynamicShape=!!this.shape.isDynamic,this.type|=t.blockRendering.Types.CONNECTION},t.utils.object.inherits(t.blockRendering.Connection,t.blockRendering.Measurable),t.blockRendering.OutputConnection=function(e,n){t.blockRendering.OutputConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.OutputConnection,t.blockRendering.Connection),t.blockRendering.PreviousConnection=function(e,n){t.blockRendering.PreviousConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.PreviousConnection,t.blockRendering.Connection),t.blockRendering.NextConnection=function(e,n){t.blockRendering.NextConnection.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width},t.utils.object.inherits(t.blockRendering.NextConnection,t.blockRendering.Connection),t.blockRendering.InputConnection=function(e,n){t.blockRendering.InputConnection.superClass_.constructor.call(this,e,n.connection),this.type|=t.blockRendering.Types.INPUT,this.input=n,this.align=n.align,(this.connectedBlock=n.connection&&n.connection.targetBlock()?n.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0,this.connectionOffsetY=this.connectionOffsetX=0},t.utils.object.inherits(t.blockRendering.InputConnection,t.blockRendering.Connection),t.blockRendering.InlineInput=function(e,n){t.blockRendering.InlineInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY=this.isDynamicShape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX=this.isDynamicShape?this.shape.connectionOffsetX(this.connectionWidth):0},t.utils.object.inherits(t.blockRendering.InlineInput,t.blockRendering.InputConnection),t.blockRendering.StatementInput=function(e,n){t.blockRendering.StatementInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width},t.utils.object.inherits(t.blockRendering.StatementInput,t.blockRendering.InputConnection),t.blockRendering.ExternalValueInput=function(e,n){t.blockRendering.ExternalValueInput.superClass_.constructor.call(this,e,n),this.type|=t.blockRendering.Types.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width},t.utils.object.inherits(t.blockRendering.ExternalValueInput,t.blockRendering.InputConnection),t.blockRendering.Icon=function(e,n){t.blockRendering.Icon.superClass_.constructor.call(this,e),this.icon=n,this.isVisible=n.isVisible(),this.type|=t.blockRendering.Types.ICON,e=n.getCorrectedSize(),this.height=e.height,this.width=e.width},t.utils.object.inherits(t.blockRendering.Icon,t.blockRendering.Measurable),t.blockRendering.JaggedEdge=function(e){t.blockRendering.JaggedEdge.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width},t.utils.object.inherits(t.blockRendering.JaggedEdge,t.blockRendering.Measurable),t.blockRendering.Field=function(e,n,a){t.blockRendering.Field.superClass_.constructor.call(this,e),this.field=n,this.isEditable=n.EDITABLE,this.flipRtl=n.getFlipRtl(),this.type|=t.blockRendering.Types.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width,this.parentInput=a},t.utils.object.inherits(t.blockRendering.Field,t.blockRendering.Measurable),t.blockRendering.Hat=function(e){t.blockRendering.Hat.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height},t.utils.object.inherits(t.blockRendering.Hat,t.blockRendering.Measurable),t.blockRendering.SquareCorner=function(e,n){t.blockRendering.SquareCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_SQUARE_CORNER:t.blockRendering.Types.LEFT_SQUARE_CORNER)|t.blockRendering.Types.CORNER,this.width=this.height=this.constants_.NO_PADDING},t.utils.object.inherits(t.blockRendering.SquareCorner,t.blockRendering.Measurable),t.blockRendering.RoundCorner=function(e,n){t.blockRendering.RoundCorner.superClass_.constructor.call(this,e),this.type=(n&&"left"!=n?t.blockRendering.Types.RIGHT_ROUND_CORNER:t.blockRendering.Types.LEFT_ROUND_CORNER)|t.blockRendering.Types.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2},t.utils.object.inherits(t.blockRendering.RoundCorner,t.blockRendering.Measurable),t.blockRendering.InRowSpacer=function(e,n){t.blockRendering.InRowSpacer.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.IN_ROW_SPACER,this.width=n,this.height=this.constants_.SPACER_DEFAULT_HEIGHT},t.utils.object.inherits(t.blockRendering.InRowSpacer,t.blockRendering.Measurable),t.blockRendering.Row=function(e){this.type=t.blockRendering.Types.ROW,this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=this.hasStatement=this.hasExternalInput=!1,this.constants_=e,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT,this.align=null},t.blockRendering.Row.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.")},t.blockRendering.Row.prototype.getLastInput=function(){for(var n,e=this.elements.length-1;n=this.elements[e];e--)if(t.blockRendering.Types.isInput(n))return n;return null},t.blockRendering.Row.prototype.startsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.endsWithElemSpacer=function(){return!0},t.blockRendering.Row.prototype.getFirstSpacer=function(){for(var n,e=0;n=this.elements[e];e++)if(t.blockRendering.Types.isSpacer(n))return n;return null},t.blockRendering.Row.prototype.getLastSpacer=function(){for(var n,e=this.elements.length-1;n=this.elements[e];e--)if(t.blockRendering.Types.isSpacer(n))return n;return null},t.blockRendering.TopRow=function(e){t.blockRendering.TopRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.TOP_ROW,this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null},t.utils.object.inherits(t.blockRendering.TopRow,t.blockRendering.Row),t.blockRendering.TopRow.prototype.hasLeftSquareCorner=function(e){var n=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,a=e.getPreviousBlock();return!!e.outputConnection||n||!!a&&a.getNextBlock()==e},t.blockRendering.TopRow.prototype.hasRightSquareCorner=function(e){return!0},t.blockRendering.TopRow.prototype.measure=function(){for(var C,e=0,n=0,a=0,u=0;C=this.elements[u];u++)n+=C.width,t.blockRendering.Types.isSpacer(C)||(t.blockRendering.Types.isHat(C)?a=Math.max(a,C.ascenderHeight):e=Math.max(e,C.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,e)+a,this.capline=this.ascenderHeight=a,this.widthWithConnectedBlocks=this.width},t.blockRendering.TopRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow=function(e){t.blockRendering.BottomRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.BOTTOM_ROW,this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0},t.utils.object.inherits(t.blockRendering.BottomRow,t.blockRendering.Row),t.blockRendering.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||!!e.getNextBlock()},t.blockRendering.BottomRow.prototype.hasRightSquareCorner=function(e){return!0},t.blockRendering.BottomRow.prototype.measure=function(){for(var C,e=0,n=0,a=0,u=0;C=this.elements[u];u++)n+=C.width,t.blockRendering.Types.isSpacer(C)||(t.blockRendering.Types.isNextConnection(C)?a=Math.max(a,C.height):e=Math.max(e,C.height));this.width=Math.max(this.minWidth,n),this.height=Math.max(this.minHeight,e)+a,this.descenderHeight=a,this.widthWithConnectedBlocks=this.width},t.blockRendering.BottomRow.prototype.startsWithElemSpacer=function(){return!1},t.blockRendering.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.blockRendering.SpacerRow=function(e,n,a){t.blockRendering.SpacerRow.superClass_.constructor.call(this,e),this.type=this.type|t.blockRendering.Types.SPACER|t.blockRendering.Types.BETWEEN_ROW_SPACER,this.width=a,this.height=n,this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.elements=[new t.blockRendering.InRowSpacer(this.constants_,a)]},t.utils.object.inherits(t.blockRendering.SpacerRow,t.blockRendering.Row),t.blockRendering.SpacerRow.prototype.measure=function(){},t.blockRendering.InputRow=function(e){t.blockRendering.InputRow.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.INPUT_ROW,this.connectedBlockWidths=0},t.utils.object.inherits(t.blockRendering.InputRow,t.blockRendering.Row),t.blockRendering.InputRow.prototype.measure=function(){this.width=this.minWidth,this.height=this.minHeight;for(var a,e=0,n=0;a=this.elements[n];n++)this.width+=a.width,t.blockRendering.Types.isInput(a)&&(t.blockRendering.Types.isStatementInput(a)?e+=a.connectedBlockWidth:t.blockRendering.Types.isExternalInput(a)&&0!=a.connectedBlockWidth&&(e+=a.connectedBlockWidth-a.connectionWidth)),t.blockRendering.Types.isSpacer(a)||(this.height=Math.max(this.height,a.height));this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e},t.blockRendering.InputRow.prototype.endsWithElemSpacer=function(){return!this.hasExternalInput&&!this.hasStatement},t.blockRendering.RenderInfo=function(e,n){this.block_=n,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new t.blockRendering.OutputConnection(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.hiddenIcons=[],this.topRow=new t.blockRendering.TopRow(this.constants_),this.bottomRow=new t.blockRendering.BottomRow(this.constants_),this.startY=this.startX=0},t.blockRendering.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.blockRendering.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.blockRendering.RenderInfo.prototype.createRows_=function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new t.blockRendering.InputRow(this.constants_);this.inputRows.push(e);for(var u,n=this.block_.getIcons(),a=0;u=n[a];a++){var C=new t.blockRendering.Icon(this.constants_,u);this.isCollapsed&&u.collapseHidden?this.hiddenIcons.push(C):e.elements.push(C)}for(u=null,a=0;n=this.block_.inputList[a];a++)if(n.isVisible()){for(this.shouldStartNewRow_(n,u)&&(this.rows.push(e),e=new t.blockRendering.InputRow(this.constants_),this.inputRows.push(e)),u=0;C=n.fieldRow[u];u++)e.elements.push(new t.blockRendering.Field(this.constants_,C,n));this.addInput_(n,e),u=n}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new t.blockRendering.JaggedEdge(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)},t.blockRendering.RenderInfo.prototype.populateTopRow_=function(){var e=!!this.block_.previousConnection,n=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e,a=this.topRow.hasLeftSquareCorner(this.block_)?t.blockRendering.SquareCorner:t.blockRendering.RoundCorner;this.topRow.elements.push(new a(this.constants_)),n?(e=new t.blockRendering.Hat(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new t.blockRendering.PreviousConnection(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.topRow.minHeight=this.block_.inputList.length&&this.block_.inputList[0].type==t.inputTypes.STATEMENT&&!this.block_.isCollapsed()?this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.constants_.TOP_ROW_MIN_HEIGHT,a=this.topRow.hasRightSquareCorner(this.block_)?t.blockRendering.SquareCorner:t.blockRendering.RoundCorner,this.topRow.elements.push(new a(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.populateBottomRow_=function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_)):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new t.blockRendering.NextConnection(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new t.blockRendering.SquareCorner(this.constants_,"right")):this.bottomRow.elements.push(new t.blockRendering.RoundCorner(this.constants_,"right"))},t.blockRendering.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(n.elements.push(new t.blockRendering.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),null==n.align&&(n.align=e.align)},t.blockRendering.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!(!n||e.type!=t.inputTypes.STATEMENT&&n.type!=t.inputTypes.STATEMENT&&(e.type!=t.inputTypes.VALUE&&e.type!=t.inputTypes.DUMMY||this.isInline))},t.blockRendering.RenderInfo.prototype.addElemSpacing_=function(){for(var n,e=0;n=this.rows[e];e++){var a=n.elements;if(n.elements=[],n.startsWithElemSpacer()&&n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,a[0]))),a.length){for(var u=0;u<a.length-1;u++){n.elements.push(a[u]);var C=this.getInRowSpacing_(a[u],a[u+1]);n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,C))}n.elements.push(a[a.length-1]),n.endsWithElemSpacer()&&n.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(a[a.length-1],null)))}}},t.blockRendering.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e&&n&&t.blockRendering.Types.isStatementInput(n))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}return e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.computeBounds_=function(){for(var C,e=0,n=0,a=0,u=0;C=this.rows[u];u++){if(C.measure(),n=Math.max(n,C.width),C.hasStatement){var D=C.getLastInput();e=Math.max(e,C.width-D.width)}a=Math.max(a,C.widthWithConnectedBlocks)}for(this.statementEdge=e,this.width=n,u=0;C=this.rows[u];u++)C.hasStatement&&(C.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,a),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)},t.blockRendering.RenderInfo.prototype.alignRowElements_=function(){for(var n,e=0;n=this.rows[e];e++)if(n.hasStatement)this.alignStatementRow_(n);else{var a=n.width;0<(a=this.getDesiredRowWidth_(n)-a)&&this.addAlignmentPadding_(n,a),t.blockRendering.Types.isTopOrBottomRow(n)&&(n.widthWithConnectedBlocks=n.width)}},t.blockRendering.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.addAlignmentPadding_=function(e,n){var a=e.getFirstSpacer(),u=e.getLastSpacer();(e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=n),e.align==t.constants.ALIGN.LEFT?u.width+=n:e.align==t.constants.ALIGN.CENTRE?(a.width+=n/2,u.width+=n/2):e.align==t.constants.ALIGN.RIGHT?a.width+=n:u.width+=n,e.width+=n},t.blockRendering.RenderInfo.prototype.alignStatementRow_=function(e){var n=e.getLastInput(),a=e.width-n.width,u=this.statementEdge;0<(a=u-a)&&this.addAlignmentPadding_(e,a),a=e.width,u=this.getDesiredRowWidth_(e),n.width+=u-a,n.height=Math.max(n.height,e.height),e.width+=u-a,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)},t.blockRendering.RenderInfo.prototype.addRowSpacing_=function(){var e=this.rows;this.rows=[];for(var n=0;n<e.length;n++)this.rows.push(e[n]),n!=e.length-1&&this.rows.push(this.makeSpacerRow_(e[n],e[n+1]))},t.blockRendering.RenderInfo.prototype.makeSpacerRow_=function(e,n){var a=this.getSpacerRowHeight_(e,n),u=this.getSpacerRowWidth_(e,n);return a=new t.blockRendering.SpacerRow(this.constants_,a,u),e.hasStatement&&(a.followsStatement=!0),n.hasStatement&&(a.precedesStatement=!0),a},t.blockRendering.RenderInfo.prototype.getSpacerRowWidth_=function(e,n){return this.width-this.startX},t.blockRendering.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return this.constants_.MEDIUM_PADDING},t.blockRendering.RenderInfo.prototype.getElemCenterline_=function(e,n){return t.blockRendering.Types.isSpacer(n)?e.yPos+n.height/2:t.blockRendering.Types.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2):t.blockRendering.Types.isTopRow(e)?t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2:e.yPos+e.height/2},t.blockRendering.RenderInfo.prototype.recordElemPositions_=function(e){for(var u,n=e.xPos,a=0;u=e.elements[a];a++)t.blockRendering.Types.isSpacer(u)&&(u.height=e.height),u.xPos=n,u.centerline=this.getElemCenterline_(e,u),n+=u.width},t.blockRendering.RenderInfo.prototype.finalize_=function(){for(var u,e=0,n=0,a=0;u=this.rows[a];a++)u.yPos=n,u.xPos=this.startX,n+=u.height,e=Math.max(e,u.widthWithConnectedBlocks),this.recordElemPositions_(u);this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight},t.blockRendering.Debug=function(e){this.debugElements_=[],this.svgRoot_=null,this.constants_=e},t.blockRendering.Debug.config={rowSpacers:!0,elemSpacers:!0,rows:!0,elems:!0,connections:!0,blockBounds:!0,connectedBlockBounds:!0,render:!0},t.blockRendering.Debug.prototype.clearElems=function(){for(var n,e=0;n=this.debugElements_[e];e++)t.utils.dom.removeNode(n);this.debugElements_=[]},t.blockRendering.Debug.prototype.drawSpacerRow=function(e,n,a){if(t.blockRendering.Debug.config.rowSpacers){var u=Math.abs(e.height),C=0>e.height;C&&(n-=u),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowSpacerRect blockRenderDebug",x:a?-(e.xPos+e.width):e.xPos,y:n,width:e.width,height:u,stroke:C?"black":"blue",fill:"blue","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawSpacerElem=function(e,n,a){if(t.blockRendering.Debug.config.elemSpacers){n=Math.abs(e.width);var u=0>e.width,C=u?e.xPos-n:e.xPos;a&&(C=-(C+n)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemSpacerRect blockRenderDebug",x:C,y:e.centerline-e.height/2,width:n,height:e.height,stroke:"pink",fill:u?"black":"pink","fill-opacity":"0.5","stroke-width":"1px"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedElem=function(e,n){if(t.blockRendering.Debug.config.elems){var a=e.xPos;n&&(a=-(a+e.width)),this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:a,y:n=e.centerline-e.height/2,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isField(e)&&e.field instanceof t.FieldLabel&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"rowRenderingRect blockRenderDebug",x:a,y:n+this.constants_.FIELD_TEXT_BASELINE,width:e.width,height:"0.1px",stroke:"red",fill:"none","stroke-width":"0.5px"},this.svgRoot_))}t.blockRendering.Types.isInput(e)&&t.blockRendering.Debug.config.connections&&this.drawConnection(e.connectionModel)},t.blockRendering.Debug.prototype.drawConnection=function(e){if(t.blockRendering.Debug.config.connections){if(e.type==t.connectionTypes.INPUT_VALUE)var n=4,a="magenta",u="none";else e.type==t.connectionTypes.OUTPUT_VALUE?(n=2,u=a="magenta"):e.type==t.connectionTypes.NEXT_STATEMENT?(n=4,a="goldenrod",u="none"):e.type==t.connectionTypes.PREVIOUS_STATEMENT&&(n=2,u=a="goldenrod");this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{class:"blockRenderDebug",cx:e.offsetInBlock_.x,cy:e.offsetInBlock_.y,r:n,fill:u,stroke:a},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawRenderedRow=function(e,n,a){t.blockRendering.Debug.config.rows&&(this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"elemRenderingRect blockRenderDebug",x:a?-(e.xPos+e.width):e.xPos,y:e.yPos,width:e.width,height:e.height,stroke:"red",fill:"none","stroke-width":"1px"},this.svgRoot_)),t.blockRendering.Types.isTopOrBottomRow(e)||t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"connectedBlockWidth blockRenderDebug",x:a?-(e.xPos+e.widthWithConnectedBlocks):e.xPos,y:e.yPos,width:e.widthWithConnectedBlocks,height:e.height,stroke:this.randomColour_,fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_)))},t.blockRendering.Debug.prototype.drawRowWithElements=function(e,n,a){for(var u=0,C=e.elements.length;u<C;u++){var D=e.elements[u];D?t.blockRendering.Types.isSpacer(D)?this.drawSpacerElem(D,e.height,a):this.drawRenderedElem(D,a):console.warn("A row has an undefined or null element.",e,D)}this.drawRenderedRow(e,n,a)},t.blockRendering.Debug.prototype.drawBoundingBox=function(e){if(t.blockRendering.Debug.config.blockBounds){var n=e.RTL?-e.width:0;this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockBoundingBox blockRenderDebug",x:n,y:0,width:e.width,height:e.height,stroke:"black",fill:"none","stroke-width":"1px","stroke-dasharray":"5,5"},this.svgRoot_)),t.blockRendering.Debug.config.connectedBlockBounds&&this.debugElements_.push(t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blockRenderDebug",x:n=e.RTL?-e.widthWithChildren:0,y:0,width:e.widthWithChildren,height:e.height,stroke:"#DF57BC",fill:"none","stroke-width":"1px","stroke-dasharray":"3,3"},this.svgRoot_))}},t.blockRendering.Debug.prototype.drawDebug=function(e,n){this.clearElems(),this.svgRoot_=e.getSvgRoot(),this.randomColour_="#"+Math.floor(16777215*Math.random()).toString(16);for(var C,a=0,u=0;C=n.rows[u];u++)t.blockRendering.Types.isBetweenRowSpacer(C)?this.drawSpacerRow(C,a,n.RTL):this.drawRowWithElements(C,a,n.RTL),a+=C.height;e.previousConnection&&this.drawConnection(e.previousConnection),e.nextConnection&&this.drawConnection(e.nextConnection),e.outputConnection&&this.drawConnection(e.outputConnection),n.rightSide&&this.drawRenderedElem(n.rightSide,n.RTL),this.drawBoundingBox(n),this.drawRender(e.pathObject.svgPath)},t.blockRendering.Debug.prototype.drawRender=function(e){t.blockRendering.Debug.config.render&&(e.setAttribute("filter","url(#"+this.constants_.debugFilterId+")"),setTimeout(function(){e.setAttribute("filter","")},100))},t.blockRendering.Drawer=function(e,n){this.block_=e,this.info_=n,this.topLeft_=e.getRelativeToSurfaceXY(),this.inlinePath_=this.outlinePath_="",this.constants_=n.getRenderer().getConstants()},t.blockRendering.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.blockRendering.Drawer.prototype.recordSizeOnBlock_=function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren},t.blockRendering.Drawer.prototype.hideHiddenIcons_=function(){for(var n,e=0;n=this.info_.hiddenIcons[e];e++)n.icon.iconGroup_.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawOutline_=function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var n=this.info_.rows[e];n.hasJaggedEdge?this.drawJaggedEdge_(n):n.hasStatement?this.drawStatementInput_(n):n.hasExternalInput?this.drawValueInput_(n):this.drawRightSideRow_(n)}this.drawBottom_(),this.drawLeft_()},t.blockRendering.Drawer.prototype.drawTop_=function(){var e=this.info_.topRow,n=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var u,a=0;u=n[a];a++)t.blockRendering.Types.isLeftRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:t.blockRendering.Types.isRightRoundedCorner(u)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:t.blockRendering.Types.isPreviousConnection(u)?this.outlinePath_+=u.shape.pathLeft:t.blockRendering.Types.isHat(u)?this.outlinePath_+=this.constants_.START_HAT.path:t.blockRendering.Types.isSpacer(u)&&(this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",u.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("v",e.height)},t.blockRendering.Drawer.prototype.drawJaggedEdge_=function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+t.utils.svgPaths.lineOnAxis("v",e.height-this.constants_.JAGGED_TEETH.height)},t.blockRendering.Drawer.prototype.drawValueInput_=function(e){var n=e.getLastInput();this.positionExternalValueConnection_(e);var a="function"==typeof n.shape.pathDown?n.shape.pathDown(n.height):n.shape.pathDown;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",n.xPos+n.width)+a+t.utils.svgPaths.lineOnAxis("v",e.height-n.connectionHeight)},t.blockRendering.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),a=n.xPos+n.notchOffset+n.shape.width;n=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var u=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",a)+n+t.utils.svgPaths.lineOnAxis("v",u)+this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.blockRendering.Drawer.prototype.drawRightSideRow_=function(e){this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.blockRendering.Drawer.prototype.drawBottom_=function(){var e=this.info_.bottomRow,n=e.elements;this.positionNextConnection_();for(var D,a=0,u="",C=n.length-1;D=n[C];C--)t.blockRendering.Types.isNextConnection(D)?u+=D.shape.pathRight:t.blockRendering.Types.isLeftSquareCorner(D)?u+=t.utils.svgPaths.lineOnAxis("H",e.xPos):t.blockRendering.Types.isLeftRoundedCorner(D)?u+=this.constants_.OUTSIDE_CORNERS.bottomLeft:t.blockRendering.Types.isRightRoundedCorner(D)?(u+=this.constants_.OUTSIDE_CORNERS.bottomRight,a=this.constants_.OUTSIDE_CORNERS.rightHeight):t.blockRendering.Types.isSpacer(D)&&(u+=t.utils.svgPaths.lineOnAxis("h",-1*D.width));this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-a),this.outlinePath_+=u},t.blockRendering.Drawer.prototype.drawLeft_=function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var n=e.connectionOffsetY+e.height;e="function"==typeof e.shape.pathUp?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",n)+e}this.outlinePath_+="z"},t.blockRendering.Drawer.prototype.drawInternals_=function(){for(var n,e=0;n=this.info_.rows[e];e++)for(var u,a=0;u=n.elements[a];a++)t.blockRendering.Types.isInlineInput(u)?this.drawInlineInput_(u):(t.blockRendering.Types.isIcon(u)||t.blockRendering.Types.isField(u))&&this.layoutField_(u)},t.blockRendering.Drawer.prototype.layoutField_=function(e){if(t.blockRendering.Types.isField(e))var n=e.field.getSvgRoot();else t.blockRendering.Types.isIcon(e)&&(n=e.icon.iconGroup_);var a=e.centerline-e.height/2,u=e.xPos,C="";this.info_.RTL&&(u=-(u+e.width),e.flipRtl&&(u+=e.width,C="scale(-1 1)")),t.blockRendering.Types.isIcon(e)?(n.setAttribute("display","block"),n.setAttribute("transform","translate("+u+","+a+")"),e.icon.computeIconLocation()):n.setAttribute("transform","translate("+u+","+a+")"+C),this.info_.isInsertionMarker&&n.setAttribute("display","none")},t.blockRendering.Drawer.prototype.drawInlineInput_=function(e){var n=e.width,a=e.height,u=e.connectionOffsetY,C=e.connectionHeight+u;this.inlinePath_+=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-a/2)+t.utils.svgPaths.lineOnAxis("v",u)+e.shape.pathDown+t.utils.svgPaths.lineOnAxis("v",a-C)+t.utils.svgPaths.lineOnAxis("h",n-e.connectionWidth)+t.utils.svgPaths.lineOnAxis("v",-a)+"z",this.positionInlineInputConnection_(e)},t.blockRendering.Drawer.prototype.positionInlineInputConnection_=function(e){if(e.connectionModel){var a=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(a*=-1),e.connectionModel.setOffsetInBlock(a,e.centerline-e.height/2+e.connectionOffsetY)}},t.blockRendering.Drawer.prototype.positionStatementInputConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var a=e.xPos+e.statementEdge+n.notchOffset;this.info_.RTL&&(a*=-1),n.connectionModel.setOffsetInBlock(a,e.yPos)}},t.blockRendering.Drawer.prototype.positionExternalValueConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var a=e.xPos+e.width;this.info_.RTL&&(a*=-1),n.connectionModel.setOffsetInBlock(a,e.yPos)}},t.blockRendering.Drawer.prototype.positionPreviousConnection_=function(){var e=this.info_.topRow;if(e.connection){var n=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,0)}},t.blockRendering.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var n=e.connection,a=n.xPos;n.connectionModel.setOffsetInBlock(this.info_.RTL?-a:a,e.baseline)}},t.blockRendering.Drawer.prototype.positionOutputConnection_=function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}},t.Events.MarkerMove=function(e,n,a,u){var C=e?e.workspace.id:void 0;u&&u.getType()==t.ASTNode.types.WORKSPACE&&(C=u.getLocation().id),t.Events.MarkerMove.superClass_.constructor.call(this,C),this.blockId=e?e.id:null,this.oldNode=a,this.newNode=u,this.isCursor=n},t.utils.object.inherits(t.Events.MarkerMove,t.Events.UiBase),t.Events.MarkerMove.prototype.type=t.Events.MARKER_MOVE,t.Events.MarkerMove.prototype.toJson=function(){var e=t.Events.MarkerMove.superClass_.toJson.call(this);return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e},t.Events.MarkerMove.prototype.fromJson=function(e){t.Events.MarkerMove.superClass_.fromJson.call(this,e),this.isCursor=e.isCursor,this.blockId=e.blockId,this.oldNode=e.oldNode,this.newNode=e.newNode},t.registry.register(t.registry.Type.EVENT,t.Events.MARKER_MOVE,t.Events.MarkerMove),t.blockRendering.MarkerSvg=function(e,n,a){this.workspace_=e,this.marker_=a,this.parent_=null,this.constants_=n,this.currentMarkerSvg=null,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=a.colour||e},t.blockRendering.MarkerSvg.CURSOR_CLASS="blocklyCursor",t.blockRendering.MarkerSvg.MARKER_CLASS="blocklyMarker",t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER=.75,t.blockRendering.MarkerSvg.prototype.getSvgRoot=function(){return this.svgGroup_},t.blockRendering.MarkerSvg.prototype.getMarker=function(){return this.marker_},t.blockRendering.MarkerSvg.prototype.isCursor=function(){return"cursor"==this.marker_.type},t.blockRendering.MarkerSvg.prototype.createDom=function(){var e=this.isCursor()?t.blockRendering.MarkerSvg.CURSOR_CLASS:t.blockRendering.MarkerSvg.MARKER_CLASS;return this.svgGroup_=t.utils.dom.createSvgElement(t.utils.Svg.G,{class:e},null),this.createDomInternal_(),this.svgGroup_},t.blockRendering.MarkerSvg.prototype.setParent_=function(e){this.isCursor()?(this.parent_&&this.parent_.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent_&&this.parent_.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent_=e},t.blockRendering.MarkerSvg.prototype.draw=function(e,n){if(n){this.constants_=this.workspace_.getRenderer().getConstants();var a=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker_.colour||a,this.applyColour_(n),this.showAtLocation_(n),this.fireMarkerEvent_(e,n),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()},t.blockRendering.MarkerSvg.prototype.showAtLocation_=function(e){var n=e.getLocation().type;e.getType()==t.ASTNode.types.BLOCK?this.showWithBlock_(e):e.getType()==t.ASTNode.types.OUTPUT?this.showWithOutput_(e):n==t.connectionTypes.INPUT_VALUE?this.showWithInput_(e):n==t.connectionTypes.NEXT_STATEMENT?this.showWithNext_(e):e.getType()==t.ASTNode.types.PREVIOUS?this.showWithPrevious_(e):e.getType()==t.ASTNode.types.FIELD?this.showWithField_(e):e.getType()==t.ASTNode.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()==t.ASTNode.types.STACK&&this.showWithStack_(e)},t.blockRendering.MarkerSvg.prototype.showWithBlockPrevOutput_=function(e){var n=(e=e.getSourceBlock()).width,a=e.height,u=a*t.blockRendering.MarkerSvg.HEIGHT_MULTIPLIER,C=this.constants_.CURSOR_BLOCK_PADDING;if(e.previousConnection){var D=this.constants_.shapeFor(e.previousConnection);this.positionPrevious_(n,C,u,D)}else e.outputConnection?(D=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(n,a,D)):this.positionBlock_(n,C,u);this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithBlock_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithPrevious_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithBlockPrevOutput_(e)},t.blockRendering.MarkerSvg.prototype.showWithCoordinates_=function(e){var n=e.getWsCoordinate();e=n.x,this.workspace_.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,n=n.y,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace_),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithField_=function(e){var n=(e=e.getLocation()).getSize().width,a=e.getSize().height;this.positionRect_(0,0,n,a),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithInput_=function(e){var n=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(n),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithNext_=function(e){var n=e.getLocation();e=n.getSourceBlock();var a=0;n=n.getOffsetInBlock().y;var u=e.getHeightWidth().width;this.workspace_.RTL&&(a=-u),this.positionLine_(a,n,u),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showWithStack_=function(e){var n=(e=e.getLocation()).getHeightWidth(),a=n.width+this.constants_.CURSOR_STACK_PADDING,u=-this.constants_.CURSOR_STACK_PADDING/2,D=u;this.workspace_.RTL&&(D=-(a+u)),this.positionRect_(D,-this.constants_.CURSOR_STACK_PADDING/2,a,n=n.height+this.constants_.CURSOR_STACK_PADDING),this.setParent_(e),this.showCurrent_()},t.blockRendering.MarkerSvg.prototype.showCurrent_=function(){this.hide(),this.currentMarkerSvg.style.display=""},t.blockRendering.MarkerSvg.prototype.positionBlock_=function(e,n,a){e=t.utils.svgPaths.moveBy(-n,a)+t.utils.svgPaths.lineOnAxis("V",-n)+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",a),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionInput_=function(e){var n=e.getOffsetInBlock().x,a=e.getOffsetInBlock().y;e=t.utils.svgPaths.moveTo(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+n+","+a+")"+(this.workspace_.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_},t.blockRendering.MarkerSvg.prototype.positionLine_=function(e,n,a){this.markerSvgLine_.setAttribute("x",e),this.markerSvgLine_.setAttribute("y",n),this.markerSvgLine_.setAttribute("width",a),this.currentMarkerSvg=this.markerSvgLine_},t.blockRendering.MarkerSvg.prototype.positionOutput_=function(e,n,a){e=t.utils.svgPaths.moveBy(e,0)+t.utils.svgPaths.lineOnAxis("h",-(e-a.width))+t.utils.svgPaths.lineOnAxis("v",this.constants_.TAB_OFFSET_FROM_TOP)+a.pathDown+t.utils.svgPaths.lineOnAxis("V",n)+t.utils.svgPaths.lineOnAxis("H",e),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionPrevious_=function(e,n,a,u){e=t.utils.svgPaths.moveBy(-n,a)+t.utils.svgPaths.lineOnAxis("V",-n)+t.utils.svgPaths.lineOnAxis("H",this.constants_.NOTCH_OFFSET_LEFT)+u.pathLeft+t.utils.svgPaths.lineOnAxis("H",e+2*n)+t.utils.svgPaths.lineOnAxis("V",a),this.markerBlock_.setAttribute("d",e),this.workspace_.RTL&&this.flipRtl_(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_},t.blockRendering.MarkerSvg.prototype.positionRect_=function(e,n,a,u){this.markerSvgRect_.setAttribute("x",e),this.markerSvgRect_.setAttribute("y",n),this.markerSvgRect_.setAttribute("width",a),this.markerSvgRect_.setAttribute("height",u),this.currentMarkerSvg=this.markerSvgRect_},t.blockRendering.MarkerSvg.prototype.flipRtl_=function(e){e.setAttribute("transform","scale(-1 1)")},t.blockRendering.MarkerSvg.prototype.hide=function(){this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"},t.blockRendering.MarkerSvg.prototype.fireMarkerEvent_=function(e,n){var a=n.getSourceBlock();e=new(t.Events.get(t.Events.MARKER_MOVE))(a,this.isCursor(),e,n),t.Events.fire(e)},t.blockRendering.MarkerSvg.prototype.getBlinkProperties_=function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}},t.blockRendering.MarkerSvg.prototype.createDomInternal_=function(){if(this.markerSvg_=t.utils.dom.createSvgElement(t.utils.Svg.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=t.utils.dom.createSvgElement(t.utils.Svg.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerSvgLine_),t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerInput_),e.attributeName="stroke",t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerBlock_)}return this.markerSvg_},t.blockRendering.MarkerSvg.prototype.applyColour_=function(e){this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(this.markerSvgLine_.firstChild.setAttribute("values",e=this.colour_+";transparent;transparent;"),this.markerInput_.firstChild.setAttribute("values",e),this.markerBlock_.firstChild.setAttribute("values",e))},t.blockRendering.MarkerSvg.prototype.dispose=function(){this.svgGroup_&&t.utils.dom.removeNode(this.svgGroup_)},t.blockRendering.PathObject=function(e,n,a){this.constants=a,this.svgRoot=e,this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.style=n,this.markerSvg=this.cursorSvg=null},t.blockRendering.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e)},t.blockRendering.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)")},t.blockRendering.PathObject.prototype.setCursorSvg=function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null},t.blockRendering.PathObject.prototype.setMarkerSvg=function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null},t.blockRendering.PathObject.prototype.applyColour=function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())},t.blockRendering.PathObject.prototype.setStyle=function(e){this.style=e},t.blockRendering.PathObject.prototype.setClass_=function(e,n){n?t.utils.dom.addClass(this.svgRoot,e):t.utils.dom.removeClass(this.svgRoot,e)},t.blockRendering.PathObject.prototype.updateHighlighted=function(e){this.svgPath.setAttribute("filter",e?"url(#"+this.constants.embossFilterId+")":"none")},t.blockRendering.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.blockRendering.PathObject.prototype.updateDisabled_=function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")},t.blockRendering.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e)},t.blockRendering.PathObject.prototype.updateDraggingDelete=function(e){this.setClass_("blocklyDraggingDelete",e)},t.blockRendering.PathObject.prototype.updateInsertionMarker=function(e){this.setClass_("blocklyInsertionMarker",e)},t.blockRendering.PathObject.prototype.updateMovable=function(e){this.setClass_("blocklyDraggable",e)},t.blockRendering.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e)},t.blockRendering.PathObject.prototype.updateShapeForInputHighlight=function(e,n){},t.blockRendering.Renderer=function(e){this.name=e,this.overrides=this.constants_=null},t.blockRendering.Renderer.prototype.getClassName=function(){return this.name+"-renderer"},t.blockRendering.Renderer.prototype.init=function(e,n){this.constants_=this.makeConstants_(),n&&(this.overrides=n,t.utils.object.mixin(this.constants_,n)),this.constants_.setTheme(e),this.constants_.init()},t.blockRendering.Renderer.prototype.createDom=function(e,n){this.constants_.createDom(e,this.name+"-"+n.name,"."+this.getClassName()+"."+n.getClassName())},t.blockRendering.Renderer.prototype.refreshDom=function(e,n){var a=this.getConstants();a.dispose(),this.constants_=this.makeConstants_(),this.overrides&&t.utils.object.mixin(this.constants_,this.overrides),this.constants_.randomIdentifier=a.randomIdentifier,this.constants_.setTheme(n),this.constants_.init(),this.createDom(e,n)},t.blockRendering.Renderer.prototype.dispose=function(){this.constants_&&this.constants_.dispose()},t.blockRendering.Renderer.prototype.makeConstants_=function(){return new t.blockRendering.ConstantProvider},t.blockRendering.Renderer.prototype.makeRenderInfo_=function(e){return new t.blockRendering.RenderInfo(this,e)},t.blockRendering.Renderer.prototype.makeDrawer_=function(e,n){return new t.blockRendering.Drawer(e,n)},t.blockRendering.Renderer.prototype.makeDebugger_=function(){if(!t.blockRendering.Debug)throw Error("Missing require for Blockly.blockRendering.Debug");return new t.blockRendering.Debug(this.getConstants())},t.blockRendering.Renderer.prototype.makeMarkerDrawer=function(e,n){return new t.blockRendering.MarkerSvg(e,this.getConstants(),n)},t.blockRendering.Renderer.prototype.makePathObject=function(e,n){return new t.blockRendering.PathObject(e,n,this.constants_)},t.blockRendering.Renderer.prototype.getConstants=function(){return this.constants_},t.blockRendering.Renderer.prototype.shouldHighlightConnection=function(e){return!0},t.blockRendering.Renderer.prototype.orphanCanConnectAtEnd=function(e,n,a){return!!t.Connection.getConnectionForOrphanedConnection(e,a===t.connectionTypes.OUTPUT_VALUE?n.outputConnection:n.previousConnection)},t.blockRendering.Renderer.prototype.getConnectionPreviewMethod=function(e,n,a){return n.type==t.connectionTypes.OUTPUT_VALUE||n.type==t.connectionTypes.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(a,e.targetBlock(),n.type)?t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER:t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INSERTION_MARKER},t.blockRendering.Renderer.prototype.render=function(e){t.blockRendering.useDebugger&&!e.renderingDebugger&&(e.renderingDebugger=this.makeDebugger_());var n=this.makeRenderInfo_(e);n.measure(),this.makeDrawer_(e,n).draw()},t.geras={},t.geras.ConstantProvider=function(){t.geras.ConstantProvider.superClass_.constructor.call(this),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2},t.utils.object.inherits(t.geras.ConstantProvider,t.blockRendering.ConstantProvider),t.geras.ConstantProvider.prototype.getCSS_=function(e){return t.geras.ConstantProvider.superClass_.getCSS_.call(this,e).concat([e+" .blocklyInsertionMarker>.blocklyPathLight,",e+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"])},t.geras.Highlighter=function(e){this.info_=e,this.inlineSteps_=this.steps_="",this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset_=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH},t.geras.Highlighter.prototype.getPath=function(){return this.steps_+"\n"+this.inlineSteps_},t.geras.Highlighter.prototype.drawTopCorner=function(e){this.steps_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY);for(var a,n=0;a=e.elements[n];n++)t.blockRendering.Types.isLeftSquareCorner(a)?this.steps_+=this.highlightConstants_.START_POINT:t.blockRendering.Types.isLeftRoundedCorner(a)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):t.blockRendering.Types.isPreviousConnection(a)?this.steps_+=this.notchPaths_.pathLeft:t.blockRendering.Types.isHat(a)?this.steps_+=this.startPaths_.path(this.RTL_):t.blockRendering.Types.isSpacer(a)&&0!=a.width&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",a.xPos+a.width-this.highlightOffset_));this.steps_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width-this.highlightOffset_)},t.geras.Highlighter.prototype.drawJaggedEdge_=function(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+t.utils.svgPaths.lineOnAxis("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset_))},t.geras.Highlighter.prototype.drawValueInput=function(e){var n=e.getLastInput();if(this.RTL_){var a=e.height-n.connectionHeight;this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width-this.highlightOffset_,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",a)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos+n.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.Highlighter.prototype.drawStatementInput=function(e){var n=e.getLastInput();if(this.RTL_){var a=e.height-2*this.insideCornerPaths_.height;this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",a)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=t.utils.svgPaths.moveTo(n.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+t.utils.svgPaths.lineTo(e.width-n.xPos-this.insideCornerPaths_.width,0)},t.geras.Highlighter.prototype.drawRightSideRow=function(e){var n=e.xPos+e.width-this.highlightOffset_;e.followsStatement&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n)),this.RTL_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("H",n),e.height>this.highlightOffset_&&(this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height-this.highlightOffset_)))},t.geras.Highlighter.prototype.drawBottomRow=function(e){if(this.RTL_)this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.baseline-this.highlightOffset_);else{var n=this.info_.bottomRow.elements[0];t.blockRendering.Types.isLeftSquareCorner(n)?this.steps_+=t.utils.svgPaths.moveTo(e.xPos+this.highlightOffset_,e.baseline-this.highlightOffset_):t.blockRendering.Types.isLeftRoundedCorner(n)&&(this.steps_+=t.utils.svgPaths.moveTo(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}},t.geras.Highlighter.prototype.drawLeft=function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX,e):(this.steps_+=t.utils.svgPaths.moveTo(this.info_.startX+this.highlightOffset_,this.info_.bottomRow.baseline-this.highlightOffset_),this.steps_+=t.utils.svgPaths.lineOnAxis("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t.blockRendering.Types.isLeftRoundedCorner((e=this.info_.topRow).elements[0])?this.steps_+=t.utils.svgPaths.lineOnAxis("V",this.outsideCornerPaths_.height):this.steps_+=t.utils.svgPaths.lineOnAxis("V",e.capline+this.highlightOffset_))},t.geras.Highlighter.prototype.drawInlineInput=function(e){var n=this.highlightOffset_,a=e.xPos+e.connectionWidth,u=e.centerline-e.height/2,C=e.width-e.connectionWidth,D=u+n;this.RTL_?(u=e.connectionOffsetY-n,e=e.height-(e.connectionOffsetY+e.connectionHeight)+n,this.inlineSteps_+=t.utils.svgPaths.moveTo(a-n,D)+t.utils.svgPaths.lineOnAxis("v",u)+this.puzzleTabPaths_.pathDown(this.RTL_)+t.utils.svgPaths.lineOnAxis("v",e)+t.utils.svgPaths.lineOnAxis("h",C)):this.inlineSteps_+=t.utils.svgPaths.moveTo(e.xPos+e.width+n,D)+t.utils.svgPaths.lineOnAxis("v",e.height)+t.utils.svgPaths.lineOnAxis("h",-C)+t.utils.svgPaths.moveTo(a,u+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)},t.geras.InlineInput=function(e,n){t.geras.InlineInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.InlineInput,t.blockRendering.InlineInput),t.geras.StatementInput=function(e,n){t.geras.StatementInput.superClass_.constructor.call(this,e,n),this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)},t.utils.object.inherits(t.geras.StatementInput,t.blockRendering.StatementInput),t.geras.RenderInfo=function(e,n){t.geras.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.geras.RenderInfo,t.blockRendering.RenderInfo),t.geras.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.geras.RenderInfo.prototype.populateBottomRow_=function(){t.geras.RenderInfo.superClass_.populateBottomRow_.call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1].type==t.inputTypes.STATEMENT||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)},t.geras.RenderInfo.prototype.addInput_=function(e,n){this.isInline&&e.type==t.inputTypes.VALUE?(n.elements.push(new t.geras.InlineInput(this.constants_,e)),n.hasInlineInput=!0):e.type==t.inputTypes.STATEMENT?(n.elements.push(new t.geras.StatementInput(this.constants_,e)),n.hasStatement=!0):e.type==t.inputTypes.VALUE?(n.elements.push(new t.blockRendering.ExternalValueInput(this.constants_,e)),n.hasExternalInput=!0):e.type==t.inputTypes.DUMMY&&(n.minHeight=Math.max(n.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),n.hasDummyInput=!0),this.isInline||null!=n.align||(n.align=e.align)},t.geras.RenderInfo.prototype.addElemSpacing_=function(){for(var a,e=!1,n=0;a=this.rows[n];n++)a.hasExternalInput&&(e=!0);for(n=0;a=this.rows[n];n++){var u=a.elements;if(a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,u[0]))),u.length){for(var C=0;C<u.length-1;C++){a.elements.push(u[C]);var D=this.getInRowSpacing_(u[C],u[C+1]);a.elements.push(new t.blockRendering.InRowSpacer(this.constants_,D))}a.elements.push(u[u.length-1]),a.endsWithElemSpacer()&&(D=this.getInRowSpacing_(u[u.length-1],null),e&&a.hasDummyInput&&(D+=this.constants_.TAB_WIDTH),a.elements.push(new t.blockRendering.InRowSpacer(this.constants_,D)))}}},t.geras.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&(!n||t.blockRendering.Types.isStatementInput(n)))return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&t.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset;if(t.blockRendering.Types.isNextConnection(n))return n.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(t.blockRendering.Types.isLeftRoundedCorner(e)&&n){if(t.blockRendering.Types.isPreviousConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS;if(t.blockRendering.Types.isNextConnection(n))return n.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return t.blockRendering.Types.isField(e)&&n&&t.blockRendering.Types.isField(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||!e.hasStatement&&n.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.geras.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2;var a=e.yPos;return t.blockRendering.Types.isField(n)||t.blockRendering.Types.isIcon(n)?(a+=n.height/2,(e.hasInlineInput||e.hasStatement)&&n.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(a+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):a=t.blockRendering.Types.isInlineInput(n)?a+n.height/2:a+e.height/2,a},t.geras.RenderInfo.prototype.alignRowElements_=function(){if(this.isInline){for(var u,e=0,n=null,a=this.rows.length-1;u=this.rows[a];a--)u.nextRightEdge=e,t.blockRendering.Types.isInputRow(u)&&(u.hasStatement&&this.alignStatementRow_(u),n&&n.hasStatement&&u.width<n.width?u.nextRightEdge=n.width:e=u.width,n=u);for(a=e=0;u=this.rows[a];a++)u.hasStatement?e=this.getDesiredRowWidth_(u):t.blockRendering.Types.isSpacer(u)?u.width=Math.max(e,u.nextRightEdge):(0<(e=Math.max(e,u.nextRightEdge)-u.width)&&this.addAlignmentPadding_(u,e),e=u.width)}else t.geras.RenderInfo.superClass_.alignRowElements_.call(this)},t.geras.RenderInfo.prototype.getDesiredRowWidth_=function(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:t.geras.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.geras.RenderInfo.prototype.finalize_=function(){for(var u,e=0,n=0,a=0;u=this.rows[a];a++){u.yPos=n,u.xPos=this.startX,n+=u.height,e=Math.max(e,u.widthWithConnectedBlocks);var C=n-this.topRow.ascenderHeight;u==this.bottomRow&&C<this.constants_.MIN_BLOCK_HEIGHT&&(this.bottomRow.height+=C=this.constants_.MIN_BLOCK_HEIGHT-C,n+=C),this.recordElemPositions_(u)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline},t.geras.Drawer=function(e,n){t.geras.Drawer.superClass_.constructor.call(this,e,n),this.highlighter_=new t.geras.Highlighter(n)},t.utils.object.inherits(t.geras.Drawer,t.blockRendering.Drawer),t.geras.Drawer.prototype.draw=function(){this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_();var e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_()},t.geras.Drawer.prototype.drawTop_=function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),t.geras.Drawer.superClass_.drawTop_.call(this)},t.geras.Drawer.prototype.drawJaggedEdge_=function(e){this.highlighter_.drawJaggedEdge_(e),t.geras.Drawer.superClass_.drawJaggedEdge_.call(this,e)},t.geras.Drawer.prototype.drawValueInput_=function(e){this.highlighter_.drawValueInput(e),t.geras.Drawer.superClass_.drawValueInput_.call(this,e)},t.geras.Drawer.prototype.drawStatementInput_=function(e){this.highlighter_.drawStatementInput(e),t.geras.Drawer.superClass_.drawStatementInput_.call(this,e)},t.geras.Drawer.prototype.drawRightSideRow_=function(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width)+t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.geras.Drawer.prototype.drawBottom_=function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),t.geras.Drawer.superClass_.drawBottom_.call(this)},t.geras.Drawer.prototype.drawLeft_=function(){this.highlighter_.drawLeft(),t.geras.Drawer.superClass_.drawLeft_.call(this)},t.geras.Drawer.prototype.drawInlineInput_=function(e){this.highlighter_.drawInlineInput(e),t.geras.Drawer.superClass_.drawInlineInput_.call(this,e)},t.geras.Drawer.prototype.positionInlineInputConnection_=function(e){if(e.connectionModel){var a=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(a*=-1),e.connectionModel.setOffsetInBlock(a,e.centerline-e.height/2+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionStatementInputConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var a=e.xPos+e.statementEdge+n.notchOffset;n.connectionModel.setOffsetInBlock(a=this.info_.RTL?-1*a:a+this.constants_.DARK_PATH_OFFSET,e.yPos+this.constants_.DARK_PATH_OFFSET)}},t.geras.Drawer.prototype.positionExternalValueConnection_=function(e){var n=e.getLastInput();if(n.connectionModel){var a=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(a*=-1),n.connectionModel.setOffsetInBlock(a,e.yPos)}},t.geras.Drawer.prototype.positionNextConnection_=function(){var e=this.info_.bottomRow;if(e.connection){var n=e.connection,a=n.xPos;n.connectionModel.setOffsetInBlock((this.info_.RTL?-a:a)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}},t.geras.HighlightConstantProvider=function(e){this.constantProvider=e,this.OFFSET=.5,this.START_POINT=t.utils.svgPaths.moveBy(this.OFFSET,this.OFFSET)},t.geras.HighlightConstantProvider.prototype.init=function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()},t.geras.HighlightConstantProvider.prototype.makeInsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,a=(1-Math.SQRT1_2)*(e+n)-n,u=t.utils.svgPaths.moveBy(a,a)+t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-a-n,e-a)),C=t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e+n,e+n)),D=t.utils.svgPaths.moveBy(a,-a)+t.utils.svgPaths.arc("a","0 0,0",e+n,t.utils.svgPaths.point(e-a,a+n));return{width:e+n,height:e,pathTop:function(F){return F?u:""},pathBottom:function(F){return F?C:D}}},t.geras.HighlightConstantProvider.prototype.makeOutsideCorner=function(){var e=this.constantProvider.CORNER_RADIUS,n=this.OFFSET,a=(1-Math.SQRT1_2)*(e-n)+n,u=t.utils.svgPaths.moveBy(a,a)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e-a,-a+n)),C=t.utils.svgPaths.moveBy(n,e)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(e,-e+n)),D=-a,F=t.utils.svgPaths.moveBy(a,D)+t.utils.svgPaths.arc("a","0 0,1",e-n,t.utils.svgPaths.point(-a+n,-D-e));return{height:e,topLeft:function(W){return W?u:C},bottomLeft:function(){return F}}},t.geras.HighlightConstantProvider.prototype.makePuzzleTab=function(){var e=this.constantProvider.TAB_WIDTH,n=this.constantProvider.TAB_HEIGHT,a=t.utils.svgPaths.moveBy(-2,3.4-n)+t.utils.svgPaths.lineTo(-.45*e,-2.1),u=t.utils.svgPaths.lineOnAxis("v",2.5)+t.utils.svgPaths.moveBy(.97*-e,2.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(.05*-e,10),t.utils.svgPaths.point(.3*e,9.5)])+t.utils.svgPaths.moveBy(.67*e,-1.9)+t.utils.svgPaths.lineOnAxis("v",2.5),C=t.utils.svgPaths.lineOnAxis("v",-1.5)+t.utils.svgPaths.moveBy(-.92*e,-.5)+t.utils.svgPaths.curve("q",[t.utils.svgPaths.point(-.19*e,-5.5),t.utils.svgPaths.point(0,-11)])+t.utils.svgPaths.moveBy(.92*e,1),D=t.utils.svgPaths.moveBy(-5,n-.7)+t.utils.svgPaths.lineTo(.46*e,-2.1);return{width:e,height:n,pathUp:function(F){return F?a:C},pathDown:function(F){return F?u:D}}},t.geras.HighlightConstantProvider.prototype.makeNotch=function(){return{pathLeft:t.utils.svgPaths.lineOnAxis("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}},t.geras.HighlightConstantProvider.prototype.makeJaggedTeeth=function(){return{pathLeft:t.utils.svgPaths.lineTo(5.1,2.6)+t.utils.svgPaths.moveBy(-10.2,6.8)+t.utils.svgPaths.lineTo(5.1,2.6),height:12,width:10.2}},t.geras.HighlightConstantProvider.prototype.makeStartHat=function(){var e=this.constantProvider.START_HAT.height,n=t.utils.svgPaths.moveBy(25,-8.7)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(29.7,-6.2),t.utils.svgPaths.point(57.2,-.5),t.utils.svgPaths.point(75,8.7)]),a=t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(17.8,-9.2),t.utils.svgPaths.point(45.3,-14.9),t.utils.svgPaths.point(75,-8.7)])+t.utils.svgPaths.moveTo(100.5,e+.5);return{path:function(u){return u?n:a}}},t.geras.PathObject=function(e,n,a){this.constants=a,this.svgRoot=e,this.svgPathDark=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"},this.svgRoot),this.svgPath=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPath"},this.svgRoot),this.svgPathLight=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyPathLight"},this.svgRoot),this.colourDark="#000000",this.style=n},t.utils.object.inherits(t.geras.PathObject,t.blockRendering.PathObject),t.geras.PathObject.prototype.setPath=function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)},t.geras.PathObject.prototype.setHighlightPath=function(e){this.svgPathLight.setAttribute("d",e)},t.geras.PathObject.prototype.flipRTL=function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")},t.geras.PathObject.prototype.applyColour=function(e){this.svgPathLight.style.display="",this.svgPathDark.style.display="",this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),t.geras.PathObject.superClass_.applyColour.call(this,e),this.svgPath.setAttribute("stroke","none")},t.geras.PathObject.prototype.setStyle=function(e){this.style=e,this.colourDark=t.utils.colour.blend("#000",this.style.colourPrimary,.2)||this.colourDark},t.geras.PathObject.prototype.updateHighlighted=function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")},t.geras.PathObject.prototype.updateShadow_=function(e){e&&(this.svgPathLight.style.display="none",this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))},t.geras.PathObject.prototype.updateDisabled_=function(e){t.geras.PathObject.superClass_.updateDisabled_.call(this,e),e&&this.svgPath.setAttribute("stroke","none")},t.geras.Renderer=function(e){t.geras.Renderer.superClass_.constructor.call(this,e),this.highlightConstants_=null},t.utils.object.inherits(t.geras.Renderer,t.blockRendering.Renderer),t.geras.Renderer.prototype.init=function(e,n){t.geras.Renderer.superClass_.init.call(this,e,n),this.highlightConstants_=this.makeHighlightConstants_(),this.highlightConstants_.init()},t.geras.Renderer.prototype.refreshDom=function(e,n){t.geras.Renderer.superClass_.refreshDom.call(this,e,n),this.getHighlightConstants().init()},t.geras.Renderer.prototype.makeConstants_=function(){return new t.geras.ConstantProvider},t.geras.Renderer.prototype.makeRenderInfo_=function(e){return new t.geras.RenderInfo(this,e)},t.geras.Renderer.prototype.makeDrawer_=function(e,n){return new t.geras.Drawer(e,n)},t.geras.Renderer.prototype.makePathObject=function(e,n){return new t.geras.PathObject(e,n,this.getConstants())},t.geras.Renderer.prototype.makeHighlightConstants_=function(){return new t.geras.HighlightConstantProvider(this.getConstants())},t.geras.Renderer.prototype.getHighlightConstants=function(){return this.highlightConstants_},t.blockRendering.register("geras",t.geras.Renderer),t.thrasos={},t.thrasos.RenderInfo=function(e,n){t.thrasos.RenderInfo.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.thrasos.RenderInfo,t.blockRendering.RenderInfo),t.thrasos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.thrasos.RenderInfo.prototype.addElemSpacing_=function(){for(var a,e=!1,n=0;a=this.rows[n];n++)a.hasExternalInput&&(e=!0);for(n=0;a=this.rows[n];n++){var u=a.elements;a.elements=[],a.startsWithElemSpacer()&&a.elements.push(new t.blockRendering.InRowSpacer(this.constants_,this.getInRowSpacing_(null,u[0])));for(var C=0;C<u.length-1;C++){a.elements.push(u[C]);var D=this.getInRowSpacing_(u[C],u[C+1]);a.elements.push(new t.blockRendering.InRowSpacer(this.constants_,D))}a.elements.push(u[u.length-1]),a.endsWithElemSpacer()&&(D=this.getInRowSpacing_(u[u.length-1],null),e&&a.hasDummyInput&&(D+=this.constants_.TAB_WIDTH),a.elements.push(new t.blockRendering.InRowSpacer(this.constants_,D)))}},t.thrasos.RenderInfo.prototype.getInRowSpacing_=function(e,n){if(!e)return n&&t.blockRendering.Types.isField(n)&&n.isEditable?this.constants_.MEDIUM_PADDING:n&&t.blockRendering.Types.isInlineInput(n)?this.constants_.MEDIUM_LARGE_PADDING:n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!t.blockRendering.Types.isInput(e)&&!n)return t.blockRendering.Types.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:t.blockRendering.Types.isIcon(e)?2*this.constants_.LARGE_PADDING+1:t.blockRendering.Types.isHat(e)?this.constants_.NO_PADDING:t.blockRendering.Types.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:t.blockRendering.Types.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:t.blockRendering.Types.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInput(e)&&!n){if(t.blockRendering.Types.isExternalInput(e))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isInlineInput(e))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(e))return this.constants_.NO_PADDING}if(!t.blockRendering.Types.isInput(e)&&n&&t.blockRendering.Types.isInput(n)){if(t.blockRendering.Types.isField(e)&&e.isEditable){if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.SMALL_PADDING}else{if(t.blockRendering.Types.isInlineInput(n)||t.blockRendering.Types.isExternalInput(n))return this.constants_.MEDIUM_LARGE_PADDING;if(t.blockRendering.Types.isStatementInput(n))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(t.blockRendering.Types.isIcon(e)&&n&&!t.blockRendering.Types.isInput(n))return this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isInlineInput(e)&&n&&t.blockRendering.Types.isField(n))return n.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(t.blockRendering.Types.isLeftSquareCorner(e)&&n){if(t.blockRendering.Types.isHat(n))return this.constants_.NO_PADDING;if(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))return n.notchOffset}return t.blockRendering.Types.isLeftRoundedCorner(e)&&n?n.notchOffset-this.constants_.CORNER_RADIUS:t.blockRendering.Types.isField(e)&&n&&t.blockRendering.Types.isField(n)&&e.isEditable==n.isEditable||n&&t.blockRendering.Types.isJaggedEdge(n)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){return t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:t.blockRendering.Types.isTopRow(e)||t.blockRendering.Types.isBottomRow(n)?this.constants_.NO_PADDING:e.hasExternalInput&&n.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&n.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&n.hasStatement||e.hasDummyInput||n.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING},t.thrasos.RenderInfo.prototype.getElemCenterline_=function(e,n){if(t.blockRendering.Types.isSpacer(n))return e.yPos+n.height/2;if(t.blockRendering.Types.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,t.blockRendering.Types.isNextConnection(n)?e+n.height/2:e-n.height/2;if(t.blockRendering.Types.isTopRow(e))return t.blockRendering.Types.isHat(n)?e.capline-n.height/2:e.capline+n.height/2;var a=e.yPos;return t.blockRendering.Types.isField(n)&&e.hasStatement?a+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+n.height/2):a+e.height/2},t.thrasos.RenderInfo.prototype.finalize_=function(){for(var u,e=0,n=0,a=0;u=this.rows[a];a++){u.yPos=n,u.xPos=this.startX,n+=u.height,e=Math.max(e,u.widthWithConnectedBlocks);var C=n-this.topRow.ascenderHeight;u==this.bottomRow&&C<this.constants_.MIN_BLOCK_HEIGHT&&(this.bottomRow.height+=C=this.constants_.MIN_BLOCK_HEIGHT-C,n+=C),this.recordElemPositions_(u)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(e=Math.max(e,this.block_.nextConnection.targetBlock().getHeightWidth().width)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=n,this.startY=this.topRow.capline},t.thrasos.Renderer=function(e){t.thrasos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.thrasos.Renderer,t.blockRendering.Renderer),t.thrasos.Renderer.prototype.makeRenderInfo_=function(e){return new t.thrasos.RenderInfo(this,e)},t.blockRendering.register("thrasos",t.thrasos.Renderer),t.zelos={},t.zelos.ConstantProvider=function(){t.zelos.ConstantProvider.superClass_.constructor.call(this),this.SMALL_PADDING=this.GRID_UNIT=4,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TAB_OFFSET_FROM_TOP=0,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!0,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter_=null,this.replacementGlowFilterId="",this.replacementGlowFilter_=null},t.utils.object.inherits(t.zelos.ConstantProvider,t.blockRendering.ConstantProvider),t.zelos.ConstantProvider.prototype.setFontConstants_=function(e){t.zelos.ConstantProvider.superClass_.setFontConstants_.call(this,e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING},t.zelos.ConstantProvider.prototype.init=function(){t.zelos.ConstantProvider.superClass_.init.call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth},t.zelos.ConstantProvider.prototype.setDynamicProperties_=function(e){t.zelos.ConstantProvider.superClass_.setDynamicProperties_.call(this,e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var n=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=n&&!isNaN(n)?n:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE},t.zelos.ConstantProvider.prototype.dispose=function(){t.zelos.ConstantProvider.superClass_.dispose.call(this),this.selectedGlowFilter_&&t.utils.dom.removeNode(this.selectedGlowFilter_),this.replacementGlowFilter_&&t.utils.dom.removeNode(this.replacementGlowFilter_)},t.zelos.ConstantProvider.prototype.makeStartHat=function(){var e=this.START_HAT_HEIGHT,n=this.START_HAT_WIDTH;return{height:e,width:n,path:t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(25,-e),t.utils.svgPaths.point(71,-e),t.utils.svgPaths.point(n,0)])}},t.zelos.ConstantProvider.prototype.makeHexagonal=function(){function e(a,u,C){var D=a/2;return t.utils.svgPaths.lineTo(-(C=C?-1:1)*(D=D>n?n:D),a=(u?-1:1)*a/2)+t.utils.svgPaths.lineTo(C*D,a)}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(a){return(a/=2)>n?n:a},height:function(a){return a},connectionOffsetY:function(a){return a/2},connectionOffsetX:function(a){return-a},pathDown:function(a){return e(a,!1,!1)},pathUp:function(a){return e(a,!0,!1)},pathRightDown:function(a){return e(a,!1,!0)},pathRightUp:function(a){return e(a,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeRounded=function(){function e(u,C,D){var F=u>a?u-a:0;return t.utils.svgPaths.arc("a","0 0,1",u=(u>a?a:u)/2,t.utils.svgPaths.point((C?-1:1)*u,(C?-1:1)*u))+t.utils.svgPaths.lineOnAxis("v",(D?1:-1)*F)+t.utils.svgPaths.arc("a","0 0,1",u,t.utils.svgPaths.point((C?1:-1)*u,(C?-1:1)*u))}var n=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,a=2*n;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(u){return(u/=2)>n?n:u},height:function(u){return u},connectionOffsetY:function(u){return u/2},connectionOffsetX:function(u){return-u},pathDown:function(u){return e(u,!1,!1)},pathUp:function(u){return e(u,!0,!1)},pathRightDown:function(u){return e(u,!1,!0)},pathRightUp:function(u){return e(u,!1,!0)}}},t.zelos.ConstantProvider.prototype.makeSquared=function(){function e(a,u,C){return a-=2*n,t.utils.svgPaths.arc("a","0 0,1",n,t.utils.svgPaths.point((u?-1:1)*n,(u?-1:1)*n))+t.utils.svgPaths.lineOnAxis("v",(C?1:-1)*a)+t.utils.svgPaths.arc("a","0 0,1",n,t.utils.svgPaths.point((u?1:-1)*n,(u?-1:1)*n))}var n=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(a){return n},height:function(a){return a},connectionOffsetY:function(a){return a/2},connectionOffsetX:function(a){return-a},pathDown:function(a){return e(a,!1,!1)},pathUp:function(a){return e(a,!0,!1)},pathRightDown:function(a){return e(a,!1,!0)},pathRightUp:function(a){return e(a,!1,!0)}}},t.zelos.ConstantProvider.prototype.shapeFor=function(e){var n=e.getCheck();switch(!n&&e.targetConnection&&(n=e.targetConnection.getCheck()),e.type){case t.connectionTypes.INPUT_VALUE:case t.connectionTypes.OUTPUT_VALUE:if(null!=(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return n&&-1!=n.indexOf("Boolean")?this.HEXAGONAL:(n&&-1!=n.indexOf("Number")||n&&n.indexOf("String"),this.ROUNDED);case t.connectionTypes.PREVIOUS_STATEMENT:case t.connectionTypes.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}},t.zelos.ConstantProvider.prototype.makeNotch=function(){function e(oe){return t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(oe*C/2,0),t.utils.svgPaths.point(oe*C*3/4,F/2),t.utils.svgPaths.point(oe*C,F)])+t.utils.svgPaths.line([t.utils.svgPaths.point(oe*C,D)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(oe*C/4,F/2),t.utils.svgPaths.point(oe*C/2,F),t.utils.svgPaths.point(oe*C,F)])+t.utils.svgPaths.lineOnAxis("h",oe*u)+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(oe*C/2,0),t.utils.svgPaths.point(oe*C*3/4,-F/2),t.utils.svgPaths.point(oe*C,-F)])+t.utils.svgPaths.line([t.utils.svgPaths.point(oe*C,-D)])+t.utils.svgPaths.curve("c",[t.utils.svgPaths.point(oe*C/4,-F/2),t.utils.svgPaths.point(oe*C/2,-F),t.utils.svgPaths.point(oe*C,-F)])}var n=this.NOTCH_WIDTH,a=this.NOTCH_HEIGHT,u=n/3,C=u/3,D=a/2,F=D/2,W=e(1),te=e(-1);return{type:this.SHAPES.NOTCH,width:n,height:a,pathLeft:W,pathRight:te}},t.zelos.ConstantProvider.prototype.makeInsideCorners=function(){var e=this.CORNER_RADIUS,n=t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(-e,e)),a=t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(-e,e));return{width:e,height:e,pathTop:n,pathBottom:t.utils.svgPaths.arc("a","0 0,0",e,t.utils.svgPaths.point(e,e)),rightWidth:e,rightHeight:e,pathTopRight:a,pathBottomRight:t.utils.svgPaths.arc("a","0 0,1",e,t.utils.svgPaths.point(e,e))}},t.zelos.ConstantProvider.prototype.generateSecondaryColour_=function(e){return t.utils.colour.blend("#000",e,.15)||e},t.zelos.ConstantProvider.prototype.generateTertiaryColour_=function(e){return t.utils.colour.blend("#000",e,.25)||e},t.zelos.ConstantProvider.prototype.createDom=function(e,n,a){t.zelos.ConstantProvider.superClass_.createDom.call(this,e,n,a),e=t.utils.dom.createSvgElement(t.utils.Svg.DEFS,{},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},n),a=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},a),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},n),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},n),this.selectedGlowFilterId=n.id,this.selectedGlowFilter_=n,e=t.utils.dom.createSvgElement(t.utils.Svg.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),n=t.utils.dom.createSvgElement(t.utils.Svg.FECOMPONENTTRANSFER,{result:"outBlur"},e),t.utils.dom.createSvgElement(t.utils.Svg.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),t.utils.dom.createSvgElement(t.utils.Svg.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),t.utils.dom.createSvgElement(t.utils.Svg.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter_=e},t.zelos.ConstantProvider.prototype.getCSS_=function(e){return[e+" .blocklyText,",e+" .blocklyFlyoutLabelText {","font: "+this.FIELD_TEXT_FONTWEIGHT+" "+this.FIELD_TEXT_FONTSIZE+"pt "+this.FIELD_TEXT_FONTFAMILY+";","}",e+" .blocklyText {","fill: #fff;","}",e+" .blocklyNonEditableText>rect:not(.blocklyDropdownRect),",e+" .blocklyEditableText>rect:not(.blocklyDropdownRect) {","fill: "+this.FIELD_BORDER_RECT_COLOUR+";","}",e+" .blocklyNonEditableText>text,",e+" .blocklyEditableText>text,",e+" .blocklyNonEditableText>g>text,",e+" .blocklyEditableText>g>text {","fill: #575E75;","}",e+" .blocklyFlyoutLabelText {","fill: #575E75;","}",e+" .blocklyText.blocklyBubbleText {","fill: #575E75;","}",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>rect,",e+" .blocklyDraggable:not(.blocklyDisabled)"," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",e+" .blocklyHtmlInput {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","font-weight: "+this.FIELD_TEXT_FONTWEIGHT+";","color: #575E75;","}",e+" .blocklyDropdownText {","fill: #fff !important;","}",e+".blocklyWidgetDiv .goog-menuitem,",e+".blocklyDropDownDiv .goog-menuitem {","font-family: "+this.FIELD_TEXT_FONTFAMILY+";","}",e+".blocklyDropDownDiv .goog-menuitem-content {","color: #fff;","}",e+" .blocklyHighlightedConnectionPath {","stroke: "+this.SELECTED_GLOW_COLOUR+";","}",e+" .blocklyDisabled > .blocklyOutlinePath {","fill: url(#blocklyDisabledPattern"+this.randomIdentifier+")","}",e+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.INSERTION_MARKER_OPACITY+";","stroke: none;","}"]},t.zelos.TopRow=function(e){t.zelos.TopRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.TopRow,t.blockRendering.TopRow),t.zelos.TopRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.TopRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection||(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection},t.zelos.TopRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},t.zelos.BottomRow=function(e){t.zelos.BottomRow.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.BottomRow,t.blockRendering.BottomRow),t.zelos.BottomRow.prototype.endsWithElemSpacer=function(){return!1},t.zelos.BottomRow.prototype.hasLeftSquareCorner=function(e){return!!e.outputConnection},t.zelos.BottomRow.prototype.hasRightSquareCorner=function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection},t.zelos.RightConnectionShape=function(e){t.zelos.RightConnectionShape.superClass_.constructor.call(this,e),this.type|=t.blockRendering.Types.getType("RIGHT_CONNECTION"),this.width=this.height=0},t.utils.object.inherits(t.zelos.RightConnectionShape,t.blockRendering.Measurable),t.zelos.RenderInfo=function(e,n){t.zelos.RenderInfo.superClass_.constructor.call(this,e,n),this.topRow=new t.zelos.TopRow(this.constants_),this.bottomRow=new t.zelos.BottomRow(this.constants_),this.isInline=!0,this.isMultiRow=!n.getInputsInline()||n.isCollapsed(),this.hasStatementInput=0<n.statementInputCount,this.rightSide=this.outputConnection?new t.zelos.RightConnectionShape(this.constants_):null},t.utils.object.inherits(t.zelos.RenderInfo,t.blockRendering.RenderInfo),t.zelos.RenderInfo.prototype.getRenderer=function(){return this.renderer_},t.zelos.RenderInfo.prototype.measure=function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()},t.zelos.RenderInfo.prototype.shouldStartNewRow_=function(e,n){return!!n&&(e.type==t.inputTypes.STATEMENT||n.type==t.inputTypes.STATEMENT||(e.type==t.inputTypes.VALUE||e.type==t.inputTypes.DUMMY)&&(!this.isInline||this.isMultiRow))},t.zelos.RenderInfo.prototype.getDesiredRowWidth_=function(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):t.zelos.RenderInfo.superClass_.getDesiredRowWidth_.call(this,e)},t.zelos.RenderInfo.prototype.getInRowSpacing_=function(e,n){return e&&n||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&n&&t.blockRendering.Types.isStatementInput(n)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&t.blockRendering.Types.isLeftRoundedCorner(e)&&n&&(t.blockRendering.Types.isPreviousConnection(n)||t.blockRendering.Types.isNextConnection(n))?n.notchOffset-this.constants_.CORNER_RADIUS:e&&t.blockRendering.Types.isLeftSquareCorner(e)&&n&&t.blockRendering.Types.isHat(n)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowHeight_=function(e,n){if(t.blockRendering.Types.isTopRow(e)&&t.blockRendering.Types.isBottomRow(n))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var a=t.blockRendering.Types.isInputRow(e)&&e.hasStatement,u=t.blockRendering.Types.isInputRow(n)&&n.hasStatement;return u||a?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),u&&a?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):t.blockRendering.Types.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):t.blockRendering.Types.isBottomRow(n)?this.outputConnection?!n.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING},t.zelos.RenderInfo.prototype.getSpacerRowWidth_=function(e,n){var a=this.width-this.startX;return t.blockRendering.Types.isInputRow(e)&&e.hasStatement||t.blockRendering.Types.isInputRow(n)&&n.hasStatement?Math.max(a,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):a},t.zelos.RenderInfo.prototype.getElemCenterline_=function(e,n){if(e.hasStatement&&!t.blockRendering.Types.isSpacer(n)&&!t.blockRendering.Types.isStatementInput(n))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(t.blockRendering.Types.isInlineInput(n)){var a=n.connectedBlock;if(a&&a.outputConnection&&a.nextConnection)return e.yPos+a.height/2}return t.zelos.RenderInfo.superClass_.getElemCenterline_.call(this,e,n)},t.zelos.RenderInfo.prototype.addInput_=function(e,n){e.type==t.inputTypes.DUMMY&&n.hasDummyInput&&n.align==t.constants.ALIGN.LEFT&&e.align==t.constants.ALIGN.RIGHT&&(n.rightAlignedDummyInput=e),t.zelos.RenderInfo.superClass_.addInput_.call(this,e,n)},t.zelos.RenderInfo.prototype.addAlignmentPadding_=function(e,n){if(e.rightAlignedDummyInput){for(var a,C,u=0;(C=e.elements[u])&&(t.blockRendering.Types.isSpacer(C)&&(a=C),!t.blockRendering.Types.isField(C)||C.parentInput!=e.rightAlignedDummyInput);u++);if(a)return a.width+=n,void(e.width+=n)}t.zelos.RenderInfo.superClass_.addAlignmentPadding_.call(this,e,n)},t.zelos.RenderInfo.prototype.adjustXPosition_=function(){for(var e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,n=e,a=2;a<this.rows.length-1;a+=2){var u=this.rows[a-1],C=this.rows[a],D=this.rows[a+1];if(u=2==a?!!this.topRow.hasPreviousConnection:!!u.followsStatement,D=a+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!D.precedesStatement,t.blockRendering.Types.isInputRow(C)&&C.hasStatement)C.measure(),n=C.width-C.getLastInput().width+e;else if(u&&(2==a||D)&&t.blockRendering.Types.isInputRow(C)&&!C.hasStatement){D=C.xPos,u=null;for(var W,F=0;W=C.elements[F];F++)t.blockRendering.Types.isSpacer(W)&&(u=W),!(u&&(t.blockRendering.Types.isField(W)||t.blockRendering.Types.isInput(W))&&D<n)||t.blockRendering.Types.isField(W)&&(W.field instanceof t.FieldLabel||W.field instanceof t.FieldImage)||(u.width+=n-D),D+=W.width}}},t.zelos.RenderInfo.prototype.finalizeOutputConnection_=function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){for(var a,e=0,n=0;a=this.rows[n];n++)a.yPos=e,e+=a.height;this.height=e,e=this.outputConnection.shape.height(n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height),n=this.outputConnection.shape.width(n),this.outputConnection.height=e,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=this.outputConnection.shape.connectionOffsetY(e),this.outputConnection.connectionOffsetX=this.outputConnection.shape.connectionOffsetX(n),a=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(a=n,this.rightSide.height=e,this.rightSide.width=a,this.rightSide.centerline=e/2,this.rightSide.xPos=this.width+a),this.startX=n,this.width+=n+a,this.widthWithChildren+=n+a}},t.zelos.RenderInfo.prototype.finalizeHorizontalAlignment_=function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var a,e=0,n=0;a=this.rows[n];n++)if(t.blockRendering.Types.isInputRow(a)){e=a.elements[a.elements.length-2];var u=this.getNegativeSpacing_(a.elements[1]),C=this.getNegativeSpacing_(e),D=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-(e=u+C)<D&&(u=(e=this.width-D)/2,C=e/2),a.elements.unshift(new t.blockRendering.InRowSpacer(this.constants_,-u)),a.elements.push(new t.blockRendering.InRowSpacer(this.constants_,-C))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,n=0;a=this.rows[n];n++)t.blockRendering.Types.isTopOrBottomRow(a)&&(a.elements[1].width-=e,a.elements[1].widthWithConnectedBlocks-=e),a.width-=e,a.widthWithConnectedBlocks-=e}},t.zelos.RenderInfo.prototype.getNegativeSpacing_=function(e){if(!e)return 0;var n=this.outputConnection.width,a=this.outputConnection.shape.type,u=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)return a===u.SHAPES.ROUND?n-(a=this.height/2>(a=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH)?a:this.height/2)*(1-Math.sin(Math.acos((a-this.constants_.SMALL_PADDING)/a))):0;if(t.blockRendering.Types.isInlineInput(e)){var C=e.connectedBlock;return e=C?C.pathObject.outputShapeType:e.shape.type,C&&C.outputConnection&&(C.statementInputCount||C.nextConnection)||a==u.SHAPES.HEXAGONAL&&a!=e?0:n-this.constants_.SHAPE_IN_SHAPE_PADDING[a][e]}return t.blockRendering.Types.isField(e)?a==u.SHAPES.ROUND&&e.field instanceof t.FieldTextInput?n-2.75*u.GRID_UNIT:n-this.constants_.SHAPE_IN_SHAPE_PADDING[a][0]:t.blockRendering.Types.isIcon(e)?this.constants_.SMALL_PADDING:0},t.zelos.RenderInfo.prototype.finalizeVerticalAlignment_=function(){if(!this.outputConnection)for(var e=2;e<this.rows.length-1;e+=2){var n=this.rows[e-1],a=this.rows[e],u=this.rows[e+1],C=2==e,D=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!u.precedesStatement;if(C?this.topRow.hasPreviousConnection:n.followsStatement){var F=3==a.elements.length&&(a.elements[1].field instanceof t.FieldLabel||a.elements[1].field instanceof t.FieldImage);if(!C&&F)n.height-=this.constants_.SMALL_PADDING,u.height-=this.constants_.SMALL_PADDING,a.height-=this.constants_.MEDIUM_PADDING;else if(C||D){if(D){for(C=!1,D=0;F=a.elements[D];D++)if(t.blockRendering.Types.isInlineInput(F)&&F.connectedBlock&&!F.connectedBlock.isShadow()&&40<=F.connectedBlock.getHeightWidth().height){C=!0;break}C&&(n.height-=this.constants_.SMALL_PADDING,u.height-=this.constants_.SMALL_PADDING)}}else n.height+=this.constants_.SMALL_PADDING}}},t.zelos.RenderInfo.prototype.finalize_=function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),t.zelos.RenderInfo.superClass_.finalize_.call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)},t.zelos.Drawer=function(e,n){t.zelos.Drawer.superClass_.constructor.call(this,e,n)},t.utils.object.inherits(t.zelos.Drawer,t.blockRendering.Drawer),t.zelos.Drawer.prototype.draw=function(){var e=this.block_.pathObject;e.beginDrawing(),this.hideHiddenIcons_(),this.drawOutline_(),this.drawInternals_(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),t.blockRendering.useDebugger&&this.block_.renderingDebugger.drawDebug(this.block_,this.info_),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()},t.zelos.Drawer.prototype.drawOutline_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):t.zelos.Drawer.superClass_.drawOutline_.call(this)},t.zelos.Drawer.prototype.drawLeft_=function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():t.zelos.Drawer.superClass_.drawLeft_.call(this)},t.zelos.Drawer.prototype.drawRightSideRow_=function(e){if(!(0>=e.height))if(e.precedesStatement||e.followsStatement){var n=this.constants_.INSIDE_CORNERS.rightHeight;this.outlinePath_+=(e.followsStatement?this.constants_.INSIDE_CORNERS.pathBottomRight:"")+(0<(n=e.height-(e.precedesStatement?n:0))?t.utils.svgPaths.lineOnAxis("V",e.yPos+n):"")+(e.precedesStatement?this.constants_.INSIDE_CORNERS.pathTopRight:"")}else this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.yPos+e.height)},t.zelos.Drawer.prototype.drawRightDynamicConnection_=function(){this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)},t.zelos.Drawer.prototype.drawLeftDynamicConnection_=function(){this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"},t.zelos.Drawer.prototype.drawFlatTop_=function(){var e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=t.utils.svgPaths.moveBy(e.xPos,this.info_.startY),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",e.width)},t.zelos.Drawer.prototype.drawFlatBottom_=function(){var e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("V",e.baseline),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("h",-e.width)},t.zelos.Drawer.prototype.drawInlineInput_=function(e){this.positionInlineInputConnection_(e);var n=e.input.name;if(!e.connectedBlock&&!this.info_.isInsertionMarker){var a=e.width-2*e.connectionWidth;e=t.utils.svgPaths.moveTo(e.xPos+e.connectionWidth,e.centerline-e.height/2)+t.utils.svgPaths.lineOnAxis("h",a)+e.shape.pathRightDown(e.height)+t.utils.svgPaths.lineOnAxis("h",-a)+e.shape.pathUp(e.height)+"z",this.block_.pathObject.setOutlinePath(n,e)}},t.zelos.Drawer.prototype.drawStatementInput_=function(e){var n=e.getLastInput(),a=n.xPos+n.notchOffset+n.shape.width,u=n.shape.pathRight+t.utils.svgPaths.lineOnAxis("h",-(n.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop,C=e.height-2*this.constants_.INSIDE_CORNERS.height;n=this.constants_.INSIDE_CORNERS.pathBottom+t.utils.svgPaths.lineOnAxis("h",n.notchOffset-this.constants_.INSIDE_CORNERS.width)+(n.connectedBottomNextConnection?"":n.shape.pathLeft),this.outlinePath_+=t.utils.svgPaths.lineOnAxis("H",a)+u+t.utils.svgPaths.lineOnAxis("v",C)+n+t.utils.svgPaths.lineOnAxis("H",e.xPos+e.width),this.positionStatementInputConnection_(e)},t.zelos.MarkerSvg=function(e,n,a){t.zelos.MarkerSvg.superClass_.constructor.call(this,e,n,a)},t.utils.object.inherits(t.zelos.MarkerSvg,t.blockRendering.MarkerSvg),t.zelos.MarkerSvg.prototype.showWithInputOutput_=function(e){var n=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle_(e.x,e.y),this.setParent_(n),this.showCurrent_()},t.zelos.MarkerSvg.prototype.showWithOutput_=function(e){this.showWithInputOutput_(e)},t.zelos.MarkerSvg.prototype.showWithInput_=function(e){this.showWithInputOutput_(e)},t.zelos.MarkerSvg.prototype.showWithBlock_=function(e){var n=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,n.width,n.height),this.setParent_(e),this.showCurrent_()},t.zelos.MarkerSvg.prototype.positionCircle_=function(e,n){this.markerCircle_.setAttribute("cx",e),this.markerCircle_.setAttribute("cy",n),this.currentMarkerSvg=this.markerCircle_},t.zelos.MarkerSvg.prototype.hide=function(){t.zelos.MarkerSvg.superClass_.hide.call(this),this.markerCircle_.style.display="none"},t.zelos.MarkerSvg.prototype.createDomInternal_=function(){if(t.zelos.MarkerSvg.superClass_.createDomInternal_.call(this),this.markerCircle_=t.utils.dom.createSvgElement(t.utils.Svg.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){var e=this.getBlinkProperties_();t.utils.dom.createSvgElement(t.utils.Svg.ANIMATE,e,this.markerCircle_)}return this.markerSvg_},t.zelos.MarkerSvg.prototype.applyColour_=function(e){t.zelos.MarkerSvg.superClass_.applyColour_.call(this,e),this.markerCircle_.setAttribute("fill",this.colour_),this.markerCircle_.setAttribute("stroke",this.colour_),this.isCursor()&&this.markerCircle_.firstChild.setAttribute("values",this.colour_+";transparent;transparent;")},t.zelos.PathObject=function(e,n,a){t.zelos.PathObject.superClass_.constructor.call(this,e,n,a),this.constants=a,this.svgPathSelected_=null,this.outlines_=Object.create(null),this.outputShapeType=this.remainingOutlines_=null},t.utils.object.inherits(t.zelos.PathObject,t.blockRendering.PathObject),t.zelos.PathObject.prototype.setPath=function(e){t.zelos.PathObject.superClass_.setPath.call(this,e),this.svgPathSelected_&&this.svgPathSelected_.setAttribute("d",e)},t.zelos.PathObject.prototype.applyColour=function(e){for(var n in t.zelos.PathObject.superClass_.applyColour.call(this,e),e.isShadow()&&e.getParent()&&this.svgPath.setAttribute("stroke",e.getParent().style.colourTertiary),this.outlines_)this.outlines_[n].setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.flipRTL=function(){for(var e in t.zelos.PathObject.superClass_.flipRTL.call(this),this.outlines_)this.outlines_[e].setAttribute("transform","scale(-1 1)")},t.zelos.PathObject.prototype.updateSelected=function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected_||(this.svgPathSelected_=this.svgPath.cloneNode(!0),this.svgPathSelected_.setAttribute("fill","none"),this.svgPathSelected_.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected_)):this.svgPathSelected_&&(this.svgRoot.removeChild(this.svgPathSelected_),this.svgPathSelected_=null)},t.zelos.PathObject.prototype.updateReplacementFade=function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")},t.zelos.PathObject.prototype.updateShapeForInputHighlight=function(e,n){e=e.getParentInput().name,(e=this.getOutlinePath_(e))&&(n?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))},t.zelos.PathObject.prototype.beginDrawing=function(){for(var e in this.remainingOutlines_=Object.create(null),this.outlines_)this.remainingOutlines_[e]=1},t.zelos.PathObject.prototype.endDrawing=function(){if(this.remainingOutlines_)for(var e in this.remainingOutlines_)this.removeOutlinePath_(e);this.remainingOutlines_=null},t.zelos.PathObject.prototype.setOutlinePath=function(e,n){(e=this.getOutlinePath_(e)).setAttribute("d",n),e.setAttribute("fill",this.style.colourTertiary)},t.zelos.PathObject.prototype.getOutlinePath_=function(e){return this.outlines_[e]||(this.outlines_[e]=t.utils.dom.createSvgElement(t.utils.Svg.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines_&&delete this.remainingOutlines_[e],this.outlines_[e]},t.zelos.PathObject.prototype.removeOutlinePath_=function(e){this.outlines_[e].parentNode.removeChild(this.outlines_[e]),delete this.outlines_[e]},t.zelos.Renderer=function(e){t.zelos.Renderer.superClass_.constructor.call(this,e)},t.utils.object.inherits(t.zelos.Renderer,t.blockRendering.Renderer),t.zelos.Renderer.prototype.makeConstants_=function(){return new t.zelos.ConstantProvider},t.zelos.Renderer.prototype.makeRenderInfo_=function(e){return new t.zelos.RenderInfo(this,e)},t.zelos.Renderer.prototype.makeDrawer_=function(e,n){return new t.zelos.Drawer(e,n)},t.zelos.Renderer.prototype.makeMarkerDrawer=function(e,n){return new t.zelos.MarkerSvg(e,this.getConstants(),n)},t.zelos.Renderer.prototype.makePathObject=function(e,n){return new t.zelos.PathObject(e,n,this.getConstants())},t.zelos.Renderer.prototype.shouldHighlightConnection=function(e){return e.type!=t.connectionTypes.INPUT_VALUE&&e.type!==t.connectionTypes.OUTPUT_VALUE},t.zelos.Renderer.prototype.getConnectionPreviewMethod=function(e,n,a){return n.type==t.connectionTypes.OUTPUT_VALUE?e.isConnected()?t.InsertionMarkerManager.PREVIEW_TYPE.REPLACEMENT_FADE:t.InsertionMarkerManager.PREVIEW_TYPE.INPUT_OUTLINE:t.zelos.Renderer.superClass_.getConnectionPreviewMethod(e,n,a)},t.blockRendering.register("zelos",t.zelos.Renderer),t.Themes.Dark=t.Theme.defineTheme("dark",{base:t.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),t.Themes.Deuteranopia={},t.Themes.Deuteranopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#f2a72c",colourSecondary:"#f1c172",colourTertiary:"#da921c"},list_blocks:{colourPrimary:"#7d65ab",colourSecondary:"#a88be0",colourTertiary:"#66518e"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#795a07",colourSecondary:"#ac8726",colourTertiary:"#c4a03f"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"},variable_dynamic_blocks:{colourPrimary:"#47025a",colourSecondary:"#820fa1",colourTertiary:"#8e579d"}},t.Themes.Deuteranopia.categoryStyles={colour_category:{colour:"#f2a72c"},list_category:{colour:"#7d65ab"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#795a07"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#47025a"},variable_dynamic_category:{colour:"#47025a"}},t.Themes.Deuteranopia=new t.Theme("deuteranopia",t.Themes.Deuteranopia.defaultBlockStyles,t.Themes.Deuteranopia.categoryStyles),t.Themes.HighContrast={},t.Themes.HighContrast.defaultBlockStyles={colour_blocks:{colourPrimary:"#a52714",colourSecondary:"#FB9B8C",colourTertiary:"#FBE1DD"},list_blocks:{colourPrimary:"#4a148c",colourSecondary:"#AD7BE9",colourTertiary:"#CDB6E9"},logic_blocks:{colourPrimary:"#01579b",colourSecondary:"#64C7FF",colourTertiary:"#C5EAFF"},loop_blocks:{colourPrimary:"#33691e",colourSecondary:"#9AFF78",colourTertiary:"#E1FFD7"},math_blocks:{colourPrimary:"#1a237e",colourSecondary:"#8A9EFF",colourTertiary:"#DCE2FF"},procedure_blocks:{colourPrimary:"#006064",colourSecondary:"#77E6EE",colourTertiary:"#CFECEE"},text_blocks:{colourPrimary:"#004d40",colourSecondary:"#5ae27c",colourTertiary:"#D2FFDD"},variable_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},variable_dynamic_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB"},hat_blocks:{colourPrimary:"#880e4f",colourSecondary:"#FF73BE",colourTertiary:"#FFD4EB",hat:"cap"}},t.Themes.HighContrast.categoryStyles={colour_category:{colour:"#a52714"},list_category:{colour:"#4a148c"},logic_category:{colour:"#01579b"},loop_category:{colour:"#33691e"},math_category:{colour:"#1a237e"},procedure_category:{colour:"#006064"},text_category:{colour:"#004d40"},variable_category:{colour:"#880e4f"},variable_dynamic_category:{colour:"#880e4f"}},t.Themes.HighContrast=new t.Theme("highcontrast",t.Themes.HighContrast.defaultBlockStyles,t.Themes.HighContrast.categoryStyles),t.Themes.HighContrast.setComponentStyle("selectedGlowColour","#000000"),t.Themes.HighContrast.setComponentStyle("selectedGlowSize",1),t.Themes.HighContrast.setComponentStyle("replacementGlowColour","#000000"),t.Themes.HighContrast.setFontStyle({family:null,weight:null,size:16}),t.Themes.Tritanopia={},t.Themes.Tritanopia.defaultBlockStyles={colour_blocks:{colourPrimary:"#05427f",colourSecondary:"#2974c0",colourTertiary:"#2d74bb"},list_blocks:{colourPrimary:"#b69ce8",colourSecondary:"#ccbaef",colourTertiary:"#9176c5"},logic_blocks:{colourPrimary:"#9fd2f1",colourSecondary:"#c0e0f4",colourTertiary:"#74bae5"},loop_blocks:{colourPrimary:"#aa1846",colourSecondary:"#d36185",colourTertiary:"#7c1636"},math_blocks:{colourPrimary:"#e6da39",colourSecondary:"#f3ec8e",colourTertiary:"#f2eeb7"},procedure_blocks:{colourPrimary:"#590721",colourSecondary:"#8c475d",colourTertiary:"#885464"},text_blocks:{colourPrimary:"#058863",colourSecondary:"#5ecfaf",colourTertiary:"#04684c"},variable_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"},variable_dynamic_blocks:{colourPrimary:"#4b2d84",colourSecondary:"#816ea7",colourTertiary:"#83759e"}},t.Themes.Tritanopia.categoryStyles={colour_category:{colour:"#05427f"},list_category:{colour:"#b69ce8"},logic_category:{colour:"#9fd2f1"},loop_category:{colour:"#aa1846"},math_category:{colour:"#e6da39"},procedure_category:{colour:"#590721"},text_category:{colour:"#058863"},variable_category:{colour:"#4b2d84"},variable_dynamic_category:{colour:"#4b2d84"}},t.Themes.Tritanopia=new t.Theme("tritanopia",t.Themes.Tritanopia.defaultBlockStyles,t.Themes.Tritanopia.categoryStyles),t.requires={},t}.apply(K,[]))&&(B.exports=m)},18783:function(B,K,f){var m,t;m=[f(55484)],void 0!==(t=function(e){"use strict";return e.Blocks={},e.Blocks}.apply(K,m))&&(B.exports=t)},55484:function(B,K,f){var m,t;m=[f(81069)],void 0!==(t=function(e){"use strict";return e.Blocks.colour={},e.Constants={},e.Constants.Colour={},e.Constants.Colour.HUE=20,e.defineBlocksWithJsonArray([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]),e.Constants.Lists={},e.Constants.Lists.HUE=260,e.defineBlocksWithJsonArray([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),e.Blocks.lists_create_with={init:function(){this.setHelpUrl(e.Msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new e.Mutator(["lists_create_with_item"])),this.setTooltip(e.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("items",this.itemCount_),n},domToMutation:function(n){this.itemCount_=parseInt(n.getAttribute("items"),10),this.updateShape_()},decompose:function(n){var a=n.newBlock("lists_create_with_container");a.initSvg();for(var u=a.getInput("STACK").connection,C=0;C<this.itemCount_;C++){var D=n.newBlock("lists_create_with_item");D.initSvg(),u.connect(D.previousConnection),u=D.nextConnection}return a},compose:function(n){var a=n.getInputTargetBlock("STACK");for(n=[];a&&!a.isInsertionMarker();)n.push(a.valueConnection_),a=a.nextConnection&&a.nextConnection.targetBlock();for(a=0;a<this.itemCount_;a++){var u=this.getInput("ADD"+a).connection.targetConnection;u&&-1==n.indexOf(u)&&u.disconnect()}for(this.itemCount_=n.length,this.updateShape_(),a=0;a<this.itemCount_;a++)e.Mutator.reconnect(n[a],this,"ADD"+a)},saveConnections:function(n){n=n.getInputTargetBlock("STACK");for(var a=0;n;){var u=this.getInput("ADD"+a);n.valueConnection_=u&&u.connection.targetConnection,a++,n=n.nextConnection&&n.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(e.Msg.LISTS_CREATE_EMPTY_TITLE);for(var n=0;n<this.itemCount_;n++)if(!this.getInput("ADD"+n)){var a=this.appendValueInput("ADD"+n).setAlign(e.ALIGN_RIGHT);0==n&&a.appendField(e.Msg.LISTS_CREATE_WITH_INPUT_WITH)}for(;this.getInput("ADD"+n);)this.removeInput("ADD"+n),n++}},e.Blocks.lists_create_with_container={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_create_with_item={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(e.Msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}},e.Blocks.lists_indexOf={init:function(){var n=[[e.Msg.LISTS_INDEX_OF_FIRST,"FIRST"],[e.Msg.LISTS_INDEX_OF_LAST,"LAST"]];this.setHelpUrl(e.Msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST),this.appendValueInput("FIND").appendField(new e.FieldDropdown(n),"END"),this.setInputsInline(!0);var a=this;this.setTooltip(function(){return e.Msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",a.workspace.options.oneBasedIndex?"0":"-1")})}},e.Blocks.lists_getIndex={init:function(){var n=[[e.Msg.LISTS_GET_INDEX_GET,"GET"],[e.Msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[e.Msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),n=new e.FieldDropdown(n,function(u){u="REMOVE"==u,this.getSourceBlock().updateStatement_(u)}),this.appendValueInput("VALUE").setCheck("Array").appendField(e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(n,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),e.Msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0);var a=this;this.setTooltip(function(){var u=a.getFieldValue("MODE"),C=a.getFieldValue("WHERE"),D="";switch(u+" "+C){case"GET FROM_START":case"GET FROM_END":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":D=e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return("FROM_START"==C||"FROM_END"==C)&&(D+="  "+("FROM_START"==C?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",a.workspace.options.oneBasedIndex?"#1":"#0")),D})},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");n.setAttribute("statement",!this.outputConnection);var a=this.getInput("AT").type==e.INPUT_VALUE;return n.setAttribute("at",a),n},domToMutation:function(n){var a="true"==n.getAttribute("statement");this.updateStatement_(a),n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateStatement_:function(n){n!=!this.outputConnection&&(this.unplug(!0,!0),n?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var a=new e.FieldDropdown(this.WHERE_OPTIONS,function(u){var C="FROM_START"==u||"FROM_END"==u;if(C!=n){var D=this.getSourceBlock();return D.updateAt_(C),D.setFieldValue(u,"WHERE"),null}});this.getInput("AT").appendField(a,"WHERE"),e.Msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_setIndex={init:function(){var n=[[e.Msg.LISTS_SET_INDEX_SET,"SET"],[e.Msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[e.Msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_INDEX_FIRST,"FIRST"],[e.Msg.LISTS_GET_INDEX_LAST,"LAST"],[e.Msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(e.Msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(new e.FieldDropdown(n),"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(e.Msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(e.Msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0);var a=this;this.setTooltip(function(){var u=a.getFieldValue("MODE"),C=a.getFieldValue("WHERE"),D="";switch(u+" "+C){case"SET FROM_START":case"SET FROM_END":D=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":D=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":D=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":D=e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":D=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":D=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":D=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":D=e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return("FROM_START"==C||"FROM_END"==C)&&(D+="  "+e.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",a.workspace.options.oneBasedIndex?"#1":"#0")),D})},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),a=this.getInput("AT").type==e.INPUT_VALUE;return n.setAttribute("at",a),n},domToMutation:function(n){n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateAt_:function(n){this.removeInput("AT"),this.removeInput("ORDINAL",!0),n?(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var a=new e.FieldDropdown(this.WHERE_OPTIONS,function(u){var C="FROM_START"==u||"FROM_END"==u;if(C!=n){var D=this.getSourceBlock();return D.updateAt_(C),D.setFieldValue(u,"WHERE"),null}});this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(a,"WHERE")}},e.Blocks.lists_getSublist={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[e.Msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[e.Msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),a=this.getInput("AT1").type==e.INPUT_VALUE;return n.setAttribute("at1",a),a=this.getInput("AT2").type==e.INPUT_VALUE,n.setAttribute("at2",a),n},domToMutation:function(n){var a="true"==n.getAttribute("at1");n="true"==n.getAttribute("at2"),this.updateAt_(1,a),this.updateAt_(2,n)},updateAt_:function(n,a){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),a?(this.appendValueInput("AT"+n).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n);var u=new e.FieldDropdown(this["WHERE_OPTIONS_"+n],function(C){var D="FROM_START"==C||"FROM_END"==C;if(D!=a){var F=this.getSourceBlock();return F.updateAt_(n,D),F.setFieldValue(C,"WHERE"+n),null}});this.getInput("AT"+n).appendField(u,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),e.Msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}},e.Blocks.lists_sort={init:function(){this.jsonInit({message0:e.Msg.LISTS_SORT_TITLE,args0:[{type:"field_dropdown",name:"TYPE",options:[[e.Msg.LISTS_SORT_TYPE_NUMERIC,"NUMERIC"],[e.Msg.LISTS_SORT_TYPE_TEXT,"TEXT"],[e.Msg.LISTS_SORT_TYPE_IGNORECASE,"IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[[e.Msg.LISTS_SORT_ORDER_ASCENDING,"1"],[e.Msg.LISTS_SORT_ORDER_DESCENDING,"-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:e.Msg.LISTS_SORT_TOOLTIP,helpUrl:e.Msg.LISTS_SORT_HELPURL})}},e.Blocks.lists_split={init:function(){var n=this,a=new e.FieldDropdown([[e.Msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[e.Msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]],function(u){n.updateType_(u)});this.setHelpUrl(e.Msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(a,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(e.Msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(function(){var u=n.getFieldValue("MODE");if("SPLIT"==u)return e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"==u)return e.Msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+u)})},updateType_:function(n){if(this.getFieldValue("MODE")!=n){var a=this.getInput("INPUT").connection;a.setShadowDom(null);var u=a.targetBlock();u&&(a.disconnect(),u.isShadow()?u.dispose():this.bumpNeighbours())}"SPLIT"==n?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("mode",this.getFieldValue("MODE")),n},domToMutation:function(n){this.updateType_(n.getAttribute("mode"))}},e.Blocks.logic={},e.Constants.Logic={},e.Constants.Logic.HUE=210,e.defineBlocksWithJsonArray([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]),e.defineBlocksWithJsonArray([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),e.Constants.Logic.TOOLTIPS_BY_OP={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"},e.Extensions.register("logic_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Logic.TOOLTIPS_BY_OP)),e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:0,elseCount_:0,suppressPrefixSuffix:!0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var n=e.utils.xml.createElement("mutation");return this.elseifCount_&&n.setAttribute("elseif",this.elseifCount_),this.elseCount_&&n.setAttribute("else",1),n},domToMutation:function(n){this.elseifCount_=parseInt(n.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(n.getAttribute("else"),10)||0,this.rebuildShape_()},decompose:function(n){var a=n.newBlock("controls_if_if");a.initSvg();for(var u=a.nextConnection,C=1;C<=this.elseifCount_;C++){var D=n.newBlock("controls_if_elseif");D.initSvg(),u.connect(D.previousConnection),u=D.nextConnection}return this.elseCount_&&((n=n.newBlock("controls_if_else")).initSvg(),u.connect(n.previousConnection)),a},compose:function(n){n=n.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var a=[null],u=[null],C=null;n&&!n.isInsertionMarker();){switch(n.type){case"controls_if_elseif":this.elseifCount_++,a.push(n.valueConnection_),u.push(n.statementConnection_);break;case"controls_if_else":this.elseCount_++,C=n.statementConnection_;break;default:throw TypeError("Unknown block type: "+n.type)}n=n.nextConnection&&n.nextConnection.targetBlock()}this.updateShape_(),this.reconnectChildBlocks_(a,u,C)},saveConnections:function(n){n=n.nextConnection.targetBlock();for(var a=1;n;){switch(n.type){case"controls_if_elseif":var u=this.getInput("IF"+a),C=this.getInput("DO"+a);n.valueConnection_=u&&u.connection.targetConnection,n.statementConnection_=C&&C.connection.targetConnection,a++;break;case"controls_if_else":C=this.getInput("ELSE"),n.statementConnection_=C&&C.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+n.type)}n=n.nextConnection&&n.nextConnection.targetBlock()}},rebuildShape_:function(){var n=[null],a=[null],u=null;this.getInput("ELSE")&&(u=this.getInput("ELSE").connection.targetConnection);for(var C=1;this.getInput("IF"+C);){var D=this.getInput("IF"+C),F=this.getInput("DO"+C);n.push(D.connection.targetConnection),a.push(F.connection.targetConnection),C++}this.updateShape_(),this.reconnectChildBlocks_(n,a,u)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var n=1;this.getInput("IF"+n);)this.removeInput("IF"+n),this.removeInput("DO"+n),n++;for(n=1;n<=this.elseifCount_;n++)this.appendValueInput("IF"+n).setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+n).appendField(e.Msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(e.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(n,a,u){for(var C=1;C<=this.elseifCount_;C++)e.Mutator.reconnect(n[C],this,"IF"+C),e.Mutator.reconnect(a[C],this,"DO"+C);e.Mutator.reconnect(u,this,"ELSE")}},e.Extensions.registerMutator("controls_if_mutator",e.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,null,["controls_if_elseif","controls_if_else"]),e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?e.Msg.CONTROLS_IF_TOOLTIP_4:"":e.Msg.CONTROLS_IF_TOOLTIP_1}.bind(this))},e.Extensions.register("controls_if_tooltip",e.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION),e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:function(n){this.prevBlocks_||(this.prevBlocks_=[null,null]);var a=this.getInputTargetBlock("A"),u=this.getInputTargetBlock("B");a&&u&&!this.workspace.connectionChecker.doTypeChecks(a.outputConnection,u.outputConnection)&&(e.Events.setGroup(n.group),(n=this.prevBlocks_[0])!==a&&(a.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("A").connection.connect(n.outputConnection)),(a=this.prevBlocks_[1])!==u&&(u.unplug(),!a||a.isDisposed()||a.isShadow()||this.getInput("B").connection.connect(a.outputConnection)),this.bumpNeighbours(),e.Events.setGroup(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},e.Constants.Logic.LOGIC_COMPARE_EXTENSION=function(){this.mixin(e.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)},e.Extensions.register("logic_compare",e.Constants.Logic.LOGIC_COMPARE_EXTENSION),e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:null,onchange:function(n){var a=this.getInputTargetBlock("THEN"),u=this.getInputTargetBlock("ELSE"),C=this.outputConnection.targetConnection;if((a||u)&&C)for(var D=0;2>D;D++){var F=1==D?a:u;F&&!F.workspace.connectionChecker.doTypeChecks(F.outputConnection,C)&&(e.Events.setGroup(n.group),C===this.prevParentConnection_?(this.unplug(),C.getSourceBlock().bumpNeighbours()):(F.unplug(),F.bumpNeighbours()),e.Events.setGroup(!1))}this.prevParentConnection_=C}},e.Extensions.registerMixin("logic_ternary",e.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN),e.Blocks.loops={},e.Constants.Loops={},e.Constants.Loops.HUE=120,e.defineBlocksWithJsonArray([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),e.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"},e.Extensions.register("controls_whileUntil_tooltip",e.Extensions.buildTooltipForDropdown("MODE",e.Constants.Loops.WHILE_UNTIL_TOOLTIPS)),e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"},e.Extensions.register("controls_flow_tooltip",e.Extensions.buildTooltipForDropdown("FLOW",e.Constants.Loops.BREAK_CONTINUE_TOOLTIPS)),e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:function(n){if(!this.isInFlyout){var a=this.getField("VAR").getVariable(),u=a.name;if(!this.isCollapsed()&&null!=u){var C={enabled:!0};C.text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",u),a=e.Variables.generateVariableFieldDom(a),(u=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),u.appendChild(a),C.callback=e.ContextMenu.callbackFactory(this,u),n.push(C)}}}},e.Extensions.registerMixin("contextMenu_newGetVariableBlock",e.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN),e.Extensions.register("controls_for_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),e.Extensions.register("controls_forEach_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR")),e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"],suppressPrefixSuffix:!0,getSurroundLoop:function(n){do{if(-1!=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(n.type))return n;n=n.getSurroundParent()}while(n);return null},onchange:function(n){if(this.workspace.isDragging&&!this.workspace.isDragging()&&n.type==e.Events.BLOCK_MOVE){var a=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(this);if(this.setWarningText(a?null:e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout){var u=e.Events.getGroup();e.Events.setGroup(n.group),this.setEnabled(a),e.Events.setGroup(u)}}}},e.Extensions.registerMixin("controls_flow_in_loop_check",e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN),e.Blocks.math={},e.Constants.Math={},e.Constants.Math.HUE=230,e.defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),e.Constants.Math.TOOLTIPS_BY_OP={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"},e.Extensions.register("math_op_tooltip",e.Extensions.buildTooltipForDropdown("OP",e.Constants.Math.TOOLTIPS_BY_OP)),e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),a="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return n.setAttribute("divisor_input",a),n},domToMutation:function(n){n="true"==n.getAttribute("divisor_input"),this.updateShape_(n)},updateShape_:function(n){var a=this.getInput("DIVISOR");n?a||this.appendValueInput("DIVISOR").setCheck("Number"):a&&this.removeInput("DIVISOR")}},e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=function(){this.getField("PROPERTY").setValidator(function(n){n="DIVISIBLE_BY"==n,this.getSourceBlock().updateShape_(n)})},e.Extensions.registerMutator("math_is_divisibleby_mutator",e.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,e.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION),e.Extensions.register("math_change_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_MATH_CHANGE_TOOLTIP}","VAR")),e.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:function(n){this.outputConnection.setCheck("MODE"==n?"Array":"Number")},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("op",this.getFieldValue("OP")),n},domToMutation:function(n){this.updateType_(n.getAttribute("op"))}},e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=function(){this.getField("OP").setValidator(function(n){this.updateType_(n)}.bind(this))},e.Extensions.registerMutator("math_modes_of_list_mutator",e.Constants.Math.LIST_MODES_MUTATOR_MIXIN,e.Constants.Math.LIST_MODES_MUTATOR_EXTENSION),e.Blocks.procedures={},e.Blocks.procedures_defnoreturn={init:function(){var n=e.Procedures.findLegalName("",this);(n=new e.FieldTextInput(n,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(n,"NAME").appendField("","PARAMS"),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:function(n){this.hasStatements_!==n&&(n?(this.appendStatementInput("STACK").appendField(e.Msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=n)},updateParams_:function(){var n="";this.arguments_.length&&(n=e.Msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),e.Events.disable();try{this.setFieldValue(n,"PARAMS")}finally{e.Events.enable()}},mutationToDom:function(n){var a=e.utils.xml.createElement("mutation");n&&a.setAttribute("name",this.getFieldValue("NAME"));for(var u=0;u<this.argumentVarModels_.length;u++){var C=e.utils.xml.createElement("arg"),D=this.argumentVarModels_[u];C.setAttribute("name",D.name),C.setAttribute("varid",D.getId()),n&&this.paramIds_&&C.setAttribute("paramId",this.paramIds_[u]),a.appendChild(C)}return this.hasStatements_||a.setAttribute("statements","false"),a},domToMutation:function(n){this.arguments_=[],this.argumentVarModels_=[];for(var u,a=0;u=n.childNodes[a];a++)if("arg"==u.nodeName.toLowerCase()){var C=u.getAttribute("name");u=u.getAttribute("varid")||u.getAttribute("varId"),this.arguments_.push(C),null!=(u=e.Variables.getOrCreateVariablePackage(this.workspace,u,C,""))?this.argumentVarModels_.push(u):console.log("Failed to create a variable with name "+C+", ignoring.")}this.updateParams_(),e.Procedures.mutateCallers(this),this.setStatements_("false"!==n.getAttribute("statements"))},decompose:function(n){var a=e.utils.xml.createElement("block");a.setAttribute("type","procedures_mutatorcontainer");var u=e.utils.xml.createElement("statement");u.setAttribute("name","STACK"),a.appendChild(u);for(var C=0;C<this.arguments_.length;C++){var D=e.utils.xml.createElement("block");D.setAttribute("type","procedures_mutatorarg");var F=e.utils.xml.createElement("field");F.setAttribute("name","NAME");var W=e.utils.xml.createTextNode(this.arguments_[C]);F.appendChild(W),D.appendChild(F),F=e.utils.xml.createElement("next"),D.appendChild(F),u.appendChild(D),u=F}return n=e.Xml.domToBlock(a,n),"procedures_defreturn"==this.type?n.setFieldValue(this.hasStatements_,"STATEMENTS"):n.removeInput("STATEMENT_INPUT"),e.Procedures.mutateCallers(this),n},compose:function(n){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var a=n.getInputTargetBlock("STACK");a&&!a.isInsertionMarker();){var u=a.getFieldValue("NAME");this.arguments_.push(u),u=this.workspace.getVariable(u,""),this.argumentVarModels_.push(u),this.paramIds_.push(a.id),a=a.nextConnection&&a.nextConnection.targetBlock()}this.updateParams_(),e.Procedures.mutateCallers(this),null!==(n=n.getFieldValue("STATEMENTS"))&&this.hasStatements_!=(n="TRUE"==n)&&(n?(this.setStatements_(!0),e.Mutator.reconnect(this.statementConnection_,this,"STACK"),this.statementConnection_=null):(n=this.getInput("STACK").connection,(this.statementConnection_=n.targetConnection)&&((n=n.targetBlock()).unplug(),n.bumpNeighbours()),this.setStatements_(!1)))},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(n,a){var u=this.workspace.getVariableById(n);if(""==u.type){u=u.name,a=this.workspace.getVariableById(a);for(var C=!1,D=0;D<this.argumentVarModels_.length;D++)this.argumentVarModels_[D].getId()==n&&(this.arguments_[D]=a.name,this.argumentVarModels_[D]=a,C=!0);C&&(this.displayRenamedVar_(u,a.name),e.Procedures.mutateCallers(this))}},updateVarName:function(n){for(var a=n.name,u=!1,C=0;C<this.argumentVarModels_.length;C++)if(this.argumentVarModels_[C].getId()==n.getId()){var D=this.arguments_[C];this.arguments_[C]=a,u=!0}u&&(this.displayRenamedVar_(D,a),e.Procedures.mutateCallers(this))},displayRenamedVar_:function(n,a){if(this.updateParams_(),this.mutator&&this.mutator.isVisible())for(var D,u=this.mutator.workspace_.getAllBlocks(!1),C=0;D=u[C];C++)"procedures_mutatorarg"==D.type&&e.Names.equals(n,D.getFieldValue("NAME"))&&D.setFieldValue(a,"NAME")},customContextMenu:function(n){if(!this.isInFlyout){var a={enabled:!0},u=this.getFieldValue("NAME");a.text=e.Msg.PROCEDURES_CREATE_DO.replace("%1",u);var C=e.utils.xml.createElement("mutation");for(C.setAttribute("name",u),u=0;u<this.arguments_.length;u++){var D=e.utils.xml.createElement("arg");D.setAttribute("name",this.arguments_[u]),C.appendChild(D)}if((u=e.utils.xml.createElement("block")).setAttribute("type",this.callType_),u.appendChild(C),a.callback=e.ContextMenu.callbackFactory(this,u),n.push(a),!this.isCollapsed())for(u=0;u<this.argumentVarModels_.length;u++)(a={enabled:!0}).text=e.Msg.VARIABLES_SET_CREATE_GET.replace("%1",(C=this.argumentVarModels_[u]).name),C=e.Variables.generateVariableFieldDom(C),(D=e.utils.xml.createElement("block")).setAttribute("type","variables_get"),D.appendChild(C),a.callback=e.ContextMenu.callbackFactory(this,D),n.push(a)}},callType_:"procedures_callnoreturn"},e.Blocks.procedures_defreturn={init:function(){var n=e.Procedures.findLegalName("",this);(n=new e.FieldTextInput(n,e.Procedures.rename)).setSpellcheck(!1),this.appendDummyInput().appendField(e.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(n,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(e.ALIGN_RIGHT).appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new e.Mutator(["procedures_mutatorarg"])),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&e.Msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(e.Msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},setStatements_:e.Blocks.procedures_defnoreturn.setStatements_,updateParams_:e.Blocks.procedures_defnoreturn.updateParams_,mutationToDom:e.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_defnoreturn.domToMutation,decompose:e.Blocks.procedures_defnoreturn.decompose,compose:e.Blocks.procedures_defnoreturn.compose,getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},getVars:e.Blocks.procedures_defnoreturn.getVars,getVarModels:e.Blocks.procedures_defnoreturn.getVarModels,renameVarById:e.Blocks.procedures_defnoreturn.renameVarById,updateVarName:e.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:e.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:e.Blocks.procedures_defnoreturn.customContextMenu,callType_:"procedures_callreturn"},e.Blocks.procedures_mutatorcontainer={init:function(){this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(e.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(new e.FieldCheckbox("TRUE"),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}},e.Blocks.procedures_mutatorarg={init:function(){var n=new e.FieldTextInput(e.Procedures.DEFAULT_ARG,this.validator_);n.oldShowEditorFn_=n.showEditor_,n.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(e.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(n,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,n.onFinishEditing_=this.deleteIntermediateVars_,n.createdVariables_=[],n.onFinishEditing_("x")},validator_:function(n){var a=this.getSourceBlock(),u=e.Mutator.findParentWs(a.workspace);if(!(n=n.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var C=(a.workspace.targetWorkspace||a.workspace).getAllBlocks(!1),D=n.toLowerCase(),F=0;F<C.length;F++)if(C[F].id!=this.getSourceBlock().id){var W=C[F].getFieldValue("NAME");if(W&&W.toLowerCase()==D)return null}return a.isInFlyout||((a=u.getVariable(n,""))&&a.name!=n&&u.renameVariableById(a.getId(),n),a||(a=u.createVariable(n,""))&&this.createdVariables_&&this.createdVariables_.push(a)),n},deleteIntermediateVars_:function(n){var a=e.Mutator.findParentWs(this.getSourceBlock().workspace);if(a)for(var u=0;u<this.createdVariables_.length;u++){var C=this.createdVariables_[u];C.name!=n&&a.deleteVariableById(C.getId())}}},e.Blocks.procedures_callnoreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(n,a){e.Names.equals(n,this.getProcedureCall())&&(this.setFieldValue(a,"NAME"),this.setTooltip((this.outputConnection?e.Msg.PROCEDURES_CALLRETURN_TOOLTIP:e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",a)))},setProcedureParameters_:function(n,a){var u=e.Procedures.getDefinition(this.getProcedureCall(),this.workspace),C=u&&u.mutator&&u.mutator.isVisible();if(C||(this.quarkConnections_={},this.quarkIds_=null),a)if(n.join("\n")==this.arguments_.join("\n"))this.quarkIds_=a;else{if(a.length!=n.length)throw RangeError("paramNames and paramIds must be the same length.");this.setCollapsed(!1),this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]),u=this.rendered,this.rendered=!1;for(var D=0;D<this.arguments_.length;D++){var F=this.getInput("ARG"+D);F&&(this.quarkConnections_[this.quarkIds_[D]]=F=F.connection.targetConnection,C&&F&&-1==a.indexOf(this.quarkIds_[D])&&(F.disconnect(),F.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(n),this.argumentVarModels_=[],D=0;D<this.arguments_.length;D++)n=e.Variables.getOrCreateVariablePackage(this.workspace,null,this.arguments_[D],""),this.argumentVarModels_.push(n);if(this.updateShape_(),this.quarkIds_=a)for(D=0;D<this.arguments_.length;D++)(a=this.quarkIds_[D])in this.quarkConnections_&&(e.Mutator.reconnect(F=this.quarkConnections_[a],this,"ARG"+D)||delete this.quarkConnections_[a]);(this.rendered=u)&&this.render()}},updateShape_:function(){for(var n=0;n<this.arguments_.length;n++){var a=this.getField("ARGNAME"+n);if(a){e.Events.disable();try{a.setValue(this.arguments_[n])}finally{e.Events.enable()}}else a=new e.FieldLabel(this.arguments_[n]),this.appendValueInput("ARG"+n).setAlign(e.ALIGN_RIGHT).appendField(a,"ARGNAME"+n).init()}for(;this.getInput("ARG"+n);)this.removeInput("ARG"+n),n++;(n=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(n.appendField(e.Msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),n.init()):this.getField("WITH")&&n.removeField("WITH"))},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");n.setAttribute("name",this.getProcedureCall());for(var a=0;a<this.arguments_.length;a++){var u=e.utils.xml.createElement("arg");u.setAttribute("name",this.arguments_[a]),n.appendChild(u)}return n},domToMutation:function(n){var a=n.getAttribute("name");this.renameProcedure(this.getProcedureCall(),a),a=[];for(var D,u=[],C=0;D=n.childNodes[C];C++)"arg"==D.nodeName.toLowerCase()&&(a.push(D.getAttribute("name")),u.push(D.getAttribute("paramId")));this.setProcedureParameters_(a,u)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(n){if(this.workspace&&!this.workspace.isFlyout&&n.recordUndo)if(n.type==e.Events.BLOCK_CREATE&&-1!=n.ids.indexOf(this.id)){var a=this.getProcedureCall();if(!(a=e.Procedures.getDefinition(a,this.workspace))||a.type==this.defType_&&JSON.stringify(a.getVars())==JSON.stringify(this.arguments_)||(a=null),!a){e.Events.setGroup(n.group),n=e.utils.xml.createElement("xml"),(a=e.utils.xml.createElement("block")).setAttribute("type",this.defType_);var u=this.getRelativeToSurfaceXY(),C=u.y+2*e.SNAP_RADIUS;a.setAttribute("x",u.x+e.SNAP_RADIUS*(this.RTL?-1:1)),a.setAttribute("y",C),u=this.mutationToDom(),a.appendChild(u),(u=e.utils.xml.createElement("field")).setAttribute("name","NAME"),(C=this.getProcedureCall())||(C=e.Procedures.findLegalName("",this),this.renameProcedure("",C)),u.appendChild(e.utils.xml.createTextNode(C)),a.appendChild(u),n.appendChild(a),e.Xml.domToWorkspace(n,this.workspace),e.Events.setGroup(!1)}}else n.type==e.Events.BLOCK_DELETE?(a=this.getProcedureCall(),(a=e.Procedures.getDefinition(a,this.workspace))||(e.Events.setGroup(n.group),this.dispose(!0),e.Events.setGroup(!1))):n.type==e.Events.CHANGE&&"disabled"==n.element&&(a=this.getProcedureCall(),(a=e.Procedures.getDefinition(a,this.workspace))&&a.id==n.blockId&&((a=e.Events.getGroup())&&console.log("Saw an existing group while responding to a definition change"),e.Events.setGroup(n.group),n.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),e.Events.setGroup(a)))},customContextMenu:function(n){if(this.workspace.isMovable()){var a={enabled:!0};a.text=e.Msg.PROCEDURES_HIGHLIGHT_DEF;var u=this.getProcedureCall(),C=this.workspace;a.callback=function(){var D=e.Procedures.getDefinition(u,C);D&&(C.centerOnBlock(D.id),D.select())},n.push(a)}},defType_:"procedures_defnoreturn"},e.Blocks.procedures_callreturn={init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(e.Msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},getProcedureCall:e.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:e.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:e.Blocks.procedures_callnoreturn.setProcedureParameters_,updateShape_:e.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:e.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:e.Blocks.procedures_callnoreturn.domToMutation,getVars:e.Blocks.procedures_callnoreturn.getVars,getVarModels:e.Blocks.procedures_callnoreturn.getVarModels,onchange:e.Blocks.procedures_callnoreturn.onchange,customContextMenu:e.Blocks.procedures_callnoreturn.customContextMenu,defType_:"procedures_defreturn"},e.Blocks.procedures_ifreturn={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(e.Msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(e.Msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(e.Msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("value",Number(this.hasReturnValue_)),n},domToMutation:function(n){this.hasReturnValue_=1==n.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(n){if(this.workspace.isDragging&&!this.workspace.isDragging()){n=!1;var a=this;do{if(-1!=this.FUNCTION_TYPES.indexOf(a.type)){n=!0;break}a=a.getSurroundParent()}while(a);n?("procedures_defnoreturn"==a.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!=a.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(e.Msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null),this.isInFlyout||this.setEnabled(!0)):(this.setWarningText(e.Msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||this.getInheritedDisabled()||this.setEnabled(!1))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]},e.Blocks.texts={},e.Constants.Text={},e.Constants.Text.HUE=160,e.defineBlocksWithJsonArray([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),e.Blocks.text_getSubstring={init:function(){this.WHERE_OPTIONS_1=[[e.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[e.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[e.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[e.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(e.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),e.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(e.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var n=e.utils.xml.createElement("mutation"),a=this.getInput("AT1").type==e.INPUT_VALUE;return n.setAttribute("at1",a),a=this.getInput("AT2").type==e.INPUT_VALUE,n.setAttribute("at2",a),n},domToMutation:function(n){var a="true"==n.getAttribute("at1");n="true"==n.getAttribute("at2"),this.updateAt_(1,a),this.updateAt_(2,n)},updateAt_:function(n,a){this.removeInput("AT"+n),this.removeInput("ORDINAL"+n,!0),a?(this.appendValueInput("AT"+n).setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+n).appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+n),2==n&&e.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_GET_SUBSTRING_TAIL));var u=new e.FieldDropdown(this["WHERE_OPTIONS_"+n],function(C){var D="FROM_START"==C||"FROM_END"==C;if(D!=a){var F=this.getSourceBlock();return F.updateAt_(n,D),F.setFieldValue(C,"WHERE"+n),null}});this.getInput("AT"+n).appendField(u,"WHERE"+n),1==n&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}},e.Blocks.text_changeCase={init:function(){var n=[[e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(e.Msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(n),"CASE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_CHANGECASE_TOOLTIP)}},e.Blocks.text_trim={init:function(){var n=[[e.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[e.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[e.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(e.Msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(new e.FieldDropdown(n),"MODE"),this.setOutput(!0,"String"),this.setTooltip(e.Msg.TEXT_TRIM_TOOLTIP)}},e.Blocks.text_print={init:function(){this.jsonInit({message0:e.Msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:e.Msg.TEXT_PRINT_TOOLTIP,helpUrl:e.Msg.TEXT_PRINT_HELPURL})}},e.Blocks.text_prompt_ext={init:function(){var n=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks");var a=this;n=new e.FieldDropdown(n,function(u){a.updateType_(u)}),this.appendValueInput("TEXT").appendField(n,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==a.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:function(n){this.outputConnection.setCheck("NUMBER"==n?"Number":"String")},mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("type",this.getFieldValue("TYPE")),n},domToMutation:function(n){this.updateType_(n.getAttribute("type"))}},e.Blocks.text_prompt={init:function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN);var n=[[e.Msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[e.Msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]],a=this;this.setHelpUrl(e.Msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),n=new e.FieldDropdown(n,function(u){a.updateType_(u)}),this.appendDummyInput().appendField(n,"TYPE").appendField(this.newQuote_(!0)).appendField(new e.FieldTextInput(""),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(function(){return"TEXT"==a.getFieldValue("TYPE")?e.Msg.TEXT_PROMPT_TOOLTIP_TEXT:e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:e.Blocks.text_prompt_ext.updateType_,mutationToDom:e.Blocks.text_prompt_ext.mutationToDom,domToMutation:e.Blocks.text_prompt_ext.domToMutation},e.Blocks.text_count={init:function(){this.jsonInit({message0:e.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_COUNT_TOOLTIP,helpUrl:e.Msg.TEXT_COUNT_HELPURL})}},e.Blocks.text_replace={init:function(){this.jsonInit({message0:e.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:e.Msg.TEXT_REPLACE_HELPURL})}},e.Blocks.text_reverse={init:function(){this.jsonInit({message0:e.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:e.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:e.Msg.TEXT_REVERSE_HELPURL})}},e.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(n){for(var u,a=0;u=this.inputList[a];a++)for(var D,C=0;D=u.fieldRow[C];C++)if(n==D.name)return u.insertFieldAt(C,this.newQuote_(!0)),void u.insertFieldAt(C+2,this.newQuote_(!1));console.warn('field named "'+n+'" not found in '+this.toDevString())},newQuote_:function(n){return new e.FieldImage((n=this.RTL?!n:n)?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,this.QUOTE_IMAGE_WIDTH,this.QUOTE_IMAGE_HEIGHT,n?"\u201c":"\u201d")}},e.Constants.Text.TEXT_QUOTES_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.quoteField_("TEXT")},e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("items",this.itemCount_),n},domToMutation:function(n){this.itemCount_=parseInt(n.getAttribute("items"),10),this.updateShape_()},decompose:function(n){var a=n.newBlock("text_create_join_container");a.initSvg();for(var u=a.getInput("STACK").connection,C=0;C<this.itemCount_;C++){var D=n.newBlock("text_create_join_item");D.initSvg(),u.connect(D.previousConnection),u=D.nextConnection}return a},compose:function(n){var a=n.getInputTargetBlock("STACK");for(n=[];a&&!a.isInsertionMarker();)n.push(a.valueConnection_),a=a.nextConnection&&a.nextConnection.targetBlock();for(a=0;a<this.itemCount_;a++){var u=this.getInput("ADD"+a).connection.targetConnection;u&&-1==n.indexOf(u)&&u.disconnect()}for(this.itemCount_=n.length,this.updateShape_(),a=0;a<this.itemCount_;a++)e.Mutator.reconnect(n[a],this,"ADD"+a)},saveConnections:function(n){n=n.getInputTargetBlock("STACK");for(var a=0;n;){var u=this.getInput("ADD"+a);n.valueConnection_=u&&u.connection.targetConnection,a++,n=n.nextConnection&&n.nextConnection.targetBlock()}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var n=0;n<this.itemCount_;n++)if(!this.getInput("ADD"+n)){var a=this.appendValueInput("ADD"+n).setAlign(e.ALIGN_RIGHT);0==n&&a.appendField(e.Msg.TEXT_JOIN_TITLE_CREATEWITH)}for(;this.getInput("ADD"+n);)this.removeInput("ADD"+n),n++}},e.Constants.Text.TEXT_JOIN_EXTENSION=function(){this.mixin(e.Constants.Text.QUOTE_IMAGE_MIXIN),this.itemCount_=2,this.updateShape_(),this.setMutator(new e.Mutator(["text_create_join_item"]))},e.Extensions.register("text_append_tooltip",e.Extensions.buildTooltipWithFieldText("%{BKY_TEXT_APPEND_TOOLTIP}","VAR")),e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=function(){var n=this;this.setTooltip(function(){return e.Msg.TEXT_INDEXOF_TOOLTIP.replace("%1",n.workspace.options.oneBasedIndex?"0":"-1")})},e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:function(){var n=e.utils.xml.createElement("mutation");return n.setAttribute("at",!!this.isAt_),n},domToMutation:function(n){n="false"!=n.getAttribute("at"),this.updateAt_(n)},updateAt_:function(n){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),n&&(this.appendValueInput("AT").setCheck("Number"),e.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(e.Msg.ORDINAL_NUMBER_SUFFIX)),e.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(e.Msg.TEXT_CHARAT_TAIL)),this.isAt_=n}},e.Constants.Text.TEXT_CHARAT_EXTENSION=function(){this.getField("WHERE").setValidator(function(a){(a="FROM_START"==a||"FROM_END"==a)!=this.isAt_&&this.getSourceBlock().updateAt_(a)}),this.updateAt_(!0);var n=this;this.setTooltip(function(){var a=n.getFieldValue("WHERE"),u=e.Msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"==a||"FROM_END"==a)&&(a="FROM_START"==a?e.Msg.LISTS_INDEX_FROM_START_TOOLTIP:e.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(u+="  "+a.replace("%1",n.workspace.options.oneBasedIndex?"#1":"#0")),u})},e.Extensions.register("text_indexOf_tooltip",e.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION),e.Extensions.register("text_quotes",e.Constants.Text.TEXT_QUOTES_EXTENSION),e.Extensions.registerMutator("text_join_mutator",e.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,e.Constants.Text.TEXT_JOIN_EXTENSION),e.Extensions.registerMutator("text_charAt_mutator",e.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,e.Constants.Text.TEXT_CHARAT_EXTENSION),e.Blocks.variables={},e.Constants.Variables={},e.Constants.Variables.HUE=330,e.defineBlocksWithJsonArray([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(n){if(this.isInFlyout)("variables_get"==this.type||"variables_get_reporter"==this.type)&&(a={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},D=this.getField("VAR").getText(),C={text:e.Msg.DELETE_VARIABLE.replace("%1",D),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},n.unshift(a),n.unshift(C));else{if("variables_get"==this.type)var a="variables_set",u=e.Msg.VARIABLES_GET_CREATE_SET;else a="variables_get",u=e.Msg.VARIABLES_SET_CREATE_GET;var C={enabled:0<this.workspace.remainingCapacity()},D=this.getField("VAR").getText();C.text=u.replace("%1",D),(u=e.utils.xml.createElement("field")).setAttribute("name","VAR"),u.appendChild(e.utils.xml.createTextNode(D)),(D=e.utils.xml.createElement("block")).setAttribute("type",a),D.appendChild(u),C.callback=e.ContextMenu.callbackFactory(this,D),n.push(C)}}},e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=function(n){return function(){var a=n.workspace,u=n.getField("VAR").getVariable();e.Variables.renameVariable(a,u)}},e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=function(n){return function(){var a=n.workspace,u=n.getField("VAR").getVariable();a.deleteVariableById(u.getId()),a.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableSetterGetter",e.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Constants.VariablesDynamic={},e.Constants.VariablesDynamic.HUE=310,e.defineBlocksWithJsonArray([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:function(n){if(this.isInFlyout)("variables_get_dynamic"==this.type||"variables_get_reporter_dynamic"==this.type)&&(a={text:e.Msg.RENAME_VARIABLE,enabled:!0,callback:e.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(this)},F=this.getField("VAR").getText(),D={text:e.Msg.DELETE_VARIABLE.replace("%1",F),enabled:!0,callback:e.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(this)},n.unshift(a),n.unshift(D));else{var a=this.getFieldValue("VAR"),u=this.workspace.getVariableById(a).type;if("variables_get_dynamic"==this.type){a="variables_set_dynamic";var C=e.Msg.VARIABLES_GET_CREATE_SET}else a="variables_get_dynamic",C=e.Msg.VARIABLES_SET_CREATE_GET;var D={enabled:0<this.workspace.remainingCapacity()},F=this.getField("VAR").getText();D.text=C.replace("%1",F),(C=e.utils.xml.createElement("field")).setAttribute("name","VAR"),C.setAttribute("variabletype",u),C.appendChild(e.utils.xml.createTextNode(F)),(F=e.utils.xml.createElement("block")).setAttribute("type",a),F.appendChild(C),D.callback=e.ContextMenu.callbackFactory(this,F),n.push(D)}},onchange:function(n){n=this.getFieldValue("VAR"),n=e.Variables.getVariable(this.workspace,n),"variables_get_dynamic"==this.type?this.outputConnection.setCheck(n.type):this.getInput("VALUE").connection.setCheck(n.type)}},e.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=function(n){return function(){var a=n.workspace,u=n.getField("VAR").getVariable();e.Variables.renameVariable(a,u)}},e.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=function(n){return function(){var a=n.workspace,u=n.getField("VAR").getVariable();a.deleteVariableById(u.getId()),a.refreshToolboxSelection()}},e.Extensions.registerMixin("contextMenu_variableDynamicSetterGetter",e.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN),e.Blocks}.apply(K,m))&&(B.exports=t)},25552:function(B,K,f){var m,t;m=[f(68210),f(63266),f(18783),f(30069)],void 0!==(t=function(e,n,a,u){"use strict";return e.setLocale(n),e.Blocks=e.Blocks||{},Object.keys(a).forEach(function(C){e.Blocks[C]=a[C]}),e.JavaScript=u,e}.apply(K,m))&&(B.exports=t)},68210:function(B,K,f){var m,t;m=[f(86931)],void 0!==(t=function(e){"use strict";return e.setLocale=function(n){e.Msg=e.Msg||{},Object.keys(n).forEach(function(a){e.Msg[a]=n[a]})},e}.apply(K,m))&&(B.exports=t)},76279:function(B,K,f){var m,t;m=[f(25552)],void 0!==(t=function(e){"use strict";return e}.apply(K,m))&&(B.exports=t)},30069:function(B,K,f){var m,t;m=[f(68210),f(69957)],void 0!==(t=function(e,n){"use strict";return e.JavaScript=n,n}.apply(K,m))&&(B.exports=t)},69957:function(B,K,f){var m,t;m=[f(81069)],void 0!==(t=function(e){"use strict";return e.JavaScript=new e.Generator("JavaScript"),e.JavaScript.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(e.utils.global).join(",")),e.JavaScript.ORDER_ATOMIC=0,e.JavaScript.ORDER_NEW=1.1,e.JavaScript.ORDER_MEMBER=1.2,e.JavaScript.ORDER_FUNCTION_CALL=2,e.JavaScript.ORDER_INCREMENT=3,e.JavaScript.ORDER_DECREMENT=3,e.JavaScript.ORDER_BITWISE_NOT=4.1,e.JavaScript.ORDER_UNARY_PLUS=4.2,e.JavaScript.ORDER_UNARY_NEGATION=4.3,e.JavaScript.ORDER_LOGICAL_NOT=4.4,e.JavaScript.ORDER_TYPEOF=4.5,e.JavaScript.ORDER_VOID=4.6,e.JavaScript.ORDER_DELETE=4.7,e.JavaScript.ORDER_AWAIT=4.8,e.JavaScript.ORDER_EXPONENTIATION=5,e.JavaScript.ORDER_MULTIPLICATION=5.1,e.JavaScript.ORDER_DIVISION=5.2,e.JavaScript.ORDER_MODULUS=5.3,e.JavaScript.ORDER_SUBTRACTION=6.1,e.JavaScript.ORDER_ADDITION=6.2,e.JavaScript.ORDER_BITWISE_SHIFT=7,e.JavaScript.ORDER_RELATIONAL=8,e.JavaScript.ORDER_IN=8,e.JavaScript.ORDER_INSTANCEOF=8,e.JavaScript.ORDER_EQUALITY=9,e.JavaScript.ORDER_BITWISE_AND=10,e.JavaScript.ORDER_BITWISE_XOR=11,e.JavaScript.ORDER_BITWISE_OR=12,e.JavaScript.ORDER_LOGICAL_AND=13,e.JavaScript.ORDER_LOGICAL_OR=14,e.JavaScript.ORDER_CONDITIONAL=15,e.JavaScript.ORDER_ASSIGNMENT=16,e.JavaScript.ORDER_YIELD=17,e.JavaScript.ORDER_COMMA=18,e.JavaScript.ORDER_NONE=99,e.JavaScript.ORDER_OVERRIDES=[[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_FUNCTION_CALL,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_MEMBER],[e.JavaScript.ORDER_MEMBER,e.JavaScript.ORDER_FUNCTION_CALL],[e.JavaScript.ORDER_LOGICAL_NOT,e.JavaScript.ORDER_LOGICAL_NOT],[e.JavaScript.ORDER_MULTIPLICATION,e.JavaScript.ORDER_MULTIPLICATION],[e.JavaScript.ORDER_ADDITION,e.JavaScript.ORDER_ADDITION],[e.JavaScript.ORDER_LOGICAL_AND,e.JavaScript.ORDER_LOGICAL_AND],[e.JavaScript.ORDER_LOGICAL_OR,e.JavaScript.ORDER_LOGICAL_OR]],e.JavaScript.isInitialized=!1,e.JavaScript.init=function(n){Object.getPrototypeOf(this).init.call(this),this.nameDB_?this.nameDB_.reset():this.nameDB_=new e.Names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(n.getVariableMap()),this.nameDB_.populateVariables(n),this.nameDB_.populateProcedures(n);for(var a=[],u=e.Variables.allDeveloperVariables(n),C=0;C<u.length;C++)a.push(this.nameDB_.getName(u[C],e.Names.DEVELOPER_VARIABLE_TYPE));for(n=e.Variables.allUsedVarModels(n),C=0;C<n.length;C++)a.push(this.nameDB_.getName(n[C].getId(),e.VARIABLE_CATEGORY_NAME));a.length&&(this.definitions_.variables="var "+a.join(", ")+";"),this.isInitialized=!0},e.JavaScript.finish=function(n){var a=e.utils.object.values(this.definitions_);return n=Object.getPrototypeOf(this).finish.call(this,n),this.isInitialized=!1,this.nameDB_.reset(),a.join("\n\n")+"\n\n\n"+n},e.JavaScript.scrubNakedValue=function(n){return n+";\n"},e.JavaScript.quote_=function(n){return"'"+(n=n.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"},e.JavaScript.multiline_quote_=function(n){return n.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")},e.JavaScript.scrub_=function(n,a,u){var C="";if(!n.outputConnection||!n.outputConnection.targetConnection){var D=n.getCommentText();D&&(D=e.utils.string.wrap(D,this.COMMENT_WRAP-3),C+=this.prefixLines(D+"\n","// "));for(var F=0;F<n.inputList.length;F++)n.inputList[F].type==e.inputTypes.VALUE&&(D=n.inputList[F].connection.targetBlock())&&(D=this.allNestedComments(D))&&(C+=this.prefixLines(D,"// "))}return n=n.nextConnection&&n.nextConnection.targetBlock(),C+a+(u?"":this.blockToCode(n))},e.JavaScript.getAdjusted=function(n,a,u,C,D){u=u||0,D=D||this.ORDER_NONE,n.workspace.options.oneBasedIndex&&u--;var F=n.workspace.options.oneBasedIndex?"1":"0";if(n=0<u?this.valueToCode(n,a,this.ORDER_ADDITION)||F:0>u?this.valueToCode(n,a,this.ORDER_SUBTRACTION)||F:C?this.valueToCode(n,a,this.ORDER_UNARY_NEGATION)||F:this.valueToCode(n,a,D)||F,e.isNumber(n))n=Number(n)+u,C&&(n=-n);else{if(0<u){n=n+" + "+u;var W=this.ORDER_ADDITION}else 0>u&&(n=n+" - "+-u,W=this.ORDER_SUBTRACTION);C&&(n=u?"-("+n+")":"-"+n,W=this.ORDER_UNARY_NEGATION),W=Math.floor(W),D=Math.floor(D),W&&D>=W&&(n="("+n+")")}return n},e.JavaScript.colour={},e.JavaScript.colour_picker=function(n){return[e.JavaScript.quote_(n.getFieldValue("COLOUR")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.colour_random=function(n){return[e.JavaScript.provideFunction_("colourRandom",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"() {","  var num = Math.floor(Math.random() * Math.pow(2, 24));","  return '#' + ('00000' + num.toString(16)).substr(-6);","}"])+"()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_rgb=function(n){var a=e.JavaScript.valueToCode(n,"RED",e.JavaScript.ORDER_NONE)||0,u=e.JavaScript.valueToCode(n,"GREEN",e.JavaScript.ORDER_NONE)||0;return n=e.JavaScript.valueToCode(n,"BLUE",e.JavaScript.ORDER_NONE)||0,[e.JavaScript.provideFunction_("colourRgb",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(r, g, b) {","  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;","  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;","  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;","  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);","  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);","  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+a+", "+u+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.colour_blend=function(n){var a=e.JavaScript.valueToCode(n,"COLOUR1",e.JavaScript.ORDER_NONE)||"'#000000'",u=e.JavaScript.valueToCode(n,"COLOUR2",e.JavaScript.ORDER_NONE)||"'#000000'";return n=e.JavaScript.valueToCode(n,"RATIO",e.JavaScript.ORDER_NONE)||.5,[e.JavaScript.provideFunction_("colourBlend",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(c1, c2, ratio) {","  ratio = Math.max(Math.min(Number(ratio), 1), 0);","  var r1 = parseInt(c1.substring(1, 3), 16);","  var g1 = parseInt(c1.substring(3, 5), 16);","  var b1 = parseInt(c1.substring(5, 7), 16);","  var r2 = parseInt(c2.substring(1, 3), 16);","  var g2 = parseInt(c2.substring(3, 5), 16);","  var b2 = parseInt(c2.substring(5, 7), 16);","  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);","  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);","  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);","  r = ('0' + (r || 0).toString(16)).slice(-2);","  g = ('0' + (g || 0).toString(16)).slice(-2);","  b = ('0' + (b || 0).toString(16)).slice(-2);","  return '#' + r + g + b;","}"])+"("+a+", "+u+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists={},e.JavaScript.lists_create_empty=function(n){return["[]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_create_with=function(n){for(var a=Array(n.itemCount_),u=0;u<n.itemCount_;u++)a[u]=e.JavaScript.valueToCode(n,"ADD"+u,e.JavaScript.ORDER_NONE)||"null";return["["+a.join(", ")+"]",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.lists_repeat=function(n){return[e.JavaScript.provideFunction_("listsRepeat",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(value, n) {","  var array = [];","  for (var i = 0; i < n; i++) {","    array[i] = value;","  }","  return array;","}"])+"("+(e.JavaScript.valueToCode(n,"ITEM",e.JavaScript.ORDER_NONE)||"null")+", "+(n=e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_NONE)||"0")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_length=function(n){return[(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.lists_isEmpty=function(n){return["!"+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.lists_indexOf=function(n){var a="FIRST"==n.getFieldValue("END")?"indexOf":"lastIndexOf",u=e.JavaScript.valueToCode(n,"FIND",e.JavaScript.ORDER_NONE)||"''";return a=(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"[]")+"."+a+"("+u+")",n.workspace.options.oneBasedIndex?[a+" + 1",e.JavaScript.ORDER_ADDITION]:[a,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_getIndex=function(n){var a=n.getFieldValue("MODE")||"GET",u=n.getFieldValue("WHERE")||"FROM_START",C=e.JavaScript.valueToCode(n,"VALUE","RANDOM"==u?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"[]";switch(u){case"FIRST":if("GET"==a)return[C+"[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==a)return[C+".shift()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==a)return C+".shift();\n";break;case"LAST":if("GET"==a)return[C+".slice(-1)[0]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==a)return[C+".pop()",e.JavaScript.ORDER_MEMBER];if("REMOVE"==a)return C+".pop();\n";break;case"FROM_START":if(n=e.JavaScript.getAdjusted(n,"AT"),"GET"==a)return[C+"["+n+"]",e.JavaScript.ORDER_MEMBER];if("GET_REMOVE"==a)return[C+".splice("+n+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==a)return C+".splice("+n+", 1);\n";break;case"FROM_END":if(n=e.JavaScript.getAdjusted(n,"AT",1,!0),"GET"==a)return[C+".slice("+n+")[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("GET_REMOVE"==a)return[C+".splice("+n+", 1)[0]",e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==a)return C+".splice("+n+", 1);";break;case"RANDOM":if(C=e.JavaScript.provideFunction_("listsGetRandomItem",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list, remove) {","  var x = Math.floor(Math.random() * list.length);","  if (remove) {","    return list.splice(x, 1)[0];","  } else {","    return list[x];","  }","}"])+"("+C+", "+("GET"!=a)+")","GET"==a||"GET_REMOVE"==a)return[C,e.JavaScript.ORDER_FUNCTION_CALL];if("REMOVE"==a)return C+";\n"}throw Error("Unhandled combination (lists_getIndex).")},e.JavaScript.lists_setIndex=function(n){function a(){if(u.match(/^\w+$/))return"";var W=e.JavaScript.nameDB_.getDistinctName("tmpList",e.VARIABLE_CATEGORY_NAME),te="var "+W+" = "+u+";\n";return u=W,te}var u=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",C=n.getFieldValue("MODE")||"GET",D=n.getFieldValue("WHERE")||"FROM_START",F=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"null";switch(D){case"FIRST":if("SET"==C)return u+"[0] = "+F+";\n";if("INSERT"==C)return u+".unshift("+F+");\n";break;case"LAST":if("SET"==C)return(n=a())+(u+"[")+u+".length - 1] = "+F+";\n";if("INSERT"==C)return u+".push("+F+");\n";break;case"FROM_START":if(D=e.JavaScript.getAdjusted(n,"AT"),"SET"==C)return u+"["+D+"] = "+F+";\n";if("INSERT"==C)return u+".splice("+D+", 0, "+F+");\n";break;case"FROM_END":if(D=e.JavaScript.getAdjusted(n,"AT",1,!1,e.JavaScript.ORDER_SUBTRACTION),n=a(),"SET"==C)return n+(u+"[")+u+".length - "+D+"] = "+F+";\n";if("INSERT"==C)return n+(u+".splice(")+u+".length - "+D+", 0, "+F+");\n";break;case"RANDOM":if(n=a(),n+="var "+(D=e.JavaScript.nameDB_.getDistinctName("tmpX",e.VARIABLE_CATEGORY_NAME))+" = Math.floor(Math.random() * "+u+".length);\n","SET"==C)return n+(u+"[")+D+"] = "+F+";\n";if("INSERT"==C)return n+(u+".splice(")+D+", 0, "+F+");\n"}throw Error("Unhandled combination (lists_setIndex).")},e.JavaScript.lists.getIndex_=function(n,a,u){return"FIRST"==a?"0":"FROM_END"==a?n+".length - 1 - "+u:"LAST"==a?n+".length - 1":u},e.JavaScript.lists_getSublist=function(n){var a=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",u=n.getFieldValue("WHERE1"),C=n.getFieldValue("WHERE2");if("FIRST"==u&&"LAST"==C)a+=".slice(0)";else if(a.match(/^\w+$/)||"FROM_END"!=u&&"FROM_START"==C){switch(u){case"FROM_START":var D=e.JavaScript.getAdjusted(n,"AT1");break;case"FROM_END":D=a+".length - "+(D=e.JavaScript.getAdjusted(n,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":D="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(C){case"FROM_START":n=e.JavaScript.getAdjusted(n,"AT2",1);break;case"FROM_END":n=a+".length - "+(n=e.JavaScript.getAdjusted(n,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":n=a+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}a=a+".slice("+D+", "+n+")"}else{D=e.JavaScript.getAdjusted(n,"AT1"),n=e.JavaScript.getAdjusted(n,"AT2");var F=e.JavaScript.lists.getIndex_,W={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};a=e.JavaScript.provideFunction_("subsequence"+W[u]+W[C],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==u||"FROM_START"==u?", at1":"")+("FROM_END"==C||"FROM_START"==C?", at2":"")+") {","  var start = "+F("sequence",u,"at1")+";","  var end = "+F("sequence",C,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+a+("FROM_END"==u||"FROM_START"==u?", "+D:"")+("FROM_END"==C||"FROM_START"==C?", "+n:"")+")"}return[a,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_sort=function(n){var a=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]",u="1"===n.getFieldValue("DIRECTION")?1:-1;return n=n.getFieldValue("TYPE"),[a+".slice().sort("+e.JavaScript.provideFunction_("listsGetSortCompare",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(type, direction) {","  var compareFuncs = {",'    "NUMERIC": function(a, b) {',"        return Number(a) - Number(b); },",'    "TEXT": function(a, b) {',"        return a.toString() > b.toString() ? 1 : -1; },",'    "IGNORE_CASE": function(a, b) {',"        return a.toString().toLowerCase() > b.toString().toLowerCase() ? 1 : -1; },","  };","  var compare = compareFuncs[type];","  return function(a, b) { return compare(a, b) * direction; }","}"])+'("'+n+'", '+u+"))",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_split=function(n){var a=e.JavaScript.valueToCode(n,"INPUT",e.JavaScript.ORDER_MEMBER),u=e.JavaScript.valueToCode(n,"DELIM",e.JavaScript.ORDER_NONE)||"''";if("SPLIT"==(n=n.getFieldValue("MODE")))a||(a="''"),n="split";else{if("JOIN"!=n)throw Error("Unknown mode: "+n);a||(a="[]"),n="join"}return[a+"."+n+"("+u+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.lists_reverse=function(n){return[(e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_FUNCTION_CALL)||"[]")+".slice().reverse()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.logic={},e.JavaScript.controls_if=function(n){var a=0,u="";e.JavaScript.STATEMENT_PREFIX&&(u+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n));do{var C=e.JavaScript.valueToCode(n,"IF"+a,e.JavaScript.ORDER_NONE)||"false",D=e.JavaScript.statementToCode(n,"DO"+a);e.JavaScript.STATEMENT_SUFFIX&&(D=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)+D),u+=(0<a?" else ":"")+"if ("+C+") {\n"+D+"}",++a}while(n.getInput("IF"+a));return(n.getInput("ELSE")||e.JavaScript.STATEMENT_SUFFIX)&&(D=e.JavaScript.statementToCode(n,"ELSE"),e.JavaScript.STATEMENT_SUFFIX&&(D=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)+D),u+=" else {\n"+D+"}"),u+"\n"},e.JavaScript.controls_ifelse=e.JavaScript.controls_if,e.JavaScript.logic_compare=function(n){var a={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[n.getFieldValue("OP")],u="=="==a||"!="==a?e.JavaScript.ORDER_EQUALITY:e.JavaScript.ORDER_RELATIONAL;return[(e.JavaScript.valueToCode(n,"A",u)||"0")+" "+a+" "+(n=e.JavaScript.valueToCode(n,"B",u)||"0"),u]},e.JavaScript.logic_operation=function(n){var a="AND"==n.getFieldValue("OP")?"&&":"||",u="&&"==a?e.JavaScript.ORDER_LOGICAL_AND:e.JavaScript.ORDER_LOGICAL_OR,C=e.JavaScript.valueToCode(n,"A",u);if(n=e.JavaScript.valueToCode(n,"B",u),C||n){var D="&&"==a?"true":"false";C||(C=D),n||(n=D)}else n=C="false";return[C+" "+a+" "+n,u]},e.JavaScript.logic_negate=function(n){var a=e.JavaScript.ORDER_LOGICAL_NOT;return["!"+(e.JavaScript.valueToCode(n,"BOOL",a)||"true"),a]},e.JavaScript.logic_boolean=function(n){return["TRUE"==n.getFieldValue("BOOL")?"true":"false",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_null=function(n){return["null",e.JavaScript.ORDER_ATOMIC]},e.JavaScript.logic_ternary=function(n){return[(e.JavaScript.valueToCode(n,"IF",e.JavaScript.ORDER_CONDITIONAL)||"false")+" ? "+(e.JavaScript.valueToCode(n,"THEN",e.JavaScript.ORDER_CONDITIONAL)||"null")+" : "+(n=e.JavaScript.valueToCode(n,"ELSE",e.JavaScript.ORDER_CONDITIONAL)||"null"),e.JavaScript.ORDER_CONDITIONAL]},e.JavaScript.loops={},e.JavaScript.controls_repeat_ext=function(n){var a=n.getField("TIMES")?String(Number(n.getFieldValue("TIMES"))):e.JavaScript.valueToCode(n,"TIMES",e.JavaScript.ORDER_ASSIGNMENT)||"0",u=e.JavaScript.statementToCode(n,"DO");u=e.JavaScript.addLoopTrap(u,n),n="";var C=e.JavaScript.nameDB_.getDistinctName("count",e.VARIABLE_CATEGORY_NAME),D=a;return a.match(/^\w+$/)||e.isNumber(a)||(n+="var "+(D=e.JavaScript.nameDB_.getDistinctName("repeat_end",e.VARIABLE_CATEGORY_NAME))+" = "+a+";\n"),n+"for (var "+C+" = 0; "+C+" < "+D+"; "+C+"++) {\n"+u+"}\n"},e.JavaScript.controls_repeat=e.JavaScript.controls_repeat_ext,e.JavaScript.controls_whileUntil=function(n){var a="UNTIL"==n.getFieldValue("MODE"),u=e.JavaScript.valueToCode(n,"BOOL",a?e.JavaScript.ORDER_LOGICAL_NOT:e.JavaScript.ORDER_NONE)||"false",C=e.JavaScript.statementToCode(n,"DO");return a&&(u="!"+u),"while ("+u+") {\n"+(C=e.JavaScript.addLoopTrap(C,n))+"}\n"},e.JavaScript.controls_for=function(n){var a=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),u=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_ASSIGNMENT)||"0",C=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_ASSIGNMENT)||"0",D=e.JavaScript.valueToCode(n,"BY",e.JavaScript.ORDER_ASSIGNMENT)||"1",F=e.JavaScript.statementToCode(n,"DO");if(F=e.JavaScript.addLoopTrap(F,n),e.isNumber(u)&&e.isNumber(C)&&e.isNumber(D)){var W=Number(u)<=Number(C);n="for ("+a+" = "+u+"; "+a+(W?" <= ":" >= ")+C+"; "+a,n=(1==(a=Math.abs(Number(D)))?n+(W?"++":"--"):n+(W?" += ":" -= ")+a)+") {\n"+F+"}\n"}else n="",W=u,u.match(/^\w+$/)||e.isNumber(u)||(n+="var "+(W=e.JavaScript.nameDB_.getDistinctName(a+"_start",e.VARIABLE_CATEGORY_NAME))+" = "+u+";\n"),u=C,C.match(/^\w+$/)||e.isNumber(C)||(n+="var "+(u=e.JavaScript.nameDB_.getDistinctName(a+"_end",e.VARIABLE_CATEGORY_NAME))+" = "+C+";\n"),n+="var "+(C=e.JavaScript.nameDB_.getDistinctName(a+"_inc",e.VARIABLE_CATEGORY_NAME))+" = ",n=(n=e.isNumber(D)?n+(Math.abs(D)+";\n"):n+"Math.abs("+D+");\n")+"if ("+W+" > "+u+") {\n"+(e.JavaScript.INDENT+C)+" = -"+C+";\n",n+="}\n",n+="for ("+a+" = "+W+"; "+C+" >= 0 ? "+a+" <= "+u+" : "+a+" >= "+u+"; "+a+" += "+C+") {\n"+F+"}\n";return n},e.JavaScript.controls_forEach=function(n){var a=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),u=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_ASSIGNMENT)||"[]",C=e.JavaScript.statementToCode(n,"DO");C=e.JavaScript.addLoopTrap(C,n),n="";var D=u;return u.match(/^\w+$/)||(n+="var "+(D=e.JavaScript.nameDB_.getDistinctName(a+"_list",e.VARIABLE_CATEGORY_NAME))+" = "+u+";\n"),n+"for (var "+(u=e.JavaScript.nameDB_.getDistinctName(a+"_index",e.VARIABLE_CATEGORY_NAME))+" in "+D+") {\n"+(C=e.JavaScript.INDENT+a+" = "+D+"["+u+"];\n"+C)+"}\n"},e.JavaScript.controls_flow_statements=function(n){var a="";if(e.JavaScript.STATEMENT_PREFIX&&(a+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n)),e.JavaScript.STATEMENT_SUFFIX&&(a+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n)),e.JavaScript.STATEMENT_PREFIX){var u=e.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(n);u&&!u.suppressPrefixSuffix&&(a+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,u))}switch(n.getFieldValue("FLOW")){case"BREAK":return a+"break;\n";case"CONTINUE":return a+"continue;\n"}throw Error("Unknown flow statement.")},e.JavaScript.math={},e.JavaScript.math_number=function(n){return[n=Number(n.getFieldValue("NUM")),0<=n?e.JavaScript.ORDER_ATOMIC:e.JavaScript.ORDER_UNARY_NEGATION]},e.JavaScript.math_arithmetic=function(n){var a={ADD:[" + ",e.JavaScript.ORDER_ADDITION],MINUS:[" - ",e.JavaScript.ORDER_SUBTRACTION],MULTIPLY:[" * ",e.JavaScript.ORDER_MULTIPLICATION],DIVIDE:[" / ",e.JavaScript.ORDER_DIVISION],POWER:[null,e.JavaScript.ORDER_NONE]}[n.getFieldValue("OP")],u=a[0],C=e.JavaScript.valueToCode(n,"A",a=a[1])||"0";return n=e.JavaScript.valueToCode(n,"B",a)||"0",u?[C+u+n,a]:["Math.pow("+C+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_single=function(n){var a=n.getFieldValue("OP");if("NEG"==a)return"-"==(n=e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_UNARY_NEGATION)||"0")[0]&&(n=" "+n),["-"+n,e.JavaScript.ORDER_UNARY_NEGATION];switch(n="SIN"==a||"COS"==a||"TAN"==a?e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_DIVISION)||"0":e.JavaScript.valueToCode(n,"NUM",e.JavaScript.ORDER_NONE)||"0",a){case"ABS":var u="Math.abs("+n+")";break;case"ROOT":u="Math.sqrt("+n+")";break;case"LN":u="Math.log("+n+")";break;case"EXP":u="Math.exp("+n+")";break;case"POW10":u="Math.pow(10,"+n+")";break;case"ROUND":u="Math.round("+n+")";break;case"ROUNDUP":u="Math.ceil("+n+")";break;case"ROUNDDOWN":u="Math.floor("+n+")";break;case"SIN":u="Math.sin("+n+" / 180 * Math.PI)";break;case"COS":u="Math.cos("+n+" / 180 * Math.PI)";break;case"TAN":u="Math.tan("+n+" / 180 * Math.PI)"}if(u)return[u,e.JavaScript.ORDER_FUNCTION_CALL];switch(a){case"LOG10":u="Math.log("+n+") / Math.log(10)";break;case"ASIN":u="Math.asin("+n+") / Math.PI * 180";break;case"ACOS":u="Math.acos("+n+") / Math.PI * 180";break;case"ATAN":u="Math.atan("+n+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+a)}return[u,e.JavaScript.ORDER_DIVISION]},e.JavaScript.math_constant=function(n){return{PI:["Math.PI",e.JavaScript.ORDER_MEMBER],E:["Math.E",e.JavaScript.ORDER_MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",e.JavaScript.ORDER_DIVISION],SQRT2:["Math.SQRT2",e.JavaScript.ORDER_MEMBER],SQRT1_2:["Math.SQRT1_2",e.JavaScript.ORDER_MEMBER],INFINITY:["Infinity",e.JavaScript.ORDER_ATOMIC]}[n.getFieldValue("CONSTANT")]},e.JavaScript.math_number_property=function(n){var a=e.JavaScript.valueToCode(n,"NUMBER_TO_CHECK",e.JavaScript.ORDER_MODULUS)||"0",u=n.getFieldValue("PROPERTY");if("PRIME"==u)return[e.JavaScript.provideFunction_("mathIsPrime",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).","  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+a+")",e.JavaScript.ORDER_FUNCTION_CALL];switch(u){case"EVEN":var C=a+" % 2 == 0";break;case"ODD":C=a+" % 2 == 1";break;case"WHOLE":C=a+" % 1 == 0";break;case"POSITIVE":C=a+" > 0";break;case"NEGATIVE":C=a+" < 0";break;case"DIVISIBLE_BY":C=a+" % "+(n=e.JavaScript.valueToCode(n,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0")+" == 0"}return[C,e.JavaScript.ORDER_EQUALITY]},e.JavaScript.math_change=function(n){var a=e.JavaScript.valueToCode(n,"DELTA",e.JavaScript.ORDER_ADDITION)||"0";return(n=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME))+" = (typeof "+n+" == 'number' ? "+n+" : 0) + "+a+";\n"},e.JavaScript.math_round=e.JavaScript.math_single,e.JavaScript.math_trig=e.JavaScript.math_single,e.JavaScript.math_on_list=function(n){var a=n.getFieldValue("OP");switch(a){case"SUM":n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_MEMBER)||"[]",n+=".reduce(function(x, y) {return x + y;})";break;case"MIN":n="Math.min.apply(null, "+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MAX":n="Math.max.apply(null, "+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"AVERAGE":n=(a=e.JavaScript.provideFunction_("mathMean",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MEDIAN":n=(a=e.JavaScript.provideFunction_("mathMedian",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"MODE":n=(a=e.JavaScript.provideFunction_("mathModes",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);","  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"STD_DEV":n=(a=e.JavaScript.provideFunction_("mathStandardDeviation",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);","  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;case"RANDOM":n=(a=e.JavaScript.provideFunction_("mathRandomList",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]))+"("+(n=e.JavaScript.valueToCode(n,"LIST",e.JavaScript.ORDER_NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+a)}return[n,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_modulo=function(n){return[(e.JavaScript.valueToCode(n,"DIVIDEND",e.JavaScript.ORDER_MODULUS)||"0")+" % "+(n=e.JavaScript.valueToCode(n,"DIVISOR",e.JavaScript.ORDER_MODULUS)||"0"),e.JavaScript.ORDER_MODULUS]},e.JavaScript.math_constrain=function(n){return["Math.min(Math.max("+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_NONE)||"0")+", "+(e.JavaScript.valueToCode(n,"LOW",e.JavaScript.ORDER_NONE)||"0")+"), "+(n=e.JavaScript.valueToCode(n,"HIGH",e.JavaScript.ORDER_NONE)||"Infinity")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_int=function(n){var a=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_NONE)||"0";return n=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_NONE)||"0",[e.JavaScript.provideFunction_("mathRandomInt",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+a+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_random_float=function(n){return["Math.random()",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.math_atan2=function(n){var a=e.JavaScript.valueToCode(n,"X",e.JavaScript.ORDER_NONE)||"0";return["Math.atan2("+(e.JavaScript.valueToCode(n,"Y",e.JavaScript.ORDER_NONE)||"0")+", "+a+") / Math.PI * 180",e.JavaScript.ORDER_DIVISION]},e.JavaScript.procedures={},e.JavaScript.procedures_defreturn=function(n){var a=e.JavaScript.nameDB_.getName(n.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),u="";e.JavaScript.STATEMENT_PREFIX&&(u+=e.JavaScript.injectId(e.JavaScript.STATEMENT_PREFIX,n)),e.JavaScript.STATEMENT_SUFFIX&&(u+=e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n)),u&&(u=e.JavaScript.prefixLines(u,e.JavaScript.INDENT));var C="";e.JavaScript.INFINITE_LOOP_TRAP&&(C=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.INFINITE_LOOP_TRAP,n),e.JavaScript.INDENT));var D=e.JavaScript.statementToCode(n,"STACK"),F=e.JavaScript.valueToCode(n,"RETURN",e.JavaScript.ORDER_NONE)||"",W="";D&&F&&(W=u),F&&(F=e.JavaScript.INDENT+"return "+F+";\n");for(var te=[],oe=n.getVars(),q=0;q<oe.length;q++)te[q]=e.JavaScript.nameDB_.getName(oe[q],e.VARIABLE_CATEGORY_NAME);return u="function "+a+"("+te.join(", ")+") {\n"+u+C+D+W+F+"}",u=e.JavaScript.scrub_(n,u),e.JavaScript.definitions_["%"+a]=u,null},e.JavaScript.procedures_defnoreturn=e.JavaScript.procedures_defreturn,e.JavaScript.procedures_callreturn=function(n){for(var a=e.JavaScript.nameDB_.getName(n.getFieldValue("NAME"),e.PROCEDURE_CATEGORY_NAME),u=[],C=n.getVars(),D=0;D<C.length;D++)u[D]=e.JavaScript.valueToCode(n,"ARG"+D,e.JavaScript.ORDER_NONE)||"null";return[a+"("+u.join(", ")+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.procedures_callnoreturn=function(n){return e.JavaScript.procedures_callreturn(n)[0]+";\n"},e.JavaScript.procedures_ifreturn=function(n){var a="if ("+(e.JavaScript.valueToCode(n,"CONDITION",e.JavaScript.ORDER_NONE)||"false")+") {\n";return e.JavaScript.STATEMENT_SUFFIX&&(a+=e.JavaScript.prefixLines(e.JavaScript.injectId(e.JavaScript.STATEMENT_SUFFIX,n),e.JavaScript.INDENT)),n.hasReturnValue_?(n=e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_NONE)||"null",a+=e.JavaScript.INDENT+"return "+n+";\n"):a+=e.JavaScript.INDENT+"return;\n",a+"}\n"},e.JavaScript.texts={},e.JavaScript.text=function(n){return[e.JavaScript.quote_(n.getFieldValue("TEXT")),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.text_multiline=function(n){var a=-1!=(n=e.JavaScript.multiline_quote_(n.getFieldValue("TEXT"))).indexOf("+")?e.JavaScript.ORDER_ADDITION:e.JavaScript.ORDER_ATOMIC;return[n,a]},e.JavaScript.text.forceString_=function(n){return e.JavaScript.text.forceString_.strRegExp.test(n)?[n,e.JavaScript.ORDER_ATOMIC]:["String("+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text.forceString_.strRegExp=/^\s*'([^']|\\')*'\s*$/,e.JavaScript.text_join=function(n){switch(n.itemCount_){case 0:return["''",e.JavaScript.ORDER_ATOMIC];case 1:return n=e.JavaScript.valueToCode(n,"ADD0",e.JavaScript.ORDER_NONE)||"''",e.JavaScript.text.forceString_(n);case 2:var a=e.JavaScript.valueToCode(n,"ADD0",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"ADD1",e.JavaScript.ORDER_NONE)||"''",[n=e.JavaScript.text.forceString_(a)[0]+" + "+e.JavaScript.text.forceString_(n)[0],e.JavaScript.ORDER_ADDITION];default:a=Array(n.itemCount_);for(var u=0;u<n.itemCount_;u++)a[u]=e.JavaScript.valueToCode(n,"ADD"+u,e.JavaScript.ORDER_NONE)||"''";return[n="["+a.join(",")+"].join('')",e.JavaScript.ORDER_FUNCTION_CALL]}},e.JavaScript.text_append=function(n){var a=e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME);return n=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''",a+" += "+e.JavaScript.text.forceString_(n)[0]+";\n"},e.JavaScript.text_length=function(n){return[(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_MEMBER]},e.JavaScript.text_isEmpty=function(n){return["!"+(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+".length",e.JavaScript.ORDER_LOGICAL_NOT]},e.JavaScript.text_indexOf=function(n){var a="FIRST"==n.getFieldValue("END")?"indexOf":"lastIndexOf",u=e.JavaScript.valueToCode(n,"FIND",e.JavaScript.ORDER_NONE)||"''";return a=(e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_MEMBER)||"''")+"."+a+"("+u+")",n.workspace.options.oneBasedIndex?[a+" + 1",e.JavaScript.ORDER_ADDITION]:[a,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_charAt=function(n){var a=n.getFieldValue("WHERE")||"FROM_START",u=e.JavaScript.valueToCode(n,"VALUE","RANDOM"==a?e.JavaScript.ORDER_NONE:e.JavaScript.ORDER_MEMBER)||"''";switch(a){case"FIRST":return[u+".charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"LAST":return[u+".slice(-1)",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_START":return[u+".charAt("+(n=e.JavaScript.getAdjusted(n,"AT"))+")",e.JavaScript.ORDER_FUNCTION_CALL];case"FROM_END":return[u+".slice("+(n=e.JavaScript.getAdjusted(n,"AT",1,!0))+").charAt(0)",e.JavaScript.ORDER_FUNCTION_CALL];case"RANDOM":return[e.JavaScript.provideFunction_("textRandomLetter",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(text) {","  var x = Math.floor(Math.random() * text.length);","  return text[x];","}"])+"("+u+")",e.JavaScript.ORDER_FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},e.JavaScript.text.getIndex_=function(n,a,u){return"FIRST"==a?"0":"FROM_END"==a?n+".length - 1 - "+u:"LAST"==a?n+".length - 1":u},e.JavaScript.text_getSubstring=function(n){var a=n.getFieldValue("WHERE1"),u=n.getFieldValue("WHERE2"),C="FROM_END"!=a&&"LAST"!=a&&"FROM_END"!=u&&"LAST"!=u,D=e.JavaScript.valueToCode(n,"STRING",C?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''";if("FIRST"==a&&"LAST"==u)return[D,e.JavaScript.ORDER_NONE];if(D.match(/^'?\w+'?$/)||C){switch(a){case"FROM_START":C=e.JavaScript.getAdjusted(n,"AT1");break;case"FROM_END":C=D+".length - "+(C=e.JavaScript.getAdjusted(n,"AT1",1,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"FIRST":C="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(u){case"FROM_START":n=e.JavaScript.getAdjusted(n,"AT2",1);break;case"FROM_END":n=D+".length - "+(n=e.JavaScript.getAdjusted(n,"AT2",0,!1,e.JavaScript.ORDER_SUBTRACTION));break;case"LAST":n=D+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}a=D+".slice("+C+", "+n+")"}else{C=e.JavaScript.getAdjusted(n,"AT1"),n=e.JavaScript.getAdjusted(n,"AT2");var F=e.JavaScript.text.getIndex_,W={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};a=e.JavaScript.provideFunction_("subsequence"+W[a]+W[u],["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(sequence"+("FROM_END"==a||"FROM_START"==a?", at1":"")+("FROM_END"==u||"FROM_START"==u?", at2":"")+") {","  var start = "+F("sequence",a,"at1")+";","  var end = "+F("sequence",u,"at2")+" + 1;","  return sequence.slice(start, end);","}"])+"("+D+("FROM_END"==a||"FROM_START"==a?", "+C:"")+("FROM_END"==u||"FROM_START"==u?", "+n:"")+")"}return[a,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_changeCase=function(n){var a={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[n.getFieldValue("CASE")];return n=e.JavaScript.valueToCode(n,"TEXT",a?e.JavaScript.ORDER_MEMBER:e.JavaScript.ORDER_NONE)||"''",[a?n+a:e.JavaScript.provideFunction_("textToTitleCase",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(str) {","  return str.replace(/\\S+/g,","      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});","}"])+"("+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_trim=function(n){var a={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[n.getFieldValue("MODE")];return[(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+a,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_print=function(n){return"window.alert("+(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''")+");\n"},e.JavaScript.text_prompt_ext=function(n){var a="window.prompt("+(n.getField("TEXT")?e.JavaScript.quote_(n.getFieldValue("TEXT")):e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''")+")";return"NUMBER"==n.getFieldValue("TYPE")&&(a="Number("+a+")"),[a,e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_prompt=e.JavaScript.text_prompt_ext,e.JavaScript.text_count=function(n){var a=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"SUB",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textCount",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle) {","  if (needle.length === 0) {","    return haystack.length + 1;","  } else {","    return haystack.split(needle).length - 1;","  }","}"])+"("+a+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_replace=function(n){var a=e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_NONE)||"''",u=e.JavaScript.valueToCode(n,"FROM",e.JavaScript.ORDER_NONE)||"''";return n=e.JavaScript.valueToCode(n,"TO",e.JavaScript.ORDER_NONE)||"''",[e.JavaScript.provideFunction_("textReplace",["function "+e.JavaScript.FUNCTION_NAME_PLACEHOLDER_+"(haystack, needle, replacement) {",'  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g,"\\\\$1")','                 .replace(/\\x08/g,"\\\\x08");',"  return haystack.replace(new RegExp(needle, 'g'), replacement);","}"])+"("+a+", "+u+", "+n+")",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.text_reverse=function(n){return[(e.JavaScript.valueToCode(n,"TEXT",e.JavaScript.ORDER_MEMBER)||"''")+".split('').reverse().join('')",e.JavaScript.ORDER_FUNCTION_CALL]},e.JavaScript.variables={},e.JavaScript.variables_get=function(n){return[e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME),e.JavaScript.ORDER_ATOMIC]},e.JavaScript.variables_set=function(n){var a=e.JavaScript.valueToCode(n,"VALUE",e.JavaScript.ORDER_ASSIGNMENT)||"0";return e.JavaScript.nameDB_.getName(n.getFieldValue("VAR"),e.VARIABLE_CATEGORY_NAME)+" = "+a+";\n"},e.JavaScript.variablesDynamic={},e.JavaScript.variables_get_dynamic=e.JavaScript.variables_get,e.JavaScript.variables_set_dynamic=e.JavaScript.variables_set,e.JavaScript}.apply(K,m))&&(B.exports=t)},63266:function(B,K,f){var m,t;m=[f(68210)],void 0!==(t=function(n){return(n={Msg:{}}).Msg.ADD_COMMENT="Add Comment",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_VARIABLE="Delete the '%1' variable",n.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.DUPLICATE_COMMENT="Duplicate Comment",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.IOS_CANCEL="Cancel",n.Msg.IOS_ERROR="Error",n.Msg.IOS_OK="OK",n.Msg.IOS_PROCEDURES_ADD_INPUT="+ Add Input",n.Msg.IOS_PROCEDURES_ALLOW_STATEMENTS="Allow statements",n.Msg.IOS_PROCEDURES_DUPLICATE_INPUTS_ERROR="This function has duplicate inputs.",n.Msg.IOS_PROCEDURES_INPUTS="INPUTS",n.Msg.IOS_VARIABLES_ADD_BUTTON="Add",n.Msg.IOS_VARIABLES_ADD_VARIABLE="+ Add Variable",n.Msg.IOS_VARIABLES_DELETE_BUTTON="Delete",n.Msg.IOS_VARIABLES_EMPTY_NAME_ERROR="You can't use an empty variable name.",n.Msg.IOS_VARIABLES_RENAME_BUTTON="Rename",n.Msg.IOS_VARIABLES_VARIABLE_NAME="Variable name",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",n.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",n.Msg.LISTS_SORT_ORDER_DESCENDING="descending",n.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",n.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",n.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",n.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="\xf7",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",n.Msg.NEW_NUMBER_VARIABLE="Create number variable...",n.Msg.NEW_STRING_VARIABLE="Create string variable...",n.Msg.NEW_VARIABLE="Create variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="to %1 append text %2",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="in text %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",n.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",n.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",n.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.UNNAMED_KEY="unnamed",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",n.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_HELPURL=n.Msg.LISTS_INDEX_OF_HELPURL,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.MATH_HUE="230",n.Msg.LOOPS_HUE="120",n.Msg.LISTS_HUE="260",n.Msg.LOGIC_HUE="210",n.Msg.VARIABLES_HUE="330",n.Msg.TEXTS_HUE="160",n.Msg.PROCEDURES_HUE="290",n.Msg.COLOUR_HUE="20",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg}.apply(K,m))&&(B.exports=t)},87558:B=>{!function(){"use strict";B.exports=function K(f){return(f instanceof Buffer?f:Buffer.from(f.toString(),"binary")).toString("base64")}}()},75834:(B,K,f)=>{"use strict";var E=f(95203),m=f(55685),t=m(E("String.prototype.indexOf"));B.exports=function(n,a){var u=E(n,!!a);return"function"==typeof u&&t(n,".prototype.")>-1?m(u):u}},55685:(B,K,f)=>{"use strict";var E=f(84444),m=f(95203),t=m("%Function.prototype.apply%"),e=m("%Function.prototype.call%"),n=m("%Reflect.apply%",!0)||E.call(e,t),a=m("%Object.getOwnPropertyDescriptor%",!0),u=m("%Object.defineProperty%",!0),C=m("%Math.max%");if(u)try{u({},"a",{value:1})}catch(F){u=null}B.exports=function(W){var te=n(E,e,arguments);if(a&&u){var oe=a(te,"length");oe.configurable&&u(te,"length",{value:1+C(0,W.length-(arguments.length-1))})}return te};var D=function(){return n(E,t,arguments)};u?u(B.exports,"apply",{value:D}):B.exports.apply=D},68266:function(B){B.exports=function(){"use strict";var K=navigator.userAgent,f=navigator.platform,E=/gecko\/\d/i.test(K),m=/MSIE \d/.test(K),t=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(K),e=/Edge\/(\d+)/.exec(K),n=m||t||e,a=n&&(m?document.documentMode||6:+(e||t)[1]),u=!e&&/WebKit\//.test(K),C=u&&/Qt\/\d+\.\d+/.test(K),D=!e&&/Chrome\//.test(K),F=/Opera\//.test(K),W=/Apple Computer/.test(navigator.vendor),te=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(K),oe=/PhantomJS/.test(K),q=W&&(/Mobile\/\w+/.test(K)||navigator.maxTouchPoints>2),ue=/Android/.test(K),Te=q||ue||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(K),le=q||/Mac/.test(f),_e=/\bCrOS\b/.test(K),Pe=/win/i.test(f),Ue=F&&K.match(/Version\/(\d*\.\d*)/);Ue&&(Ue=Number(Ue[1])),Ue&&Ue>=15&&(F=!1,u=!0);var Se=le&&(C||F&&(null==Ue||Ue<12.11)),ve=E||n&&a>=9;function se(h){return new RegExp("(^|\\s)"+h+"(?:$|\\s)\\s*")}var de,me=function(h,b){var x=h.className,M=se(b).exec(x);if(M){var L=x.slice(M.index+M[0].length);h.className=x.slice(0,M.index)+(L?M[1]+L:"")}};function ce(h){for(var b=h.childNodes.length;b>0;--b)h.removeChild(h.firstChild);return h}function Ne(h,b){return ce(h).appendChild(b)}function Ae(h,b,x,M){var L=document.createElement(h);if(x&&(L.className=x),M&&(L.style.cssText=M),"string"==typeof b)L.appendChild(document.createTextNode(b));else if(b)for(var Y=0;Y<b.length;++Y)L.appendChild(b[Y]);return L}function Ce(h,b,x,M){var L=Ae(h,b,x,M);return L.setAttribute("role","presentation"),L}function re(h,b){if(3==b.nodeType&&(b=b.parentNode),h.contains)return h.contains(b);do{if(11==b.nodeType&&(b=b.host),b==h)return!0}while(b=b.parentNode)}function ot(){var h;try{h=document.activeElement}catch(b){h=document.body||null}for(;h&&h.shadowRoot&&h.shadowRoot.activeElement;)h=h.shadowRoot.activeElement;return h}function ze(h,b){var x=h.className;se(b).test(x)||(h.className+=(x?" ":"")+b)}function De(h,b){for(var x=h.split(" "),M=0;M<x.length;M++)x[M]&&!se(x[M]).test(b)&&(b+=" "+x[M]);return b}de=document.createRange?function(h,b,x,M){var L=document.createRange();return L.setEnd(M||h,x),L.setStart(h,b),L}:function(h,b,x){var M=document.body.createTextRange();try{M.moveToElementText(h.parentNode)}catch(L){return M}return M.collapse(!0),M.moveEnd("character",x),M.moveStart("character",b),M};var st=function(h){h.select()};function pt(h){var b=Array.prototype.slice.call(arguments,1);return function(){return h.apply(null,b)}}function dt(h,b,x){for(var M in b||(b={}),h)h.hasOwnProperty(M)&&(!1!==x||!b.hasOwnProperty(M))&&(b[M]=h[M]);return b}function Ot(h,b,x,M,L){null==b&&-1==(b=h.search(/[^\s\u00a0]/))&&(b=h.length);for(var Y=M||0,he=L||0;;){var Me=h.indexOf("\t",Y);if(Me<0||Me>=b)return he+(b-Y);he+=Me-Y,he+=x-he%x,Y=Me+1}}q?st=function(h){h.selectionStart=0,h.selectionEnd=h.value.length}:n&&(st=function(h){try{h.select()}catch(b){}});var kt=function(){this.id=null,this.f=null,this.time=0,this.handler=pt(this.onTimeout,this)};function oi(h,b){for(var x=0;x<h.length;++x)if(h[x]==b)return x;return-1}kt.prototype.onTimeout=function(h){h.id=0,h.time<=+new Date?h.f():setTimeout(h.handler,h.time-+new Date)},kt.prototype.set=function(h,b){this.f=b;var x=+new Date+h;(!this.id||x<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,h),this.time=x)};var ti={toString:function(){return"CodeMirror.Pass"}},Rt={scroll:!1},ii={origin:"*mouse"},mt={origin:"+move"};function Ye(h,b,x){for(var M=0,L=0;;){var Y=h.indexOf("\t",M);-1==Y&&(Y=h.length);var he=Y-M;if(Y==h.length||L+he>=b)return M+Math.min(he,b-L);if(L+=Y-M,M=Y+1,(L+=x-L%x)>=b)return M}}var Je=[""];function ut(h){for(;Je.length<=h;)Je.push(Re(Je)+" ");return Je[h]}function Re(h){return h[h.length-1]}function yt(h,b){for(var x=[],M=0;M<h.length;M++)x[M]=b(h[M],M);return x}function gi(){}function wt(h,b){var x;return Object.create?x=Object.create(h):(gi.prototype=h,x=new gi),b&&dt(b,x),x}var rt=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function tt(h){return/\w/.test(h)||h>"\x80"&&(h.toUpperCase()!=h.toLowerCase()||rt.test(h))}function At(h,b){return b?!!(b.source.indexOf("\\w")>-1&&tt(h))||b.test(h):tt(h)}function lt(h){for(var b in h)if(h.hasOwnProperty(b)&&h[b])return!1;return!0}var vt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Et(h){return h.charCodeAt(0)>=768&&vt.test(h)}function Ke(h,b,x){for(;(x<0?b>0:b<h.length)&&Et(h.charAt(b));)b+=x;return b}function Ze(h,b,x){for(var M=b>x?-1:1;;){if(b==x)return b;var L=(b+x)/2,Y=M<0?Math.ceil(L):Math.floor(L);if(Y==b)return h(Y)?b:x;h(Y)?x=Y:b=Y+M}}var Kt=null;function Ei(h,b,x){var M;Kt=null;for(var L=0;L<h.length;++L){var Y=h[L];if(Y.from<b&&Y.to>b)return L;Y.to==b&&(Y.from!=Y.to&&"before"==x?M=L:Kt=L),Y.from==b&&(Y.from!=Y.to&&"before"!=x?M=L:Kt=L)}return null!=M?M:Kt}var vi=function(){function x($e){return $e<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt($e):1424<=$e&&$e<=1524?"R":1536<=$e&&$e<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt($e-1536):1774<=$e&&$e<=2220?"r":8192<=$e&&$e<=8203?"w":8204==$e?"b":"L"}var M=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,L=/[stwN]/,Y=/[LRr]/,he=/[Lb1n]/,Me=/[1n]/;function Be($e,It,jt){this.level=$e,this.from=It,this.to=jt}return function($e,It){var jt="ltr"==It?"L":"R";if(0==$e.length||"ltr"==It&&!M.test($e))return!1;for(var fi=$e.length,ci=[],ki=0;ki<fi;++ki)ci.push(x($e.charCodeAt(ki)));for(var zi=0,cn=jt;zi<fi;++zi){var _n=ci[zi];"m"==_n?ci[zi]=cn:cn=_n}for(var xn=0,pn=jt;xn<fi;++xn){var In=ci[xn];"1"==In&&"r"==pn?ci[xn]="n":Y.test(In)&&(pn=In,"r"==In&&(ci[xn]="R"))}for(var ir=1,Zn=ci[0];ir<fi-1;++ir){var Tr=ci[ir];"+"==Tr&&"1"==Zn&&"1"==ci[ir+1]?ci[ir]="1":","==Tr&&Zn==ci[ir+1]&&("1"==Zn||"n"==Zn)&&(ci[ir]=Zn),Zn=Tr}for(var go=0;go<fi;++go){var Hs=ci[go];if(","==Hs)ci[go]="N";else if("%"==Hs){var Ko=void 0;for(Ko=go+1;Ko<fi&&"%"==ci[Ko];++Ko);for(var Aa=go&&"!"==ci[go-1]||Ko<fi&&"1"==ci[Ko]?"1":"N",Ca=go;Ca<Ko;++Ca)ci[Ca]=Aa;go=Ko-1}}for(var vs=0,Yr=jt;vs<fi;++vs){var us=ci[vs];"L"==Yr&&"1"==us?ci[vs]="L":Y.test(us)&&(Yr=us)}for(var Rs=0;Rs<fi;++Rs)if(L.test(ci[Rs])){var T=void 0;for(T=Rs+1;T<fi&&L.test(ci[T]);++T);for(var H="L"==(Rs?ci[Rs-1]:jt),ie=H==("L"==(T<fi?ci[T]:jt))?H?"L":"R":jt,ge=Rs;ge<T;++ge)ci[ge]=ie;Rs=T-1}for(var Xe,We=[],ct=0;ct<fi;)if(he.test(ci[ct])){var St=ct;for(++ct;ct<fi&&he.test(ci[ct]);++ct);We.push(new Be(0,St,ct))}else{var xt=ct,ei=We.length,ri="rtl"==It?1:0;for(++ct;ct<fi&&"L"!=ci[ct];++ct);for(var hi=xt;hi<ct;)if(Me.test(ci[hi])){xt<hi&&(We.splice(ei,0,new Be(1,xt,hi)),ei+=ri);var Si=hi;for(++hi;hi<ct&&Me.test(ci[hi]);++hi);We.splice(ei,0,new Be(2,Si,hi)),ei+=ri,xt=hi}else++hi;xt<ct&&We.splice(ei,0,new Be(1,xt,ct))}return"ltr"==It&&(1==We[0].level&&(Xe=$e.match(/^\s+/))&&(We[0].from=Xe[0].length,We.unshift(new Be(0,0,Xe[0].length))),1==Re(We).level&&(Xe=$e.match(/\s+$/))&&(Re(We).to-=Xe[0].length,We.push(new Be(0,fi-Xe[0].length,fi)))),"rtl"==It?We.reverse():We}}();function pi(h,b){var x=h.order;return null==x&&(x=h.order=vi(h.text,b)),x}var Gi=[],Di=function(h,b,x){if(h.addEventListener)h.addEventListener(b,x,!1);else if(h.attachEvent)h.attachEvent("on"+b,x);else{var M=h._handlers||(h._handlers={});M[b]=(M[b]||Gi).concat(x)}};function an(h,b){return h._handlers&&h._handlers[b]||Gi}function _t(h,b,x){if(h.removeEventListener)h.removeEventListener(b,x,!1);else if(h.detachEvent)h.detachEvent("on"+b,x);else{var M=h._handlers,L=M&&M[b];if(L){var Y=oi(L,x);Y>-1&&(M[b]=L.slice(0,Y).concat(L.slice(Y+1)))}}}function Mt(h,b){var x=an(h,b);if(x.length)for(var M=Array.prototype.slice.call(arguments,2),L=0;L<x.length;++L)x[L].apply(null,M)}function _i(h,b,x){return"string"==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}}),Mt(h,x||b.type,h,b),Tt(b)||b.codemirrorIgnore}function yi(h){var b=h._handlers&&h._handlers.cursorActivity;if(b)for(var x=h.curOp.cursorActivityHandlers||(h.curOp.cursorActivityHandlers=[]),M=0;M<b.length;++M)-1==oi(x,b[M])&&x.push(b[M])}function Fi(h,b){return an(h,b).length>0}function Pi(h){h.prototype.on=function(b,x){Di(this,b,x)},h.prototype.off=function(b,x){_t(this,b,x)}}function gn(h){h.preventDefault?h.preventDefault():h.returnValue=!1}function ai(h){h.stopPropagation?h.stopPropagation():h.cancelBubble=!0}function Tt(h){return null!=h.defaultPrevented?h.defaultPrevented:0==h.returnValue}function He(h){gn(h),ai(h)}function Ee(h){return h.target||h.srcElement}function Ve(h){var b=h.which;return null==b&&(1&h.button?b=1:2&h.button?b=3:4&h.button&&(b=2)),le&&h.ctrlKey&&1==b&&(b=3),b}var Ut,ln,gt=function(){if(n&&a<9)return!1;var h=Ae("div");return"draggable"in h||"dragDrop"in h}();function Xi(h){if(null==Ut){var b=Ae("span","\u200b");Ne(h,Ae("span",[b,document.createTextNode("x")])),0!=h.firstChild.offsetHeight&&(Ut=b.offsetWidth<=1&&b.offsetHeight>2&&!(n&&a<8))}var x=Ut?Ae("span","\u200b"):Ae("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return x.setAttribute("cm-text",""),x}function An(h){if(null!=ln)return ln;var b=Ne(h,document.createTextNode("A\u062eA")),x=de(b,0,1).getBoundingClientRect(),M=de(b,1,2).getBoundingClientRect();return ce(h),!(!x||x.left==x.right)&&(ln=M.right-x.right<3)}var h,qn=3!="\n\nb".split(/\n/).length?function(h){for(var b=0,x=[],M=h.length;b<=M;){var L=h.indexOf("\n",b);-1==L&&(L=h.length);var Y=h.slice(b,"\r"==h.charAt(L-1)?L-1:L),he=Y.indexOf("\r");-1!=he?(x.push(Y.slice(0,he)),b+=he+1):(x.push(Y),b=L+1)}return x}:function(h){return h.split(/\r\n?|\n/)},si=window.getSelection?function(h){try{return h.selectionStart!=h.selectionEnd}catch(b){return!1}}:function(h){var b;try{b=h.ownerDocument.selection.createRange()}catch(x){}return!(!b||b.parentElement()!=h)&&0!=b.compareEndPoints("StartToEnd",b)},$t="oncopy"in(h=Ae("div"))||(h.setAttribute("oncopy","return;"),"function"==typeof h.oncopy),Pt=null;var Ri={},fn={};function kn(h,b){arguments.length>2&&(b.dependencies=Array.prototype.slice.call(arguments,2)),Ri[h]=b}function Sr(h){if("string"==typeof h&&fn.hasOwnProperty(h))h=fn[h];else if(h&&"string"==typeof h.name&&fn.hasOwnProperty(h.name)){var b=fn[h.name];"string"==typeof b&&(b={name:b}),(h=wt(b,h)).name=b.name}else{if("string"==typeof h&&/^[\w\-]+\/[\w\-]+\+xml$/.test(h))return Sr("application/xml");if("string"==typeof h&&/^[\w\-]+\/[\w\-]+\+json$/.test(h))return Sr("application/json")}return"string"==typeof h?{name:h}:h||{name:"null"}}function Jr(h,b){b=Sr(b);var x=Ri[b.name];if(!x)return Jr(h,"text/plain");var M=x(h,b);if(Qr.hasOwnProperty(b.name)){var L=Qr[b.name];for(var Y in L)!L.hasOwnProperty(Y)||(M.hasOwnProperty(Y)&&(M["_"+Y]=M[Y]),M[Y]=L[Y])}if(M.name=b.name,b.helperType&&(M.helperType=b.helperType),b.modeProps)for(var he in b.modeProps)M[he]=b.modeProps[he];return M}var Qr={};function bo(h,b){dt(b,Qr.hasOwnProperty(h)?Qr[h]:Qr[h]={})}function Dr(h,b){if(!0===b)return b;if(h.copyState)return h.copyState(b);var x={};for(var M in b){var L=b[M];L instanceof Array&&(L=L.concat([])),x[M]=L}return x}function dr(h,b){for(var x;h.innerMode&&(x=h.innerMode(b))&&x.mode!=h;)b=x.state,h=x.mode;return x||{mode:h,state:b}}function Zo(h,b,x){return!h.startState||h.startState(b,x)}var ar=function(h,b,x){this.pos=this.start=0,this.string=h,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=x};function xi(h,b){if((b-=h.first)<0||b>=h.size)throw new Error("There is no line "+(b+h.first)+" in the document.");for(var x=h;!x.lines;)for(var M=0;;++M){var L=x.children[M],Y=L.chunkSize();if(b<Y){x=L;break}b-=Y}return x.lines[b]}function jn(h,b,x){var M=[],L=b.line;return h.iter(b.line,x.line+1,function(Y){var he=Y.text;L==x.line&&(he=he.slice(0,x.ch)),L==b.line&&(he=he.slice(b.ch)),M.push(he),++L}),M}function mr(h,b,x){var M=[];return h.iter(b,x,function(L){M.push(L.text)}),M}function Vr(h,b){var x=b-h.height;if(x)for(var M=h;M;M=M.parent)M.height+=x}function fr(h){if(null==h.parent)return null;for(var b=h.parent,x=oi(b.lines,h),M=b.parent;M;b=M,M=M.parent)for(var L=0;M.children[L]!=b;++L)x+=M.children[L].chunkSize();return x+b.first}function Mr(h,b){var x=h.first;e:do{for(var M=0;M<h.children.length;++M){var L=h.children[M],Y=L.height;if(b<Y){h=L;continue e}b-=Y,x+=L.chunkSize()}return x}while(!h.lines);for(var he=0;he<h.lines.length;++he){var Be=h.lines[he].height;if(b<Be)break;b-=Be}return x+he}function Zr(h,b){return b>=h.first&&b<h.first+h.size}function xr(h,b){return String(h.lineNumberFormatter(b+h.firstLineNumber))}function Bi(h,b,x){if(void 0===x&&(x=null),!(this instanceof Bi))return new Bi(h,b,x);this.line=h,this.ch=b,this.sticky=x}function Bn(h,b){return h.line-b.line||h.ch-b.ch}function Ln(h,b){return h.sticky==b.sticky&&0==Bn(h,b)}function at(h){return Bi(h.line,h.ch)}function Ft(h,b){return Bn(h,b)<0?b:h}function Ai(h,b){return Bn(h,b)<0?h:b}function Yi(h,b){return Math.max(h.first,Math.min(b,h.first+h.size-1))}function Ji(h,b){if(b.line<h.first)return Bi(h.first,0);var x=h.first+h.size-1;return b.line>x?Bi(x,xi(h,x).text.length):function sr(h,b){var x=h.ch;return null==x||x>b?Bi(h.line,b):x<0?Bi(h.line,0):h}(b,xi(h,b.line).text.length)}function Qn(h,b){for(var x=[],M=0;M<b.length;M++)x[M]=Ji(h,b[M]);return x}ar.prototype.eol=function(){return this.pos>=this.string.length},ar.prototype.sol=function(){return this.pos==this.lineStart},ar.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ar.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ar.prototype.eat=function(h){var b=this.string.charAt(this.pos);if("string"==typeof h?b==h:b&&(h.test?h.test(b):h(b)))return++this.pos,b},ar.prototype.eatWhile=function(h){for(var b=this.pos;this.eat(h););return this.pos>b},ar.prototype.eatSpace=function(){for(var h=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>h},ar.prototype.skipToEnd=function(){this.pos=this.string.length},ar.prototype.skipTo=function(h){var b=this.string.indexOf(h,this.pos);if(b>-1)return this.pos=b,!0},ar.prototype.backUp=function(h){this.pos-=h},ar.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Ot(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Ot(this.string,this.lineStart,this.tabSize):0)},ar.prototype.indentation=function(){return Ot(this.string,null,this.tabSize)-(this.lineStart?Ot(this.string,this.lineStart,this.tabSize):0)},ar.prototype.match=function(h,b,x){if("string"!=typeof h){var Y=this.string.slice(this.pos).match(h);return Y&&Y.index>0?null:(Y&&!1!==b&&(this.pos+=Y[0].length),Y)}var M=function(he){return x?he.toLowerCase():he};if(M(this.string.substr(this.pos,h.length))==M(h))return!1!==b&&(this.pos+=h.length),!0},ar.prototype.current=function(){return this.string.slice(this.start,this.pos)},ar.prototype.hideFirstChars=function(h,b){this.lineStart+=h;try{return b()}finally{this.lineStart-=h}},ar.prototype.lookAhead=function(h){var b=this.lineOracle;return b&&b.lookAhead(h)},ar.prototype.baseToken=function(){var h=this.lineOracle;return h&&h.baseToken(this.pos)};var or=function(h,b){this.state=h,this.lookAhead=b},Sn=function(h,b,x,M){this.state=b,this.doc=h,this.line=x,this.maxLookAhead=M||0,this.baseTokens=null,this.baseTokenPos=1};function Qo(h,b,x,M){var L=[h.state.modeGen],Y={};Ua(h,b.text,h.doc.mode,x,function($e,It){return L.push($e,It)},Y,M);for(var he=x.state,Me=function($e){x.baseTokens=L;var It=h.state.overlays[$e],jt=1,fi=0;x.state=!0,Ua(h,b.text,It.mode,x,function(ci,ki){for(var zi=jt;fi<ci;){var cn=L[jt];cn>ci&&L.splice(jt,1,ci,L[jt+1],cn),jt+=2,fi=Math.min(ci,cn)}if(ki)if(It.opaque)L.splice(zi,jt-zi,ci,"overlay "+ki),jt=zi+2;else for(;zi<jt;zi+=2){var _n=L[zi+1];L[zi+1]=(_n?_n+" ":"")+"overlay "+ki}},Y),x.state=he,x.baseTokens=null,x.baseTokenPos=1},Be=0;Be<h.state.overlays.length;++Be)Me(Be);return{styles:L,classes:Y.bgClass||Y.textClass?Y:null}}function uo(h,b,x){if(!b.styles||b.styles[0]!=h.state.modeGen){var M=io(h,fr(b)),L=b.text.length>h.options.maxHighlightLength&&Dr(h.doc.mode,M.state),Y=Qo(h,b,M);L&&(M.state=L),b.stateAfter=M.save(!L),b.styles=Y.styles,Y.classes?b.styleClasses=Y.classes:b.styleClasses&&(b.styleClasses=null),x===h.doc.highlightFrontier&&(h.doc.modeFrontier=Math.max(h.doc.modeFrontier,++h.doc.highlightFrontier))}return b.styles}function io(h,b,x){var M=h.doc,L=h.display;if(!M.mode.startState)return new Sn(M,!0,b);var Y=function So(h,b,x){for(var M,L,Y=h.doc,he=x?-1:b-(h.doc.mode.innerMode?1e3:100),Me=b;Me>he;--Me){if(Me<=Y.first)return Y.first;var Be=xi(Y,Me-1),$e=Be.stateAfter;if($e&&(!x||Me+($e instanceof or?$e.lookAhead:0)<=Y.modeFrontier))return Me;var It=Ot(Be.text,null,h.options.tabSize);(null==L||M>It)&&(L=Me-1,M=It)}return L}(h,b,x),he=Y>M.first&&xi(M,Y-1).stateAfter,Me=he?Sn.fromSaved(M,he,Y):new Sn(M,Zo(M.mode),Y);return M.iter(Y,b,function(Be){Io(h,Be.text,Me);var $e=Me.line;Be.stateAfter=$e==b-1||$e%5==0||$e>=L.viewFrom&&$e<L.viewTo?Me.save():null,Me.nextLine()}),x&&(M.modeFrontier=Me.line),Me}function Io(h,b,x,M){var L=h.doc.mode,Y=new ar(b,h.options.tabSize,x);for(Y.start=Y.pos=M||0,""==b&&lr(L,x.state);!Y.eol();)Gs(L,Y,x.state),Y.start=Y.pos}function lr(h,b){if(h.blankLine)return h.blankLine(b);if(h.innerMode){var x=dr(h,b);if(x.mode.blankLine)return x.mode.blankLine(x.state)}}function Gs(h,b,x,M){for(var L=0;L<10;L++){M&&(M[0]=dr(h,x).mode);var Y=h.token(b,x);if(b.pos>b.start)return Y}throw new Error("Mode "+h.name+" failed to advance stream.")}Sn.prototype.lookAhead=function(h){var b=this.doc.getLine(this.line+h);return null!=b&&h>this.maxLookAhead&&(this.maxLookAhead=h),b},Sn.prototype.baseToken=function(h){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=h;)this.baseTokenPos+=2;var b=this.baseTokens[this.baseTokenPos+1];return{type:b&&b.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-h}},Sn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Sn.fromSaved=function(h,b,x){return b instanceof or?new Sn(h,Dr(h.mode,b.state),x,b.lookAhead):new Sn(h,Dr(h.mode,b),x)},Sn.prototype.save=function(h){var b=!1!==h?Dr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new or(b,this.maxLookAhead):b};var jo=function(h,b,x){this.start=h.start,this.end=h.pos,this.string=h.current(),this.type=b||null,this.state=x};function no(h,b,x,M){var he,It,L=h.doc,Y=L.mode,Me=xi(L,(b=Ji(L,b)).line),Be=io(h,b.line,x),$e=new ar(Me.text,h.options.tabSize,Be);for(M&&(It=[]);(M||$e.pos<b.ch)&&!$e.eol();)$e.start=$e.pos,he=Gs(Y,$e,Be.state),M&&It.push(new jo($e,he,Dr(L.mode,Be.state)));return M?It:new jo($e,he,Be.state)}function Eo(h,b){if(h)for(;;){var x=h.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!x)break;h=h.slice(0,x.index)+h.slice(x.index+x[0].length);var M=x[1]?"bgClass":"textClass";null==b[M]?b[M]=x[2]:new RegExp("(?:^|\\s)"+x[2]+"(?:$|\\s)").test(b[M])||(b[M]+=" "+x[2])}return h}function Ua(h,b,x,M,L,Y,he){var Me=x.flattenSpans;null==Me&&(Me=h.options.flattenSpans);var jt,Be=0,$e=null,It=new ar(b,h.options.tabSize,M),fi=h.options.addModeClass&&[null];for(""==b&&Eo(lr(x,M.state),Y);!It.eol();){if(It.pos>h.options.maxHighlightLength?(Me=!1,he&&Io(h,b,M,It.pos),It.pos=b.length,jt=null):jt=Eo(Gs(x,It,M.state,fi),Y),fi){var ci=fi[0].name;ci&&(jt="m-"+(jt?ci+" "+jt:ci))}if(!Me||$e!=jt){for(;Be<It.start;)L(Be=Math.min(It.start,Be+5e3),$e);$e=jt}It.start=It.pos}for(;Be<It.pos;){var ki=Math.min(It.pos,Be+5e3);L(ki,$e),Be=ki}}var ia=!1,Gr=!1;function Os(h,b,x){this.marker=h,this.from=b,this.to=x}function ha(h,b){if(h)for(var x=0;x<h.length;++x){var M=h[x];if(M.marker==b)return M}}function Ga(h,b){for(var x,M=0;M<h.length;++M)h[M]!=b&&(x||(x=[])).push(h[M]);return x}function Ws(h,b){if(b.full)return null;var x=Zr(h,b.from.line)&&xi(h,b.from.line).markedSpans,M=Zr(h,b.to.line)&&xi(h,b.to.line).markedSpans;if(!x&&!M)return null;var L=b.from.ch,Y=b.to.ch,he=0==Bn(b.from,b.to),Me=function pa(h,b,x){var M;if(h)for(var L=0;L<h.length;++L){var Y=h[L],he=Y.marker;null!=Y.from&&!(he.inclusiveLeft?Y.from<=b:Y.from<b)&&(Y.from!=b||"bookmark"!=he.type||x&&Y.marker.insertLeft)||(M||(M=[])).push(new Os(he,Y.from,null==Y.to||(he.inclusiveRight?Y.to>=b:Y.to>b)?null:Y.to))}return M}(x,L,he),Be=function Oa(h,b,x){var M;if(h)for(var L=0;L<h.length;++L){var Y=h[L],he=Y.marker;(null==Y.to||(he.inclusiveRight?Y.to>=b:Y.to>b)||Y.from==b&&"bookmark"==he.type&&(!x||Y.marker.insertLeft))&&(M||(M=[])).push(new Os(he,null==Y.from||(he.inclusiveLeft?Y.from<=b:Y.from<b)?null:Y.from-b,null==Y.to?null:Y.to-b))}return M}(M,Y,he),$e=1==b.text.length,It=Re(b.text).length+($e?L:0);if(Me)for(var jt=0;jt<Me.length;++jt){var fi=Me[jt];if(null==fi.to){var ci=ha(Be,fi.marker);ci?$e&&(fi.to=null==ci.to?null:ci.to+It):fi.to=L}}if(Be)for(var ki=0;ki<Be.length;++ki){var zi=Be[ki];null!=zi.to&&(zi.to+=It),null==zi.from?ha(Me,zi.marker)||(zi.from=It,$e&&(Me||(Me=[])).push(zi)):(zi.from+=It,$e&&(Me||(Me=[])).push(zi))}Me&&(Me=ns(Me)),Be&&Be!=Me&&(Be=ns(Be));var _n=[Me];if(!$e){var pn,xn=b.text.length-2;if(xn>0&&Me)for(var In=0;In<Me.length;++In)null==Me[In].to&&(pn||(pn=[])).push(new Os(Me[In].marker,null,null));for(var ir=0;ir<xn;++ir)_n.push(pn);_n.push(Be)}return _n}function ns(h){for(var b=0;b<h.length;++b){var x=h[b];null!=x.from&&x.from==x.to&&!1!==x.marker.clearWhenEmpty&&h.splice(b--,1)}return h.length?h:null}function Wa(h){var b=h.markedSpans;if(b){for(var x=0;x<b.length;++x)b[x].marker.detachLine(h);h.markedSpans=null}}function rs(h,b){if(b){for(var x=0;x<b.length;++x)b[x].marker.attachLine(h);h.markedSpans=b}}function Ur(h){return h.inclusiveLeft?-1:0}function Pr(h){return h.inclusiveRight?1:0}function na(h,b){var x=h.lines.length-b.lines.length;if(0!=x)return x;var M=h.find(),L=b.find(),Y=Bn(M.from,L.from)||Ur(h)-Ur(b);return Y?-Y:Bn(M.to,L.to)||Pr(h)-Pr(b)||b.id-h.id}function Oo(h,b){var M,x=Gr&&h.markedSpans;if(x)for(var L=void 0,Y=0;Y<x.length;++Y)(L=x[Y]).marker.collapsed&&null==(b?L.from:L.to)&&(!M||na(M,L.marker)<0)&&(M=L.marker);return M}function Bo(h){return Oo(h,!0)}function ra(h){return Oo(h,!1)}function Ho(h,b){var M,x=Gr&&h.markedSpans;if(x)for(var L=0;L<x.length;++L){var Y=x[L];Y.marker.collapsed&&(null==Y.from||Y.from<b)&&(null==Y.to||Y.to>b)&&(!M||na(M,Y.marker)<0)&&(M=Y.marker)}return M}function fa(h,b,x,M,L){var Y=xi(h,b),he=Gr&&Y.markedSpans;if(he)for(var Me=0;Me<he.length;++Me){var Be=he[Me];if(Be.marker.collapsed){var $e=Be.marker.find(0),It=Bn($e.from,x)||Ur(Be.marker)-Ur(L),jt=Bn($e.to,M)||Pr(Be.marker)-Pr(L);if(!(It>=0&&jt<=0||It<=0&&jt>=0)&&(It<=0&&(Be.marker.inclusiveRight&&L.inclusiveLeft?Bn($e.to,x)>=0:Bn($e.to,x)>0)||It>=0&&(Be.marker.inclusiveRight&&L.inclusiveLeft?Bn($e.from,M)<=0:Bn($e.from,M)<0)))return!0}}}function Vo(h){for(var b;b=Bo(h);)h=b.find(-1,!0).line;return h}function ro(h,b){var x=xi(h,b),M=Vo(x);return x==M?b:fr(M)}function ks(h,b){if(b>h.lastLine())return b;var M,x=xi(h,b);if(!Ar(h,x))return b;for(;M=ra(x);)x=M.find(1,!0).line;return fr(x)+1}function Ar(h,b){var x=Gr&&b.markedSpans;if(x)for(var M=void 0,L=0;L<x.length;++L)if((M=x[L]).marker.collapsed){if(null==M.from)return!0;if(!M.marker.widgetNode&&0==M.from&&M.marker.inclusiveLeft&&Es(h,b,M))return!0}}function Es(h,b,x){if(null==x.to){var M=x.marker.find(1,!0);return Es(h,M.line,ha(M.line.markedSpans,x.marker))}if(x.marker.inclusiveRight&&x.to==b.text.length)return!0;for(var L=void 0,Y=0;Y<b.markedSpans.length;++Y)if((L=b.markedSpans[Y]).marker.collapsed&&!L.marker.widgetNode&&L.from==x.to&&(null==L.to||L.to!=x.from)&&(L.marker.inclusiveLeft||x.marker.inclusiveRight)&&Es(h,b,L))return!0}function ho(h){for(var b=0,x=(h=Vo(h)).parent,M=0;M<x.lines.length;++M){var L=x.lines[M];if(L==h)break;b+=L.height}for(var Y=x.parent;Y;Y=(x=Y).parent)for(var he=0;he<Y.children.length;++he){var Me=Y.children[he];if(Me==x)break;b+=Me.height}return b}function Ta(h){if(0==h.height)return 0;for(var x,b=h.text.length,M=h;x=Bo(M);){var L=x.find(0,!0);M=L.from.line,b+=L.from.ch-L.to.ch}for(M=h;x=ra(M);){var Y=x.find(0,!0);b-=M.text.length-Y.from.ch,b+=(M=Y.to.line).text.length-Y.to.ch}return b}function ja(h){var b=h.display,x=h.doc;b.maxLine=xi(x,x.first),b.maxLineLength=Ta(b.maxLine),b.maxLineChanged=!0,x.iter(function(M){var L=Ta(M);L>b.maxLineLength&&(b.maxLineLength=L,b.maxLine=M)})}var ps=function(h,b,x){this.text=h,rs(this,b),this.height=x?x(this):1};function js(h){h.parent=null,Wa(h)}ps.prototype.lineNo=function(){return fr(this)},Pi(ps);var fl={},Nr={};function Hn(h,b){if(!h||/^\s*$/.test(h))return null;var x=b.addModeClass?Nr:fl;return x[h]||(x[h]=h.replace(/\S+/g,"cm-$&"))}function oa(h,b){var x=Ce("span",null,null,u?"padding-right: .1px":null),M={pre:Ce("pre",[x],"CodeMirror-line"),content:x,col:0,pos:0,cm:h,trailingSpace:!1,splitSpaces:h.getOption("lineWrapping")};b.measure={};for(var L=0;L<=(b.rest?b.rest.length:0);L++){var Y=L?b.rest[L-1]:b.line,he=void 0;M.pos=0,M.addToken=Z,An(h.display.measure)&&(he=pi(Y,h.doc.direction))&&(M.addToken=j(M.addToken,he)),M.map=[],Bt(Y,M,uo(h,Y,b!=h.display.externalMeasured&&fr(Y))),Y.styleClasses&&(Y.styleClasses.bgClass&&(M.bgClass=De(Y.styleClasses.bgClass,M.bgClass||"")),Y.styleClasses.textClass&&(M.textClass=De(Y.styleClasses.textClass,M.textClass||""))),0==M.map.length&&M.map.push(0,0,M.content.appendChild(Xi(h.display.measure))),0==L?(b.measure.map=M.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(M.map),(b.measure.caches||(b.measure.caches=[])).push({}))}if(u){var Be=M.content.lastChild;(/\bcm-tab\b/.test(Be.className)||Be.querySelector&&Be.querySelector(".cm-tab"))&&(M.content.className="cm-tab-wrap-hack")}return Mt(h,"renderLine",h,b.line,M.pre),M.pre.className&&(M.textClass=De(M.pre.className,M.textClass||"")),M}function ke(h){var b=Ae("span","\u2022","cm-invalidchar");return b.title="\\u"+h.charCodeAt(0).toString(16),b.setAttribute("aria-label",b.title),b}function Z(h,b,x,M,L,Y,he){if(b){var It,Me=h.splitSpaces?function V(h,b){if(h.length>1&&!/  /.test(h))return h;for(var x=b,M="",L=0;L<h.length;L++){var Y=h.charAt(L);" "==Y&&x&&(L==h.length-1||32==h.charCodeAt(L+1))&&(Y="\xa0"),M+=Y,x=" "==Y}return M}(b,h.trailingSpace):b,Be=h.cm.state.specialChars,$e=!1;if(Be.test(b)){It=document.createDocumentFragment();for(var jt=0;;){Be.lastIndex=jt;var fi=Be.exec(b),ci=fi?fi.index-jt:b.length-jt;if(ci){var ki=document.createTextNode(Me.slice(jt,jt+ci));It.appendChild(n&&a<9?Ae("span",[ki]):ki),h.map.push(h.pos,h.pos+ci,ki),h.col+=ci,h.pos+=ci}if(!fi)break;jt+=ci+1;var zi=void 0;if("\t"==fi[0]){var cn=h.cm.options.tabSize,_n=cn-h.col%cn;(zi=It.appendChild(Ae("span",ut(_n),"cm-tab"))).setAttribute("role","presentation"),zi.setAttribute("cm-text","\t"),h.col+=_n}else"\r"==fi[0]||"\n"==fi[0]?((zi=It.appendChild(Ae("span","\r"==fi[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",fi[0]),h.col+=1):((zi=h.cm.options.specialCharPlaceholder(fi[0])).setAttribute("cm-text",fi[0]),It.appendChild(n&&a<9?Ae("span",[zi]):zi),h.col+=1);h.map.push(h.pos,h.pos+1,zi),h.pos++}}else h.col+=b.length,It=document.createTextNode(Me),h.map.push(h.pos,h.pos+b.length,It),n&&a<9&&($e=!0),h.pos+=b.length;if(h.trailingSpace=32==Me.charCodeAt(b.length-1),x||M||L||$e||Y||he){var xn=x||"";M&&(xn+=M),L&&(xn+=L);var pn=Ae("span",[It],xn,Y);if(he)for(var In in he)he.hasOwnProperty(In)&&"style"!=In&&"class"!=In&&pn.setAttribute(In,he[In]);return h.content.appendChild(pn)}h.content.appendChild(It)}}function j(h,b){return function(x,M,L,Y,he,Me,Be){L=L?L+" cm-force-border":"cm-force-border";for(var $e=x.pos,It=$e+M.length;;){for(var jt=void 0,fi=0;fi<b.length&&!((jt=b[fi]).to>$e&&jt.from<=$e);fi++);if(jt.to>=It)return h(x,M,L,Y,he,Me,Be);h(x,M.slice(0,jt.to-$e),L,Y,null,Me,Be),Y=null,M=M.slice(jt.to-$e),$e=jt.to}}}function Ie(h,b,x,M){var L=!M&&x.widgetNode;L&&h.map.push(h.pos,h.pos+b,L),!M&&h.cm.display.input.needsContentAttribute&&(L||(L=h.content.appendChild(document.createElement("span"))),L.setAttribute("cm-marker",x.id)),L&&(h.cm.display.input.setUneditable(L),h.content.appendChild(L)),h.pos+=b,h.trailingSpace=!1}function Bt(h,b,x){var M=h.markedSpans,L=h.text,Y=0;if(M)for(var jt,fi,ki,zi,cn,_n,xn,Me=L.length,Be=0,$e=1,It="",ci=0;;){if(ci==Be){ki=zi=cn=fi="",xn=null,_n=null,ci=1/0;for(var pn=[],In=void 0,ir=0;ir<M.length;++ir){var Zn=M[ir],Tr=Zn.marker;if("bookmark"==Tr.type&&Zn.from==Be&&Tr.widgetNode)pn.push(Tr);else if(Zn.from<=Be&&(null==Zn.to||Zn.to>Be||Tr.collapsed&&Zn.to==Be&&Zn.from==Be)){if(null!=Zn.to&&Zn.to!=Be&&ci>Zn.to&&(ci=Zn.to,zi=""),Tr.className&&(ki+=" "+Tr.className),Tr.css&&(fi=(fi?fi+";":"")+Tr.css),Tr.startStyle&&Zn.from==Be&&(cn+=" "+Tr.startStyle),Tr.endStyle&&Zn.to==ci&&(In||(In=[])).push(Tr.endStyle,Zn.to),Tr.title&&((xn||(xn={})).title=Tr.title),Tr.attributes)for(var go in Tr.attributes)(xn||(xn={}))[go]=Tr.attributes[go];Tr.collapsed&&(!_n||na(_n.marker,Tr)<0)&&(_n=Zn)}else Zn.from>Be&&ci>Zn.from&&(ci=Zn.from)}if(In)for(var Hs=0;Hs<In.length;Hs+=2)In[Hs+1]==ci&&(zi+=" "+In[Hs]);if(!_n||_n.from==Be)for(var Ko=0;Ko<pn.length;++Ko)Ie(b,0,pn[Ko]);if(_n&&(_n.from||0)==Be){if(Ie(b,(null==_n.to?Me+1:_n.to)-Be,_n.marker,null==_n.from),null==_n.to)return;_n.to==Be&&(_n=!1)}}if(Be>=Me)break;for(var Aa=Math.min(Me,ci);;){if(It){var Ca=Be+It.length;if(!_n){var vs=Ca>Aa?It.slice(0,Aa-Be):It;b.addToken(b,vs,jt?jt+ki:ki,cn,Be+vs.length==ci?zi:"",fi,xn)}if(Ca>=Aa){It=It.slice(Aa-Be),Be=Aa;break}Be=Ca,cn=""}It=L.slice(Y,Y=x[$e++]),jt=Hn(x[$e++],b.cm.options)}}else for(var he=1;he<x.length;he+=2)b.addToken(b,L.slice(Y,Y=x[he]),Hn(x[he+1],b.cm.options))}function Ti(h,b,x){this.line=b,this.rest=function Mo(h){for(var b,x;b=ra(h);)h=b.find(1,!0).line,(x||(x=[])).push(h);return x}(b),this.size=this.rest?fr(Re(this.rest))-x+1:1,this.node=this.text=null,this.hidden=Ar(h,b)}function dn(h,b,x){for(var L,M=[],Y=b;Y<x;Y=L){var he=new Ti(h.doc,xi(h.doc,Y),Y);L=Y+he.size,M.push(he)}return M}var Un=null;var qr=null;function hr(h,b){var x=an(h,b);if(x.length){var L,M=Array.prototype.slice.call(arguments,2);Un?L=Un.delayedCallbacks:qr?L=qr:(L=qr=[],setTimeout(ko,0));for(var Y=function(Me){L.push(function(){return x[Me].apply(null,M)})},he=0;he<x.length;++he)Y(he)}}function ko(){var h=qr;qr=null;for(var b=0;b<h.length;++b)h[b]()}function $n(h,b,x,M){for(var L=0;L<b.changes.length;L++){var Y=b.changes[L];"text"==Y?za(h,b):"gutter"==Y?wa(h,b,x,M):"class"==Y?Ls(h,b):"widget"==Y&&Ec(h,b,M)}b.changes=null}function zs(h){return h.node==h.text&&(h.node=Ae("div",null,null,"position: relative"),h.text.parentNode&&h.text.parentNode.replaceChild(h.node,h.text),h.node.appendChild(h.text),n&&a<8&&(h.node.style.zIndex=2)),h.node}function es(h,b){var x=h.display.externalMeasured;return x&&x.line==b.line?(h.display.externalMeasured=null,b.measure=x.measure,x.built):oa(h,b)}function za(h,b){var x=b.text.className,M=es(h,b);b.text==b.node&&(b.node=M.pre),b.text.parentNode.replaceChild(M.pre,b.text),b.text=M.pre,M.bgClass!=b.bgClass||M.textClass!=b.textClass?(b.bgClass=M.bgClass,b.textClass=M.textClass,Ls(h,b)):x&&(b.text.className=x)}function Ls(h,b){(function rl(h,b){var x=b.bgClass?b.bgClass+" "+(b.line.bgClass||""):b.line.bgClass;if(x&&(x+=" CodeMirror-linebackground"),b.background)x?b.background.className=x:(b.background.parentNode.removeChild(b.background),b.background=null);else if(x){var M=zs(b);b.background=M.insertBefore(Ae("div",null,x),M.firstChild),h.display.input.setUneditable(b.background)}})(h,b),b.line.wrapClass?zs(b).className=b.line.wrapClass:b.node!=b.text&&(b.node.className=""),b.text.className=(b.textClass?b.textClass+" "+(b.line.textClass||""):b.line.textClass)||""}function wa(h,b,x,M){if(b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null),b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=null),b.line.gutterClass){var L=zs(b);b.gutterBackground=Ae("div",null,"CodeMirror-gutter-background "+b.line.gutterClass,"left: "+(h.options.fixedGutter?M.fixedPos:-M.gutterTotalWidth)+"px; width: "+M.gutterTotalWidth+"px"),h.display.input.setUneditable(b.gutterBackground),L.insertBefore(b.gutterBackground,b.text)}var Y=b.line.gutterMarkers;if(h.options.lineNumbers||Y){var he=zs(b),Me=b.gutter=Ae("div",null,"CodeMirror-gutter-wrapper","left: "+(h.options.fixedGutter?M.fixedPos:-M.gutterTotalWidth)+"px");if(Me.setAttribute("aria-hidden","true"),h.display.input.setUneditable(Me),he.insertBefore(Me,b.text),b.line.gutterClass&&(Me.className+=" "+b.line.gutterClass),h.options.lineNumbers&&(!Y||!Y["CodeMirror-linenumbers"])&&(b.lineNumber=Me.appendChild(Ae("div",xr(h.options,x),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+M.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+h.display.lineNumInnerWidth+"px"))),Y)for(var Be=0;Be<h.display.gutterSpecs.length;++Be){var $e=h.display.gutterSpecs[Be].className,It=Y.hasOwnProperty($e)&&Y[$e];It&&Me.appendChild(Ae("div",[It],"CodeMirror-gutter-elt","left: "+M.gutterLeft[$e]+"px; width: "+M.gutterWidth[$e]+"px"))}}}function Ec(h,b,x){b.alignable&&(b.alignable=null);for(var M=se("CodeMirror-linewidget"),L=b.node.firstChild,Y=void 0;L;L=Y)Y=L.nextSibling,M.test(L.className)&&b.node.removeChild(L);Fr(h,b,x)}function $i(h,b,x,M){var L=es(h,b);return b.text=b.node=L.pre,L.bgClass&&(b.bgClass=L.bgClass),L.textClass&&(b.textClass=L.textClass),Ls(h,b),wa(h,b,x,M),Fr(h,b,M),b.node}function Fr(h,b,x){if(it(h,b.line,b,x,!0),b.rest)for(var M=0;M<b.rest.length;M++)it(h,b.rest[M],b,x,!1)}function it(h,b,x,M,L){if(b.widgets)for(var Y=zs(x),he=0,Me=b.widgets;he<Me.length;++he){var Be=Me[he],$e=Ae("div",[Be.node],"CodeMirror-linewidget"+(Be.className?" "+Be.className:""));Be.handleMouseEvents||$e.setAttribute("cm-ignore-events","true"),G(Be,$e,x,M),h.display.input.setUneditable($e),L&&Be.above?Y.insertBefore($e,x.gutter||x.text):Y.appendChild($e),hr(Be,"redraw")}}function G(h,b,x,M){if(h.noHScroll){(x.alignable||(x.alignable=[])).push(b);var L=M.wrapperWidth;b.style.left=M.fixedPos+"px",h.coverGutter||(L-=M.gutterTotalWidth,b.style.paddingLeft=M.gutterTotalWidth+"px"),b.style.width=L+"px"}h.coverGutter&&(b.style.zIndex=5,b.style.position="relative",h.noHScroll||(b.style.marginLeft=-M.gutterTotalWidth+"px"))}function X(h){if(null!=h.height)return h.height;var b=h.doc.cm;if(!b)return 0;if(!re(document.body,h.node)){var x="position: relative;";h.coverGutter&&(x+="margin-left: -"+b.display.gutters.offsetWidth+"px;"),h.noHScroll&&(x+="width: "+b.display.wrapper.clientWidth+"px;"),Ne(b.display.measure,Ae("div",[h.node],null,x))}return h.height=h.node.parentNode.offsetHeight}function ye(h,b){for(var x=Ee(b);x!=h.wrapper;x=x.parentNode)if(!x||1==x.nodeType&&"true"==x.getAttribute("cm-ignore-events")||x.parentNode==h.sizer&&x!=h.mover)return!0}function qe(h){return h.lineSpace.offsetTop}function bt(h){return h.mover.offsetHeight-h.lineSpace.offsetHeight}function Xt(h){if(h.cachedPaddingH)return h.cachedPaddingH;var b=Ne(h.measure,Ae("pre","x","CodeMirror-line-like")),x=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,M={left:parseInt(x.paddingLeft),right:parseInt(x.paddingRight)};return!isNaN(M.left)&&!isNaN(M.right)&&(h.cachedPaddingH=M),M}function Qt(h){return 50-h.display.nativeBarWidth}function mi(h){return h.display.scroller.clientWidth-Qt(h)-h.display.barWidth}function Hi(h){return h.display.scroller.clientHeight-Qt(h)-h.display.barHeight}function bn(h,b,x){if(h.line==b)return{map:h.measure.map,cache:h.measure.cache};if(h.rest){for(var M=0;M<h.rest.length;M++)if(h.rest[M]==b)return{map:h.measure.maps[M],cache:h.measure.caches[M]};for(var L=0;L<h.rest.length;L++)if(fr(h.rest[L])>x)return{map:h.measure.maps[L],cache:h.measure.caches[L],before:!0}}}function cr(h,b,x,M){return nr(h,Yn(h,b),x,M)}function Gn(h,b){if(b>=h.display.viewFrom&&b<h.display.viewTo)return h.display.view[Fs(h,b)];var x=h.display.externalMeasured;return x&&b>=x.lineN&&b<x.lineN+x.size?x:void 0}function Yn(h,b){var x=fr(b),M=Gn(h,x);M&&!M.text?M=null:M&&M.changes&&($n(h,M,x,Sa(h)),h.curOp.forceUpdate=!0),M||(M=function Jn(h,b){var x=fr(b=Vo(b)),M=h.display.externalMeasured=new Ti(h.doc,b,x);M.lineN=x;var L=M.built=oa(h,M);return M.text=L.pre,Ne(h.display.lineMeasure,L.pre),M}(h,b));var L=bn(M,b,x);return{line:b,view:M,rect:null,map:L.map,cache:L.cache,before:L.before,hasHeights:!1}}function nr(h,b,x,M,L){b.before&&(x=-1);var he,Y=x+(M||"");return b.cache.hasOwnProperty(Y)?he=b.cache[Y]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(function hn(h,b,x){var M=h.options.lineWrapping,L=M&&mi(h);if(!b.measure.heights||M&&b.measure.width!=L){var Y=b.measure.heights=[];if(M){b.measure.width=L;for(var he=b.text.firstChild.getClientRects(),Me=0;Me<he.length-1;Me++){var Be=he[Me],$e=he[Me+1];Math.abs(Be.bottom-$e.bottom)>2&&Y.push((Be.bottom+$e.top)/2-x.top)}}Y.push(x.bottom-x.top)}}(h,b.view,b.rect),b.hasHeights=!0),(he=function Lo(h,b,x,M){var $e,L=_o(b.map,x,M),Y=L.node,he=L.start,Me=L.end,Be=L.collapse;if(3==Y.nodeType){for(var It=0;It<4;It++){for(;he&&Et(b.line.text.charAt(L.coverStart+he));)--he;for(;L.coverStart+Me<L.coverEnd&&Et(b.line.text.charAt(L.coverStart+Me));)++Me;if(($e=n&&a<9&&0==he&&Me==L.coverEnd-L.coverStart?Y.parentNode.getBoundingClientRect():zo(de(Y,he,Me).getClientRects(),M)).left||$e.right||0==he)break;Me=he,he-=1,Be="right"}n&&a<11&&($e=function sa(h,b){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function di(h){if(null!=Pt)return Pt;var b=Ne(h,Ae("span","x")),x=b.getBoundingClientRect(),M=de(b,0,1).getBoundingClientRect();return Pt=Math.abs(x.left-M.left)>1}(h))return b;var x=screen.logicalXDPI/screen.deviceXDPI,M=screen.logicalYDPI/screen.deviceYDPI;return{left:b.left*x,right:b.right*x,top:b.top*M,bottom:b.bottom*M}}(h.display.measure,$e))}else{var jt;he>0&&(Be=M="right"),$e=h.options.lineWrapping&&(jt=Y.getClientRects()).length>1?jt["right"==M?jt.length-1:0]:Y.getBoundingClientRect()}if(n&&a<9&&!he&&(!$e||!$e.left&&!$e.right)){var fi=Y.parentNode.getClientRects()[0];$e=fi?{left:fi.left,right:fi.left+ws(h.display),top:fi.top,bottom:fi.bottom}:jr}for(var ci=$e.top-b.rect.top,ki=$e.bottom-b.rect.top,zi=(ci+ki)/2,cn=b.view.measure.heights,_n=0;_n<cn.length-1&&!(zi<cn[_n]);_n++);var In={left:("right"==Be?$e.right:$e.left)-b.rect.left,right:("left"==Be?$e.left:$e.right)-b.rect.left,top:_n?cn[_n-1]:0,bottom:cn[_n]};return!$e.left&&!$e.right&&(In.bogus=!0),h.options.singleCursorHeightPerLine||(In.rtop=ci,In.rbottom=ki),In}(h,b,x,M)).bogus||(b.cache[Y]=he)),{left:he.left,right:he.right,top:L?he.rtop:he.top,bottom:L?he.rbottom:he.bottom}}var Po,jr={left:0,right:0,top:0,bottom:0};function _o(h,b,x){for(var M,L,Y,he,Me,Be,$e=0;$e<h.length;$e+=3)if(Be=h[$e+1],b<(Me=h[$e])?(L=0,Y=1,he="left"):b<Be?Y=1+(L=b-Me):($e==h.length-3||b==Be&&h[$e+3]>b)&&(L=(Y=Be-Me)-1,b>=Be&&(he="right")),null!=L){if(M=h[$e+2],Me==Be&&x==(M.insertLeft?"left":"right")&&(he=x),"left"==x&&0==L)for(;$e&&h[$e-2]==h[$e-3]&&h[$e-1].insertLeft;)M=h[2+($e-=3)],he="left";if("right"==x&&L==Be-Me)for(;$e<h.length-3&&h[$e+3]==h[$e+4]&&!h[$e+5].insertLeft;)M=h[($e+=3)+2],he="right";break}return{node:M,start:L,end:Y,collapse:he,coverStart:Me,coverEnd:Be}}function zo(h,b){var x=jr;if("left"==b)for(var M=0;M<h.length&&(x=h[M]).left==x.right;M++);else for(var L=h.length-1;L>=0&&(x=h[L]).left==x.right;L--);return x}function fs(h){if(h.measure&&(h.measure.cache={},h.measure.heights=null,h.rest))for(var b=0;b<h.rest.length;b++)h.measure.caches[b]={}}function Co(h){h.display.externalMeasure=null,ce(h.display.lineMeasure);for(var b=0;b<h.display.view.length;b++)fs(h.display.view[b])}function Ps(h){Co(h),h.display.cachedCharWidth=h.display.cachedTextHeight=h.display.cachedPaddingH=null,h.options.lineWrapping||(h.display.maxLineChanged=!0),h.display.lineNumChars=null}function Ys(){return D&&ue?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Xs(){return D&&ue?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ka(h){var b=0;if(h.widgets)for(var x=0;x<h.widgets.length;++x)h.widgets[x].above&&(b+=X(h.widgets[x]));return b}function lo(h,b,x,M,L){if(!L){var Y=ka(b);x.top+=Y,x.bottom+=Y}if("line"==M)return x;M||(M="local");var he=ho(b);if("local"==M?he+=qe(h.display):he-=h.display.viewOffset,"page"==M||"window"==M){var Me=h.display.lineSpace.getBoundingClientRect();he+=Me.top+("window"==M?0:Xs());var Be=Me.left+("window"==M?0:Ys());x.left+=Be,x.right+=Be}return x.top+=he,x.bottom+=he,x}function Cs(h,b,x){if("div"==x)return b;var M=b.left,L=b.top;if("page"==x)M-=Ys(),L-=Xs();else if("local"==x||!x){var Y=h.display.sizer.getBoundingClientRect();M+=Y.left,L+=Y.top}var he=h.display.lineSpace.getBoundingClientRect();return{left:M-he.left,top:L-he.top}}function ol(h,b,x,M,L){return M||(M=xi(h.doc,b.line)),lo(h,M,cr(h,M,b.ch,L),x)}function os(h,b,x,M,L,Y){function he(ki,zi){var cn=nr(h,L,ki,zi?"right":"left",Y);return zi?cn.left=cn.right:cn.right=cn.left,lo(h,M,cn,x)}M=M||xi(h.doc,b.line),L||(L=Yn(h,M));var Me=pi(M,h.doc.direction),Be=b.ch,$e=b.sticky;if(Be>=M.text.length?(Be=M.text.length,$e="before"):Be<=0&&(Be=0,$e="after"),!Me)return he("before"==$e?Be-1:Be,"before"==$e);function It(ki,zi,cn){return he(cn?ki-1:ki,1==Me[zi].level!=cn)}var jt=Ei(Me,Be,$e),fi=Kt,ci=It(Be,jt,"before"==$e);return null!=fi&&(ci.other=It(Be,fi,"before"!=$e)),ci}function wn(h,b){var x=0;b=Ji(h.doc,b),h.options.lineWrapping||(x=ws(h.display)*b.ch);var M=xi(h.doc,b.line),L=ho(M)+qe(h.display);return{left:x,right:x,top:L,bottom:L+M.height}}function Xn(h,b,x,M,L){var Y=Bi(h,b,x);return Y.xRel=L,M&&(Y.outside=M),Y}function Nn(h,b,x){var M=h.doc;if((x+=h.display.viewOffset)<0)return Xn(M.first,0,null,-1,-1);var L=Mr(M,x),Y=M.first+M.size-1;if(L>Y)return Xn(M.first+M.size-1,xi(M,Y).text.length,null,1,1);b<0&&(b=0);for(var he=xi(M,L);;){var Me=Ks(h,he,L,b,x),Be=Ho(he,Me.ch+(Me.xRel>0||Me.outside>0?1:0));if(!Be)return Me;var $e=Be.find(1);if($e.line==L)return $e;he=xi(M,L=$e.line)}}function _r(h,b,x,M){M-=ka(b);var L=b.text.length,Y=Ze(function(he){return nr(h,x,he-1).bottom<=M},L,0);return{begin:Y,end:L=Ze(function(he){return nr(h,x,he).top>M},Y,L)}}function vr(h,b,x,M){return x||(x=Yn(h,b)),_r(h,b,x,lo(h,b,nr(h,x,M),"line").top)}function Ts(h,b,x,M){return!(h.bottom<=x)&&(h.top>x||(M?h.left:h.right)>b)}function Ks(h,b,x,M,L){L-=ho(b);var Y=Yn(h,b),he=ka(b),Me=0,Be=b.text.length,$e=!0,It=pi(b,h.doc.direction);if(It){var jt=(h.options.lineWrapping?oo:$s)(h,b,x,Y,It,M,L);Me=($e=1!=jt.level)?jt.from:jt.to-1,Be=$e?jt.to:jt.from-1}var zi,cn,fi=null,ci=null,ki=Ze(function(ir){var Zn=nr(h,Y,ir);return Zn.top+=he,Zn.bottom+=he,!!Ts(Zn,M,L,!1)&&(Zn.top<=L&&Zn.left<=M&&(fi=ir,ci=Zn),!0)},Me,Be),_n=!1;if(ci){var xn=M-ci.left<ci.right-M,pn=xn==$e;ki=fi+(pn?0:1),cn=pn?"after":"before",zi=xn?ci.left:ci.right}else{!$e&&(ki==Be||ki==Me)&&ki++,cn=0==ki?"after":ki==b.text.length?"before":nr(h,Y,ki-($e?1:0)).bottom+he<=L==$e?"after":"before";var In=os(h,Bi(x,ki,cn),"line",b,Y);zi=In.left,_n=L<In.top?-1:L>=In.bottom?1:0}return Xn(x,ki=Ke(b.text,ki,1),cn,_n,M-zi)}function $s(h,b,x,M,L,Y,he){var Me=Ze(function(jt){var fi=L[jt],ci=1!=fi.level;return Ts(os(h,Bi(x,ci?fi.to:fi.from,ci?"before":"after"),"line",b,M),Y,he,!0)},0,L.length-1),Be=L[Me];if(Me>0){var $e=1!=Be.level,It=os(h,Bi(x,$e?Be.from:Be.to,$e?"after":"before"),"line",b,M);Ts(It,Y,he,!0)&&It.top>he&&(Be=L[Me-1])}return Be}function oo(h,b,x,M,L,Y,he){var Me=_r(h,b,M,he),Be=Me.begin,$e=Me.end;/\s/.test(b.text.charAt($e-1))&&$e--;for(var It=null,jt=null,fi=0;fi<L.length;fi++){var ci=L[fi];if(!(ci.from>=$e||ci.to<=Be)){var zi=nr(h,M,1!=ci.level?Math.min($e,ci.to)-1:Math.max(Be,ci.from)).right,cn=zi<Y?Y-zi+1e9:zi-Y;(!It||jt>cn)&&(It=ci,jt=cn)}}return It||(It=L[L.length-1]),It.from<Be&&(It={from:Be,to:It.to,level:It.level}),It.to>$e&&(It={from:It.from,to:$e,level:It.level}),It}function ss(h){if(null!=h.cachedTextHeight)return h.cachedTextHeight;if(null==Po){Po=Ae("pre",null,"CodeMirror-line-like");for(var b=0;b<49;++b)Po.appendChild(document.createTextNode("x")),Po.appendChild(Ae("br"));Po.appendChild(document.createTextNode("x"))}Ne(h.measure,Po);var x=Po.offsetHeight/50;return x>3&&(h.cachedTextHeight=x),ce(h.measure),x||1}function ws(h){if(null!=h.cachedCharWidth)return h.cachedCharWidth;var b=Ae("span","xxxxxxxxxx"),x=Ae("pre",[b],"CodeMirror-line-like");Ne(h.measure,x);var M=b.getBoundingClientRect(),L=(M.right-M.left)/10;return L>2&&(h.cachedCharWidth=L),L||10}function Sa(h){for(var b=h.display,x={},M={},L=b.gutters.clientLeft,Y=b.gutters.firstChild,he=0;Y;Y=Y.nextSibling,++he){var Me=h.display.gutterSpecs[he].className;x[Me]=Y.offsetLeft+Y.clientLeft+L,M[Me]=Y.clientWidth}return{fixedPos:Yo(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:x,gutterWidth:M,wrapperWidth:b.wrapper.clientWidth}}function Yo(h){return h.scroller.getBoundingClientRect().left-h.sizer.getBoundingClientRect().left}function Ns(h){var b=ss(h.display),x=h.options.lineWrapping,M=x&&Math.max(5,h.display.scroller.clientWidth/ws(h.display)-3);return function(L){if(Ar(h.doc,L))return 0;var Y=0;if(L.widgets)for(var he=0;he<L.widgets.length;he++)L.widgets[he].height&&(Y+=L.widgets[he].height);return x?Y+(Math.ceil(L.text.length/M)||1)*b:Y+b}}function ql(h){var b=h.doc,x=Ns(h);b.iter(function(M){var L=x(M);L!=M.height&&Vr(M,L)})}function sl(h,b,x,M){var L=h.display;if(!x&&"true"==Ee(b).getAttribute("cm-not-content"))return null;var Y,he,Me=L.lineSpace.getBoundingClientRect();try{Y=b.clientX-Me.left,he=b.clientY-Me.top}catch(jt){return null}var $e,Be=Nn(h,Y,he);if(M&&Be.xRel>0&&($e=xi(h.doc,Be.line).text).length==Be.ch){var It=Ot($e,$e.length,h.options.tabSize)-$e.length;Be=Bi(Be.line,Math.max(0,Math.round((Y-Xt(h.display).left)/ws(h.display))-It))}return Be}function Fs(h,b){if(b>=h.display.viewTo||(b-=h.display.viewFrom)<0)return null;for(var x=h.display.view,M=0;M<x.length;M++)if((b-=x[M].size)<0)return M}function ts(h,b,x,M){null==b&&(b=h.doc.first),null==x&&(x=h.doc.first+h.doc.size),M||(M=0);var L=h.display;if(M&&x<L.viewTo&&(null==L.updateLineNumbers||L.updateLineNumbers>b)&&(L.updateLineNumbers=b),h.curOp.viewChanged=!0,b>=L.viewTo)Gr&&ro(h.doc,b)<L.viewTo&&La(h);else if(x<=L.viewFrom)Gr&&ks(h.doc,x+M)>L.viewFrom?La(h):(L.viewFrom+=M,L.viewTo+=M);else if(b<=L.viewFrom&&x>=L.viewTo)La(h);else if(b<=L.viewFrom){var Y=Ya(h,x,x+M,1);Y?(L.view=L.view.slice(Y.index),L.viewFrom=Y.lineN,L.viewTo+=M):La(h)}else if(x>=L.viewTo){var he=Ya(h,b,b,-1);he?(L.view=L.view.slice(0,he.index),L.viewTo=he.lineN):La(h)}else{var Me=Ya(h,b,b,-1),Be=Ya(h,x,x+M,1);Me&&Be?(L.view=L.view.slice(0,Me.index).concat(dn(h,Me.lineN,Be.lineN)).concat(L.view.slice(Be.index)),L.viewTo+=M):La(h)}var $e=L.externalMeasured;$e&&(x<$e.lineN?$e.lineN+=M:b<$e.lineN+$e.size&&(L.externalMeasured=null))}function ga(h,b,x){h.curOp.viewChanged=!0;var M=h.display,L=h.display.externalMeasured;if(L&&b>=L.lineN&&b<L.lineN+L.size&&(M.externalMeasured=null),!(b<M.viewFrom||b>=M.viewTo)){var Y=M.view[Fs(h,b)];if(null!=Y.node){var he=Y.changes||(Y.changes=[]);-1==oi(he,x)&&he.push(x)}}}function La(h){h.display.viewFrom=h.display.viewTo=h.doc.first,h.display.view=[],h.display.viewOffset=0}function Ya(h,b,x,M){var Y,L=Fs(h,b),he=h.display.view;if(!Gr||x==h.doc.first+h.doc.size)return{index:L,lineN:x};for(var Me=h.display.viewFrom,Be=0;Be<L;Be++)Me+=he[Be].size;if(Me!=b){if(M>0){if(L==he.length-1)return null;Y=Me+he[L].size-b,L++}else Y=Me-b;b+=Y,x+=Y}for(;ro(h.doc,x)!=x;){if(L==(M<0?0:he.length-1))return null;x+=M*he[L-(M<0?1:0)].size,L+=M}return{index:L,lineN:x}}function al(h){for(var b=h.display.view,x=0,M=0;M<b.length;M++){var L=b[M];!L.hidden&&(!L.node||L.changes)&&++x}return x}function Gl(h){h.display.input.showSelection(h.display.input.prepareSelection())}function Xa(h,b){void 0===b&&(b=!0);var x=h.doc,M={},L=M.cursors=document.createDocumentFragment(),Y=M.selection=document.createDocumentFragment(),he=h.options.$customCursor;he&&(b=!0);for(var Me=0;Me<x.sel.ranges.length;Me++)if(b||Me!=x.sel.primIndex){var Be=x.sel.ranges[Me];if(!(Be.from().line>=h.display.viewTo||Be.to().line<h.display.viewFrom)){var $e=Be.empty();if(he){var It=he(h,Be);It&&gl(h,It,L)}else($e||h.options.showCursorWhenSelecting)&&gl(h,Be.head,L);$e||Vc(h,Be,Y)}}return M}function gl(h,b,x){var M=os(h,b,"div",null,null,!h.options.singleCursorHeightPerLine),L=x.appendChild(Ae("div","\xa0","CodeMirror-cursor"));if(L.style.left=M.left+"px",L.style.top=M.top+"px",L.style.height=Math.max(0,M.bottom-M.top)*h.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(h.getWrapperElement().className)){var Y=ol(h,b,"div",null,null),he=Y.right-Y.left;L.style.width=(he>0?he:h.defaultCharWidth())+"px"}if(M.other){var Me=x.appendChild(Ae("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));Me.style.display="",Me.style.left=M.other.left+"px",Me.style.top=M.other.top+"px",Me.style.height=.85*(M.other.bottom-M.other.top)+"px"}}function ml(h,b){return h.top-b.top||h.left-b.left}function Vc(h,b,x){var M=h.display,L=h.doc,Y=document.createDocumentFragment(),he=Xt(h.display),Me=he.left,Be=Math.max(M.sizerWidth,mi(h)-M.sizer.offsetLeft)-he.right,$e="ltr"==L.direction;function It(pn,In,ir,Zn){In<0&&(In=0),In=Math.round(In),Zn=Math.round(Zn),Y.appendChild(Ae("div",null,"CodeMirror-selected","position: absolute; left: "+pn+"px;\n                             top: "+In+"px; width: "+(null==ir?Be-pn:ir)+"px;\n                             height: "+(Zn-In)+"px"))}function jt(pn,In,ir){var go,Hs,Zn=xi(L,pn),Tr=Zn.text.length;function Ko(vs,Yr){return ol(h,Bi(pn,vs),"div",Zn,Yr)}function Aa(vs,Yr,us){var Rs=vr(h,Zn,null,vs),T="ltr"==Yr==("after"==us)?"left":"right";return Ko("after"==us?Rs.begin:Rs.end-(/\s/.test(Zn.text.charAt(Rs.end-1))?2:1),T)[T]}var Ca=pi(Zn,L.direction);return function Wt(h,b,x,M){if(!h)return M(b,x,"ltr",0);for(var L=!1,Y=0;Y<h.length;++Y){var he=h[Y];(he.from<x&&he.to>b||b==x&&he.to==b)&&(M(Math.max(he.from,b),Math.min(he.to,x),1==he.level?"rtl":"ltr",Y),L=!0)}L||M(b,x,"ltr")}(Ca,In||0,null==ir?Tr:ir,function(vs,Yr,us,Rs){var T="ltr"==us,H=Ko(vs,T?"left":"right"),z=Ko(Yr-1,T?"right":"left"),ie=null==In&&0==vs,ge=null==ir&&Yr==Tr,We=0==Rs,Xe=!Ca||Rs==Ca.length-1;if(z.top-H.top<=3){var xt=($e?ie:ge)&&We?Me:(T?H:z).left;It(xt,H.top,(($e?ge:ie)&&Xe?Be:(T?z:H).right)-xt,H.bottom)}else{var ri,hi,Si,Wi;T?(ri=$e&&ie&&We?Me:H.left,hi=$e?Be:Aa(vs,us,"before"),Si=$e?Me:Aa(Yr,us,"after"),Wi=$e&&ge&&Xe?Be:z.right):(ri=$e?Aa(vs,us,"before"):Me,hi=!$e&&ie&&We?Be:H.right,Si=!$e&&ge&&Xe?Me:z.left,Wi=$e?Aa(Yr,us,"after"):Be),It(ri,H.top,hi-ri,H.bottom),H.bottom<z.top&&It(Me,H.bottom,null,z.top),It(Si,z.top,Wi-Si,z.bottom)}(!go||ml(H,go)<0)&&(go=H),ml(z,go)<0&&(go=z),(!Hs||ml(H,Hs)<0)&&(Hs=H),ml(z,Hs)<0&&(Hs=z)}),{start:go,end:Hs}}var fi=b.from(),ci=b.to();if(fi.line==ci.line)jt(fi.line,fi.ch,ci.ch);else{var ki=xi(L,fi.line),zi=xi(L,ci.line),cn=Vo(ki)==Vo(zi),_n=jt(fi.line,fi.ch,cn?ki.text.length+1:null).end,xn=jt(ci.line,cn?0:null,ci.ch).start;cn&&(_n.top<xn.top-2?(It(_n.right,_n.top,null,_n.bottom),It(Me,xn.top,xn.left,xn.bottom)):It(_n.right,_n.top,xn.left-_n.right,_n.bottom)),_n.bottom<xn.top&&It(Me,_n.bottom,null,xn.top)}x.appendChild(Y)}function ma(h){if(h.state.focused){var b=h.display;clearInterval(b.blinker);var x=!0;b.cursorDiv.style.visibility="",h.options.cursorBlinkRate>0?b.blinker=setInterval(function(){h.hasFocus()||Ka(h),b.cursorDiv.style.visibility=(x=!x)?"":"hidden"},h.options.cursorBlinkRate):h.options.cursorBlinkRate<0&&(b.cursorDiv.style.visibility="hidden")}}function cc(h){h.hasFocus()||(h.display.input.focus(),h.state.focused||Js(h))}function Pa(h){h.state.delayingBlurEvent=!0,setTimeout(function(){h.state.delayingBlurEvent&&(h.state.delayingBlurEvent=!1,h.state.focused&&Ka(h))},100)}function Js(h,b){h.state.delayingBlurEvent&&!h.state.draggingText&&(h.state.delayingBlurEvent=!1),"nocursor"!=h.options.readOnly&&(h.state.focused||(Mt(h,"focus",h,b),h.state.focused=!0,ze(h.display.wrapper,"CodeMirror-focused"),!h.curOp&&h.display.selForContextMenu!=h.doc.sel&&(h.display.input.reset(),u&&setTimeout(function(){return h.display.input.reset(!0)},20)),h.display.input.receivedFocus()),ma(h))}function Ka(h,b){h.state.delayingBlurEvent||(h.state.focused&&(Mt(h,"blur",h,b),h.state.focused=!1,me(h.display.wrapper,"CodeMirror-focused")),clearInterval(h.display.blinker),setTimeout(function(){h.state.focused||(h.display.shift=!1)},150))}function Zs(h){for(var b=h.display,x=b.lineDiv.offsetTop,M=Math.max(0,b.scroller.getBoundingClientRect().top),L=b.lineDiv.getBoundingClientRect().top,Y=0,he=0;he<b.view.length;he++){var Me=b.view[he],Be=h.options.lineWrapping,$e=void 0,It=0;if(!Me.hidden){if(L+=Me.line.height,n&&a<8){var jt=Me.node.offsetTop+Me.node.offsetHeight;$e=jt-x,x=jt}else{var fi=Me.node.getBoundingClientRect();$e=fi.bottom-fi.top,!Be&&Me.text.firstChild&&(It=Me.text.firstChild.getBoundingClientRect().right-fi.left-1)}var ci=Me.line.height-$e;if((ci>.005||ci<-.005)&&(L<M&&(Y-=ci),Vr(Me.line,$e),_a(Me.line),Me.rest))for(var ki=0;ki<Me.rest.length;ki++)_a(Me.rest[ki]);if(It>h.display.sizerWidth){var zi=Math.ceil(It/ws(h.display));zi>h.display.maxLineLength&&(h.display.maxLineLength=zi,h.display.maxLine=Me.line,h.display.maxLineChanged=!0)}}}Math.abs(Y)>2&&(b.scroller.scrollTop+=Y)}function _a(h){if(h.widgets)for(var b=0;b<h.widgets.length;++b){var x=h.widgets[b],M=x.node.parentNode;M&&(x.height=M.offsetHeight)}}function wl(h,b,x){var M=x&&null!=x.top?Math.max(0,x.top):h.scroller.scrollTop;M=Math.floor(M-qe(h));var L=x&&null!=x.bottom?x.bottom:M+h.wrapper.clientHeight,Y=Mr(b,M),he=Mr(b,L);if(x&&x.ensure){var Me=x.ensure.from.line,Be=x.ensure.to.line;Me<Y?(Y=Me,he=Mr(b,ho(xi(b,Me))+h.wrapper.clientHeight)):Math.min(Be,b.lastLine())>=he&&(Y=Mr(b,ho(xi(b,Be))-h.wrapper.clientHeight),he=Be)}return{from:Y,to:Math.max(he,Y+1)}}function Uc(h,b){var x=h.display,M=ss(h.display);b.top<0&&(b.top=0);var L=h.curOp&&null!=h.curOp.scrollTop?h.curOp.scrollTop:x.scroller.scrollTop,Y=Hi(h),he={};b.bottom-b.top>Y&&(b.bottom=b.top+Y);var Me=h.doc.height+bt(x),$e=b.bottom>Me-M;if(b.top<L)he.scrollTop=b.top<M?0:b.top;else if(b.bottom>L+Y){var It=Math.min(b.top,($e?Me:b.bottom)-Y);It!=L&&(he.scrollTop=It)}var jt=h.options.fixedGutter?0:x.gutters.offsetWidth,fi=h.curOp&&null!=h.curOp.scrollLeft?h.curOp.scrollLeft:x.scroller.scrollLeft-jt,ci=mi(h)-x.gutters.offsetWidth,ki=b.right-b.left>ci;return ki&&(b.right=b.left+ci),b.left<10?he.scrollLeft=0:b.left<fi?he.scrollLeft=Math.max(0,b.left+jt-(ki?0:10)):b.right>ci+fi-3&&(he.scrollLeft=b.right+(ki?0:10)-ci),he}function fe(h,b){null!=b&&(Ge(h),h.curOp.scrollTop=(null==h.curOp.scrollTop?h.doc.scrollTop:h.curOp.scrollTop)+b)}function ne(h){Ge(h);var b=h.getCursor();h.curOp.scrollToPos={from:b,to:b,margin:h.options.cursorScrollMargin}}function Q(h,b,x){(null!=b||null!=x)&&Ge(h),null!=b&&(h.curOp.scrollLeft=b),null!=x&&(h.curOp.scrollTop=x)}function Ge(h){var b=h.curOp.scrollToPos;b&&(h.curOp.scrollToPos=null,ft(h,wn(h,b.from),wn(h,b.to),b.margin))}function ft(h,b,x,M){var L=Uc(h,{left:Math.min(b.left,x.left),top:Math.min(b.top,x.top)-M,right:Math.max(b.right,x.right),bottom:Math.max(b.bottom,x.bottom)+M});Q(h,L.scrollLeft,L.scrollTop)}function Vt(h,b){Math.abs(h.doc.scrollTop-b)<2||(E||Su(h,{top:b}),qt(h,b,!0),E&&Su(h),Ml(h,100))}function qt(h,b,x){b=Math.max(0,Math.min(h.display.scroller.scrollHeight-h.display.scroller.clientHeight,b)),(h.display.scroller.scrollTop!=b||x)&&(h.doc.scrollTop=b,h.display.scrollbars.setScrollTop(b),h.display.scroller.scrollTop!=b&&(h.display.scroller.scrollTop=b))}function Li(h,b,x,M){b=Math.max(0,Math.min(b,h.display.scroller.scrollWidth-h.display.scroller.clientWidth)),(!(x?b==h.doc.scrollLeft:Math.abs(h.doc.scrollLeft-b)<2)||M)&&(h.doc.scrollLeft=b,No(h),h.display.scroller.scrollLeft!=b&&(h.display.scroller.scrollLeft=b),h.display.scrollbars.setScrollLeft(b))}function Mn(h){var b=h.display,x=b.gutters.offsetWidth,M=Math.round(h.doc.height+bt(h.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:h.options.fixedGutter?x:0,docHeight:M,scrollHeight:M+Qt(h)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:x}}var yr=function(h,b,x){this.cm=x;var M=this.vert=Ae("div",[Ae("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),L=this.horiz=Ae("div",[Ae("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");M.tabIndex=L.tabIndex=-1,h(M),h(L),Di(M,"scroll",function(){M.clientHeight&&b(M.scrollTop,"vertical")}),Di(L,"scroll",function(){L.clientWidth&&b(L.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,n&&a<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};yr.prototype.update=function(h){var b=h.scrollWidth>h.clientWidth+1,x=h.scrollHeight>h.clientHeight+1,M=h.nativeBarWidth;return x?(this.vert.style.display="block",this.vert.style.bottom=b?M+"px":"0",this.vert.firstChild.style.height=Math.max(0,h.scrollHeight-h.clientHeight+(h.viewHeight-(b?M:0)))+"px"):(this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0"),b?(this.horiz.style.display="block",this.horiz.style.right=x?M+"px":"0",this.horiz.style.left=h.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,h.scrollWidth-h.clientWidth+(h.viewWidth-h.barLeft-(x?M:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&h.clientHeight>0&&(0==M&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:x?M:0,bottom:b?M:0}},yr.prototype.setScrollLeft=function(h){this.horiz.scrollLeft!=h&&(this.horiz.scrollLeft=h),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},yr.prototype.setScrollTop=function(h){this.vert.scrollTop!=h&&(this.vert.scrollTop=h),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},yr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=le&&!te?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new kt,this.disableVert=new kt},yr.prototype.enableZeroWidthBar=function(h,b,x){h.style.pointerEvents="auto",b.set(1e3,function M(){var L=h.getBoundingClientRect();("vert"==x?document.elementFromPoint(L.right-1,(L.top+L.bottom)/2):document.elementFromPoint((L.right+L.left)/2,L.bottom-1))!=h?h.style.pointerEvents="none":b.set(1e3,M)})},yr.prototype.clear=function(){var h=this.horiz.parentNode;h.removeChild(this.horiz),h.removeChild(this.vert)};var Kn=function(){};function $r(h,b){b||(b=Mn(h));var x=h.display.barWidth,M=h.display.barHeight;co(h,b);for(var L=0;L<4&&x!=h.display.barWidth||M!=h.display.barHeight;L++)x!=h.display.barWidth&&h.options.lineWrapping&&Zs(h),co(h,Mn(h)),x=h.display.barWidth,M=h.display.barHeight}function co(h,b){var x=h.display,M=x.scrollbars.update(b);x.sizer.style.paddingRight=(x.barWidth=M.right)+"px",x.sizer.style.paddingBottom=(x.barHeight=M.bottom)+"px",x.heightForcer.style.borderBottom=M.bottom+"px solid transparent",M.right&&M.bottom?(x.scrollbarFiller.style.display="block",x.scrollbarFiller.style.height=M.bottom+"px",x.scrollbarFiller.style.width=M.right+"px"):x.scrollbarFiller.style.display="",M.bottom&&h.options.coverGutterNextToScrollbar&&h.options.fixedGutter?(x.gutterFiller.style.display="block",x.gutterFiller.style.height=M.bottom+"px",x.gutterFiller.style.width=b.gutterWidth+"px"):x.gutterFiller.style.display=""}Kn.prototype.update=function(){return{bottom:0,right:0}},Kn.prototype.setScrollLeft=function(){},Kn.prototype.setScrollTop=function(){},Kn.prototype.clear=function(){};var Sl={native:yr,null:Kn};function Bs(h){h.display.scrollbars&&(h.display.scrollbars.clear(),h.display.scrollbars.addClass&&me(h.display.wrapper,h.display.scrollbars.addClass)),h.display.scrollbars=new Sl[h.options.scrollbarStyle](function(b){h.display.wrapper.insertBefore(b,h.display.scrollbarFiller),Di(b,"mousedown",function(){h.state.focused&&setTimeout(function(){return h.display.input.focus()},0)}),b.setAttribute("cm-not-content","true")},function(b,x){"horizontal"==x?Li(h,b):Vt(h,b)},h),h.display.scrollbars.addClass&&ze(h.display.wrapper,h.display.scrollbars.addClass)}var Ss=0;function Qs(h){h.curOp={cm:h,viewChanged:!1,startHeight:h.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ss,markArrays:null},function Ir(h){Un?Un.ops.push(h):h.ownsGroup=Un={ops:[h],delayedCallbacks:[]}}(h.curOp)}function Da(h){var b=h.curOp;b&&function Or(h,b){var x=h.ownsGroup;if(x)try{!function Wr(h){var b=h.delayedCallbacks,x=0;do{for(;x<b.length;x++)b[x].call(null);for(var M=0;M<h.ops.length;M++){var L=h.ops[M];if(L.cursorActivityHandlers)for(;L.cursorActivityCalled<L.cursorActivityHandlers.length;)L.cursorActivityHandlers[L.cursorActivityCalled++].call(null,L.cm)}}while(x<b.length)}(x)}finally{Un=null,b(x)}}(b,function(x){for(var M=0;M<x.ops.length;M++)x.ops[M].cm.curOp=null;!function as(h){for(var b=h.ops,x=0;x<b.length;x++)Dl(b[x]);for(var M=0;M<b.length;M++)$a(b[M]);for(var L=0;L<b.length;L++)Gc(b[L]);for(var Y=0;Y<b.length;Y++)va(b[Y]);for(var he=0;he<b.length;he++)jl(b[he])}(x)})}function Dl(h){var b=h.cm,x=b.display;(function rd(h){var b=h.display;!b.scrollbarsClipped&&b.scroller.offsetWidth&&(b.nativeBarWidth=b.scroller.offsetWidth-b.scroller.clientWidth,b.heightForcer.style.height=Qt(h)+"px",b.sizer.style.marginBottom=-b.nativeBarWidth+"px",b.sizer.style.borderRightWidth=Qt(h)+"px",b.scrollbarsClipped=!0)})(b),h.updateMaxLine&&ja(b),h.mustUpdate=h.viewChanged||h.forceUpdate||null!=h.scrollTop||h.scrollToPos&&(h.scrollToPos.from.line<x.viewFrom||h.scrollToPos.to.line>=x.viewTo)||x.maxLineChanged&&b.options.lineWrapping,h.update=h.mustUpdate&&new vo(b,h.mustUpdate&&{top:h.scrollTop,ensure:h.scrollToPos},h.forceUpdate)}function $a(h){h.updatedDisplay=h.mustUpdate&&Tc(h.cm,h.update)}function Gc(h){var b=h.cm,x=b.display;h.updatedDisplay&&Zs(b),h.barMeasure=Mn(b),x.maxLineChanged&&!b.options.lineWrapping&&(h.adjustWidthTo=cr(b,x.maxLine,x.maxLine.text.length).left+3,b.display.sizerWidth=h.adjustWidthTo,h.barMeasure.scrollWidth=Math.max(x.scroller.clientWidth,x.sizer.offsetLeft+h.adjustWidthTo+Qt(b)+b.display.barWidth),h.maxScrollLeft=Math.max(0,x.sizer.offsetLeft+h.adjustWidthTo-mi(b))),(h.updatedDisplay||h.selectionChanged)&&(h.preparedSelection=x.input.prepareSelection())}function va(h){var b=h.cm;null!=h.adjustWidthTo&&(b.display.sizer.style.minWidth=h.adjustWidthTo+"px",h.maxScrollLeft<b.doc.scrollLeft&&Li(b,Math.min(b.display.scroller.scrollLeft,h.maxScrollLeft),!0),b.display.maxLineChanged=!1);var x=h.focus&&h.focus==ot();h.preparedSelection&&b.display.input.showSelection(h.preparedSelection,x),(h.updatedDisplay||h.startHeight!=b.doc.height)&&$r(b,h.barMeasure),h.updatedDisplay&&Du(b,h.barMeasure),h.selectionChanged&&ma(b),b.state.focused&&h.updateInput&&b.display.input.reset(h.typing),x&&cc(h.cm)}function jl(h){var b=h.cm,x=b.display,M=b.doc;h.updatedDisplay&&Wu(b,h.update),null!=x.wheelStartX&&(null!=h.scrollTop||null!=h.scrollLeft||h.scrollToPos)&&(x.wheelStartX=x.wheelStartY=null),null!=h.scrollTop&&qt(b,h.scrollTop,h.forceScroll),null!=h.scrollLeft&&Li(b,h.scrollLeft,!0,!0),h.scrollToPos&&function Wl(h,b){if(!_i(h,"scrollCursorIntoView")){var x=h.display,M=x.sizer.getBoundingClientRect(),L=null;if(b.top+M.top<0?L=!0:b.bottom+M.top>(window.innerHeight||document.documentElement.clientHeight)&&(L=!1),null!=L&&!oe){var Y=Ae("div","\u200b",null,"position: absolute;\n                         top: "+(b.top-x.viewOffset-qe(h.display))+"px;\n                         height: "+(b.bottom-b.top+Qt(h)+x.barHeight)+"px;\n                         left: "+b.left+"px; width: "+Math.max(2,b.right-b.left)+"px;");h.display.lineSpace.appendChild(Y),Y.scrollIntoView(L),h.display.lineSpace.removeChild(Y)}}}(b,function Cc(h,b,x,M){var L;null==M&&(M=0),!h.options.lineWrapping&&b==x&&(x="before"==b.sticky?Bi(b.line,b.ch+1,"before"):b,b=b.ch?Bi(b.line,"before"==b.sticky?b.ch-1:b.ch,"after"):b);for(var Y=0;Y<5;Y++){var he=!1,Me=os(h,b),Be=x&&x!=b?os(h,x):Me,$e=Uc(h,L={left:Math.min(Me.left,Be.left),top:Math.min(Me.top,Be.top)-M,right:Math.max(Me.left,Be.left),bottom:Math.max(Me.bottom,Be.bottom)+M}),It=h.doc.scrollTop,jt=h.doc.scrollLeft;if(null!=$e.scrollTop&&(Vt(h,$e.scrollTop),Math.abs(h.doc.scrollTop-It)>1&&(he=!0)),null!=$e.scrollLeft&&(Li(h,$e.scrollLeft),Math.abs(h.doc.scrollLeft-jt)>1&&(he=!0)),!he)break}return L}(b,Ji(M,h.scrollToPos.from),Ji(M,h.scrollToPos.to),h.scrollToPos.margin));var Y=h.maybeHiddenMarkers,he=h.maybeUnhiddenMarkers;if(Y)for(var Me=0;Me<Y.length;++Me)Y[Me].lines.length||Mt(Y[Me],"hide");if(he)for(var Be=0;Be<he.length;++Be)he[Be].lines.length&&Mt(he[Be],"unhide");x.wrapper.offsetHeight&&(M.scrollTop=b.display.scroller.scrollTop),h.changeObjs&&Mt(b,"changes",b,h.changeObjs),h.update&&h.update.finish()}function gs(h,b){if(h.curOp)return b();Qs(h);try{return b()}finally{Da(h)}}function To(h,b){return function(){if(h.curOp)return b.apply(h,arguments);Qs(h);try{return b.apply(h,arguments)}finally{Da(h)}}}function xo(h){return function(){if(this.curOp)return h.apply(this,arguments);Qs(this);try{return h.apply(this,arguments)}finally{Da(this)}}}function eo(h){return function(){var b=this.cm;if(!b||b.curOp)return h.apply(this,arguments);Qs(b);try{return h.apply(this,arguments)}finally{Da(b)}}}function Ml(h,b){h.doc.highlightFrontier<h.display.viewTo&&h.state.highlight.set(b,pt(ru,h))}function ru(h){var b=h.doc;if(!(b.highlightFrontier>=h.display.viewTo)){var x=+new Date+h.options.workTime,M=io(h,b.highlightFrontier),L=[];b.iter(M.line,Math.min(b.first+b.size,h.display.viewTo+500),function(Y){if(M.line>=h.display.viewFrom){var he=Y.styles,Me=Y.text.length>h.options.maxHighlightLength?Dr(b.mode,M.state):null,Be=Qo(h,Y,M,!0);Me&&(M.state=Me),Y.styles=Be.styles;var $e=Y.styleClasses,It=Be.classes;It?Y.styleClasses=It:$e&&(Y.styleClasses=null);for(var jt=!he||he.length!=Y.styles.length||$e!=It&&(!$e||!It||$e.bgClass!=It.bgClass||$e.textClass!=It.textClass),fi=0;!jt&&fi<he.length;++fi)jt=he[fi]!=Y.styles[fi];jt&&L.push(M.line),Y.stateAfter=M.save(),M.nextLine()}else Y.text.length<=h.options.maxHighlightLength&&Io(h,Y.text,M),Y.stateAfter=M.line%5==0?M.save():null,M.nextLine();if(+new Date>x)return Ml(h,h.options.workDelay),!0}),b.highlightFrontier=M.line,b.modeFrontier=Math.max(b.modeFrontier,M.line),L.length&&gs(h,function(){for(var Y=0;Y<L.length;Y++)ga(h,L[Y],"text")})}}var vo=function(h,b,x){var M=h.display;this.viewport=b,this.visible=wl(M,h.doc,b),this.editorIsHidden=!M.wrapper.offsetWidth,this.wrapperHeight=M.wrapper.clientHeight,this.wrapperWidth=M.wrapper.clientWidth,this.oldDisplayWidth=mi(h),this.force=x,this.dims=Sa(h),this.events=[]};function Tc(h,b){var x=h.display,M=h.doc;if(b.editorIsHidden)return La(h),!1;if(!b.force&&b.visible.from>=x.viewFrom&&b.visible.to<=x.viewTo&&(null==x.updateLineNumbers||x.updateLineNumbers>=x.viewTo)&&x.renderedView==x.view&&0==al(h))return!1;zl(h)&&(La(h),b.dims=Sa(h));var L=M.first+M.size,Y=Math.max(b.visible.from-h.options.viewportMargin,M.first),he=Math.min(L,b.visible.to+h.options.viewportMargin);x.viewFrom<Y&&Y-x.viewFrom<20&&(Y=Math.max(M.first,x.viewFrom)),x.viewTo>he&&x.viewTo-he<20&&(he=Math.min(L,x.viewTo)),Gr&&(Y=ro(h.doc,Y),he=ks(h.doc,he));var Me=Y!=x.viewFrom||he!=x.viewTo||x.lastWrapHeight!=b.wrapperHeight||x.lastWrapWidth!=b.wrapperWidth;(function ec(h,b,x){var M=h.display;0==M.view.length||b>=M.viewTo||x<=M.viewFrom?(M.view=dn(h,b,x),M.viewFrom=b):(M.viewFrom>b?M.view=dn(h,b,M.viewFrom).concat(M.view):M.viewFrom<b&&(M.view=M.view.slice(Fs(h,b))),M.viewFrom=b,M.viewTo<x?M.view=M.view.concat(dn(h,M.viewTo,x)):M.viewTo>x&&(M.view=M.view.slice(0,Fs(h,x)))),M.viewTo=x})(h,Y,he),x.viewOffset=ho(xi(h.doc,x.viewFrom)),h.display.mover.style.top=x.viewOffset+"px";var Be=al(h);if(!Me&&0==Be&&!b.force&&x.renderedView==x.view&&(null==x.updateLineNumbers||x.updateLineNumbers>=x.viewTo))return!1;var $e=function Gu(h){if(h.hasFocus())return null;var b=ot();if(!b||!re(h.display.lineDiv,b))return null;var x={activeElt:b};if(window.getSelection){var M=window.getSelection();M.anchorNode&&M.extend&&re(h.display.lineDiv,M.anchorNode)&&(x.anchorNode=M.anchorNode,x.anchorOffset=M.anchorOffset,x.focusNode=M.focusNode,x.focusOffset=M.focusOffset)}return x}(h);return Be>4&&(x.lineDiv.style.display="none"),function od(h,b,x){var M=h.display,L=h.options.lineNumbers,Y=M.lineDiv,he=Y.firstChild;function Me(ki){var zi=ki.nextSibling;return u&&le&&h.display.currentWheelTarget==ki?ki.style.display="none":ki.parentNode.removeChild(ki),zi}for(var Be=M.view,$e=M.viewFrom,It=0;It<Be.length;It++){var jt=Be[It];if(!jt.hidden)if(jt.node&&jt.node.parentNode==Y){for(;he!=jt.node;)he=Me(he);var ci=L&&null!=b&&b<=$e&&jt.lineNumber;jt.changes&&(oi(jt.changes,"gutter")>-1&&(ci=!1),$n(h,jt,$e,x)),ci&&(ce(jt.lineNumber),jt.lineNumber.appendChild(document.createTextNode(xr(h.options,$e)))),he=jt.node.nextSibling}else{var fi=$i(h,jt,$e,x);Y.insertBefore(fi,he)}$e+=jt.size}for(;he;)he=Me(he)}(h,x.updateLineNumbers,b.dims),Be>4&&(x.lineDiv.style.display=""),x.renderedView=x.view,function wu(h){if(h&&h.activeElt&&h.activeElt!=ot()&&(h.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(h.activeElt.nodeName)&&h.anchorNode&&re(document.body,h.anchorNode)&&re(document.body,h.focusNode))){var b=window.getSelection(),x=document.createRange();x.setEnd(h.anchorNode,h.anchorOffset),x.collapse(!1),b.removeAllRanges(),b.addRange(x),b.extend(h.focusNode,h.focusOffset)}}($e),ce(x.cursorDiv),ce(x.selectionDiv),x.gutters.style.height=x.sizer.style.minHeight=0,Me&&(x.lastWrapHeight=b.wrapperHeight,x.lastWrapWidth=b.wrapperWidth,Ml(h,400)),x.updateLineNumbers=null,!0}function Wu(h,b){for(var x=b.viewport,M=!0;;M=!1){if(M&&h.options.lineWrapping&&b.oldDisplayWidth!=mi(h))M&&(b.visible=wl(h.display,h.doc,x));else if(x&&null!=x.top&&(x={top:Math.min(h.doc.height+bt(h.display)-Hi(h),x.top)}),b.visible=wl(h.display,h.doc,x),b.visible.from>=h.display.viewFrom&&b.visible.to<=h.display.viewTo)break;if(!Tc(h,b))break;Zs(h);var L=Mn(h);Gl(h),$r(h,L),Du(h,L),b.force=!1}b.signal(h,"update",h),(h.display.viewFrom!=h.display.reportedViewFrom||h.display.viewTo!=h.display.reportedViewTo)&&(b.signal(h,"viewportChange",h,h.display.viewFrom,h.display.viewTo),h.display.reportedViewFrom=h.display.viewFrom,h.display.reportedViewTo=h.display.viewTo)}function Su(h,b){var x=new vo(h,b);if(Tc(h,x)){Zs(h),Wu(h,x);var M=Mn(h);Gl(h),$r(h,M),Du(h,M),x.finish()}}function dc(h){h.sizer.style.marginLeft=h.gutters.offsetWidth+"px",hr(h,"gutterChanged",h)}function Du(h,b){h.display.sizer.style.minHeight=b.docHeight+"px",h.display.heightForcer.style.top=b.docHeight+"px",h.display.gutters.style.height=b.docHeight+h.display.barHeight+Qt(h)+"px"}function No(h){var b=h.display,x=b.view;if(b.alignWidgets||b.gutters.firstChild&&h.options.fixedGutter){for(var M=Yo(b)-b.scroller.scrollLeft+h.doc.scrollLeft,L=b.gutters.offsetWidth,Y=M+"px",he=0;he<x.length;he++)if(!x[he].hidden){h.options.fixedGutter&&(x[he].gutter&&(x[he].gutter.style.left=Y),x[he].gutterBackground&&(x[he].gutterBackground.style.left=Y));var Me=x[he].alignable;if(Me)for(var Be=0;Be<Me.length;Be++)Me[Be].style.left=Y}h.options.fixedGutter&&(b.gutters.style.left=M+L+"px")}}function zl(h){if(!h.options.lineNumbers)return!1;var b=h.doc,x=xr(h.options,b.first+b.size-1),M=h.display;if(x.length!=M.lineNumChars){var L=M.measure.appendChild(Ae("div",[Ae("div",x)],"CodeMirror-linenumber CodeMirror-gutter-elt")),Y=L.firstChild.offsetWidth,he=L.offsetWidth-Y;return M.lineGutter.style.width="",M.lineNumInnerWidth=Math.max(Y,M.lineGutter.offsetWidth-he)+1,M.lineNumWidth=M.lineNumInnerWidth+he,M.lineNumChars=M.lineNumInnerWidth?x.length:-1,M.lineGutter.style.width=M.lineNumWidth+"px",dc(h.display),!0}return!1}function tc(h,b){for(var x=[],M=!1,L=0;L<h.length;L++){var Y=h[L],he=null;if("string"!=typeof Y&&(he=Y.style,Y=Y.className),"CodeMirror-linenumbers"==Y){if(!b)continue;M=!0}x.push({className:Y,style:he})}return b&&!M&&x.push({className:"CodeMirror-linenumbers",style:null}),x}function ya(h){var b=h.gutters,x=h.gutterSpecs;ce(b),h.lineGutter=null;for(var M=0;M<x.length;++M){var L=x[M],Y=L.className,he=L.style,Me=b.appendChild(Ae("div",null,"CodeMirror-gutter "+Y));he&&(Me.style.cssText=he),"CodeMirror-linenumbers"==Y&&(h.lineGutter=Me,Me.style.width=(h.lineNumWidth||1)+"px")}b.style.display=x.length?"":"none",dc(h)}function _l(h){ya(h.display),ts(h),No(h)}function Ds(h,b,x,M){var L=this;this.input=x,L.scrollbarFiller=Ae("div",null,"CodeMirror-scrollbar-filler"),L.scrollbarFiller.setAttribute("cm-not-content","true"),L.gutterFiller=Ae("div",null,"CodeMirror-gutter-filler"),L.gutterFiller.setAttribute("cm-not-content","true"),L.lineDiv=Ce("div",null,"CodeMirror-code"),L.selectionDiv=Ae("div",null,null,"position: relative; z-index: 1"),L.cursorDiv=Ae("div",null,"CodeMirror-cursors"),L.measure=Ae("div",null,"CodeMirror-measure"),L.lineMeasure=Ae("div",null,"CodeMirror-measure"),L.lineSpace=Ce("div",[L.measure,L.lineMeasure,L.selectionDiv,L.cursorDiv,L.lineDiv],null,"position: relative; outline: none");var Y=Ce("div",[L.lineSpace],"CodeMirror-lines");L.mover=Ae("div",[Y],null,"position: relative"),L.sizer=Ae("div",[L.mover],"CodeMirror-sizer"),L.sizerWidth=null,L.heightForcer=Ae("div",null,null,"position: absolute; height: 50px; width: 1px;"),L.gutters=Ae("div",null,"CodeMirror-gutters"),L.lineGutter=null,L.scroller=Ae("div",[L.sizer,L.heightForcer,L.gutters],"CodeMirror-scroll"),L.scroller.setAttribute("tabIndex","-1"),L.wrapper=Ae("div",[L.scrollbarFiller,L.gutterFiller,L.scroller],"CodeMirror"),L.wrapper.setAttribute("translate","no"),n&&a<8&&(L.gutters.style.zIndex=-1,L.scroller.style.paddingRight=0),!u&&!(E&&Te)&&(L.scroller.draggable=!0),h&&(h.appendChild?h.appendChild(L.wrapper):h(L.wrapper)),L.viewFrom=L.viewTo=b.first,L.reportedViewFrom=L.reportedViewTo=b.first,L.view=[],L.renderedView=null,L.externalMeasured=null,L.viewOffset=0,L.lastWrapHeight=L.lastWrapWidth=0,L.updateLineNumbers=null,L.nativeBarWidth=L.barHeight=L.barWidth=0,L.scrollbarsClipped=!1,L.lineNumWidth=L.lineNumInnerWidth=L.lineNumChars=null,L.alignWidgets=!1,L.cachedCharWidth=L.cachedTextHeight=L.cachedPaddingH=null,L.maxLine=null,L.maxLineLength=0,L.maxLineChanged=!1,L.wheelDX=L.wheelDY=L.wheelStartX=L.wheelStartY=null,L.shift=!1,L.selForContextMenu=null,L.activeTouch=null,L.gutterSpecs=tc(M.gutters,M.lineNumbers),ya(L),x.init(L)}vo.prototype.signal=function(h,b){Fi(h,b)&&this.events.push(arguments)},vo.prototype.finish=function(){for(var h=0;h<this.events.length;h++)Mt.apply(null,this.events[h])};var aa=0,Ja=null;function Ma(h){var b=h.wheelDeltaX,x=h.wheelDeltaY;return null==b&&h.detail&&h.axis==h.HORIZONTAL_AXIS&&(b=h.detail),null==x&&h.detail&&h.axis==h.VERTICAL_AXIS?x=h.detail:null==x&&(x=h.wheelDelta),{x:b,y:x}}function Wc(h){var b=Ma(h);return b.x*=Ja,b.y*=Ja,b}function wc(h,b){var x=Ma(b),M=x.x,L=x.y,Y=Ja;0===b.deltaMode&&(M=b.deltaX,L=b.deltaY,Y=1);var he=h.display,Me=he.scroller,$e=Me.scrollHeight>Me.clientHeight;if(M&&Me.scrollWidth>Me.clientWidth||L&&$e){if(L&&le&&u)e:for(var It=b.target,jt=he.view;It!=Me;It=It.parentNode)for(var fi=0;fi<jt.length;fi++)if(jt[fi].node==It){h.display.currentWheelTarget=It;break e}if(M&&!E&&!F&&null!=Y)return L&&$e&&Vt(h,Math.max(0,Me.scrollTop+L*Y)),Li(h,Math.max(0,Me.scrollLeft+M*Y)),(!L||L&&$e)&&gn(b),void(he.wheelStartX=null);if(L&&null!=Y){var ci=L*Y,ki=h.doc.scrollTop,zi=ki+he.wrapper.clientHeight;ci<0?ki=Math.max(0,ki+ci-50):zi=Math.min(h.doc.height,zi+ci+50),Su(h,{top:ki,bottom:zi})}aa<20&&0!==b.deltaMode&&(null==he.wheelStartX?(he.wheelStartX=Me.scrollLeft,he.wheelStartY=Me.scrollTop,he.wheelDX=M,he.wheelDY=L,setTimeout(function(){if(null!=he.wheelStartX){var cn=Me.scrollLeft-he.wheelStartX,_n=Me.scrollTop-he.wheelStartY,xn=_n&&he.wheelDY&&_n/he.wheelDY||cn&&he.wheelDX&&cn/he.wheelDX;he.wheelStartX=he.wheelStartY=null,xn&&(Ja=(Ja*aa+xn)/(aa+1),++aa)}},200)):(he.wheelDX+=M,he.wheelDY+=L))}}n?Ja=-.53:E?Ja=15:D?Ja=-.7:W&&(Ja=-1/3);var Na=function(h,b){this.ranges=h,this.primIndex=b};Na.prototype.primary=function(){return this.ranges[this.primIndex]},Na.prototype.equals=function(h){if(h==this)return!0;if(h.primIndex!=this.primIndex||h.ranges.length!=this.ranges.length)return!1;for(var b=0;b<this.ranges.length;b++){var x=this.ranges[b],M=h.ranges[b];if(!Ln(x.anchor,M.anchor)||!Ln(x.head,M.head))return!1}return!0},Na.prototype.deepCopy=function(){for(var h=[],b=0;b<this.ranges.length;b++)h[b]=new Br(at(this.ranges[b].anchor),at(this.ranges[b].head));return new Na(h,this.primIndex)},Na.prototype.somethingSelected=function(){for(var h=0;h<this.ranges.length;h++)if(!this.ranges[h].empty())return!0;return!1},Na.prototype.contains=function(h,b){b||(b=h);for(var x=0;x<this.ranges.length;x++){var M=this.ranges[x];if(Bn(b,M.from())>=0&&Bn(h,M.to())<=0)return x}return-1};var Br=function(h,b){this.anchor=h,this.head=b};function Fa(h,b,x){var M=h&&h.options.selectionsMayTouch,L=b[x];b.sort(function(fi,ci){return Bn(fi.from(),ci.from())}),x=oi(b,L);for(var Y=1;Y<b.length;Y++){var he=b[Y],Me=b[Y-1],Be=Bn(Me.to(),he.from());if(M&&!he.empty()?Be>0:Be>=0){var $e=Ai(Me.from(),he.from()),It=Ft(Me.to(),he.to()),jt=Me.empty()?he.from()==he.head:Me.from()==Me.head;Y<=x&&--x,b.splice(--Y,2,new Br(jt?It:$e,jt?$e:It))}}return new Na(b,x)}function vl(h,b){return new Na([new Br(h,b||h)],0)}function Yl(h){return h.text?Bi(h.from.line+h.text.length-1,Re(h.text).length+(1==h.text.length?h.from.ch:0)):h.to}function Ms(h,b){if(Bn(h,b.from)<0)return h;if(Bn(h,b.to)<=0)return Yl(b);var x=h.line+b.text.length-(b.to.line-b.from.line)-1,M=h.ch;return h.line==b.to.line&&(M+=Yl(b).ch-b.to.ch),Bi(x,M)}function Xl(h,b){for(var x=[],M=0;M<h.sel.ranges.length;M++){var L=h.sel.ranges[M];x.push(new Br(Ms(L.anchor,b),Ms(L.head,b)))}return Fa(h.cm,x,h.sel.primIndex)}function ll(h,b,x){return h.line==b.line?Bi(x.line,h.ch-b.ch+x.ch):Bi(x.line+(h.line-b.line),h.ch)}function xl(h){h.doc.mode=Jr(h.options,h.doc.modeOption),ic(h)}function ic(h){h.doc.iter(function(b){b.stateAfter&&(b.stateAfter=null),b.styles&&(b.styles=null)}),h.doc.modeFrontier=h.doc.highlightFrontier=h.doc.first,Ml(h,100),h.state.modeGen++,h.curOp&&ts(h)}function ou(h,b){return 0==b.from.ch&&0==b.to.ch&&""==Re(b.text)&&(!h.cm||h.cm.options.wholeLineUpdateBefore)}function ls(h,b,x,M){function L(xn){return x?x[xn]:null}function Y(xn,pn,In){(function qo(h,b,x,M){h.text=b,h.stateAfter&&(h.stateAfter=null),h.styles&&(h.styles=null),null!=h.order&&(h.order=null),Wa(h),rs(h,x);var L=M?M(h):1;L!=h.height&&Vr(h,L)})(xn,pn,In,M),hr(xn,"change",xn,b)}function he(xn,pn){for(var In=[],ir=xn;ir<pn;++ir)In.push(new ps($e[ir],L(ir),M));return In}var Me=b.from,Be=b.to,$e=b.text,It=xi(h,Me.line),jt=xi(h,Be.line),fi=Re($e),ci=L($e.length-1),ki=Be.line-Me.line;if(b.full)h.insert(0,he(0,$e.length)),h.remove($e.length,h.size-$e.length);else if(ou(h,b)){var zi=he(0,$e.length-1);Y(jt,jt.text,ci),ki&&h.remove(Me.line,ki),zi.length&&h.insert(Me.line,zi)}else if(It==jt)if(1==$e.length)Y(It,It.text.slice(0,Me.ch)+fi+It.text.slice(Be.ch),ci);else{var cn=he(1,$e.length-1);cn.push(new ps(fi+It.text.slice(Be.ch),ci,M)),Y(It,It.text.slice(0,Me.ch)+$e[0],L(0)),h.insert(Me.line+1,cn)}else if(1==$e.length)Y(It,It.text.slice(0,Me.ch)+$e[0]+jt.text.slice(Be.ch),L(0)),h.remove(Me.line+1,ki);else{Y(It,It.text.slice(0,Me.ch)+$e[0],L(0)),Y(jt,fi+jt.text.slice(Be.ch),ci);var _n=he(1,$e.length-1);ki>1&&h.remove(Me.line+1,ki-1),h.insert(Me.line+1,_n)}hr(h,"change",h,b)}function cl(h,b,x){!function M(L,Y,he){if(L.linked)for(var Me=0;Me<L.linked.length;++Me){var Be=L.linked[Me];if(Be.doc!=Y){var $e=he&&Be.sharedHist;x&&!$e||(b(Be.doc,$e),M(Be.doc,L,$e))}}}(h,null,!0)}function Rr(h,b){if(b.cm)throw new Error("This document is already in use.");h.doc=b,b.cm=h,ql(h),xl(h),Sc(h),h.options.direction=b.direction,h.options.lineWrapping||ja(h),h.options.mode=b.modeOption,ts(h)}function Sc(h){("rtl"==h.doc.direction?ze:me)(h.display.lineDiv,"CodeMirror-rtl")}function hc(h){this.done=[],this.undone=[],this.undoDepth=h?h.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=h?h.maxGeneration:1}function jc(h,b){var x={from:at(b.from),to:Yl(b),text:jn(h,b.from,b.to)};return Al(h,x,b.from.line,b.to.line+1),cl(h,function(M){return Al(M,x,b.from.line,b.to.line+1)},!0),x}function Rl(h){for(;h.length&&Re(h).ranges;)h.pop()}function Ro(h,b,x,M){var L=h.history;L.undone.length=0;var he,Me,Y=+new Date;if((L.lastOp==M||L.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&L.lastModTime>Y-(h.cm?h.cm.options.historyEventDelay:500)||"*"==b.origin.charAt(0)))&&(he=function su(h,b){return b?(Rl(h.done),Re(h.done)):h.done.length&&!Re(h.done).ranges?Re(h.done):h.done.length>1&&!h.done[h.done.length-2].ranges?(h.done.pop(),Re(h.done)):void 0}(L,L.lastOp==M)))Me=Re(he.changes),0==Bn(b.from,b.to)&&0==Bn(b.from,Me.to)?Me.to=Yl(b):he.changes.push(jc(h,b));else{var Be=Re(L.done);for((!Be||!Be.ranges)&&au(h.sel,L.done),he={changes:[jc(h,b)],generation:L.generation},L.done.push(he);L.done.length>L.undoDepth;)L.done.shift(),L.done[0].ranges||L.done.shift()}L.done.push(x),L.generation=++L.maxGeneration,L.lastModTime=L.lastSelTime=Y,L.lastOp=L.lastSelOp=M,L.lastOrigin=L.lastSelOrigin=b.origin,Me||Mt(h,"historyAdded")}function nc(h,b,x,M){var L=h.history,Y=M&&M.origin;x==L.lastSelOp||Y&&L.lastSelOrigin==Y&&(L.lastModTime==L.lastSelTime&&L.lastOrigin==Y||function Mu(h,b,x,M){var L=b.charAt(0);return"*"==L||"+"==L&&x.ranges.length==M.ranges.length&&x.somethingSelected()==M.somethingSelected()&&new Date-h.history.lastSelTime<=(h.cm?h.cm.options.historyEventDelay:500)}(h,Y,Re(L.done),b))?L.done[L.done.length-1]=b:au(b,L.done),L.lastSelTime=+new Date,L.lastSelOrigin=Y,L.lastSelOp=x,M&&!1!==M.clearRedo&&Rl(L.undone)}function au(h,b){var x=Re(b);x&&x.ranges&&x.equals(h)||b.push(h)}function Al(h,b,x,M){var L=b["spans_"+h.id],Y=0;h.iter(Math.max(h.first,x),Math.min(h.first+h.size,M),function(he){he.markedSpans&&((L||(L=b["spans_"+h.id]={}))[Y]=he.markedSpans),++Y})}function Za(h){if(!h)return null;for(var b,x=0;x<h.length;++x)h[x].marker.explicitlyCleared?b||(b=h.slice(0,x)):b&&b.push(h[x]);return b?b.length?b:null:h}function rc(h,b){var x=function Ba(h,b){var x=b["spans_"+h.id];if(!x)return null;for(var M=[],L=0;L<b.text.length;++L)M.push(Za(x[L]));return M}(h,b),M=Ws(h,b);if(!x)return M;if(!M)return x;for(var L=0;L<x.length;++L){var Y=x[L],he=M[L];if(Y&&he)e:for(var Me=0;Me<he.length;++Me){for(var Be=he[Me],$e=0;$e<Y.length;++$e)if(Y[$e].marker==Be.marker)continue e;Y.push(Be)}else he&&(x[L]=he)}return x}function ul(h,b,x){for(var M=[],L=0;L<h.length;++L){var Y=h[L];if(Y.ranges)M.push(x?Na.prototype.deepCopy.call(Y):Y);else{var he=Y.changes,Me=[];M.push({changes:Me});for(var Be=0;Be<he.length;++Be){var $e=he[Be],It=void 0;if(Me.push({from:$e.from,to:$e.to,text:$e.text}),b)for(var jt in $e)(It=jt.match(/^spans_(\d+)$/))&&oi(b,Number(It[1]))>-1&&(Re(Me)[jt]=$e[jt],delete $e[jt])}}}return M}function Xo(h,b,x,M){if(M){var L=h.anchor;if(x){var Y=Bn(b,L)<0;Y!=Bn(x,L)<0?(L=b,b=x):Y!=Bn(b,x)<0&&(b=x)}return new Br(L,b)}return new Br(x||b,b)}function Il(h,b,x,M,L){null==L&&(L=h.cm&&(h.cm.display.shift||h.extend)),ca(h,new Na([Xo(h.sel.primary(),b,x,L)],0),M)}function Ha(h,b,x){for(var M=[],L=h.cm&&(h.cm.display.shift||h.extend),Y=0;Y<h.sel.ranges.length;Y++)M[Y]=Xo(h.sel.ranges[Y],b[Y],null,L);ca(h,Fa(h.cm,M,h.sel.primIndex),x)}function Ol(h,b,x,M){var L=h.sel.ranges.slice(0);L[b]=x,ca(h,Fa(h.cm,L,h.sel.primIndex),M)}function Dc(h,b,x,M){ca(h,vl(b,x),M)}function xu(h,b,x){var M=h.history.done,L=Re(M);L&&L.ranges?(M[M.length-1]=b,xa(h,b,x)):ca(h,b,x)}function ca(h,b,x){xa(h,b,x),nc(h,h.sel,h.cm?h.cm.curOp.id:NaN,x)}function xa(h,b,x){(Fi(h,"beforeSelectionChange")||h.cm&&Fi(h.cm,"beforeSelectionChange"))&&(b=function ad(h,b,x){var M={ranges:b.ranges,update:function(L){this.ranges=[];for(var Y=0;Y<L.length;Y++)this.ranges[Y]=new Br(Ji(h,L[Y].anchor),Ji(h,L[Y].head))},origin:x&&x.origin};return Mt(h,"beforeSelectionChange",h,M),h.cm&&Mt(h.cm,"beforeSelectionChange",h.cm,M),M.ranges!=b.ranges?Fa(h.cm,M.ranges,M.ranges.length-1):b}(h,b,x));var M=x&&x.bias||(Bn(b.primary().head,h.sel.primary().head)<0?-1:1);yl(h,kl(h,b,M,!0)),(!x||!1!==x.scroll)&&h.cm&&"nocursor"!=h.cm.getOption("readOnly")&&ne(h.cm)}function yl(h,b){b.equals(h.sel)||(h.sel=b,h.cm&&(h.cm.curOp.updateInput=1,h.cm.curOp.selectionChanged=!0,yi(h.cm)),hr(h,"cursorActivity",h))}function Mc(h){yl(h,kl(h,h.sel,null,!1))}function kl(h,b,x,M){for(var L,Y=0;Y<b.ranges.length;Y++){var he=b.ranges[Y],Me=b.ranges.length==h.sel.ranges.length&&h.sel.ranges[Y],Be=zc(h,he.anchor,Me&&Me.anchor,x,M),$e=zc(h,he.head,Me&&Me.head,x,M);(L||Be!=he.anchor||$e!=he.head)&&(L||(L=b.ranges.slice(0,Y)),L[Y]=new Br(Be,$e))}return L?Fa(h.cm,L,b.primIndex):b}function Kl(h,b,x,M,L){var Y=xi(h,b.line);if(Y.markedSpans)for(var he=0;he<Y.markedSpans.length;++he){var Me=Y.markedSpans[he],Be=Me.marker,$e="selectLeft"in Be?!Be.selectLeft:Be.inclusiveLeft,It="selectRight"in Be?!Be.selectRight:Be.inclusiveRight;if((null==Me.from||($e?Me.from<=b.ch:Me.from<b.ch))&&(null==Me.to||(It?Me.to>=b.ch:Me.to>b.ch))){if(L&&(Mt(Be,"beforeCursorEnter"),Be.explicitlyCleared)){if(Y.markedSpans){--he;continue}break}if(!Be.atomic)continue;if(x){var jt=Be.find(M<0?1:-1),fi=void 0;if((M<0?It:$e)&&(jt=Ra(h,jt,-M,jt&&jt.line==b.line?Y:null)),jt&&jt.line==b.line&&(fi=Bn(jt,x))&&(M<0?fi<0:fi>0))return Kl(h,jt,b,M,L)}var ci=Be.find(M<0?-1:1);return(M<0?$e:It)&&(ci=Ra(h,ci,M,ci.line==b.line?Y:null)),ci?Kl(h,ci,b,M,L):null}}return b}function zc(h,b,x,M,L){var Y=M||1;return Kl(h,b,x,Y,L)||!L&&Kl(h,b,x,Y,!0)||Kl(h,b,x,-Y,L)||!L&&Kl(h,b,x,-Y,!0)||(h.cantEdit=!0,Bi(h.first,0))}function Ra(h,b,x,M){return x<0&&0==b.ch?b.line>h.first?Ji(h,Bi(b.line-1)):null:x>0&&b.ch==(M||xi(h,b.line)).text.length?b.line<h.first+h.size-1?Bi(b.line+1,0):null:new Bi(b.line,b.ch+x)}function Yc(h){h.setSelection(Bi(h.firstLine(),0),Bi(h.lastLine()),Rt)}function Xc(h,b,x){var M={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){return M.canceled=!0}};return x&&(M.update=function(L,Y,he,Me){L&&(M.from=Ji(h,L)),Y&&(M.to=Ji(h,Y)),he&&(M.text=he),void 0!==Me&&(M.origin=Me)}),Mt(h,"beforeChange",h,M),h.cm&&Mt(h.cm,"beforeChange",h.cm,M),M.canceled?(h.cm&&(h.cm.curOp.updateInput=2),null):{from:M.from,to:M.to,text:M.text,origin:M.origin}}function pc(h,b,x){if(h.cm){if(!h.cm.curOp)return To(h.cm,pc)(h,b,x);if(h.cm.state.suppressEdits)return}if(!(Fi(h,"beforeChange")||h.cm&&Fi(h.cm,"beforeChange"))||(b=Xc(h,b,!0))){var M=ia&&!x&&function nl(h,b,x){var M=null;if(h.iter(b.line,x.line+1,function(ci){if(ci.markedSpans)for(var ki=0;ki<ci.markedSpans.length;++ki){var zi=ci.markedSpans[ki].marker;zi.readOnly&&(!M||-1==oi(M,zi))&&(M||(M=[])).push(zi)}}),!M)return null;for(var L=[{from:b,to:x}],Y=0;Y<M.length;++Y)for(var he=M[Y],Me=he.find(0),Be=0;Be<L.length;++Be){var $e=L[Be];if(!(Bn($e.to,Me.from)<0||Bn($e.from,Me.to)>0)){var It=[Be,1],jt=Bn($e.from,Me.from),fi=Bn($e.to,Me.to);(jt<0||!he.inclusiveLeft&&!jt)&&It.push({from:$e.from,to:Me.from}),(fi>0||!he.inclusiveRight&&!fi)&&It.push({from:Me.to,to:$e.to}),L.splice.apply(L,It),Be+=It.length-3}}return L}(h,b.from,b.to);if(M)for(var L=M.length-1;L>=0;--L)so(h,{from:M[L].from,to:M[L].to,text:L?[""]:b.text,origin:b.origin});else so(h,b)}}function so(h,b){if(1!=b.text.length||""!=b.text[0]||0!=Bn(b.from,b.to)){var x=Xl(h,b);Ro(h,b,x,h.cm?h.cm.curOp.id:NaN),xc(h,b,x,Ws(h,b));var M=[];cl(h,function(L,Y){!Y&&-1==oi(M,L.history)&&(lu(L.history,b),M.push(L.history)),xc(L,b,null,Ws(L,b))})}}function Ll(h,b,x){var M=h.cm&&h.cm.state.suppressEdits;if(!M||x){for(var Y,L=h.history,he=h.sel,Me="undo"==b?L.done:L.undone,Be="undo"==b?L.undone:L.done,$e=0;$e<Me.length&&(Y=Me[$e],!(x?Y.ranges&&!Y.equals(h.sel):!Y.ranges));$e++);if($e!=Me.length){for(L.lastOrigin=L.lastSelOrigin=null;;){if(!(Y=Me.pop()).ranges){if(M)return void Me.push(Y);break}if(au(Y,Be),x&&!Y.equals(h.sel))return void ca(h,Y,{clearRedo:!1});he=Y}var It=[];au(he,Be),Be.push({changes:It,generation:L.generation}),L.generation=Y.generation||++L.maxGeneration;for(var jt=Fi(h,"beforeChange")||h.cm&&Fi(h.cm,"beforeChange"),fi=function(zi){var cn=Y.changes[zi];if(cn.origin=b,jt&&!Xc(h,cn,!1))return Me.length=0,{};It.push(jc(h,cn));var _n=zi?Xl(h,cn):Re(Me);xc(h,cn,_n,rc(h,cn)),!zi&&h.cm&&h.cm.scrollIntoView({from:cn.from,to:Yl(cn)});var xn=[];cl(h,function(pn,In){!In&&-1==oi(xn,pn.history)&&(lu(pn.history,cn),xn.push(pn.history)),xc(pn,cn,null,rc(pn,cn))})},ci=Y.changes.length-1;ci>=0;--ci){var ki=fi(ci);if(ki)return ki.v}}}}function Pl(h,b){if(0!=b&&(h.first+=b,h.sel=new Na(yt(h.sel.ranges,function(L){return new Br(Bi(L.anchor.line+b,L.anchor.ch),Bi(L.head.line+b,L.head.ch))}),h.sel.primIndex),h.cm)){ts(h.cm,h.first,h.first-b,b);for(var x=h.cm.display,M=x.viewFrom;M<x.viewTo;M++)ga(h.cm,M,"gutter")}}function xc(h,b,x,M){if(h.cm&&!h.cm.curOp)return To(h.cm,xc)(h,b,x,M);if(b.to.line<h.first)Pl(h,b.text.length-1-(b.to.line-b.from.line));else if(!(b.from.line>h.lastLine())){if(b.from.line<h.first){var L=b.text.length-1-(h.first-b.from.line);Pl(h,L),b={from:Bi(h.first,0),to:Bi(b.to.line+L,b.to.ch),text:[Re(b.text)],origin:b.origin}}var Y=h.lastLine();b.to.line>Y&&(b={from:b.from,to:Bi(Y,xi(h,Y).text.length),text:[b.text[0]],origin:b.origin}),b.removed=jn(h,b.from,b.to),x||(x=Xl(h,b)),h.cm?function ju(h,b,x){var M=h.doc,L=h.display,Y=b.from,he=b.to,Me=!1,Be=Y.line;h.options.lineWrapping||(Be=fr(Vo(xi(M,Y.line))),M.iter(Be,he.line+1,function(ci){if(ci==L.maxLine)return Me=!0,!0})),M.sel.contains(b.from,b.to)>-1&&yi(h),ls(M,b,x,Ns(h)),h.options.lineWrapping||(M.iter(Be,Y.line+b.text.length,function(ci){var ki=Ta(ci);ki>L.maxLineLength&&(L.maxLine=ci,L.maxLineLength=ki,L.maxLineChanged=!0,Me=!1)}),Me&&(h.curOp.updateMaxLine=!0)),function hs(h,b){if(h.modeFrontier=Math.min(h.modeFrontier,b),!(h.highlightFrontier<b-10)){for(var x=h.first,M=b-1;M>x;M--){var L=xi(h,M).stateAfter;if(L&&(!(L instanceof or)||M+L.lookAhead<b)){x=M+1;break}}h.highlightFrontier=Math.min(h.highlightFrontier,x)}}(M,Y.line),Ml(h,400);var $e=b.text.length-(he.line-Y.line)-1;b.full?ts(h):Y.line!=he.line||1!=b.text.length||ou(h.doc,b)?ts(h,Y.line,he.line+1,$e):ga(h,Y.line,"text");var It=Fi(h,"changes"),jt=Fi(h,"change");if(jt||It){var fi={from:Y,to:he,text:b.text,removed:b.removed,origin:b.origin};jt&&hr(h,"change",h,fi),It&&(h.curOp.changeObjs||(h.curOp.changeObjs=[])).push(fi)}h.display.selForContextMenu=null}(h.cm,b,M):ls(h,b,M),xa(h,x,Rt),h.cantEdit&&zc(h,Bi(h.firstLine(),0))&&(h.cantEdit=!1)}}function $l(h,b,x,M,L){var Y;M||(M=x),Bn(M,x)<0&&(x=(Y=[M,x])[0],M=Y[1]),"string"==typeof b&&(b=h.splitLines(b)),pc(h,{from:x,to:M,text:b,origin:L})}function Rc(h,b,x,M){x<h.line?h.line+=M:b<h.line&&(h.line=b,h.ch=0)}function oc(h,b,x,M){for(var L=0;L<h.length;++L){var Y=h[L],he=!0;if(Y.ranges){Y.copied||((Y=h[L]=Y.deepCopy()).copied=!0);for(var Me=0;Me<Y.ranges.length;Me++)Rc(Y.ranges[Me].anchor,b,x,M),Rc(Y.ranges[Me].head,b,x,M)}else{for(var Be=0;Be<Y.changes.length;++Be){var $e=Y.changes[Be];if(x<$e.from.line)$e.from=Bi($e.from.line+M,$e.from.ch),$e.to=Bi($e.to.line+M,$e.to.ch);else if(b<=$e.to.line){he=!1;break}}he||(h.splice(0,L+1),L=0)}}}function lu(h,b){var x=b.from.line,M=b.to.line,L=b.text.length-(M-x)-1;oc(h.done,x,M,L),oc(h.undone,x,M,L)}function Ac(h,b,x,M){var L=b,Y=b;return"number"==typeof b?Y=xi(h,Yi(h,b)):L=fr(b),null==L?null:(M(Y,L)&&h.cm&&ga(h.cm,L,x),Y)}function Kc(h){this.lines=h,this.parent=null;for(var b=0,x=0;x<h.length;++x)h[x].parent=this,b+=h[x].height;this.height=b}function Nl(h){this.children=h;for(var b=0,x=0,M=0;M<h.length;++M){var L=h[M];b+=L.chunkSize(),x+=L.height,L.parent=this}this.size=b,this.height=x,this.parent=null}Br.prototype.from=function(){return Ai(this.anchor,this.head)},Br.prototype.to=function(){return Ft(this.anchor,this.head)},Br.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Kc.prototype={chunkSize:function(){return this.lines.length},removeInner:function(h,b){for(var x=h,M=h+b;x<M;++x){var L=this.lines[x];this.height-=L.height,js(L),hr(L,"delete")}this.lines.splice(h,b)},collapse:function(h){h.push.apply(h,this.lines)},insertInner:function(h,b,x){this.height+=x,this.lines=this.lines.slice(0,h).concat(b).concat(this.lines.slice(h));for(var M=0;M<b.length;++M)b[M].parent=this},iterN:function(h,b,x){for(var M=h+b;h<M;++h)if(x(this.lines[h]))return!0}},Nl.prototype={chunkSize:function(){return this.size},removeInner:function(h,b){this.size-=b;for(var x=0;x<this.children.length;++x){var M=this.children[x],L=M.chunkSize();if(h<L){var Y=Math.min(b,L-h),he=M.height;if(M.removeInner(h,Y),this.height-=he-M.height,L==Y&&(this.children.splice(x--,1),M.parent=null),0==(b-=Y))break;h=0}else h-=L}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof Kc))){var Me=[];this.collapse(Me),this.children=[new Kc(Me)],this.children[0].parent=this}},collapse:function(h){for(var b=0;b<this.children.length;++b)this.children[b].collapse(h)},insertInner:function(h,b,x){this.size+=b.length,this.height+=x;for(var M=0;M<this.children.length;++M){var L=this.children[M],Y=L.chunkSize();if(h<=Y){if(L.insertInner(h,b,x),L.lines&&L.lines.length>50){for(var he=L.lines.length%25+25,Me=he;Me<L.lines.length;){var Be=new Kc(L.lines.slice(Me,Me+=25));L.height-=Be.height,this.children.splice(++M,0,Be),Be.parent=this}L.lines=L.lines.slice(0,he),this.maybeSpill()}break}h-=Y}},maybeSpill:function(){if(!(this.children.length<=10)){var h=this;do{var x=new Nl(h.children.splice(h.children.length-5,5));if(h.parent){h.size-=x.size,h.height-=x.height;var L=oi(h.parent.children,h);h.parent.children.splice(L+1,0,x)}else{var M=new Nl(h.children);M.parent=h,h.children=[M,x],h=M}x.parent=h.parent}while(h.children.length>10);h.parent.maybeSpill()}},iterN:function(h,b,x){for(var M=0;M<this.children.length;++M){var L=this.children[M],Y=L.chunkSize();if(h<Y){var he=Math.min(b,Y-h);if(L.iterN(h,he,x))return!0;if(0==(b-=he))break;h=0}else h-=Y}}};var Fl=function(h,b,x){if(x)for(var M in x)x.hasOwnProperty(M)&&(this[M]=x[M]);this.doc=h,this.node=b};function Qa(h,b,x){ho(b)<(h.curOp&&h.curOp.scrollTop||h.doc.scrollTop)&&fe(h,x)}Fl.prototype.clear=function(){var h=this.doc.cm,b=this.line.widgets,x=this.line,M=fr(x);if(null!=M&&b){for(var L=0;L<b.length;++L)b[L]==this&&b.splice(L--,1);b.length||(x.widgets=null);var Y=X(this);Vr(x,Math.max(0,x.height-Y)),h&&(gs(h,function(){Qa(h,x,-Y),ga(h,M,"widget")}),hr(h,"lineWidgetCleared",h,this,M))}},Fl.prototype.changed=function(){var h=this,b=this.height,x=this.doc.cm,M=this.line;this.height=null;var L=X(this)-b;!L||(Ar(this.doc,M)||Vr(M,M.height+L),x&&gs(x,function(){x.curOp.forceUpdate=!0,Qa(x,M,L),hr(x,"lineWidgetChanged",x,h,fr(M))}))},Pi(Fl);var zu=0,Jl=function(h,b){this.lines=[],this.type=b,this.doc=h,this.id=++zu};function qa(h,b,x,M,L){if(M&&M.shared)return function fc(h,b,x,M,L){(M=dt(M)).shared=!1;var Y=[qa(h,b,x,M,L)],he=Y[0],Me=M.widgetNode;return cl(h,function(Be){Me&&(M.widgetNode=Me.cloneNode(!0)),Y.push(qa(Be,Ji(Be,b),Ji(Be,x),M,L));for(var $e=0;$e<Be.linked.length;++$e)if(Be.linked[$e].isParent)return;he=Re(Y)}),new dl(Y,he)}(h,b,x,M,L);if(h.cm&&!h.cm.curOp)return To(h.cm,qa)(h,b,x,M,L);var Y=new Jl(h,L),he=Bn(b,x);if(M&&dt(M,Y,!1),he>0||0==he&&!1!==Y.clearWhenEmpty)return Y;if(Y.replacedWith&&(Y.collapsed=!0,Y.widgetNode=Ce("span",[Y.replacedWith],"CodeMirror-widget"),M.handleMouseEvents||Y.widgetNode.setAttribute("cm-ignore-events","true"),M.insertLeft&&(Y.widgetNode.insertLeft=!0)),Y.collapsed){if(fa(h,b.line,b,x,Y)||b.line!=x.line&&fa(h,x.line,b,x,Y))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function pl(){Gr=!0}()}Y.addToHistory&&Ro(h,{from:b,to:x,origin:"markText"},h.sel,NaN);var $e,Me=b.line,Be=h.cm;if(h.iter(Me,x.line+1,function(jt){Be&&Y.collapsed&&!Be.options.lineWrapping&&Vo(jt)==Be.display.maxLine&&($e=!0),Y.collapsed&&Me!=b.line&&Vr(jt,0),function il(h,b,x){var M=x&&window.WeakSet&&(x.markedSpans||(x.markedSpans=new WeakSet));M&&M.has(h.markedSpans)?h.markedSpans.push(b):(h.markedSpans=h.markedSpans?h.markedSpans.concat([b]):[b],M&&M.add(h.markedSpans)),b.marker.attachLine(h)}(jt,new Os(Y,Me==b.line?b.ch:null,Me==x.line?x.ch:null),h.cm&&h.cm.curOp),++Me}),Y.collapsed&&h.iter(b.line,x.line+1,function(jt){Ar(h,jt)&&Vr(jt,0)}),Y.clearOnEnter&&Di(Y,"beforeCursorEnter",function(){return Y.clear()}),Y.readOnly&&(function Ia(){ia=!0}(),(h.history.done.length||h.history.undone.length)&&h.clearHistory()),Y.collapsed&&(Y.id=++zu,Y.atomic=!0),Be){if($e&&(Be.curOp.updateMaxLine=!0),Y.collapsed)ts(Be,b.line,x.line+1);else if(Y.className||Y.startStyle||Y.endStyle||Y.css||Y.attributes||Y.title)for(var It=b.line;It<=x.line;It++)ga(Be,It,"text");Y.atomic&&Mc(Be.doc),hr(Be,"markerAdded",Be,Y)}return Y}Jl.prototype.clear=function(){if(!this.explicitlyCleared){var h=this.doc.cm,b=h&&!h.curOp;if(b&&Qs(h),Fi(this,"clear")){var x=this.find();x&&hr(this,"clear",x.from,x.to)}for(var M=null,L=null,Y=0;Y<this.lines.length;++Y){var he=this.lines[Y],Me=ha(he.markedSpans,this);h&&!this.collapsed?ga(h,fr(he),"text"):h&&(null!=Me.to&&(L=fr(he)),null!=Me.from&&(M=fr(he))),he.markedSpans=Ga(he.markedSpans,Me),null==Me.from&&this.collapsed&&!Ar(this.doc,he)&&h&&Vr(he,ss(h.display))}if(h&&this.collapsed&&!h.options.lineWrapping)for(var Be=0;Be<this.lines.length;++Be){var $e=Vo(this.lines[Be]),It=Ta($e);It>h.display.maxLineLength&&(h.display.maxLine=$e,h.display.maxLineLength=It,h.display.maxLineChanged=!0)}null!=M&&h&&this.collapsed&&ts(h,M,L+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,h&&Mc(h.doc)),h&&hr(h,"markerCleared",h,this,M,L),b&&Da(h),this.parent&&this.parent.clear()}},Jl.prototype.find=function(h,b){null==h&&"bookmark"==this.type&&(h=1);for(var x,M,L=0;L<this.lines.length;++L){var Y=this.lines[L],he=ha(Y.markedSpans,this);if(null!=he.from&&(x=Bi(b?Y:fr(Y),he.from),-1==h))return x;if(null!=he.to&&(M=Bi(b?Y:fr(Y),he.to),1==h))return M}return x&&{from:x,to:M}},Jl.prototype.changed=function(){var h=this,b=this.find(-1,!0),x=this,M=this.doc.cm;!b||!M||gs(M,function(){var L=b.line,Y=fr(b.line),he=Gn(M,Y);if(he&&(fs(he),M.curOp.selectionChanged=M.curOp.forceUpdate=!0),M.curOp.updateMaxLine=!0,!Ar(x.doc,L)&&null!=x.height){var Me=x.height;x.height=null;var Be=X(x)-Me;Be&&Vr(L,L.height+Be)}hr(M,"markerChanged",M,h)})},Jl.prototype.attachLine=function(h){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(!b.maybeHiddenMarkers||-1==oi(b.maybeHiddenMarkers,this))&&(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(h)},Jl.prototype.detachLine=function(h){if(this.lines.splice(oi(this.lines,h),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}},Pi(Jl);var dl=function(h,b){this.markers=h,this.primary=b;for(var x=0;x<h.length;++x)h[x].parent=this};function ba(h){return h.findMarks(Bi(h.first,0),h.clipPos(Bi(h.lastLine())),function(b){return b.parent})}function Bl(h){for(var b=function(M){var L=h[M],Y=[L.primary.doc];cl(L.primary.doc,function(Be){return Y.push(Be)});for(var he=0;he<L.markers.length;he++){var Me=L.markers[he];-1==oi(Y,Me.doc)&&(Me.parent=null,L.markers.splice(he--,1))}},x=0;x<h.length;x++)b(x)}dl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var h=0;h<this.markers.length;++h)this.markers[h].clear();hr(this,"clear")}},dl.prototype.find=function(h,b){return this.primary.find(h,b)},Pi(dl);var Au=0,xs=function(h,b,x,M,L){if(!(this instanceof xs))return new xs(h,b,x,M,L);null==x&&(x=0),Nl.call(this,[new Kc([new ps("",null)])]),this.first=x,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=x;var Y=Bi(x,0);this.sel=vl(Y),this.history=new hc(null),this.id=++Au,this.modeOption=b,this.lineSep=M,this.direction="rtl"==L?"rtl":"ltr",this.extend=!1,"string"==typeof h&&(h=this.splitLines(h)),ls(this,{from:Y,to:Y,text:h}),ca(this,vl(Y),Rt)};xs.prototype=wt(Nl.prototype,{constructor:xs,iter:function(h,b,x){x?this.iterN(h-this.first,b-h,x):this.iterN(this.first,this.first+this.size,h)},insert:function(h,b){for(var x=0,M=0;M<b.length;++M)x+=b[M].height;this.insertInner(h-this.first,b,x)},remove:function(h,b){this.removeInner(h-this.first,b)},getValue:function(h){var b=mr(this,this.first,this.first+this.size);return!1===h?b:b.join(h||this.lineSeparator())},setValue:eo(function(h){var b=Bi(this.first,0),x=this.first+this.size-1;pc(this,{from:b,to:Bi(x,xi(this,x).text.length),text:this.splitLines(h),origin:"setValue",full:!0},!0),this.cm&&Q(this.cm,0,0),ca(this,vl(b),Rt)}),replaceRange:function(h,b,x,M){$l(this,h,b=Ji(this,b),x=x?Ji(this,x):b,M)},getRange:function(h,b,x){var M=jn(this,Ji(this,h),Ji(this,b));return!1===x?M:M.join(""===x?"":x||this.lineSeparator())},getLine:function(h){var b=this.getLineHandle(h);return b&&b.text},getLineHandle:function(h){if(Zr(this,h))return xi(this,h)},getLineNumber:function(h){return fr(h)},getLineHandleVisualStart:function(h){return"number"==typeof h&&(h=xi(this,h)),Vo(h)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(h){return Ji(this,h)},getCursor:function(h){var b=this.sel.primary();return null==h||"head"==h?b.head:"anchor"==h?b.anchor:"end"==h||"to"==h||!1===h?b.to():b.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:eo(function(h,b,x){Dc(this,Ji(this,"number"==typeof h?Bi(h,b||0):h),null,x)}),setSelection:eo(function(h,b,x){Dc(this,Ji(this,h),Ji(this,b||h),x)}),extendSelection:eo(function(h,b,x){Il(this,Ji(this,h),b&&Ji(this,b),x)}),extendSelections:eo(function(h,b){Ha(this,Qn(this,h),b)}),extendSelectionsBy:eo(function(h,b){Ha(this,Qn(this,yt(this.sel.ranges,h)),b)}),setSelections:eo(function(h,b,x){if(h.length){for(var M=[],L=0;L<h.length;L++)M[L]=new Br(Ji(this,h[L].anchor),Ji(this,h[L].head||h[L].anchor));null==b&&(b=Math.min(h.length-1,this.sel.primIndex)),ca(this,Fa(this.cm,M,b),x)}}),addSelection:eo(function(h,b,x){var M=this.sel.ranges.slice(0);M.push(new Br(Ji(this,h),Ji(this,b||h))),ca(this,Fa(this.cm,M,M.length-1),x)}),getSelection:function(h){for(var x,b=this.sel.ranges,M=0;M<b.length;M++){var L=jn(this,b[M].from(),b[M].to());x=x?x.concat(L):L}return!1===h?x:x.join(h||this.lineSeparator())},getSelections:function(h){for(var b=[],x=this.sel.ranges,M=0;M<x.length;M++){var L=jn(this,x[M].from(),x[M].to());!1!==h&&(L=L.join(h||this.lineSeparator())),b[M]=L}return b},replaceSelection:function(h,b,x){for(var M=[],L=0;L<this.sel.ranges.length;L++)M[L]=h;this.replaceSelections(M,b,x||"+input")},replaceSelections:eo(function(h,b,x){for(var M=[],L=this.sel,Y=0;Y<L.ranges.length;Y++){var he=L.ranges[Y];M[Y]={from:he.from(),to:he.to(),text:this.splitLines(h[Y]),origin:x}}for(var Me=b&&"end"!=b&&function sd(h,b,x){for(var M=[],L=Bi(h.first,0),Y=L,he=0;he<b.length;he++){var Me=b[he],Be=ll(Me.from,L,Y),$e=ll(Yl(Me),L,Y);if(L=Me.to,Y=$e,"around"==x){var It=h.sel.ranges[he],jt=Bn(It.head,It.anchor)<0;M[he]=new Br(jt?$e:Be,jt?Be:$e)}else M[he]=new Br(Be,Be)}return new Na(M,h.sel.primIndex)}(this,M,b),Be=M.length-1;Be>=0;Be--)pc(this,M[Be]);Me?xu(this,Me):this.cm&&ne(this.cm)}),undo:eo(function(){Ll(this,"undo")}),redo:eo(function(){Ll(this,"redo")}),undoSelection:eo(function(){Ll(this,"undo",!0)}),redoSelection:eo(function(){Ll(this,"redo",!0)}),setExtending:function(h){this.extend=h},getExtending:function(){return this.extend},historySize:function(){for(var h=this.history,b=0,x=0,M=0;M<h.done.length;M++)h.done[M].ranges||++b;for(var L=0;L<h.undone.length;L++)h.undone[L].ranges||++x;return{undo:b,redo:x}},clearHistory:function(){var h=this;this.history=new hc(this.history),cl(this,function(b){return b.history=h.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(h){return h&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(h){return this.history.generation==(h||this.cleanGeneration)},getHistory:function(){return{done:ul(this.history.done),undone:ul(this.history.undone)}},setHistory:function(h){var b=this.history=new hc(this.history);b.done=ul(h.done.slice(0),null,!0),b.undone=ul(h.undone.slice(0),null,!0)},setGutterMarker:eo(function(h,b,x){return Ac(this,h,"gutter",function(M){var L=M.gutterMarkers||(M.gutterMarkers={});return L[b]=x,!x&&lt(L)&&(M.gutterMarkers=null),!0})}),clearGutter:eo(function(h){var b=this;this.iter(function(x){x.gutterMarkers&&x.gutterMarkers[h]&&Ac(b,x,"gutter",function(){return x.gutterMarkers[h]=null,lt(x.gutterMarkers)&&(x.gutterMarkers=null),!0})})}),lineInfo:function(h){var b;if("number"==typeof h){if(!(Zr(this,h)&&(b=h,h=xi(this,h))))return null}else if(null==(b=fr(h)))return null;return{line:b,handle:h,text:h.text,gutterMarkers:h.gutterMarkers,textClass:h.textClass,bgClass:h.bgClass,wrapClass:h.wrapClass,widgets:h.widgets}},addLineClass:eo(function(h,b,x){return Ac(this,h,"gutter"==b?"gutter":"class",function(M){var L="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass";if(M[L]){if(se(x).test(M[L]))return!1;M[L]+=" "+x}else M[L]=x;return!0})}),removeLineClass:eo(function(h,b,x){return Ac(this,h,"gutter"==b?"gutter":"class",function(M){var L="text"==b?"textClass":"background"==b?"bgClass":"gutter"==b?"gutterClass":"wrapClass",Y=M[L];if(!Y)return!1;if(null==x)M[L]=null;else{var he=Y.match(se(x));if(!he)return!1;var Me=he.index+he[0].length;M[L]=Y.slice(0,he.index)+(he.index&&Me!=Y.length?" ":"")+Y.slice(Me)||null}return!0})}),addLineWidget:eo(function(h,b,x){return function $c(h,b,x,M){var L=new Fl(h,x,M),Y=h.cm;return Y&&L.noHScroll&&(Y.display.alignWidgets=!0),Ac(h,b,"widget",function(he){var Me=he.widgets||(he.widgets=[]);if(null==L.insertAt?Me.push(L):Me.splice(Math.min(Me.length,Math.max(0,L.insertAt)),0,L),L.line=he,Y&&!Ar(h,he)){var Be=ho(he)<h.scrollTop;Vr(he,he.height+X(L)),Be&&fe(Y,L.height),Y.curOp.forceUpdate=!0}return!0}),Y&&hr(Y,"lineWidgetAdded",Y,L,"number"==typeof b?b:fr(b)),L}(this,h,b,x)}),removeLineWidget:function(h){h.clear()},markText:function(h,b,x){return qa(this,Ji(this,h),Ji(this,b),x,x&&x.type||"range")},setBookmark:function(h,b){var x={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};return qa(this,h=Ji(this,h),h,x,"bookmark")},findMarksAt:function(h){var b=[],x=xi(this,(h=Ji(this,h)).line).markedSpans;if(x)for(var M=0;M<x.length;++M){var L=x[M];(null==L.from||L.from<=h.ch)&&(null==L.to||L.to>=h.ch)&&b.push(L.marker.parent||L.marker)}return b},findMarks:function(h,b,x){h=Ji(this,h),b=Ji(this,b);var M=[],L=h.line;return this.iter(h.line,b.line+1,function(Y){var he=Y.markedSpans;if(he)for(var Me=0;Me<he.length;Me++){var Be=he[Me];!(null!=Be.to&&L==h.line&&h.ch>=Be.to||null==Be.from&&L!=h.line||null!=Be.from&&L==b.line&&Be.from>=b.ch)&&(!x||x(Be.marker))&&M.push(Be.marker.parent||Be.marker)}++L}),M},getAllMarks:function(){var h=[];return this.iter(function(b){var x=b.markedSpans;if(x)for(var M=0;M<x.length;++M)null!=x[M].from&&h.push(x[M].marker)}),h},posFromIndex:function(h){var b,x=this.first,M=this.lineSeparator().length;return this.iter(function(L){var Y=L.text.length+M;if(Y>h)return b=h,!0;h-=Y,++x}),Ji(this,Bi(x,b))},indexFromPos:function(h){var b=(h=Ji(this,h)).ch;if(h.line<this.first||h.ch<0)return 0;var x=this.lineSeparator().length;return this.iter(this.first,h.line,function(M){b+=M.text.length+x}),b},copy:function(h){var b=new xs(mr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,h&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(h){h||(h={});var b=this.first,x=this.first+this.size;null!=h.from&&h.from>b&&(b=h.from),null!=h.to&&h.to<x&&(x=h.to);var M=new xs(mr(this,b,x),h.mode||this.modeOption,b,this.lineSep,this.direction);return h.sharedHist&&(M.history=this.history),(this.linked||(this.linked=[])).push({doc:M,sharedHist:h.sharedHist}),M.linked=[{doc:this,isParent:!0,sharedHist:h.sharedHist}],function Ru(h,b){for(var x=0;x<b.length;x++){var M=b[x],L=M.find(),Y=h.clipPos(L.from),he=h.clipPos(L.to);if(Bn(Y,he)){var Me=qa(h,Y,he,M.primary,M.primary.type);M.markers.push(Me),Me.parent=M}}}(M,ba(this)),M},unlinkDoc:function(h){if(h instanceof Fo&&(h=h.doc),this.linked)for(var b=0;b<this.linked.length;++b)if(this.linked[b].doc==h){this.linked.splice(b,1),h.unlinkDoc(this),Bl(ba(this));break}if(h.history==this.history){var M=[h.id];cl(h,function(L){return M.push(L.id)},!0),h.history=new hc(null),h.history.done=ul(this.history.done,M),h.history.undone=ul(this.history.undone,M)}},iterLinkedDocs:function(h){cl(this,h)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(h){return this.lineSep?h.split(this.lineSep):qn(h)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:eo(function(h){"rtl"!=h&&(h="ltr"),h!=this.direction&&(this.direction=h,this.iter(function(b){return b.order=null}),this.cm&&function la(h){gs(h,function(){Sc(h),ts(h)})}(this.cm))})}),xs.prototype.eachLine=xs.prototype.iter;var gc=0;function be(h){var b=this;if(Dt(b),!_i(b,h)&&!ye(b.display,h)){gn(h),n&&(gc=+new Date);var x=sl(b,h,!0),M=h.dataTransfer.files;if(x&&!b.isReadOnly())if(M&&M.length&&window.FileReader&&window.File)for(var L=M.length,Y=Array(L),he=0,Me=function(){++he==L&&To(b,function(){var ci={from:x=Ji(b.doc,x),to:x,text:b.doc.splitLines(Y.filter(function(ki){return null!=ki}).join(b.doc.lineSeparator())),origin:"paste"};pc(b.doc,ci),xu(b.doc,vl(Ji(b.doc,x),Ji(b.doc,Yl(ci))))})()},Be=function(ci,ki){if(b.options.allowDropFileTypes&&-1==oi(b.options.allowDropFileTypes,ci.type))Me();else{var zi=new FileReader;zi.onerror=function(){return Me()},zi.onload=function(){var cn=zi.result;/[\x00-\x08\x0e-\x1f]{2}/.test(cn)||(Y[ki]=cn),Me()},zi.readAsText(ci)}},$e=0;$e<M.length;$e++)Be(M[$e],$e);else{if(b.state.draggingText&&b.doc.sel.contains(x)>-1)return b.state.draggingText(h),void setTimeout(function(){return b.display.input.focus()},20);try{var It=h.dataTransfer.getData("Text");if(It){var jt;if(b.state.draggingText&&!b.state.draggingText.copy&&(jt=b.listSelections()),xa(b.doc,vl(x,x)),jt)for(var fi=0;fi<jt.length;++fi)$l(b.doc,"",jt[fi].anchor,jt[fi].head,"drag");b.replaceSelection(It,"around","paste"),b.display.input.focus()}}catch(ci){}}}}function Dt(h){h.display.dragCursor&&(h.display.lineSpace.removeChild(h.display.dragCursor),h.display.dragCursor=null)}function Ht(h){if(document.getElementsByClassName){for(var b=document.getElementsByClassName("CodeMirror"),x=[],M=0;M<b.length;M++){var L=b[M].CodeMirror;L&&x.push(L)}x.length&&x[0].operation(function(){for(var Y=0;Y<x.length;Y++)h(x[Y])})}}var ui=!1;function Zt(){ui||(function li(){var h;Di(window,"resize",function(){null==h&&(h=setTimeout(function(){h=null,Ht(Oi)},100))}),Di(window,"blur",function(){return Ht(Ka)})}(),ui=!0)}function Oi(h){var b=h.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,h.setSize()}for(var Ii={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Ui=0;Ui<10;Ui++)Ii[Ui+48]=Ii[Ui+96]=String(Ui);for(var er=65;er<=90;er++)Ii[er]=String.fromCharCode(er);for(var zn=1;zn<=12;zn++)Ii[zn+111]=Ii[zn+63235]="F"+zn;var ur={};function Uo(h){var b=h.split(/-(?!$)/);h=b[b.length-1];for(var x,M,L,Y,he=0;he<b.length-1;he++){var Me=b[he];if(/^(cmd|meta|m)$/i.test(Me))Y=!0;else if(/^a(lt)?$/i.test(Me))x=!0;else if(/^(c|ctrl|control)$/i.test(Me))M=!0;else{if(!/^s(hift)?$/i.test(Me))throw new Error("Unrecognized modifier name: "+Me);L=!0}}return x&&(h="Alt-"+h),M&&(h="Ctrl-"+h),Y&&(h="Cmd-"+h),L&&(h="Shift-"+h),h}function yo(h){var b={};for(var x in h)if(h.hasOwnProperty(x)){var M=h[x];if(/^(name|fallthrough|(de|at)tach)$/.test(x))continue;if("..."==M){delete h[x];continue}for(var L=yt(x.split(" "),Uo),Y=0;Y<L.length;Y++){var he=void 0,Me=void 0;Y==L.length-1?(Me=L.join(" "),he=M):(Me=L.slice(0,Y+1).join(" "),he="...");var Be=b[Me];if(Be){if(Be!=he)throw new Error("Inconsistent bindings for "+Me)}else b[Me]=he}delete h[x]}for(var $e in b)h[$e]=b[$e];return h}function zr(h,b,x,M){var L=(b=ua(b)).call?b.call(h,M):b[h];if(!1===L)return"nothing";if("..."===L)return"multi";if(null!=L&&x(L))return"handled";if(b.fallthrough){if("[object Array]"!=Object.prototype.toString.call(b.fallthrough))return zr(h,b.fallthrough,x,M);for(var Y=0;Y<b.fallthrough.length;Y++){var he=zr(h,b.fallthrough[Y],x,M);if(he)return he}}}function po(h){var b="string"==typeof h?h:Ii[h.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function Go(h,b,x){var M=h;return b.altKey&&"Alt"!=M&&(h="Alt-"+h),(Se?b.metaKey:b.ctrlKey)&&"Ctrl"!=M&&(h="Ctrl-"+h),(Se?b.ctrlKey:b.metaKey)&&"Mod"!=M&&(h="Cmd-"+h),!x&&b.shiftKey&&"Shift"!=M&&(h="Shift-"+h),h}function fo(h,b){if(F&&34==h.keyCode&&h.char)return!1;var x=Ii[h.keyCode];return null!=x&&!h.altGraphKey&&(3==h.keyCode&&h.code&&(x=h.code),Go(x,h,b))}function ua(h){return"string"==typeof h?ur[h]:h}function cs(h,b){for(var x=h.doc.sel.ranges,M=[],L=0;L<x.length;L++){for(var Y=b(x[L]);M.length&&Bn(Y.from,Re(M).to)<=0;){var he=M.pop();if(Bn(he.from,Y.from)<0){Y.from=he.from;break}}M.push(Y)}gs(h,function(){for(var Me=M.length-1;Me>=0;Me--)$l(h.doc,"",M[Me].from,M[Me].to,"+delete");ne(h)})}function qs(h,b,x){var M=Ke(h.text,b+x,x);return M<0||M>h.text.length?null:M}function hl(h,b,x){var M=qs(h,b.ch,x);return null==M?null:new Bi(b.line,M,x<0?"after":"before")}function cu(h,b,x,M,L){if(h){"rtl"==b.doc.direction&&(L=-L);var Y=pi(x,b.doc.direction);if(Y){var $e,he=L<0?Re(Y):Y[0],Be=L<0==(1==he.level)?"after":"before";if(he.level>0||"rtl"==b.doc.direction){var It=Yn(b,x),jt=nr(b,It,$e=L<0?x.text.length-1:0).top;$e=Ze(function(fi){return nr(b,It,fi).top==jt},L<0==(1==he.level)?he.from:he.to-1,$e),"before"==Be&&($e=qs(x,$e,1))}else $e=L<0?he.to:he.from;return new Bi(M,$e,Be)}}return new Bi(M,L<0?x.text.length:0,L<0?"before":"after")}ur.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ur.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ur.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ur.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ur.default=le?ur.macDefault:ur.pcDefault;var Iu={selectAll:Yc,singleSelection:function(h){return h.setSelection(h.getCursor("anchor"),h.getCursor("head"),Rt)},killLine:function(h){return cs(h,function(b){if(b.empty()){var x=xi(h.doc,b.head.line).text.length;return b.head.ch==x&&b.head.line<h.lastLine()?{from:b.head,to:Bi(b.head.line+1,0)}:{from:b.head,to:Bi(b.head.line,x)}}return{from:b.from(),to:b.to()}})},deleteLine:function(h){return cs(h,function(b){return{from:Bi(b.from().line,0),to:Ji(h.doc,Bi(b.to().line+1,0))}})},delLineLeft:function(h){return cs(h,function(b){return{from:Bi(b.from().line,0),to:b.from()}})},delWrappedLineLeft:function(h){return cs(h,function(b){var x=h.charCoords(b.head,"div").top+5;return{from:h.coordsChar({left:0,top:x},"div"),to:b.from()}})},delWrappedLineRight:function(h){return cs(h,function(b){var x=h.charCoords(b.head,"div").top+5,M=h.coordsChar({left:h.display.lineDiv.offsetWidth+100,top:x},"div");return{from:b.from(),to:M}})},undo:function(h){return h.undo()},redo:function(h){return h.redo()},undoSelection:function(h){return h.undoSelection()},redoSelection:function(h){return h.redoSelection()},goDocStart:function(h){return h.extendSelection(Bi(h.firstLine(),0))},goDocEnd:function(h){return h.extendSelection(Bi(h.lastLine()))},goLineStart:function(h){return h.extendSelectionsBy(function(b){return Ic(h,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(h){return h.extendSelectionsBy(function(b){return Ou(h,b.head)},{origin:"+move",bias:1})},goLineEnd:function(h){return h.extendSelectionsBy(function(b){return function Yu(h,b){var x=xi(h.doc,b),M=function Do(h){for(var b;b=ra(h);)h=b.find(1,!0).line;return h}(x);return M!=x&&(b=fr(M)),cu(!0,h,x,b,-1)}(h,b.head.line)},{origin:"+move",bias:-1})},goLineRight:function(h){return h.extendSelectionsBy(function(b){var x=h.cursorCoords(b.head,"div").top+5;return h.coordsChar({left:h.display.lineDiv.offsetWidth+100,top:x},"div")},mt)},goLineLeft:function(h){return h.extendSelectionsBy(function(b){var x=h.cursorCoords(b.head,"div").top+5;return h.coordsChar({left:0,top:x},"div")},mt)},goLineLeftSmart:function(h){return h.extendSelectionsBy(function(b){var x=h.cursorCoords(b.head,"div").top+5,M=h.coordsChar({left:0,top:x},"div");return M.ch<h.getLine(M.line).search(/\S/)?Ou(h,b.head):M},mt)},goLineUp:function(h){return h.moveV(-1,"line")},goLineDown:function(h){return h.moveV(1,"line")},goPageUp:function(h){return h.moveV(-1,"page")},goPageDown:function(h){return h.moveV(1,"page")},goCharLeft:function(h){return h.moveH(-1,"char")},goCharRight:function(h){return h.moveH(1,"char")},goColumnLeft:function(h){return h.moveH(-1,"column")},goColumnRight:function(h){return h.moveH(1,"column")},goWordLeft:function(h){return h.moveH(-1,"word")},goGroupRight:function(h){return h.moveH(1,"group")},goGroupLeft:function(h){return h.moveH(-1,"group")},goWordRight:function(h){return h.moveH(1,"word")},delCharBefore:function(h){return h.deleteH(-1,"codepoint")},delCharAfter:function(h){return h.deleteH(1,"char")},delWordBefore:function(h){return h.deleteH(-1,"word")},delWordAfter:function(h){return h.deleteH(1,"word")},delGroupBefore:function(h){return h.deleteH(-1,"group")},delGroupAfter:function(h){return h.deleteH(1,"group")},indentAuto:function(h){return h.indentSelection("smart")},indentMore:function(h){return h.indentSelection("add")},indentLess:function(h){return h.indentSelection("subtract")},insertTab:function(h){return h.replaceSelection("\t")},insertSoftTab:function(h){for(var b=[],x=h.listSelections(),M=h.options.tabSize,L=0;L<x.length;L++){var Y=x[L].from(),he=Ot(h.getLine(Y.line),Y.ch,M);b.push(ut(M-he%M))}h.replaceSelections(b)},defaultTab:function(h){h.somethingSelected()?h.indentSelection("add"):h.execCommand("insertTab")},transposeChars:function(h){return gs(h,function(){for(var b=h.listSelections(),x=[],M=0;M<b.length;M++)if(b[M].empty()){var L=b[M].head,Y=xi(h.doc,L.line).text;if(Y)if(L.ch==Y.length&&(L=new Bi(L.line,L.ch-1)),L.ch>0)L=new Bi(L.line,L.ch+1),h.replaceRange(Y.charAt(L.ch-1)+Y.charAt(L.ch-2),Bi(L.line,L.ch-2),L,"+transpose");else if(L.line>h.doc.first){var he=xi(h.doc,L.line-1).text;he&&(L=new Bi(L.line,1),h.replaceRange(Y.charAt(0)+h.doc.lineSeparator()+he.charAt(he.length-1),Bi(L.line-1,he.length-1),L,"+transpose"))}x.push(new Br(L,L))}h.setSelections(x)})},newlineAndIndent:function(h){return gs(h,function(){for(var b=h.listSelections(),x=b.length-1;x>=0;x--)h.replaceRange(h.doc.lineSeparator(),b[x].anchor,b[x].head,"+input");b=h.listSelections();for(var M=0;M<b.length;M++)h.indentLine(b[M].from().line,null,!0);ne(h)})},openLine:function(h){return h.replaceSelection("\n","start")},toggleOverwrite:function(h){return h.toggleOverwrite()}};function Ic(h,b){var x=xi(h.doc,b),M=Vo(x);return M!=x&&(b=fr(M)),cu(!0,h,M,b,1)}function Ou(h,b){var x=Ic(h,b.line),M=xi(h.doc,x.line),L=pi(M,h.doc.direction);if(!L||0==L[0].level){var Y=Math.max(x.ch,M.text.search(/\S/));return Bi(x.line,b.line==x.line&&b.ch<=Y&&b.ch?0:Y,x.sticky)}return x}function mc(h,b,x){if("string"==typeof b&&!(b=Iu[b]))return!1;h.display.input.ensurePolled();var M=h.display.shift,L=!1;try{h.isReadOnly()&&(h.state.suppressEdits=!0),x&&(h.display.shift=!1),L=b(h)!=ti}finally{h.display.shift=M,h.state.suppressEdits=!1}return L}var Xu=new kt;function ku(h,b,x,M){var L=h.state.keySeq;if(L){if(po(b))return"handled";if(/\'$/.test(b)?h.state.keySeq=null:Xu.set(50,function(){h.state.keySeq==L&&(h.state.keySeq=null,h.display.input.reset())}),ld(h,L+" "+b,x,M))return!0}return ld(h,b,x,M)}function ld(h,b,x,M){var L=function _c(h,b,x){for(var M=0;M<h.state.keyMaps.length;M++){var L=zr(b,h.state.keyMaps[M],x,h);if(L)return L}return h.options.extraKeys&&zr(b,h.options.extraKeys,x,h)||zr(b,h.options.keyMap,x,h)}(h,b,M);return"multi"==L&&(h.state.keySeq=b),"handled"==L&&hr(h,"keyHandled",h,b,x),("handled"==L||"multi"==L)&&(gn(x),ma(h)),!!L}function Ku(h,b){var x=fo(b,!0);return!!x&&(b.shiftKey&&!h.state.keySeq?ku(h,"Shift-"+x,b,function(M){return mc(h,M,!0)})||ku(h,x,b,function(M){if("string"==typeof M?/^go[A-Z]/.test(M):M.motion)return mc(h,M)}):ku(h,x,b,function(M){return mc(h,M)}))}var uu=null;function Oc(h){var b=this;if(!(h.target&&h.target!=b.display.input.getField()||(b.curOp.focus=ot(),_i(b,h)))){n&&a<11&&27==h.keyCode&&(h.returnValue=!1);var x=h.keyCode;b.display.shift=16==x||h.shiftKey;var M=Ku(b,h);F&&(uu=M?x:null,!M&&88==x&&!$t&&(le?h.metaKey:h.ctrlKey)&&b.replaceSelection("",null,"cut")),E&&!le&&!M&&46==x&&h.shiftKey&&!h.ctrlKey&&document.execCommand&&document.execCommand("cut"),18==x&&!/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)&&function Jc(h){var b=h.display.lineDiv;function x(M){(18==M.keyCode||!M.altKey)&&(me(b,"CodeMirror-crosshair"),_t(document,"keyup",x),_t(document,"mouseover",x))}ze(b,"CodeMirror-crosshair"),Di(document,"keyup",x),Di(document,"mouseover",x)}(b)}}function $u(h){16==h.keyCode&&(this.doc.sel.shift=!1),_i(this,h)}function wd(h){var b=this;if(!(h.target&&h.target!=b.display.input.getField()||ye(b.display,h)||_i(b,h)||h.ctrlKey&&!h.altKey||le&&h.metaKey)){var x=h.keyCode,M=h.charCode;if(F&&x==uu)return uu=null,void gn(h);if(!F||h.which&&!(h.which<10)||!Ku(b,h)){var L=String.fromCharCode(null==M?x:M);"\b"!=L&&(function cd(h,b,x){return ku(h,"'"+x+"'",b,function(M){return mc(h,M,!0)})}(b,h,L)||b.display.input.onKeyPress(h))}}}var du,Zc,Lu=function(h,b,x){this.time=h,this.pos=b,this.button=x};function Dd(h){var b=this,x=b.display;if(!(_i(b,h)||x.activeTouch&&x.input.supportsTouch())){if(x.input.ensurePolled(),x.shift=h.shiftKey,ye(x,h))return void(u||(x.scroller.draggable=!1,setTimeout(function(){return x.scroller.draggable=!0},100)));if(!hu(b,h)){var M=sl(b,h),L=Ve(h),Y=M?function Sd(h,b){var x=+new Date;return Zc&&Zc.compare(x,h,b)?(du=Zc=null,"triple"):du&&du.compare(x,h,b)?(Zc=new Lu(x,h,b),du=null,"double"):(du=new Lu(x,h,b),Zc=null,"single")}(M,L):"single";window.focus(),1==L&&b.state.selectingText&&b.state.selectingText(h),(!M||!function Md(h,b,x,M,L){var Y="Click";return"double"==M?Y="Double"+Y:"triple"==M&&(Y="Triple"+Y),ku(h,Go(Y=(1==b?"Left":2==b?"Middle":"Right")+Y,L),L,function(he){if("string"==typeof he&&(he=Iu[he]),!he)return!1;var Me=!1;try{h.isReadOnly()&&(h.state.suppressEdits=!0),Me=he(h,x)!=ti}finally{h.state.suppressEdits=!1}return Me})}(b,L,M,Y,h))&&(1==L?M?function Rd(h,b,x,M){n?setTimeout(pt(cc,h),0):h.curOp.focus=ot();var he,L=function xd(h,b,x){var M=h.getOption("configureMouse"),L=M?M(h,b,x):{};return null==L.unit&&(L.unit=(_e?x.shiftKey&&x.metaKey:x.altKey)?"rectangle":"single"==b?"char":"double"==b?"word":"line"),(null==L.extend||h.doc.extend)&&(L.extend=h.doc.extend||x.shiftKey),null==L.addNew&&(L.addNew=le?x.metaKey:x.ctrlKey),null==L.moveOnDrag&&(L.moveOnDrag=!(le?x.altKey:x.ctrlKey)),L}(h,x,M),Y=h.doc.sel;h.options.dragDrop&&gt&&!h.isReadOnly()&&"single"==x&&(he=Y.contains(b))>-1&&(Bn((he=Y.ranges[he]).from(),b)<0||b.xRel>0)&&(Bn(he.to(),b)>0||b.xRel<0)?function Pu(h,b,x,M){var L=h.display,Y=!1,he=To(h,function($e){u&&(L.scroller.draggable=!1),h.state.draggingText=!1,h.state.delayingBlurEvent&&(h.hasFocus()?h.state.delayingBlurEvent=!1:Pa(h)),_t(L.wrapper.ownerDocument,"mouseup",he),_t(L.wrapper.ownerDocument,"mousemove",Me),_t(L.scroller,"dragstart",Be),_t(L.scroller,"drop",he),Y||(gn($e),M.addNew||Il(h.doc,x,null,null,M.extend),u&&!W||n&&9==a?setTimeout(function(){L.wrapper.ownerDocument.body.focus({preventScroll:!0}),L.input.focus()},20):L.input.focus())}),Me=function($e){Y=Y||Math.abs(b.clientX-$e.clientX)+Math.abs(b.clientY-$e.clientY)>=10},Be=function(){return Y=!0};u&&(L.scroller.draggable=!0),h.state.draggingText=he,he.copy=!M.moveOnDrag,Di(L.wrapper.ownerDocument,"mouseup",he),Di(L.wrapper.ownerDocument,"mousemove",Me),Di(L.scroller,"dragstart",Be),Di(L.scroller,"drop",he),h.state.delayingBlurEvent=!0,setTimeout(function(){return L.input.focus()},20),L.scroller.dragDrop&&L.scroller.dragDrop()}(h,M,b,L):function Ad(h,b,x,M){n&&Pa(h);var L=h.display,Y=h.doc;gn(b);var he,Me,Be=Y.sel,$e=Be.ranges;if(M.addNew&&!M.extend?(Me=Y.sel.contains(x),he=Me>-1?$e[Me]:new Br(x,x)):(he=Y.sel.primary(),Me=Y.sel.primIndex),"rectangle"==M.unit)M.addNew||(he=new Br(x,x)),x=sl(h,b,!0,!0),Me=-1;else{var It=Nu(h,x,M.unit);he=M.extend?Xo(he,It.anchor,It.head,M.extend):It}M.addNew?-1==Me?(Me=$e.length,ca(Y,Fa(h,$e.concat([he]),Me),{scroll:!1,origin:"*mouse"})):$e.length>1&&$e[Me].empty()&&"char"==M.unit&&!M.extend?(ca(Y,Fa(h,$e.slice(0,Me).concat($e.slice(Me+1)),0),{scroll:!1,origin:"*mouse"}),Be=Y.sel):Ol(Y,Me,he,ii):(Me=0,ca(Y,new Na([he],0),ii),Be=Y.sel);var jt=x;function fi(pn){if(0!=Bn(jt,pn))if(jt=pn,"rectangle"==M.unit){for(var In=[],ir=h.options.tabSize,Zn=Ot(xi(Y,x.line).text,x.ch,ir),Tr=Ot(xi(Y,pn.line).text,pn.ch,ir),go=Math.min(Zn,Tr),Hs=Math.max(Zn,Tr),Ko=Math.min(x.line,pn.line),Aa=Math.min(h.lastLine(),Math.max(x.line,pn.line));Ko<=Aa;Ko++){var Ca=xi(Y,Ko).text,vs=Ye(Ca,go,ir);go==Hs?In.push(new Br(Bi(Ko,vs),Bi(Ko,vs))):Ca.length>vs&&In.push(new Br(Bi(Ko,vs),Bi(Ko,Ye(Ca,Hs,ir))))}In.length||In.push(new Br(x,x)),ca(Y,Fa(h,Be.ranges.slice(0,Me).concat(In),Me),{origin:"*mouse",scroll:!1}),h.scrollIntoView(pn)}else{var T,Yr=he,us=Nu(h,pn,M.unit),Rs=Yr.anchor;Bn(us.anchor,Rs)>0?(T=us.head,Rs=Ai(Yr.from(),us.anchor)):(T=us.anchor,Rs=Ft(Yr.to(),us.head));var H=Be.ranges.slice(0);H[Me]=function kc(h,b){var x=b.anchor,M=b.head,L=xi(h.doc,x.line);if(0==Bn(x,M)&&x.sticky==M.sticky)return b;var Y=pi(L);if(!Y)return b;var he=Ei(Y,x.ch,x.sticky),Me=Y[he];if(Me.from!=x.ch&&Me.to!=x.ch)return b;var $e,Be=he+(Me.from==x.ch==(1!=Me.level)?0:1);if(0==Be||Be==Y.length)return b;if(M.line!=x.line)$e=(M.line-x.line)*("ltr"==h.doc.direction?1:-1)>0;else{var It=Ei(Y,M.ch,M.sticky),jt=It-he||(M.ch-x.ch)*(1==Me.level?-1:1);$e=It==Be-1||It==Be?jt<0:jt>0}var fi=Y[Be+($e?-1:0)],ci=$e==(1==fi.level),ki=ci?fi.from:fi.to,zi=ci?"after":"before";return x.ch==ki&&x.sticky==zi?b:new Br(new Bi(x.line,ki,zi),M)}(h,new Br(Ji(Y,Rs),T)),ca(Y,Fa(h,H,Me),ii)}}var ci=L.wrapper.getBoundingClientRect(),ki=0;function zi(pn){var In=++ki,ir=sl(h,pn,!0,"rectangle"==M.unit);if(ir)if(0!=Bn(ir,jt)){h.curOp.focus=ot(),fi(ir);var Zn=wl(L,Y);(ir.line>=Zn.to||ir.line<Zn.from)&&setTimeout(To(h,function(){ki==In&&zi(pn)}),150)}else{var Tr=pn.clientY<ci.top?-20:pn.clientY>ci.bottom?20:0;Tr&&setTimeout(To(h,function(){ki==In&&(L.scroller.scrollTop+=Tr,zi(pn))}),50)}}function cn(pn){h.state.selectingText=!1,ki=1/0,pn&&(gn(pn),L.input.focus()),_t(L.wrapper.ownerDocument,"mousemove",_n),_t(L.wrapper.ownerDocument,"mouseup",xn),Y.history.lastSelOrigin=null}var _n=To(h,function(pn){0!==pn.buttons&&Ve(pn)?zi(pn):cn(pn)}),xn=To(h,cn);h.state.selectingText=xn,Di(L.wrapper.ownerDocument,"mousemove",_n),Di(L.wrapper.ownerDocument,"mouseup",xn)}(h,M,b,L)}(b,M,Y,h):Ee(h)==x.scroller&&gn(h):2==L?(M&&Il(b.doc,M),setTimeout(function(){return x.input.focus()},20)):3==L&&(ve?b.display.input.onContextMenu(h):Pa(b)))}}}function Nu(h,b,x){if("char"==x)return new Br(b,b);if("word"==x)return h.findWordAt(b);if("line"==x)return new Br(Bi(b.line,0),Ji(h.doc,Bi(b.line+1,0)));var M=x(h,b);return new Br(M.from,M.to)}function Ea(h,b,x,M){var L,Y;if(b.touches)L=b.touches[0].clientX,Y=b.touches[0].clientY;else try{L=b.clientX,Y=b.clientY}catch(fi){return!1}if(L>=Math.floor(h.display.gutters.getBoundingClientRect().right))return!1;M&&gn(b);var he=h.display,Me=he.lineDiv.getBoundingClientRect();if(Y>Me.bottom||!Fi(h,x))return Tt(b);Y-=Me.top-he.viewOffset;for(var Be=0;Be<h.display.gutterSpecs.length;++Be){var $e=he.gutters.childNodes[Be];if($e&&$e.getBoundingClientRect().right>=L)return Mt(h,x,h,Mr(h.doc,Y),h.display.gutterSpecs[Be].className,b),Tt(b)}}function hu(h,b){return Ea(h,b,"gutterClick",!0)}function Zl(h,b){ye(h.display,b)||function Ju(h,b){return!!Fi(h,"gutterContextMenu")&&Ea(h,b,"gutterContextMenu",!1)}(h,b)||_i(h,b,"contextmenu")||ve||h.display.input.onContextMenu(b)}function da(h){h.display.wrapper.className=h.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+h.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ps(h)}Lu.prototype.compare=function(h,b,x){return this.time+400>h&&0==Bn(b,this.pos)&&x==this.button};var Hl={toString:function(){return"CodeMirror.Init"}},Qc={},pu={};function Lc(h,b,x){if(!b!=!(x&&x!=Hl)){var L=h.display.dragFunctions,Y=b?Di:_t;Y(h.display.scroller,"dragstart",L.start),Y(h.display.scroller,"dragenter",L.enter),Y(h.display.scroller,"dragover",L.over),Y(h.display.scroller,"dragleave",L.leave),Y(h.display.scroller,"drop",L.drop)}}function ud(h){h.options.lineWrapping?(ze(h.display.wrapper,"CodeMirror-wrap"),h.display.sizer.style.minWidth="",h.display.sizerWidth=null):(me(h.display.wrapper,"CodeMirror-wrap"),ja(h)),ql(h),ts(h),Ps(h),setTimeout(function(){return $r(h)},100)}function Fo(h,b){var x=this;if(!(this instanceof Fo))return new Fo(h,b);this.options=b=b?dt(b):{},dt(Qc,b,!1);var M=b.value;"string"==typeof M?M=new xs(M,b.mode,null,b.lineSeparator,b.direction):b.mode&&(M.modeOption=b.mode),this.doc=M;var L=new Fo.inputStyles[b.inputStyle](this),Y=this.display=new Ds(h,M,L,b);for(var he in Y.wrapper.CodeMirror=this,da(this),b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Bs(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new kt,keySeq:null,specialChars:null},b.autofocus&&!Te&&Y.input.focus(),n&&a<11&&setTimeout(function(){return x.display.input.reset(!0)},20),function bl(h){var b=h.display;Di(b.scroller,"mousedown",To(h,Dd)),Di(b.scroller,"dblclick",n&&a<11?To(h,function(Be){if(!_i(h,Be)){var $e=sl(h,Be);if($e&&!hu(h,Be)&&!ye(h.display,Be)){gn(Be);var It=h.findWordAt($e);Il(h.doc,It.anchor,It.head)}}}):function(Be){return _i(h,Be)||gn(Be)}),Di(b.scroller,"contextmenu",function(Be){return Zl(h,Be)}),Di(b.input.getField(),"contextmenu",function(Be){b.scroller.contains(Be.target)||Zl(h,Be)});var x,M={end:0};function L(){b.activeTouch&&(x=setTimeout(function(){return b.activeTouch=null},1e3),(M=b.activeTouch).end=+new Date)}function Y(Be){if(1!=Be.touches.length)return!1;var $e=Be.touches[0];return $e.radiusX<=1&&$e.radiusY<=1}function he(Be,$e){if(null==$e.left)return!0;var It=$e.left-Be.left,jt=$e.top-Be.top;return It*It+jt*jt>400}Di(b.scroller,"touchstart",function(Be){if(!_i(h,Be)&&!Y(Be)&&!hu(h,Be)){b.input.ensurePolled(),clearTimeout(x);var $e=+new Date;b.activeTouch={start:$e,moved:!1,prev:$e-M.end<=300?M:null},1==Be.touches.length&&(b.activeTouch.left=Be.touches[0].pageX,b.activeTouch.top=Be.touches[0].pageY)}}),Di(b.scroller,"touchmove",function(){b.activeTouch&&(b.activeTouch.moved=!0)}),Di(b.scroller,"touchend",function(Be){var $e=b.activeTouch;if($e&&!ye(b,Be)&&null!=$e.left&&!$e.moved&&new Date-$e.start<300){var jt,It=h.coordsChar(b.activeTouch,"page");jt=!$e.prev||he($e,$e.prev)?new Br(It,It):!$e.prev.prev||he($e,$e.prev.prev)?h.findWordAt(It):new Br(Bi(It.line,0),Ji(h.doc,Bi(It.line+1,0))),h.setSelection(jt.anchor,jt.head),h.focus(),gn(Be)}L()}),Di(b.scroller,"touchcancel",L),Di(b.scroller,"scroll",function(){b.scroller.clientHeight&&(Vt(h,b.scroller.scrollTop),Li(h,b.scroller.scrollLeft,!0),Mt(h,"scroll",h))}),Di(b.scroller,"mousewheel",function(Be){return wc(h,Be)}),Di(b.scroller,"DOMMouseScroll",function(Be){return wc(h,Be)}),Di(b.wrapper,"scroll",function(){return b.wrapper.scrollTop=b.wrapper.scrollLeft=0}),b.dragFunctions={enter:function(Be){_i(h,Be)||He(Be)},over:function(Be){_i(h,Be)||(function et(h,b){var x=sl(h,b);if(x){var M=document.createDocumentFragment();gl(h,x,M),h.display.dragCursor||(h.display.dragCursor=Ae("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),h.display.lineSpace.insertBefore(h.display.dragCursor,h.display.cursorDiv)),Ne(h.display.dragCursor,M)}}(h,Be),He(Be))},start:function(Be){return function xe(h,b){if(n&&(!h.state.draggingText||+new Date-gc<100))He(b);else if(!_i(h,b)&&!ye(h.display,b)&&(b.dataTransfer.setData("Text",h.getSelection()),b.dataTransfer.effectAllowed="copyMove",b.dataTransfer.setDragImage&&!W)){var x=Ae("img",null,null,"position: fixed; left: 0; top: 0;");x.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",F&&(x.width=x.height=1,h.display.wrapper.appendChild(x),x._top=x.offsetTop),b.dataTransfer.setDragImage(x,0,0),F&&x.parentNode.removeChild(x)}}(h,Be)},drop:To(h,be),leave:function(Be){_i(h,Be)||Dt(h)}};var Me=b.input.getField();Di(Me,"keyup",function(Be){return $u.call(h,Be)}),Di(Me,"keydown",To(h,Oc)),Di(Me,"keypress",To(h,wd)),Di(Me,"focus",function(Be){return Js(h,Be)}),Di(Me,"blur",function(Be){return Ka(h,Be)})}(this),Zt(),Qs(this),this.curOp.forceUpdate=!0,Rr(this,M),b.autofocus&&!Te||this.hasFocus()?setTimeout(function(){x.hasFocus()&&!x.state.focused&&Js(x)},20):Ka(this),pu)pu.hasOwnProperty(he)&&pu[he](this,b[he],Hl);zl(this),b.finishInit&&b.finishInit(this);for(var Me=0;Me<fu.length;++Me)fu[Me](this);Da(this),u&&b.lineWrapping&&"optimizelegibility"==getComputedStyle(Y.lineDiv).textRendering&&(Y.lineDiv.style.textRendering="auto")}Fo.defaults=Qc,Fo.optionHandlers=pu;var fu=[];function Pc(h,b,x,M){var Y,L=h.doc;null==x&&(x="add"),"smart"==x&&(L.mode.indent?Y=io(h,b).state:x="prev");var he=h.options.tabSize,Me=xi(L,b),Be=Ot(Me.text,null,he);Me.stateAfter&&(Me.stateAfter=null);var It,$e=Me.text.match(/^\s*/)[0];if(M||/\S/.test(Me.text)){if("smart"==x&&((It=L.mode.indent(Y,Me.text.slice($e.length),Me.text))==ti||It>150)){if(!M)return;x="prev"}}else It=0,x="not";"prev"==x?It=b>L.first?Ot(xi(L,b-1).text,null,he):0:"add"==x?It=Be+h.options.indentUnit:"subtract"==x?It=Be-h.options.indentUnit:"number"==typeof x&&(It=Be+x),It=Math.max(0,It);var jt="",fi=0;if(h.options.indentWithTabs)for(var ci=Math.floor(It/he);ci;--ci)fi+=he,jt+="\t";if(fi<It&&(jt+=ut(It-fi)),jt!=$e)return $l(L,jt,Bi(b,0),Bi(b,$e.length),"+input"),Me.stateAfter=null,!0;for(var ki=0;ki<L.sel.ranges.length;ki++){var zi=L.sel.ranges[ki];if(zi.head.line==b&&zi.head.ch<$e.length){var cn=Bi(b,$e.length);Ol(L,ki,new Br(cn,cn));break}}}Fo.defineInitHook=function(h){return fu.push(h)};var El=null;function Nc(h){El=h}function gu(h,b,x,M,L){var Y=h.doc;h.display.shift=!1,M||(M=Y.sel);var he=+new Date-200,Me="paste"==L||h.state.pasteIncoming>he,Be=qn(b),$e=null;if(Me&&M.ranges.length>1)if(El&&El.text.join("\n")==b){if(M.ranges.length%El.text.length==0){$e=[];for(var It=0;It<El.text.length;It++)$e.push(Y.splitLines(El.text[It]))}}else Be.length==M.ranges.length&&h.options.pasteLinesPerSelection&&($e=yt(Be,function(_n){return[_n]}));for(var jt=h.curOp.updateInput,fi=M.ranges.length-1;fi>=0;fi--){var ci=M.ranges[fi],ki=ci.from(),zi=ci.to();ci.empty()&&(x&&x>0?ki=Bi(ki.line,ki.ch-x):h.state.overwrite&&!Me?zi=Bi(zi.line,Math.min(xi(Y,zi.line).text.length,zi.ch+Re(Be).length)):Me&&El&&El.lineWise&&El.text.join("\n")==Be.join("\n")&&(ki=zi=Bi(ki.line,0)));var cn={from:ki,to:zi,text:$e?$e[fi%$e.length]:Be,origin:L||(Me?"paste":h.state.cutIncoming>he?"cut":"+input")};pc(h.doc,cn),hr(h,"inputRead",h,cn)}b&&!Me&&dd(h,b),ne(h),h.curOp.updateInput<2&&(h.curOp.updateInput=jt),h.curOp.typing=!0,h.state.pasteIncoming=h.state.cutIncoming=-1}function Fu(h,b){var x=h.clipboardData&&h.clipboardData.getData("Text");if(x)return h.preventDefault(),!b.isReadOnly()&&!b.options.disableInput&&gs(b,function(){return gu(b,x,0,null,"paste")}),!0}function dd(h,b){if(h.options.electricChars&&h.options.smartIndent)for(var x=h.doc.sel,M=x.ranges.length-1;M>=0;M--){var L=x.ranges[M];if(!(L.head.ch>100||M&&x.ranges[M-1].head.line==L.head.line)){var Y=h.getModeAt(L.head),he=!1;if(Y.electricChars){for(var Me=0;Me<Y.electricChars.length;Me++)if(b.indexOf(Y.electricChars.charAt(Me))>-1){he=Pc(h,L.head.line,"smart");break}}else Y.electricInput&&Y.electricInput.test(xi(h.doc,L.head.line).text.slice(0,L.head.ch))&&(he=Pc(h,L.head.line,"smart"));he&&hr(h,"electricInput",h,L.head.line)}}}function qc(h){for(var b=[],x=[],M=0;M<h.doc.sel.ranges.length;M++){var L=h.doc.sel.ranges[M].head.line,Y={anchor:Bi(L,0),head:Bi(L+1,0)};x.push(Y),b.push(h.getRange(Y.anchor,Y.head))}return{text:b,ranges:x}}function vc(h,b,x,M){h.setAttribute("autocorrect",x?"":"off"),h.setAttribute("autocapitalize",M?"":"off"),h.setAttribute("spellcheck",!!b)}function mu(){var h=Ae("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),b=Ae("div",[h],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?h.style.width="1000px":h.setAttribute("wrap","off"),q&&(h.style.border="1px solid black"),vc(h),b}function Fc(h,b,x,M,L){var Y=b,he=x,Me=xi(h,b.line),Be=L&&"rtl"==h.direction?-x:x;function It(xn){var pn;if("codepoint"==M){var In=Me.text.charCodeAt(b.ch+(x>0?0:-1));pn=isNaN(In)?null:new Bi(b.line,Math.max(0,Math.min(Me.text.length,b.ch+x*((x>0?In>=55296&&In<56320:In>=56320&&In<57343)?2:1))),-x)}else pn=L?function Yd(h,b,x,M){var L=pi(b,h.doc.direction);if(!L)return hl(b,x,M);x.ch>=b.text.length?(x.ch=b.text.length,x.sticky="before"):x.ch<=0&&(x.ch=0,x.sticky="after");var Y=Ei(L,x.ch,x.sticky),he=L[Y];if("ltr"==h.doc.direction&&he.level%2==0&&(M>0?he.to>x.ch:he.from<x.ch))return hl(b,x,M);var Be,Me=function(_n,xn){return qs(b,_n instanceof Bi?_n.ch:_n,xn)},$e=function(_n){return h.options.lineWrapping?(Be=Be||Yn(h,b),vr(h,b,Be,_n)):{begin:0,end:b.text.length}},It=$e("before"==x.sticky?Me(x,-1):x.ch);if("rtl"==h.doc.direction||1==he.level){var jt=1==he.level==M<0,fi=Me(x,jt?1:-1);if(null!=fi&&(jt?fi<=he.to&&fi<=It.end:fi>=he.from&&fi>=It.begin))return new Bi(x.line,fi,jt?"before":"after")}var ki=function(_n,xn,pn){for(;_n>=0&&_n<L.length;_n+=xn){var ir=L[_n],Zn=xn>0==(1!=ir.level),Tr=Zn?pn.begin:Me(pn.end,-1);if(ir.from<=Tr&&Tr<ir.to||(Tr=Zn?ir.from:Me(ir.to,-1),pn.begin<=Tr&&Tr<pn.end))return go=Tr,Zn?new Bi(x.line,Me(go,1),"before"):new Bi(x.line,go,"after")}var go},zi=ki(Y+M,M,It);if(zi)return zi;var cn=M>0?It.end:Me(It.begin,-1);return null==cn||M>0&&cn==b.text.length||!(zi=ki(M>0?0:L.length-1,M,$e(cn)))?null:zi}(h.cm,Me,b,x):hl(Me,b,x);if(null==pn){if(xn||!function $e(){var xn=b.line+Be;return!(xn<h.first||xn>=h.first+h.size)&&(b=new Bi(xn,b.ch,b.sticky),Me=xi(h,xn))}())return!1;b=cu(L,h.cm,Me,b.line,Be)}else b=pn;return!0}if("char"==M||"codepoint"==M)It();else if("column"==M)It(!0);else if("word"==M||"group"==M)for(var jt=null,fi="group"==M,ci=h.cm&&h.cm.getHelper(b,"wordChars"),ki=!0;!(x<0)||It(!ki);ki=!1){var zi=Me.text.charAt(b.ch)||"\n",cn=At(zi,ci)?"w":fi&&"\n"==zi?"n":!fi||/\s/.test(zi)?null:"p";if(fi&&!ki&&!cn&&(cn="s"),jt&&jt!=cn){x<0&&(x=1,It(),b.sticky="after");break}if(cn&&(jt=cn),x>0&&!It(!ki))break}var _n=zc(h,b,Y,he,!0);return Ln(Y,_n)&&(_n.hitSide=!0),_n}function eu(h,b,x,M){var he,$e,L=h.doc,Y=b.left;if("page"==M){var Me=Math.min(h.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),Be=Math.max(Me-.5*ss(h.display),3);he=(x>0?b.bottom:b.top)+x*Be}else"line"==M&&(he=x>0?b.bottom+3:b.top-3);for(;($e=Nn(h,Y,he)).outside;){if(x<0?he<=0:he>=L.height){$e.hitSide=!0;break}he+=5*x}return $e}var ao=function(h){this.cm=h,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new kt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Od(h,b){var x=Gn(h,b.line);if(!x||x.hidden)return null;var M=xi(h.doc,b.line),L=bn(x,M,b.line),Y=pi(M,h.doc.direction),he="left";Y&&(he=Ei(Y,b.ch)%2?"right":"left");var Be=_o(L.map,b.ch,he);return Be.offset="right"==Be.collapse?Be.end:Be.start,Be}function Va(h,b){return b&&(h.bad=!0),h}function Bu(h,b,x){var M;if(b==h.display.lineDiv){if(!(M=h.display.lineDiv.childNodes[x]))return Va(h.clipPos(Bi(h.display.viewTo-1)),!0);b=null,x=0}else for(M=b;;M=M.parentNode){if(!M||M==h.display.lineDiv)return null;if(M.parentNode&&M.parentNode==h.display.lineDiv)break}for(var L=0;L<h.display.view.length;L++){var Y=h.display.view[L];if(Y.node==M)return hd(Y,b,x)}}function hd(h,b,x){var M=h.text.firstChild,L=!1;if(!b||!re(M,b))return Va(Bi(fr(h.line),0),!0);if(b==M&&(L=!0,b=M.childNodes[x],x=0,!b)){var Y=h.rest?Re(h.rest):h.line;return Va(Bi(fr(Y),Y.text.length),L)}var he=3==b.nodeType?b:null,Me=b;for(!he&&1==b.childNodes.length&&3==b.firstChild.nodeType&&(he=b.firstChild,x&&(x=he.nodeValue.length));Me.parentNode!=M;)Me=Me.parentNode;var Be=h.measure,$e=Be.maps;function It(cn,_n,xn){for(var pn=-1;pn<($e?$e.length:0);pn++)for(var In=pn<0?Be.map:$e[pn],ir=0;ir<In.length;ir+=3){var Zn=In[ir+2];if(Zn==cn||Zn==_n){var Tr=fr(pn<0?h.line:h.rest[pn]),go=In[ir]+xn;return(xn<0||Zn!=cn)&&(go=In[ir+(xn?1:0)]),Bi(Tr,go)}}}var jt=It(he,Me,x);if(jt)return Va(jt,L);for(var fi=Me.nextSibling,ci=he?he.nodeValue.length-x:0;fi;fi=fi.nextSibling){if(jt=It(fi,fi.firstChild,0))return Va(Bi(jt.line,jt.ch-ci),L);ci+=fi.textContent.length}for(var ki=Me.previousSibling,zi=x;ki;ki=ki.previousSibling){if(jt=It(ki,ki.firstChild,-1))return Va(Bi(jt.line,jt.ch+zi),L);zi+=ki.textContent.length}}ao.prototype.init=function(h){var b=this,x=this,M=x.cm,L=x.div=h.lineDiv;function Y(Me){for(var Be=Me.target;Be;Be=Be.parentNode){if(Be==L)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(Be.className))break}return!1}function he(Me){if(Y(Me)&&!_i(M,Me)){if(M.somethingSelected())Nc({lineWise:!1,text:M.getSelections()}),"cut"==Me.type&&M.replaceSelection("",null,"cut");else{if(!M.options.lineWiseCopyCut)return;var Be=qc(M);Nc({lineWise:!0,text:Be.text}),"cut"==Me.type&&M.operation(function(){M.setSelections(Be.ranges,0,Rt),M.replaceSelection("",null,"cut")})}if(Me.clipboardData){Me.clipboardData.clearData();var $e=El.text.join("\n");if(Me.clipboardData.setData("Text",$e),Me.clipboardData.getData("Text")==$e)return void Me.preventDefault()}var It=mu(),jt=It.firstChild;M.display.lineSpace.insertBefore(It,M.display.lineSpace.firstChild),jt.value=El.text.join("\n");var fi=ot();st(jt),setTimeout(function(){M.display.lineSpace.removeChild(It),fi.focus(),fi==L&&x.showPrimarySelection()},50)}}L.contentEditable=!0,vc(L,M.options.spellcheck,M.options.autocorrect,M.options.autocapitalize),Di(L,"paste",function(Me){!Y(Me)||_i(M,Me)||Fu(Me,M)||a<=11&&setTimeout(To(M,function(){return b.updateFromDOM()}),20)}),Di(L,"compositionstart",function(Me){b.composing={data:Me.data,done:!1}}),Di(L,"compositionupdate",function(Me){b.composing||(b.composing={data:Me.data,done:!1})}),Di(L,"compositionend",function(Me){b.composing&&(Me.data!=b.composing.data&&b.readFromDOMSoon(),b.composing.done=!0)}),Di(L,"touchstart",function(){return x.forceCompositionEnd()}),Di(L,"input",function(){b.composing||b.readFromDOMSoon()}),Di(L,"copy",he),Di(L,"cut",he)},ao.prototype.screenReaderLabelChanged=function(h){h?this.div.setAttribute("aria-label",h):this.div.removeAttribute("aria-label")},ao.prototype.prepareSelection=function(){var h=Xa(this.cm,!1);return h.focus=ot()==this.div,h},ao.prototype.showSelection=function(h,b){!h||!this.cm.display.view.length||((h.focus||b)&&this.showPrimarySelection(),this.showMultipleSelections(h))},ao.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ao.prototype.showPrimarySelection=function(){var h=this.getSelection(),b=this.cm,x=b.doc.sel.primary(),M=x.from(),L=x.to();if(b.display.viewTo==b.display.viewFrom||M.line>=b.display.viewTo||L.line<b.display.viewFrom)h.removeAllRanges();else{var Y=Bu(b,h.anchorNode,h.anchorOffset),he=Bu(b,h.focusNode,h.focusOffset);if(!Y||Y.bad||!he||he.bad||0!=Bn(Ai(Y,he),M)||0!=Bn(Ft(Y,he),L)){var Me=b.display.view,Be=M.line>=b.display.viewFrom&&Od(b,M)||{node:Me[0].measure.map[2],offset:0},$e=L.line<b.display.viewTo&&Od(b,L);if(!$e){var It=Me[Me.length-1].measure,jt=It.maps?It.maps[It.maps.length-1]:It.map;$e={node:jt[jt.length-1],offset:jt[jt.length-2]-jt[jt.length-3]}}if(!Be||!$e)return void h.removeAllRanges();var ci,fi=h.rangeCount&&h.getRangeAt(0);try{ci=de(Be.node,Be.offset,$e.offset,$e.node)}catch(ki){}ci&&(!E&&b.state.focused?(h.collapse(Be.node,Be.offset),ci.collapsed||(h.removeAllRanges(),h.addRange(ci))):(h.removeAllRanges(),h.addRange(ci)),fi&&null==h.anchorNode?h.addRange(fi):E&&this.startGracePeriod()),this.rememberSelection()}}},ao.prototype.startGracePeriod=function(){var h=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){h.gracePeriod=!1,h.selectionChanged()&&h.cm.operation(function(){return h.cm.curOp.selectionChanged=!0})},20)},ao.prototype.showMultipleSelections=function(h){Ne(this.cm.display.cursorDiv,h.cursors),Ne(this.cm.display.selectionDiv,h.selection)},ao.prototype.rememberSelection=function(){var h=this.getSelection();this.lastAnchorNode=h.anchorNode,this.lastAnchorOffset=h.anchorOffset,this.lastFocusNode=h.focusNode,this.lastFocusOffset=h.focusOffset},ao.prototype.selectionInEditor=function(){var h=this.getSelection();if(!h.rangeCount)return!1;var b=h.getRangeAt(0).commonAncestorContainer;return re(this.div,b)},ao.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&((!this.selectionInEditor()||ot()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ao.prototype.blur=function(){this.div.blur()},ao.prototype.getField=function(){return this.div},ao.prototype.supportsTouch=function(){return!0},ao.prototype.receivedFocus=function(){var h=this,b=this;this.selectionInEditor()?setTimeout(function(){return h.pollSelection()},20):gs(this.cm,function(){return b.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function x(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,x))})},ao.prototype.selectionChanged=function(){var h=this.getSelection();return h.anchorNode!=this.lastAnchorNode||h.anchorOffset!=this.lastAnchorOffset||h.focusNode!=this.lastFocusNode||h.focusOffset!=this.lastFocusOffset},ao.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var h=this.getSelection(),b=this.cm;if(ue&&D&&this.cm.display.gutterSpecs.length&&function vu(h){for(var b=h;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}(h.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var x=Bu(b,h.anchorNode,h.anchorOffset),M=Bu(b,h.focusNode,h.focusOffset);x&&M&&gs(b,function(){ca(b.doc,vl(x,M),Rt),(x.bad||M.bad)&&(b.curOp.selectionChanged=!0)})}}},ao.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var Y,he,Me,h=this.cm,b=h.display,x=h.doc.sel.primary(),M=x.from(),L=x.to();if(0==M.ch&&M.line>h.firstLine()&&(M=Bi(M.line-1,xi(h.doc,M.line-1).length)),L.ch==xi(h.doc,L.line).text.length&&L.line<h.lastLine()&&(L=Bi(L.line+1,0)),M.line<b.viewFrom||L.line>b.viewTo-1)return!1;M.line==b.viewFrom||0==(Y=Fs(h,M.line))?(he=fr(b.view[0].line),Me=b.view[0].node):(he=fr(b.view[Y].line),Me=b.view[Y-1].node.nextSibling);var $e,It,Be=Fs(h,L.line);if(Be==b.view.length-1?($e=b.viewTo-1,It=b.lineDiv.lastChild):($e=fr(b.view[Be+1].line)-1,It=b.view[Be+1].node.previousSibling),!Me)return!1;for(var jt=h.doc.splitLines(function Vl(h,b,x,M,L){var Y="",he=!1,Me=h.doc.lineSeparator(),Be=!1;function It(){he&&(Y+=Me,Be&&(Y+=Me),he=Be=!1)}function jt(ci){ci&&(It(),Y+=ci)}function fi(ci){if(1==ci.nodeType){var ki=ci.getAttribute("cm-text");if(ki)return void jt(ki);var cn,zi=ci.getAttribute("cm-marker");if(zi){var _n=h.findMarks(Bi(M,0),Bi(L+1,0),function $e(ci){return function(ki){return ki.id==ci}}(+zi));return void(_n.length&&(cn=_n[0].find(0))&&jt(jn(h.doc,cn.from,cn.to).join(Me)))}if("false"==ci.getAttribute("contenteditable"))return;var xn=/^(pre|div|p|li|table|br)$/i.test(ci.nodeName);if(!/^br$/i.test(ci.nodeName)&&0==ci.textContent.length)return;xn&&It();for(var pn=0;pn<ci.childNodes.length;pn++)fi(ci.childNodes[pn]);/^(pre|p)$/i.test(ci.nodeName)&&(Be=!0),xn&&(he=!0)}else 3==ci.nodeType&&jt(ci.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;fi(b),b!=x;)b=b.nextSibling,Be=!1;return Y}(h,Me,It,he,$e)),fi=jn(h.doc,Bi(he,0),Bi($e,xi(h.doc,$e).text.length));jt.length>1&&fi.length>1;)if(Re(jt)==Re(fi))jt.pop(),fi.pop(),$e--;else{if(jt[0]!=fi[0])break;jt.shift(),fi.shift(),he++}for(var ci=0,ki=0,zi=jt[0],cn=fi[0],_n=Math.min(zi.length,cn.length);ci<_n&&zi.charCodeAt(ci)==cn.charCodeAt(ci);)++ci;for(var xn=Re(jt),pn=Re(fi),In=Math.min(xn.length-(1==jt.length?ci:0),pn.length-(1==fi.length?ci:0));ki<In&&xn.charCodeAt(xn.length-ki-1)==pn.charCodeAt(pn.length-ki-1);)++ki;if(1==jt.length&&1==fi.length&&he==M.line)for(;ci&&ci>M.ch&&xn.charCodeAt(xn.length-ki-1)==pn.charCodeAt(pn.length-ki-1);)ci--,ki++;jt[jt.length-1]=xn.slice(0,xn.length-ki).replace(/^\u200b+/,""),jt[0]=jt[0].slice(ci).replace(/\u200b+$/,"");var ir=Bi(he,ci),Zn=Bi($e,fi.length?Re(fi).length-ki:0);return jt.length>1||jt[0]||Bn(ir,Zn)?($l(h.doc,jt,ir,Zn,"+input"),!0):void 0},ao.prototype.ensurePolled=function(){this.forceCompositionEnd()},ao.prototype.reset=function(){this.forceCompositionEnd()},ao.prototype.forceCompositionEnd=function(){!this.composing||(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ao.prototype.readFromDOMSoon=function(){var h=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(h.readDOMTimeout=null,h.composing){if(!h.composing.done)return;h.composing=null}h.updateFromDOM()},80))},ao.prototype.updateFromDOM=function(){var h=this;(this.cm.isReadOnly()||!this.pollContent())&&gs(this.cm,function(){return ts(h.cm)})},ao.prototype.setUneditable=function(h){h.contentEditable="false"},ao.prototype.onKeyPress=function(h){0==h.charCode||this.composing||(h.preventDefault(),this.cm.isReadOnly()||To(this.cm,gu)(this.cm,String.fromCharCode(null==h.charCode?h.keyCode:h.charCode),0))},ao.prototype.readOnlyChanged=function(h){this.div.contentEditable=String("nocursor"!=h)},ao.prototype.onContextMenu=function(){},ao.prototype.resetPosition=function(){},ao.prototype.needsContentAttribute=!0;var _s=function(h){this.cm=h,this.prevInput="",this.pollingFast=!1,this.polling=new kt,this.hasSelection=!1,this.composing=null};_s.prototype.init=function(h){var b=this,x=this,M=this.cm;this.createField(h);var L=this.textarea;function Y(he){if(!_i(M,he)){if(M.somethingSelected())Nc({lineWise:!1,text:M.getSelections()});else{if(!M.options.lineWiseCopyCut)return;var Me=qc(M);Nc({lineWise:!0,text:Me.text}),"cut"==he.type?M.setSelections(Me.ranges,null,Rt):(x.prevInput="",L.value=Me.text.join("\n"),st(L))}"cut"==he.type&&(M.state.cutIncoming=+new Date)}}h.wrapper.insertBefore(this.wrapper,h.wrapper.firstChild),q&&(L.style.width="0px"),Di(L,"input",function(){n&&a>=9&&b.hasSelection&&(b.hasSelection=null),x.poll()}),Di(L,"paste",function(he){_i(M,he)||Fu(he,M)||(M.state.pasteIncoming=+new Date,x.fastPoll())}),Di(L,"cut",Y),Di(L,"copy",Y),Di(h.scroller,"paste",function(he){if(!ye(h,he)&&!_i(M,he)){if(!L.dispatchEvent)return M.state.pasteIncoming=+new Date,void x.focus();var Me=new Event("paste");Me.clipboardData=he.clipboardData,L.dispatchEvent(Me)}}),Di(h.lineSpace,"selectstart",function(he){ye(h,he)||gn(he)}),Di(L,"compositionstart",function(){var he=M.getCursor("from");x.composing&&x.composing.range.clear(),x.composing={start:he,range:M.markText(he,M.getCursor("to"),{className:"CodeMirror-composing"})}}),Di(L,"compositionend",function(){x.composing&&(x.poll(),x.composing.range.clear(),x.composing=null)})},_s.prototype.createField=function(h){this.wrapper=mu(),this.textarea=this.wrapper.firstChild},_s.prototype.screenReaderLabelChanged=function(h){h?this.textarea.setAttribute("aria-label",h):this.textarea.removeAttribute("aria-label")},_s.prototype.prepareSelection=function(){var h=this.cm,b=h.display,x=h.doc,M=Xa(h);if(h.options.moveInputWithCursor){var L=os(h,x.sel.primary().head,"div"),Y=b.wrapper.getBoundingClientRect(),he=b.lineDiv.getBoundingClientRect();M.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,L.top+he.top-Y.top)),M.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,L.left+he.left-Y.left))}return M},_s.prototype.showSelection=function(h){var x=this.cm.display;Ne(x.cursorDiv,h.cursors),Ne(x.selectionDiv,h.selection),null!=h.teTop&&(this.wrapper.style.top=h.teTop+"px",this.wrapper.style.left=h.teLeft+"px")},_s.prototype.reset=function(h){if(!this.contextMenuPending&&!this.composing){var b=this.cm;if(b.somethingSelected()){this.prevInput="";var x=b.getSelection();this.textarea.value=x,b.state.focused&&st(this.textarea),n&&a>=9&&(this.hasSelection=x)}else h||(this.prevInput=this.textarea.value="",n&&a>=9&&(this.hasSelection=null))}},_s.prototype.getField=function(){return this.textarea},_s.prototype.supportsTouch=function(){return!1},_s.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Te||ot()!=this.textarea))try{this.textarea.focus()}catch(h){}},_s.prototype.blur=function(){this.textarea.blur()},_s.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},_s.prototype.receivedFocus=function(){this.slowPoll()},_s.prototype.slowPoll=function(){var h=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){h.poll(),h.cm.state.focused&&h.slowPoll()})},_s.prototype.fastPoll=function(){var h=!1,b=this;b.pollingFast=!0,b.polling.set(20,function x(){b.poll()||h?(b.pollingFast=!1,b.slowPoll()):(h=!0,b.polling.set(60,x))})},_s.prototype.poll=function(){var h=this,b=this.cm,x=this.textarea,M=this.prevInput;if(this.contextMenuPending||!b.state.focused||si(x)&&!M&&!this.composing||b.isReadOnly()||b.options.disableInput||b.state.keySeq)return!1;var L=x.value;if(L==M&&!b.somethingSelected())return!1;if(n&&a>=9&&this.hasSelection===L||le&&/[\uf700-\uf7ff]/.test(L))return b.display.input.reset(),!1;if(b.doc.sel==b.display.selForContextMenu){var Y=L.charCodeAt(0);if(8203==Y&&!M&&(M="\u200b"),8666==Y)return this.reset(),this.cm.execCommand("undo")}for(var he=0,Me=Math.min(M.length,L.length);he<Me&&M.charCodeAt(he)==L.charCodeAt(he);)++he;return gs(b,function(){gu(b,L.slice(he),M.length-he,null,h.composing?"*compose":null),L.length>1e3||L.indexOf("\n")>-1?x.value=h.prevInput="":h.prevInput=L,h.composing&&(h.composing.range.clear(),h.composing.range=b.markText(h.composing.start,b.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},_s.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},_s.prototype.onKeyPress=function(){n&&a>=9&&(this.hasSelection=null),this.fastPoll()},_s.prototype.onContextMenu=function(h){var b=this,x=b.cm,M=x.display,L=b.textarea;b.contextMenuPending&&b.contextMenuPending();var Y=sl(x,h),he=M.scroller.scrollTop;if(Y&&!F){x.options.resetSelectionOnContextMenu&&-1==x.doc.sel.contains(Y)&&To(x,ca)(x.doc,vl(Y),Rt);var jt,Be=L.style.cssText,$e=b.wrapper.style.cssText,It=b.wrapper.offsetParent.getBoundingClientRect();if(b.wrapper.style.cssText="position: static",L.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(h.clientY-It.top-5)+"px; left: "+(h.clientX-It.left-5)+"px;\n      z-index: 1000; background: "+(n?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(jt=window.scrollY),M.input.focus(),u&&window.scrollTo(null,jt),M.input.reset(),x.somethingSelected()||(L.value=b.prevInput=" "),b.contextMenuPending=ci,M.selForContextMenu=x.doc.sel,clearTimeout(M.detectingSelectAll),n&&a>=9&&fi(),ve){He(h);var ki=function(){_t(window,"mouseup",ki),setTimeout(ci,20)};Di(window,"mouseup",ki)}else setTimeout(ci,50)}function fi(){if(null!=L.selectionStart){var zi=x.somethingSelected(),cn="\u200b"+(zi?L.value:"");L.value="\u21da",L.value=cn,b.prevInput=zi?"":"\u200b",L.selectionStart=1,L.selectionEnd=cn.length,M.selForContextMenu=x.doc.sel}}function ci(){if(b.contextMenuPending==ci&&(b.contextMenuPending=!1,b.wrapper.style.cssText=$e,L.style.cssText=Be,n&&a<9&&M.scrollbars.setScrollTop(M.scroller.scrollTop=he),null!=L.selectionStart)){(!n||n&&a<9)&&fi();var zi=0,cn=function(){M.selForContextMenu==x.doc.sel&&0==L.selectionStart&&L.selectionEnd>0&&"\u200b"==b.prevInput?To(x,Yc)(x):zi++<10?M.detectingSelectAll=setTimeout(cn,500):(M.selForContextMenu=null,M.input.reset())};M.detectingSelectAll=setTimeout(cn,200)}}},_s.prototype.readOnlyChanged=function(h){h||this.reset(),this.textarea.disabled="nocursor"==h,this.textarea.readOnly=!!h},_s.prototype.setUneditable=function(){},_s.prototype.needsContentAttribute=!1,function Id(h){var b=h.optionHandlers;function x(M,L,Y,he){h.defaults[M]=L,Y&&(b[M]=he?function(Me,Be,$e){$e!=Hl&&Y(Me,Be,$e)}:Y)}h.defineOption=x,h.Init=Hl,x("value","",function(M,L){return M.setValue(L)},!0),x("mode",null,function(M,L){M.doc.modeOption=L,xl(M)},!0),x("indentUnit",2,xl,!0),x("indentWithTabs",!1),x("smartIndent",!0),x("tabSize",4,function(M){ic(M),Ps(M),ts(M)},!0),x("lineSeparator",null,function(M,L){if(M.doc.lineSep=L,L){var Y=[],he=M.doc.first;M.doc.iter(function(Be){for(var $e=0;;){var It=Be.text.indexOf(L,$e);if(-1==It)break;$e=It+L.length,Y.push(Bi(he,It))}he++});for(var Me=Y.length-1;Me>=0;Me--)$l(M.doc,L,Y[Me],Bi(Y[Me].line,Y[Me].ch+L.length))}}),x("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(M,L,Y){M.state.specialChars=new RegExp(L.source+(L.test("\t")?"":"|\t"),"g"),Y!=Hl&&M.refresh()}),x("specialCharPlaceholder",ke,function(M){return M.refresh()},!0),x("electricChars",!0),x("inputStyle",Te?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),x("spellcheck",!1,function(M,L){return M.getInputField().spellcheck=L},!0),x("autocorrect",!1,function(M,L){return M.getInputField().autocorrect=L},!0),x("autocapitalize",!1,function(M,L){return M.getInputField().autocapitalize=L},!0),x("rtlMoveVisually",!Pe),x("wholeLineUpdateBefore",!0),x("theme","default",function(M){da(M),_l(M)},!0),x("keyMap","default",function(M,L,Y){var he=ua(L),Me=Y!=Hl&&ua(Y);Me&&Me.detach&&Me.detach(M,he),he.attach&&he.attach(M,Me||null)}),x("extraKeys",null),x("configureMouse",null),x("lineWrapping",!1,ud,!0),x("gutters",[],function(M,L){M.display.gutterSpecs=tc(L,M.options.lineNumbers),_l(M)},!0),x("fixedGutter",!0,function(M,L){M.display.gutters.style.left=L?Yo(M.display)+"px":"0",M.refresh()},!0),x("coverGutterNextToScrollbar",!1,function(M){return $r(M)},!0),x("scrollbarStyle","native",function(M){Bs(M),$r(M),M.display.scrollbars.setScrollTop(M.doc.scrollTop),M.display.scrollbars.setScrollLeft(M.doc.scrollLeft)},!0),x("lineNumbers",!1,function(M,L){M.display.gutterSpecs=tc(M.options.gutters,L),_l(M)},!0),x("firstLineNumber",1,_l,!0),x("lineNumberFormatter",function(M){return M},_l,!0),x("showCursorWhenSelecting",!1,Gl,!0),x("resetSelectionOnContextMenu",!0),x("lineWiseCopyCut",!0),x("pasteLinesPerSelection",!0),x("selectionsMayTouch",!1),x("readOnly",!1,function(M,L){"nocursor"==L&&(Ka(M),M.display.input.blur()),M.display.input.readOnlyChanged(L)}),x("screenReaderLabel",null,function(M,L){M.display.input.screenReaderLabelChanged(L=""===L?null:L)}),x("disableInput",!1,function(M,L){L||M.display.input.reset()},!0),x("dragDrop",!0,Lc),x("allowDropFileTypes",null),x("cursorBlinkRate",530),x("cursorScrollMargin",0),x("cursorHeight",1,Gl,!0),x("singleCursorHeightPerLine",!0,Gl,!0),x("workTime",100),x("workDelay",100),x("flattenSpans",!0,ic,!0),x("addModeClass",!1,ic,!0),x("pollInterval",100),x("undoDepth",200,function(M,L){return M.doc.history.undoDepth=L}),x("historyEventDelay",1250),x("viewportMargin",10,function(M){return M.refresh()},!0),x("maxHighlightLength",1e4,ic,!0),x("moveInputWithCursor",!0,function(M,L){L||M.display.input.resetPosition()}),x("tabindex",null,function(M,L){return M.display.input.getField().tabIndex=L||""}),x("autofocus",null),x("direction","ltr",function(M,L){return M.doc.setDirection(L)},!0),x("phrases",null)}(Fo),function _u(h){var b=h.optionHandlers,x=h.helpers={};h.prototype={constructor:h,focus:function(){window.focus(),this.display.input.focus()},setOption:function(M,L){var Y=this.options,he=Y[M];Y[M]==L&&"mode"!=M||(Y[M]=L,b.hasOwnProperty(M)&&To(this,b[M])(this,L,he),Mt(this,"optionChange",this,M))},getOption:function(M){return this.options[M]},getDoc:function(){return this.doc},addKeyMap:function(M,L){this.state.keyMaps[L?"push":"unshift"](ua(M))},removeKeyMap:function(M){for(var L=this.state.keyMaps,Y=0;Y<L.length;++Y)if(L[Y]==M||L[Y].name==M)return L.splice(Y,1),!0},addOverlay:xo(function(M,L){var Y=M.token?M:h.getMode(this.options,M);if(Y.startState)throw new Error("Overlays may not be stateful.");(function zt(h,b,x){for(var M=0,L=x(b);M<h.length&&x(h[M])<=L;)M++;h.splice(M,0,b)})(this.state.overlays,{mode:Y,modeSpec:M,opaque:L&&L.opaque,priority:L&&L.priority||0},function(he){return he.priority}),this.state.modeGen++,ts(this)}),removeOverlay:xo(function(M){for(var L=this.state.overlays,Y=0;Y<L.length;++Y){var he=L[Y].modeSpec;if(he==M||"string"==typeof M&&he.name==M)return L.splice(Y,1),this.state.modeGen++,void ts(this)}}),indentLine:xo(function(M,L,Y){"string"!=typeof L&&"number"!=typeof L&&(L=null==L?this.options.smartIndent?"smart":"prev":L?"add":"subtract"),Zr(this.doc,M)&&Pc(this,M,L,Y)}),indentSelection:xo(function(M){for(var L=this.doc.sel.ranges,Y=-1,he=0;he<L.length;he++){var Me=L[he];if(Me.empty())Me.head.line>Y&&(Pc(this,Me.head.line,M,!0),Y=Me.head.line,he==this.doc.sel.primIndex&&ne(this));else{var Be=Me.from(),$e=Me.to(),It=Math.max(Y,Be.line);Y=Math.min(this.lastLine(),$e.line-($e.ch?0:1))+1;for(var jt=It;jt<Y;++jt)Pc(this,jt,M);var fi=this.doc.sel.ranges;0==Be.ch&&L.length==fi.length&&fi[he].from().ch>0&&Ol(this.doc,he,new Br(Be,fi[he].to()),Rt)}}}),getTokenAt:function(M,L){return no(this,M,L)},getLineTokens:function(M,L){return no(this,Bi(M),L,!0)},getTokenTypeAt:function(M){M=Ji(this.doc,M);var Be,L=uo(this,xi(this.doc,M.line)),Y=0,he=(L.length-1)/2,Me=M.ch;if(0==Me)Be=L[2];else for(;;){var $e=Y+he>>1;if(($e?L[2*$e-1]:0)>=Me)he=$e;else{if(!(L[2*$e+1]<Me)){Be=L[2*$e+2];break}Y=$e+1}}var It=Be?Be.indexOf("overlay "):-1;return It<0?Be:0==It?null:Be.slice(0,It-1)},getModeAt:function(M){var L=this.doc.mode;return L.innerMode?h.innerMode(L,this.getTokenAt(M).state).mode:L},getHelper:function(M,L){return this.getHelpers(M,L)[0]},getHelpers:function(M,L){var Y=[];if(!x.hasOwnProperty(L))return Y;var he=x[L],Me=this.getModeAt(M);if("string"==typeof Me[L])he[Me[L]]&&Y.push(he[Me[L]]);else if(Me[L])for(var Be=0;Be<Me[L].length;Be++){var $e=he[Me[L][Be]];$e&&Y.push($e)}else Me.helperType&&he[Me.helperType]?Y.push(he[Me.helperType]):he[Me.name]&&Y.push(he[Me.name]);for(var It=0;It<he._global.length;It++){var jt=he._global[It];jt.pred(Me,this)&&-1==oi(Y,jt.val)&&Y.push(jt.val)}return Y},getStateAfter:function(M,L){var Y=this.doc;return io(this,(M=Yi(Y,null==M?Y.first+Y.size-1:M))+1,L).state},cursorCoords:function(M,L){var he=this.doc.sel.primary();return os(this,null==M?he.head:"object"==typeof M?Ji(this.doc,M):M?he.from():he.to(),L||"page")},charCoords:function(M,L){return ol(this,Ji(this.doc,M),L||"page")},coordsChar:function(M,L){return Nn(this,(M=Cs(this,M,L||"page")).left,M.top)},lineAtHeight:function(M,L){return M=Cs(this,{top:M,left:0},L||"page").top,Mr(this.doc,M+this.display.viewOffset)},heightAtLine:function(M,L,Y){var Me,he=!1;if("number"==typeof M){var Be=this.doc.first+this.doc.size-1;M<this.doc.first?M=this.doc.first:M>Be&&(M=Be,he=!0),Me=xi(this.doc,M)}else Me=M;return lo(this,Me,{top:0,left:0},L||"page",Y||he).top+(he?this.doc.height-ho(Me):0)},defaultTextHeight:function(){return ss(this.display)},defaultCharWidth:function(){return ws(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(M,L,Y,he,Me){var Be=this.display,$e=(M=os(this,Ji(this.doc,M))).bottom,It=M.left;if(L.style.position="absolute",L.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(L),Be.sizer.appendChild(L),"over"==he)$e=M.top;else if("above"==he||"near"==he){var jt=Math.max(Be.wrapper.clientHeight,this.doc.height),fi=Math.max(Be.sizer.clientWidth,Be.lineSpace.clientWidth);("above"==he||M.bottom+L.offsetHeight>jt)&&M.top>L.offsetHeight?$e=M.top-L.offsetHeight:M.bottom+L.offsetHeight<=jt&&($e=M.bottom),It+L.offsetWidth>fi&&(It=fi-L.offsetWidth)}L.style.top=$e+"px",L.style.left=L.style.right="","right"==Me?(It=Be.sizer.clientWidth-L.offsetWidth,L.style.right="0px"):("left"==Me?It=0:"middle"==Me&&(It=(Be.sizer.clientWidth-L.offsetWidth)/2),L.style.left=It+"px"),Y&&function uc(h,b){var x=Uc(h,b);null!=x.scrollTop&&Vt(h,x.scrollTop),null!=x.scrollLeft&&Li(h,x.scrollLeft)}(this,{left:It,top:$e,right:It+L.offsetWidth,bottom:$e+L.offsetHeight})},triggerOnKeyDown:xo(Oc),triggerOnKeyPress:xo(wd),triggerOnKeyUp:$u,triggerOnMouseDown:xo(Dd),execCommand:function(M){if(Iu.hasOwnProperty(M))return Iu[M].call(null,this)},triggerElectric:xo(function(M){dd(this,M)}),findPosH:function(M,L,Y,he){var Me=1;L<0&&(Me=-1,L=-L);for(var Be=Ji(this.doc,M),$e=0;$e<L&&!(Be=Fc(this.doc,Be,Me,Y,he)).hitSide;++$e);return Be},moveH:xo(function(M,L){var Y=this;this.extendSelectionsBy(function(he){return Y.display.shift||Y.doc.extend||he.empty()?Fc(Y.doc,he.head,M,L,Y.options.rtlMoveVisually):M<0?he.from():he.to()},mt)}),deleteH:xo(function(M,L){var he=this.doc;this.doc.sel.somethingSelected()?he.replaceSelection("",null,"+delete"):cs(this,function(Me){var Be=Fc(he,Me.head,M,L,!1);return M<0?{from:Be,to:Me.head}:{from:Me.head,to:Be}})}),findPosV:function(M,L,Y,he){var Me=1,Be=he;L<0&&(Me=-1,L=-L);for(var $e=Ji(this.doc,M),It=0;It<L;++It){var jt=os(this,$e,"div");if(null==Be?Be=jt.left:jt.left=Be,($e=eu(this,jt,Me,Y)).hitSide)break}return $e},moveV:xo(function(M,L){var Y=this,he=this.doc,Me=[],Be=!this.display.shift&&!he.extend&&he.sel.somethingSelected();if(he.extendSelectionsBy(function(It){if(Be)return M<0?It.from():It.to();var jt=os(Y,It.head,"div");null!=It.goalColumn&&(jt.left=It.goalColumn),Me.push(jt.left);var fi=eu(Y,jt,M,L);return"page"==L&&It==he.sel.primary()&&fe(Y,ol(Y,fi,"div").top-jt.top),fi},mt),Me.length)for(var $e=0;$e<he.sel.ranges.length;$e++)he.sel.ranges[$e].goalColumn=Me[$e]}),findWordAt:function(M){var Y=xi(this.doc,M.line).text,he=M.ch,Me=M.ch;if(Y){var Be=this.getHelper(M,"wordChars");"before"!=M.sticky&&Me!=Y.length||!he?++Me:--he;for(var $e=Y.charAt(he),It=At($e,Be)?function(jt){return At(jt,Be)}:/\s/.test($e)?function(jt){return/\s/.test(jt)}:function(jt){return!/\s/.test(jt)&&!At(jt)};he>0&&It(Y.charAt(he-1));)--he;for(;Me<Y.length&&It(Y.charAt(Me));)++Me}return new Br(Bi(M.line,he),Bi(M.line,Me))},toggleOverwrite:function(M){null!=M&&M==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ze(this.display.cursorDiv,"CodeMirror-overwrite"):me(this.display.cursorDiv,"CodeMirror-overwrite"),Mt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==ot()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:xo(function(M,L){Q(this,M,L)}),getScrollInfo:function(){var M=this.display.scroller;return{left:M.scrollLeft,top:M.scrollTop,height:M.scrollHeight-Qt(this)-this.display.barHeight,width:M.scrollWidth-Qt(this)-this.display.barWidth,clientHeight:Hi(this),clientWidth:mi(this)}},scrollIntoView:xo(function(M,L){null==M?(M={from:this.doc.sel.primary().head,to:null},null==L&&(L=this.options.cursorScrollMargin)):"number"==typeof M?M={from:Bi(M,0),to:null}:null==M.from&&(M={from:M,to:null}),M.to||(M.to=M.from),M.margin=L||0,null!=M.from.line?function Oe(h,b){Ge(h),h.curOp.scrollToPos=b}(this,M):ft(this,M.from,M.to,M.margin)}),setSize:xo(function(M,L){var Y=this,he=function(Be){return"number"==typeof Be||/^\d+$/.test(String(Be))?Be+"px":Be};null!=M&&(this.display.wrapper.style.width=he(M)),null!=L&&(this.display.wrapper.style.height=he(L)),this.options.lineWrapping&&Co(this);var Me=this.display.viewFrom;this.doc.iter(Me,this.display.viewTo,function(Be){if(Be.widgets)for(var $e=0;$e<Be.widgets.length;$e++)if(Be.widgets[$e].noHScroll){ga(Y,Me,"widget");break}++Me}),this.curOp.forceUpdate=!0,Mt(this,"refresh",this)}),operation:function(M){return gs(this,M)},startOperation:function(){return Qs(this)},endOperation:function(){return Da(this)},refresh:xo(function(){var M=this.display.cachedTextHeight;ts(this),this.curOp.forceUpdate=!0,Ps(this),Q(this,this.doc.scrollLeft,this.doc.scrollTop),dc(this.display),(null==M||Math.abs(M-ss(this.display))>.5||this.options.lineWrapping)&&ql(this),Mt(this,"refresh",this)}),swapDoc:xo(function(M){var L=this.doc;return L.cm=null,this.state.selectingText&&this.state.selectingText(),Rr(this,M),Ps(this),this.display.input.reset(),Q(this,M.scrollLeft,M.scrollTop),this.curOp.forceScroll=!0,hr(this,"swapDoc",this,L),L}),phrase:function(M){var L=this.options.phrases;return L&&Object.prototype.hasOwnProperty.call(L,M)?L[M]:M},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Pi(h),h.registerHelper=function(M,L,Y){x.hasOwnProperty(M)||(x[M]=h[M]={_global:[]}),x[M][L]=Y},h.registerGlobalHelper=function(M,L,Y,he){h.registerHelper(M,L,he),x[M]._global.push({pred:Y,val:he})}}(Fo);var gd="iter insert remove copy getEditor constructor".split(" ");for(var Hu in xs.prototype)xs.prototype.hasOwnProperty(Hu)&&oi(gd,Hu)<0&&(Fo.prototype[Hu]=function(h){return function(){return h.apply(this.doc,arguments)}}(xs.prototype[Hu]));return Pi(xs),Fo.inputStyles={textarea:_s,contenteditable:ao},Fo.defineMode=function(h){!Fo.defaults.mode&&"null"!=h&&(Fo.defaults.mode=h),kn.apply(this,arguments)},Fo.defineMIME=function rr(h,b){fn[h]=b},Fo.defineMode("null",function(){return{token:function(h){return h.skipToEnd()}}}),Fo.defineMIME("text/plain","null"),Fo.defineExtension=function(h,b){Fo.prototype[h]=b},Fo.defineDocExtension=function(h,b){xs.prototype[h]=b},Fo.fromTextArea=function pd(h,b){if((b=b?dt(b):{}).value=h.value,!b.tabindex&&h.tabIndex&&(b.tabindex=h.tabIndex),!b.placeholder&&h.placeholder&&(b.placeholder=h.placeholder),null==b.autofocus){var x=ot();b.autofocus=x==h||null!=h.getAttribute("autofocus")&&x==document.body}function M(){h.value=Me.getValue()}var L;if(h.form&&(Di(h.form,"submit",M),!b.leaveSubmitMethodAlone)){var Y=h.form;L=Y.submit;try{var he=Y.submit=function(){M(),Y.submit=L,Y.submit(),Y.submit=he}}catch(Be){}}b.finishInit=function(Be){Be.save=M,Be.getTextArea=function(){return h},Be.toTextArea=function(){Be.toTextArea=isNaN,M(),h.parentNode.removeChild(Be.getWrapperElement()),h.style.display="",h.form&&(_t(h.form,"submit",M),!b.leaveSubmitMethodAlone&&"function"==typeof h.form.submit&&(h.form.submit=L))}},h.style.display="none";var Me=Fo(function(Be){return h.parentNode.insertBefore(Be,h.nextSibling)},b);return Me},function fd(h){h.off=_t,h.on=Di,h.wheelEventPixels=Wc,h.Doc=xs,h.splitLines=qn,h.countColumn=Ot,h.findColumn=Ye,h.isWordChar=tt,h.Pass=ti,h.signal=Mt,h.Line=ps,h.changeEnd=Yl,h.scrollbarModel=Sl,h.Pos=Bi,h.cmpPos=Bn,h.modes=Ri,h.mimeModes=fn,h.resolveMode=Sr,h.getMode=Jr,h.modeExtensions=Qr,h.extendMode=bo,h.copyState=Dr,h.startState=Zo,h.innerMode=dr,h.commands=Iu,h.keyMap=ur,h.keyName=fo,h.isModifierKey=po,h.lookupKey=zr,h.normalizeKeyMap=yo,h.StringStream=ar,h.SharedTextMarker=dl,h.TextMarker=Jl,h.LineWidget=Fl,h.e_preventDefault=gn,h.e_stopPropagation=ai,h.e_stop=He,h.addClass=ze,h.contains=re,h.rmClass=me,h.keyNames=Ii}(Fo),Fo.version="5.65.0",Fo}()},64166:(B,K,f)=>{!function(E){"use strict";E.defineMode("javascript",function(m,t){var ue,Te,e=m.indentUnit,n=t.statementIndent,a=t.jsonld,u=t.json||a,C=!1!==t.trackScope,D=t.typescript,F=t.wordCharacters||/[\w$\xa1-\uffff]/,W=function(){function at(or){return{type:or,style:"keyword"}}var Ft=at("keyword a"),Ai=at("keyword b"),Yi=at("keyword c"),Ji=at("keyword d"),sr=at("operator"),Qn={type:"atom",style:"atom"};return{if:at("if"),while:Ft,with:Ft,else:Ai,do:Ai,try:Ai,finally:Ai,return:Ji,break:Ji,continue:Ji,new:at("new"),delete:Yi,void:Yi,throw:Yi,debugger:at("debugger"),var:at("var"),const:at("var"),let:at("var"),function:at("function"),catch:at("catch"),for:at("for"),switch:at("switch"),case:at("case"),default:at("default"),in:sr,typeof:sr,instanceof:sr,true:Qn,false:Qn,null:Qn,undefined:Qn,NaN:Qn,Infinity:Qn,this:at("this"),class:at("class"),super:at("atom"),yield:Yi,export:at("export"),import:at("import"),extends:Yi,await:Yi}}(),te=/[+\-*&%=<>!?|~^@]/,oe=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function le(at,Ft,Ai){return ue=at,Te=Ai,Ft}function _e(at,Ft){var Ai=at.next();if('"'==Ai||"'"==Ai)return Ft.tokenize=function Pe(at){return function(Ft,Ai){var Ji,Yi=!1;if(a&&"@"==Ft.peek()&&Ft.match(oe))return Ai.tokenize=_e,le("jsonld-keyword","meta");for(;null!=(Ji=Ft.next())&&(Ji!=at||Yi);)Yi=!Yi&&"\\"==Ji;return Yi||(Ai.tokenize=_e),le("string","string")}}(Ai),Ft.tokenize(at,Ft);if("."==Ai&&at.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return le("number","number");if("."==Ai&&at.match(".."))return le("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Ai))return le(Ai);if("="==Ai&&at.eat(">"))return le("=>","operator");if("0"==Ai&&at.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return le("number","number");if(/\d/.test(Ai))return at.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),le("number","number");if("/"==Ai)return at.eat("*")?(Ft.tokenize=Ue,Ue(at,Ft)):at.eat("/")?(at.skipToEnd(),le("comment","comment")):Ln(at,Ft,1)?(function q(at){for(var Ai,Ft=!1,Yi=!1;null!=(Ai=at.next());){if(!Ft){if("/"==Ai&&!Yi)return;"["==Ai?Yi=!0:Yi&&"]"==Ai&&(Yi=!1)}Ft=!Ft&&"\\"==Ai}}(at),at.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),le("regexp","string-2")):(at.eat("="),le("operator","operator",at.current()));if("`"==Ai)return Ft.tokenize=Se,Se(at,Ft);if("#"==Ai&&"!"==at.peek())return at.skipToEnd(),le("meta","meta");if("#"==Ai&&at.eatWhile(F))return le("variable","property");if("<"==Ai&&at.match("!--")||"-"==Ai&&at.match("->")&&!/\S/.test(at.string.slice(0,at.start)))return at.skipToEnd(),le("comment","comment");if(te.test(Ai))return(">"!=Ai||!Ft.lexical||">"!=Ft.lexical.type)&&(at.eat("=")?("!"==Ai||"="==Ai)&&at.eat("="):/[<>*+\-|&?]/.test(Ai)&&(at.eat(Ai),">"==Ai&&at.eat(Ai))),"?"==Ai&&at.eat(".")?le("."):le("operator","operator",at.current());if(F.test(Ai)){at.eatWhile(F);var Yi=at.current();if("."!=Ft.lastType){if(W.propertyIsEnumerable(Yi)){var Ji=W[Yi];return le(Ji.type,Ji.style,Yi)}if("async"==Yi&&at.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return le("async","keyword",Yi)}return le("variable","variable",Yi)}}function Ue(at,Ft){for(var Yi,Ai=!1;Yi=at.next();){if("/"==Yi&&Ai){Ft.tokenize=_e;break}Ai="*"==Yi}return le("comment","comment")}function Se(at,Ft){for(var Yi,Ai=!1;null!=(Yi=at.next());){if(!Ai&&("`"==Yi||"$"==Yi&&at.eat("{"))){Ft.tokenize=_e;break}Ai=!Ai&&"\\"==Yi}return le("quasi","string-2",at.current())}function se(at,Ft){Ft.fatArrowAt&&(Ft.fatArrowAt=null);var Ai=at.string.indexOf("=>",at.start);if(!(Ai<0)){if(D){var Yi=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(at.string.slice(at.start,Ai));Yi&&(Ai=Yi.index)}for(var Ji=0,sr=!1,Qn=Ai-1;Qn>=0;--Qn){var or=at.string.charAt(Qn),Sn="([{}])".indexOf(or);if(Sn>=0&&Sn<3){if(!Ji){++Qn;break}if(0==--Ji){"("==or&&(sr=!0);break}}else if(Sn>=3&&Sn<6)++Ji;else if(F.test(or))sr=!0;else if(/["'\/`]/.test(or))for(;;--Qn){if(0==Qn)return;if(at.string.charAt(Qn-1)==or&&"\\"!=at.string.charAt(Qn-2)){Qn--;break}}else if(sr&&!Ji){++Qn;break}}sr&&!Ji&&(Ft.fatArrowAt=Qn)}}var me={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function ce(at,Ft,Ai,Yi,Ji,sr){this.indented=at,this.column=Ft,this.type=Ai,this.prev=Ji,this.info=sr,null!=Yi&&(this.align=Yi)}function Ne(at,Ft){if(!C)return!1;for(var Ai=at.localVars;Ai;Ai=Ai.next)if(Ai.name==Ft)return!0;for(var Yi=at.context;Yi;Yi=Yi.prev)for(Ai=Yi.vars;Ai;Ai=Ai.next)if(Ai.name==Ft)return!0}function Ae(at,Ft,Ai,Yi,Ji){var sr=at.cc;for(Ce.state=at,Ce.stream=Ji,Ce.marked=null,Ce.cc=sr,Ce.style=Ft,at.lexical.hasOwnProperty("align")||(at.lexical.align=!0);;)if((sr.length?sr.pop():u?Je:mt)(Ai,Yi)){for(;sr.length&&sr[sr.length-1].lex;)sr.pop()();return Ce.marked?Ce.marked:"variable"==Ai&&Ne(at,Yi)?"variable-2":Ft}}var Ce={state:null,column:null,marked:null,cc:null};function de(){for(var at=arguments.length-1;at>=0;at--)Ce.cc.push(arguments[at])}function re(){return de.apply(null,arguments),!0}function ot(at,Ft){for(var Ai=Ft;Ai;Ai=Ai.next)if(Ai.name==at)return!0;return!1}function ze(at){var Ft=Ce.state;if(Ce.marked="def",C){if(Ft.context)if("var"==Ft.lexical.info&&Ft.context&&Ft.context.block){var Ai=De(at,Ft.context);if(null!=Ai)return void(Ft.context=Ai)}else if(!ot(at,Ft.localVars))return void(Ft.localVars=new dt(at,Ft.localVars));t.globalVars&&!ot(at,Ft.globalVars)&&(Ft.globalVars=new dt(at,Ft.globalVars))}}function De(at,Ft){if(Ft){if(Ft.block){var Ai=De(at,Ft.prev);return Ai?Ai==Ft.prev?Ft:new pt(Ai,Ft.vars,!0):null}return ot(at,Ft.vars)?Ft:new pt(Ft.prev,new dt(at,Ft.vars),!1)}return null}function st(at){return"public"==at||"private"==at||"protected"==at||"abstract"==at||"readonly"==at}function pt(at,Ft,Ai){this.prev=at,this.vars=Ft,this.block=Ai}function dt(at,Ft){this.name=at,this.next=Ft}var Ot=new dt("this",new dt("arguments",null));function kt(){Ce.state.context=new pt(Ce.state.context,Ce.state.localVars,!1),Ce.state.localVars=Ot}function oi(){Ce.state.context=new pt(Ce.state.context,Ce.state.localVars,!0),Ce.state.localVars=null}function bi(){Ce.state.localVars=Ce.state.context.vars,Ce.state.context=Ce.state.context.prev}function ti(at,Ft){var Ai=function(){var Yi=Ce.state,Ji=Yi.indented;if("stat"==Yi.lexical.type)Ji=Yi.lexical.indented;else for(var sr=Yi.lexical;sr&&")"==sr.type&&sr.align;sr=sr.prev)Ji=sr.indented;Yi.lexical=new ce(Ji,Ce.stream.column(),at,null,Yi.lexical,Ft)};return Ai.lex=!0,Ai}function Rt(){var at=Ce.state;at.lexical.prev&&(")"==at.lexical.type&&(at.indented=at.lexical.indented),at.lexical=at.lexical.prev)}function ii(at){return function Ft(Ai){return Ai==at?re():";"==at||"}"==Ai||")"==Ai||"]"==Ai?de():re(Ft)}}function mt(at,Ft){return"var"==at?re(ti("vardef",Ft),Xi,ii(";"),Rt):"keyword a"==at?re(ti("form"),Re,mt,Rt):"keyword b"==at?re(ti("form"),mt,Rt):"keyword d"==at?Ce.stream.match(/^\s*$/,!1)?re():re(ti("stat"),zt,ii(";"),Rt):"debugger"==at?re(ii(";")):"{"==at?re(ti("}"),oi,Di,Rt,bi):";"==at?re():"if"==at?("else"==Ce.state.lexical.info&&Ce.state.cc[Ce.state.cc.length-1]==Rt&&Ce.state.cc.pop()(),re(ti("form"),Re,mt,Rt,Pt)):"function"==at?re(kn):"for"==at?re(ti("form"),oi,di,mt,bi,Rt):"class"==at||D&&"interface"==Ft?(Ce.marked="keyword",re(ti("form","class"==at?at:Ft),bo,Rt)):"variable"==at?D&&"declare"==Ft?(Ce.marked="keyword",re(mt)):D&&("module"==Ft||"enum"==Ft||"type"==Ft)&&Ce.stream.match(/^\s*\w/,!1)?(Ce.marked="keyword","enum"==Ft?re(xr):"type"==Ft?re(Sr,ii("operator"),yi,ii(";")):re(ti("form"),ln,ii("{"),ti("}"),Di,Rt,Rt)):D&&"namespace"==Ft?(Ce.marked="keyword",re(ti("form"),Je,mt,Rt)):D&&"abstract"==Ft?(Ce.marked="keyword",re(mt)):re(ti("stat"),Ze):"switch"==at?re(ti("form"),Re,ii("{"),ti("}","switch"),oi,Di,Rt,Rt,bi):"case"==at?re(Je,ii(":")):"default"==at?re(ii(":")):"catch"==at?re(ti("form"),kt,Ye,mt,Rt,bi):"export"==at?re(ti("stat"),ar,Rt):"import"==at?re(ti("stat"),jn,Rt):"async"==at?re(mt):"@"==Ft?re(Je,mt):de(ti("stat"),Je,ii(";"),Rt)}function Ye(at){if("("==at)return re(Jr,ii(")"))}function Je(at,Ft){return yt(at,Ft,!1)}function ut(at,Ft){return yt(at,Ft,!0)}function Re(at){return"("!=at?de():re(ti(")"),zt,ii(")"),Rt)}function yt(at,Ft,Ai){if(Ce.state.fatArrowAt==Ce.stream.start){var Yi=Ai?lt:At;if("("==at)return re(kt,ti(")"),pi(Jr,")"),Rt,ii("=>"),Yi,bi);if("variable"==at)return de(kt,ln,ii("=>"),Yi,bi)}var Ji=Ai?wt:gi;return me.hasOwnProperty(at)?re(Ji):"function"==at?re(kn,Ji):"class"==at||D&&"interface"==Ft?(Ce.marked="keyword",re(ti("form"),Qr,Rt)):"keyword c"==at||"async"==at?re(Ai?ut:Je):"("==at?re(ti(")"),zt,ii(")"),Rt,Ji):"operator"==at||"spread"==at?re(Ai?ut:Je):"["==at?re(ti("]"),Zr,Rt,Ji):"{"==at?Gi(Kt,"}",null,Ji):"quasi"==at?de(rt,Ji):"new"==at?re(function vt(at){return function(Ft){return"."==Ft?re(at?Ke:Et):"variable"==Ft&&D?re(Ve,at?wt:gi):de(at?ut:Je)}}(Ai)):re()}function zt(at){return at.match(/[;\}\)\],]/)?de():de(Je)}function gi(at,Ft){return","==at?re(zt):wt(at,Ft,!1)}function wt(at,Ft,Ai){var Yi=0==Ai?gi:wt,Ji=0==Ai?Je:ut;if("=>"==at)return re(kt,Ai?lt:At,bi);if("operator"==at)return/\+\+|--/.test(Ft)||D&&"!"==Ft?re(Yi):D&&"<"==Ft&&Ce.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?re(ti(">"),pi(yi,">"),Rt,Yi):"?"==Ft?re(Je,ii(":"),Ji):re(Ji);if("quasi"==at)return de(rt,Yi);if(";"!=at){if("("==at)return Gi(ut,")","call",Yi);if("."==at)return re(Wt,Yi);if("["==at)return re(ti("]"),zt,ii("]"),Rt,Yi);if(D&&"as"==Ft)return Ce.marked="keyword",re(yi,Yi);if("regexp"==at)return Ce.state.lastType=Ce.marked="operator",Ce.stream.backUp(Ce.stream.pos-Ce.stream.start-1),re(Ji)}}function rt(at,Ft){return"quasi"!=at?de():"${"!=Ft.slice(Ft.length-2)?re(rt):re(zt,tt)}function tt(at){if("}"==at)return Ce.marked="string-2",Ce.state.tokenize=Se,re(rt)}function At(at){return se(Ce.stream,Ce.state),de("{"==at?mt:Je)}function lt(at){return se(Ce.stream,Ce.state),de("{"==at?mt:ut)}function Et(at,Ft){if("target"==Ft)return Ce.marked="keyword",re(gi)}function Ke(at,Ft){if("target"==Ft)return Ce.marked="keyword",re(wt)}function Ze(at){return":"==at?re(Rt,mt):de(gi,ii(";"),Rt)}function Wt(at){if("variable"==at)return Ce.marked="property",re()}function Kt(at,Ft){return"async"==at?(Ce.marked="property",re(Kt)):"variable"==at||"keyword"==Ce.style?(Ce.marked="property","get"==Ft||"set"==Ft?re(Ei):(D&&Ce.state.fatArrowAt==Ce.stream.start&&(Ai=Ce.stream.match(/^\s*:\s*/,!1))&&(Ce.state.fatArrowAt=Ce.stream.pos+Ai[0].length),re(vi))):"number"==at||"string"==at?(Ce.marked=a?"property":Ce.style+" property",re(vi)):"jsonld-keyword"==at?re(vi):D&&st(Ft)?(Ce.marked="keyword",re(Kt)):"["==at?re(Je,an,ii("]"),vi):"spread"==at?re(ut,vi):"*"==Ft?(Ce.marked="keyword",re(Kt)):":"==at?de(vi):void 0;var Ai}function Ei(at){return"variable"!=at?de(vi):(Ce.marked="property",re(kn))}function vi(at){return":"==at?re(ut):"("==at?de(kn):void 0}function pi(at,Ft,Ai){function Yi(Ji,sr){if(Ai?Ai.indexOf(Ji)>-1:","==Ji){var Qn=Ce.state.lexical;return"call"==Qn.info&&(Qn.pos=(Qn.pos||0)+1),re(function(or,Sn){return or==Ft||Sn==Ft?de():de(at)},Yi)}return Ji==Ft||sr==Ft?re():Ai&&Ai.indexOf(";")>-1?de(at):re(ii(Ft))}return function(Ji,sr){return Ji==Ft||sr==Ft?re():de(at,Yi)}}function Gi(at,Ft,Ai){for(var Yi=3;Yi<arguments.length;Yi++)Ce.cc.push(arguments[Yi]);return re(ti(Ft,Ai),pi(at,Ft),Rt)}function Di(at){return"}"==at?re():de(mt,Di)}function an(at,Ft){if(D){if(":"==at)return re(yi);if("?"==Ft)return re(an)}}function _t(at,Ft){if(D&&(":"==at||"in"==Ft))return re(yi)}function Mt(at){if(D&&":"==at)return Ce.stream.match(/^\s*\w+\s+is\b/,!1)?re(Je,_i,yi):re(yi)}function _i(at,Ft){if("is"==Ft)return Ce.marked="keyword",re()}function yi(at,Ft){return"keyof"==Ft||"typeof"==Ft||"infer"==Ft||"readonly"==Ft?(Ce.marked="keyword",re("typeof"==Ft?ut:yi)):"variable"==at||"void"==Ft?(Ce.marked="type",re(Ee)):"|"==Ft||"&"==Ft?re(yi):"string"==at||"number"==at||"atom"==at?re(Ee):"["==at?re(ti("]"),pi(yi,"]",","),Rt,Ee):"{"==at?re(ti("}"),Pi,Rt,Ee):"("==at?re(pi(He,")"),Fi,Ee):"<"==at?re(pi(yi,">"),yi):"quasi"==at?de(ai,Ee):void 0}function Fi(at){if("=>"==at)return re(yi)}function Pi(at){return at.match(/[\}\)\]]/)?re():","==at||";"==at?re(Pi):de(gn,Pi)}function gn(at,Ft){return"variable"==at||"keyword"==Ce.style?(Ce.marked="property",re(gn)):"?"==Ft||"number"==at||"string"==at?re(gn):":"==at?re(yi):"["==at?re(ii("variable"),_t,ii("]"),gn):"("==at?de(rr,gn):at.match(/[;\}\)\],]/)?void 0:re()}function ai(at,Ft){return"quasi"!=at?de():"${"!=Ft.slice(Ft.length-2)?re(ai):re(yi,Tt)}function Tt(at){if("}"==at)return Ce.marked="string-2",Ce.state.tokenize=Se,re(ai)}function He(at,Ft){return"variable"==at&&Ce.stream.match(/^\s*[?:]/,!1)||"?"==Ft?re(He):":"==at?re(yi):"spread"==at?re(He):de(yi)}function Ee(at,Ft){return"<"==Ft?re(ti(">"),pi(yi,">"),Rt,Ee):"|"==Ft||"."==at||"&"==Ft?re(yi):"["==at?re(yi,ii("]"),Ee):"extends"==Ft||"implements"==Ft?(Ce.marked="keyword",re(yi)):"?"==Ft?re(yi,ii(":"),yi):void 0}function Ve(at,Ft){if("<"==Ft)return re(ti(">"),pi(yi,">"),Rt,Ee)}function gt(){return de(yi,Ut)}function Ut(at,Ft){if("="==Ft)return re(yi)}function Xi(at,Ft){return"enum"==Ft?(Ce.marked="keyword",re(xr)):de(ln,an,si,$t)}function ln(at,Ft){return D&&st(Ft)?(Ce.marked="keyword",re(ln)):"variable"==at?(ze(Ft),re()):"spread"==at?re(ln):"["==at?Gi(qn,"]"):"{"==at?Gi(An,"}"):void 0}function An(at,Ft){return"variable"!=at||Ce.stream.match(/^\s*:/,!1)?("variable"==at&&(Ce.marked="property"),"spread"==at?re(ln):"}"==at?de():"["==at?re(Je,ii("]"),ii(":"),An):re(ii(":"),ln,si)):(ze(Ft),re(si))}function qn(){return de(ln,si)}function si(at,Ft){if("="==Ft)return re(ut)}function $t(at){if(","==at)return re(Xi)}function Pt(at,Ft){if("keyword b"==at&&"else"==Ft)return re(ti("form","else"),mt,Rt)}function di(at,Ft){return"await"==Ft?re(di):"("==at?re(ti(")"),Ri,Rt):void 0}function Ri(at){return"var"==at?re(Xi,fn):"variable"==at?re(fn):de(fn)}function fn(at,Ft){return")"==at?re():";"==at?re(fn):"in"==Ft||"of"==Ft?(Ce.marked="keyword",re(Je,fn)):de(Je,fn)}function kn(at,Ft){return"*"==Ft?(Ce.marked="keyword",re(kn)):"variable"==at?(ze(Ft),re(kn)):"("==at?re(kt,ti(")"),pi(Jr,")"),Rt,Mt,mt,bi):D&&"<"==Ft?re(ti(">"),pi(gt,">"),Rt,kn):void 0}function rr(at,Ft){return"*"==Ft?(Ce.marked="keyword",re(rr)):"variable"==at?(ze(Ft),re(rr)):"("==at?re(kt,ti(")"),pi(Jr,")"),Rt,Mt,bi):D&&"<"==Ft?re(ti(">"),pi(gt,">"),Rt,rr):void 0}function Sr(at,Ft){return"keyword"==at||"variable"==at?(Ce.marked="type",re(Sr)):"<"==Ft?re(ti(">"),pi(gt,">"),Rt):void 0}function Jr(at,Ft){return"@"==Ft&&re(Je,Jr),"spread"==at?re(Jr):D&&st(Ft)?(Ce.marked="keyword",re(Jr)):D&&"this"==at?re(an,si):de(ln,an,si)}function Qr(at,Ft){return"variable"==at?bo(at,Ft):Dr(at,Ft)}function bo(at,Ft){if("variable"==at)return ze(Ft),re(Dr)}function Dr(at,Ft){return"<"==Ft?re(ti(">"),pi(gt,">"),Rt,Dr):"extends"==Ft||"implements"==Ft||D&&","==at?("implements"==Ft&&(Ce.marked="keyword"),re(D?yi:Je,Dr)):"{"==at?re(ti("}"),dr,Rt):void 0}function dr(at,Ft){return"async"==at||"variable"==at&&("static"==Ft||"get"==Ft||"set"==Ft||D&&st(Ft))&&Ce.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Ce.marked="keyword",re(dr)):"variable"==at||"keyword"==Ce.style?(Ce.marked="property",re(Zo,dr)):"number"==at||"string"==at?re(Zo,dr):"["==at?re(Je,an,ii("]"),Zo,dr):"*"==Ft?(Ce.marked="keyword",re(dr)):D&&"("==at?de(rr,dr):";"==at||","==at?re(dr):"}"==at?re():"@"==Ft?re(Je,dr):void 0}function Zo(at,Ft){if("!"==Ft||"?"==Ft)return re(Zo);if(":"==at)return re(yi,si);if("="==Ft)return re(ut);var Ai=Ce.state.lexical.prev;return de(Ai&&"interface"==Ai.info?rr:kn)}function ar(at,Ft){return"*"==Ft?(Ce.marked="keyword",re(Mr,ii(";"))):"default"==Ft?(Ce.marked="keyword",re(Je,ii(";"))):"{"==at?re(pi(xi,"}"),Mr,ii(";")):de(mt)}function xi(at,Ft){return"as"==Ft?(Ce.marked="keyword",re(ii("variable"))):"variable"==at?de(ut,xi):void 0}function jn(at){return"string"==at?re():"("==at?de(Je):"."==at?de(gi):de(mr,Vr,Mr)}function mr(at,Ft){return"{"==at?Gi(mr,"}"):("variable"==at&&ze(Ft),"*"==Ft&&(Ce.marked="keyword"),re(fr))}function Vr(at){if(","==at)return re(mr,Vr)}function fr(at,Ft){if("as"==Ft)return Ce.marked="keyword",re(mr)}function Mr(at,Ft){if("from"==Ft)return Ce.marked="keyword",re(Je)}function Zr(at){return"]"==at?re():de(pi(ut,"]"))}function xr(){return de(ti("form"),ln,ii("{"),ti("}"),pi(Bi,"}"),Rt,Rt)}function Bi(){return de(ln,si)}function Ln(at,Ft,Ai){return Ft.tokenize==_e&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Ft.lastType)||"quasi"==Ft.lastType&&/\{\s*$/.test(at.string.slice(0,at.pos-(Ai||0)))}return bi.lex=!0,Rt.lex=!0,{startState:function(at){var Ft={tokenize:_e,lastType:"sof",cc:[],lexical:new ce((at||0)-e,0,"block",!1),localVars:t.localVars,context:t.localVars&&new pt(null,null,!1),indented:at||0};return t.globalVars&&"object"==typeof t.globalVars&&(Ft.globalVars=t.globalVars),Ft},token:function(at,Ft){if(at.sol()&&(Ft.lexical.hasOwnProperty("align")||(Ft.lexical.align=!1),Ft.indented=at.indentation(),se(at,Ft)),Ft.tokenize!=Ue&&at.eatSpace())return null;var Ai=Ft.tokenize(at,Ft);return"comment"==ue?Ai:(Ft.lastType="operator"!=ue||"++"!=Te&&"--"!=Te?ue:"incdec",Ae(Ft,Ai,ue,Te,at))},indent:function(at,Ft){if(at.tokenize==Ue||at.tokenize==Se)return E.Pass;if(at.tokenize!=_e)return 0;var Ji,Ai=Ft&&Ft.charAt(0),Yi=at.lexical;if(!/^\s*else\b/.test(Ft))for(var sr=at.cc.length-1;sr>=0;--sr){var Qn=at.cc[sr];if(Qn==Rt)Yi=Yi.prev;else if(Qn!=Pt&&Qn!=bi)break}for(;("stat"==Yi.type||"form"==Yi.type)&&("}"==Ai||(Ji=at.cc[at.cc.length-1])&&(Ji==gi||Ji==wt)&&!/^[,\.=+\-*:?[\(]/.test(Ft));)Yi=Yi.prev;n&&")"==Yi.type&&"stat"==Yi.prev.type&&(Yi=Yi.prev);var or=Yi.type,Sn=Ai==or;return"vardef"==or?Yi.indented+("operator"==at.lastType||","==at.lastType?Yi.info.length+1:0):"form"==or&&"{"==Ai?Yi.indented:"form"==or?Yi.indented+e:"stat"==or?Yi.indented+(function Bn(at,Ft){return"operator"==at.lastType||","==at.lastType||te.test(Ft.charAt(0))||/[,.]/.test(Ft.charAt(0))}(at,Ft)?n||e:0):"switch"!=Yi.info||Sn||0==t.doubleIndentSwitch?Yi.align?Yi.column+(Sn?0:1):Yi.indented+(Sn?0:e):Yi.indented+(/^(?:case|default)\b/.test(Ft)?e:2*e)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:a,jsonMode:u,expressionAllowed:Ln,skipExpression:function(at){Ae(at,"atom","atom","true",new E.StringStream("",2,null))}}}),E.registerHelper("wordChars","javascript",/[\w$]/),E.defineMIME("text/javascript","javascript"),E.defineMIME("text/ecmascript","javascript"),E.defineMIME("application/javascript","javascript"),E.defineMIME("application/x-javascript","javascript"),E.defineMIME("application/ecmascript","javascript"),E.defineMIME("application/json",{name:"javascript",json:!0}),E.defineMIME("application/x-json",{name:"javascript",json:!0}),E.defineMIME("application/manifest+json",{name:"javascript",json:!0}),E.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),E.defineMIME("text/typescript",{name:"javascript",typescript:!0}),E.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(f(68266))},23555:(B,K)=>{"use strict";K.parse=function t(a,u){if("string"!=typeof a)throw new TypeError("argument str must be a string");for(var C={},D=u||{},F=a.split(";"),W=D.decode||f,te=0;te<F.length;te++){var oe=F[te],q=oe.indexOf("=");if(!(q<0)){var ue=oe.substring(0,q).trim();if(null==C[ue]){var Te=oe.substring(q+1,oe.length).trim();'"'===Te[0]&&(Te=Te.slice(1,-1)),C[ue]=n(Te,W)}}}return C},K.serialize=function e(a,u,C){var D=C||{},F=D.encode||E;if("function"!=typeof F)throw new TypeError("option encode is invalid");if(!m.test(a))throw new TypeError("argument name is invalid");var W=F(u);if(W&&!m.test(W))throw new TypeError("argument val is invalid");var te=a+"="+W;if(null!=D.maxAge){var oe=D.maxAge-0;if(isNaN(oe)||!isFinite(oe))throw new TypeError("option maxAge is invalid");te+="; Max-Age="+Math.floor(oe)}if(D.domain){if(!m.test(D.domain))throw new TypeError("option domain is invalid");te+="; Domain="+D.domain}if(D.path){if(!m.test(D.path))throw new TypeError("option path is invalid");te+="; Path="+D.path}if(D.expires){if("function"!=typeof D.expires.toUTCString)throw new TypeError("option expires is invalid");te+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(te+="; HttpOnly"),D.secure&&(te+="; Secure"),D.sameSite)switch("string"==typeof D.sameSite?D.sameSite.toLowerCase():D.sameSite){case!0:te+="; SameSite=Strict";break;case"lax":te+="; SameSite=Lax";break;case"strict":te+="; SameSite=Strict";break;case"none":te+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return te};var f=decodeURIComponent,E=encodeURIComponent,m=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function n(a,u){try{return u(a)}catch(C){return a}}},5819:(B,K,f)=>{var E=f(96711);B.exports=E},48788:(B,K,f)=>{var E=f(15063);B.exports=E},4861:(B,K,f)=>{var E=f(92694);B.exports=E},29686:(B,K,f)=>{var E=f(12265);B.exports=E},53274:(B,K,f)=>{var E=f(68144);B.exports=E},59565:(B,K,f)=>{var E=f(22932);B.exports=E},47084:(B,K,f)=>{var E=f(51387);B.exports=E},76302:(B,K,f)=>{var E=f(33659);B.exports=E},63517:(B,K,f)=>{var E=f(26591);B.exports=E},28126:(B,K,f)=>{var E=f(6372);B.exports=E},97886:(B,K,f)=>{var E=f(5317);B.exports=E},19668:(B,K,f)=>{var E=f(44829);B.exports=E},10089:(B,K,f)=>{var E=f(52298);B.exports=E},83893:(B,K,f)=>{var E=f(6870);B.exports=E},74058:(B,K,f)=>{var E=f(8047);B.exports=E},23641:(B,K,f)=>{var E=f(45168);B.exports=E},717:(B,K,f)=>{f(2240),f(50945);var E=f(33706);B.exports=E.Array.from},50267:(B,K,f)=>{f(8095);var E=f(33706);B.exports=E.Array.isArray},57585:(B,K,f)=>{f(98512);var E=f(80550);B.exports=E("Array").concat},88288:(B,K,f)=>{f(22929),f(16016);var E=f(80550);B.exports=E("Array").entries},28610:(B,K,f)=>{f(1051);var E=f(80550);B.exports=E("Array").filter},76588:(B,K,f)=>{f(12183);var E=f(80550);B.exports=E("Array").find},1445:(B,K,f)=>{f(19058);var E=f(80550);B.exports=E("Array").forEach},44488:(B,K,f)=>{f(98155);var E=f(80550);B.exports=E("Array").includes},97962:(B,K,f)=>{f(91316);var E=f(80550);B.exports=E("Array").indexOf},11251:(B,K,f)=>{f(86173);var E=f(80550);B.exports=E("Array").map},82720:(B,K,f)=>{f(79492);var E=f(80550);B.exports=E("Array").slice},74455:(B,K,f)=>{f(78605);var E=f(80550);B.exports=E("Array").splice},25073:(B,K,f)=>{f(22929),f(2240);var E=f(23035);B.exports=E},67021:(B,K,f)=>{var E=f(32807),m=f(57585),t=Array.prototype;B.exports=function(e){var n=e.concat;return e===t||E(t,e)&&n===t.concat?m:n}},53192:(B,K,f)=>{var E=f(32807),m=f(28610),t=Array.prototype;B.exports=function(e){var n=e.filter;return e===t||E(t,e)&&n===t.filter?m:n}},86915:(B,K,f)=>{var E=f(32807),m=f(76588),t=Array.prototype;B.exports=function(e){var n=e.find;return e===t||E(t,e)&&n===t.find?m:n}},6198:(B,K,f)=>{var E=f(32807),m=f(44488),t=f(28434),e=Array.prototype,n=String.prototype;B.exports=function(a){var u=a.includes;return a===e||E(e,a)&&u===e.includes?m:"string"==typeof a||a===n||E(n,a)&&u===n.includes?t:u}},70801:(B,K,f)=>{var E=f(32807),m=f(97962),t=Array.prototype;B.exports=function(e){var n=e.indexOf;return e===t||E(t,e)&&n===t.indexOf?m:n}},2807:(B,K,f)=>{var E=f(32807),m=f(11251),t=Array.prototype;B.exports=function(e){var n=e.map;return e===t||E(t,e)&&n===t.map?m:n}},85546:(B,K,f)=>{var E=f(32807),m=f(82720),t=Array.prototype;B.exports=function(e){var n=e.slice;return e===t||E(t,e)&&n===t.slice?m:n}},90475:(B,K,f)=>{var E=f(32807),m=f(74455),t=Array.prototype;B.exports=function(e){var n=e.splice;return e===t||E(t,e)&&n===t.splice?m:n}},53602:(B,K,f)=>{var E=f(32807),m=f(7293),t=String.prototype;B.exports=function(e){var n=e.startsWith;return"string"==typeof e||e===t||E(t,e)&&n===t.startsWith?m:n}},98516:(B,K,f)=>{f(48115);var E=f(33706),m=f(50291);E.JSON||(E.JSON={stringify:JSON.stringify}),B.exports=function(e,n,a){return m(E.JSON.stringify,null,arguments)}},81062:(B,K,f)=>{f(81118);var E=f(33706);B.exports=E.Object.assign},61539:(B,K,f)=>{f(42642);var m=f(33706).Object,t=B.exports=function(n,a){return m.defineProperties(n,a)};m.defineProperties.sham&&(t.sham=!0)},50434:(B,K,f)=>{f(72361);var m=f(33706).Object,t=B.exports=function(n,a,u){return m.defineProperty(n,a,u)};m.defineProperty.sham&&(t.sham=!0)},18263:(B,K,f)=>{f(37791);var E=f(33706);B.exports=E.Object.entries},87043:(B,K,f)=>{f(29415);var m=f(33706).Object,t=B.exports=function(n,a){return m.getOwnPropertyDescriptor(n,a)};m.getOwnPropertyDescriptor.sham&&(t.sham=!0)},28125:(B,K,f)=>{f(34831);var E=f(33706);B.exports=E.Object.getOwnPropertyDescriptors},53453:(B,K,f)=>{f(34987);var E=f(33706);B.exports=E.Object.getOwnPropertySymbols},96648:(B,K,f)=>{f(57963);var E=f(33706);B.exports=E.Object.keys},8736:(B,K,f)=>{f(67704),f(22929),f(16016),f(8708),f(17028),f(44055),f(66881),f(2240);var E=f(33706);B.exports=E.Promise},28434:(B,K,f)=>{f(4206);var E=f(80550);B.exports=E("String").includes},7293:(B,K,f)=>{f(38736);var E=f(80550);B.exports=E("String").startsWith},38828:(B,K,f)=>{f(98512),f(16016),f(34987),f(62200),f(40765),f(12605),f(16035),f(31320),f(55128),f(73714),f(3906),f(39471),f(18301),f(45955),f(11609),f(69958),f(23726),f(46773),f(67153),f(16645);var E=f(33706);B.exports=E.Symbol},94154:(B,K,f)=>{f(22929),f(16016),f(2240),f(31320);var E=f(52118);B.exports=E.f("iterator")},30026:(B,K,f)=>{f(22929),f(16016),f(55922);var E=f(33706);B.exports=E.WeakMap},21162:(B,K,f)=>{B.exports=f(54102)},45750:(B,K,f)=>{B.exports=f(79195)},23850:(B,K,f)=>{B.exports=f(63691)},98961:(B,K,f)=>{B.exports=f(20511)},41629:(B,K,f)=>{B.exports=f(16193)},15923:(B,K,f)=>{B.exports=f(83124)},79769:(B,K,f)=>{B.exports=f(89764)},90878:(B,K,f)=>{B.exports=f(52858)},91390:(B,K,f)=>{B.exports=f(6768)},48562:(B,K,f)=>{B.exports=f(34101)},33935:(B,K,f)=>{B.exports=f(1736)},48775:(B,K,f)=>{B.exports=f(92842)},95988:(B,K,f)=>{B.exports=f(10227)},72851:(B,K,f)=>{B.exports=f(66964)},4106:(B,K,f)=>{B.exports=f(84780)},84074:(B,K,f)=>{B.exports=f(63210)},54102:(B,K,f)=>{var E=f(5819);B.exports=E},79195:(B,K,f)=>{var E=f(48788);B.exports=E},63691:(B,K,f)=>{var E=f(4861);B.exports=E},20511:(B,K,f)=>{var E=f(29686);B.exports=E},16193:(B,K,f)=>{var E=f(53274);B.exports=E},83124:(B,K,f)=>{var E=f(59565);B.exports=E},89764:(B,K,f)=>{var E=f(47084);B.exports=E},52858:(B,K,f)=>{var E=f(76302);B.exports=E},6768:(B,K,f)=>{var E=f(63517);B.exports=E},34101:(B,K,f)=>{var E=f(28126);B.exports=E},1736:(B,K,f)=>{var E=f(97886);B.exports=E},92842:(B,K,f)=>{var E=f(19668);B.exports=E},10227:(B,K,f)=>{var E=f(10089);B.exports=E},66964:(B,K,f)=>{var E=f(83893);f(29224),f(13742),f(3242),f(96910),B.exports=E},84780:(B,K,f)=>{var E=f(74058);f(44197),f(99797),f(11262),f(75626),f(27657),f(71158),f(92001),B.exports=E},63210:(B,K,f)=>{var E=f(23641);B.exports=E},74989:(B,K,f)=>{var E=f(92244),m=f(51594),t=f(66766),e=E.TypeError;B.exports=function(n){if(m(n))return n;throw e(t(n)+" is not a function")}},44081:(B,K,f)=>{var E=f(92244),m=f(92512),t=f(66766),e=E.TypeError;B.exports=function(n){if(m(n))return n;throw e(t(n)+" is not a constructor")}},56940:(B,K,f)=>{var E=f(92244),m=f(51594),t=E.String,e=E.TypeError;B.exports=function(n){if("object"==typeof n||m(n))return n;throw e("Can't set "+t(n)+" as a prototype")}},30127:B=>{B.exports=function(){}},93450:(B,K,f)=>{var E=f(92244),m=f(32807),t=E.TypeError;B.exports=function(e,n){if(m(n,e))return e;throw t("Incorrect invocation")}},67057:(B,K,f)=>{var E=f(92244),m=f(29642),t=E.String,e=E.TypeError;B.exports=function(n){if(m(n))return n;throw e(t(n)+" is not an object")}},28438:(B,K,f)=>{var E=f(11111);B.exports=E(function(){if("function"==typeof ArrayBuffer){var m=new ArrayBuffer(8);Object.isExtensible(m)&&Object.defineProperty(m,"a",{value:8})}})},61368:(B,K,f)=>{"use strict";var E=f(21407).forEach,t=f(86234)("forEach");B.exports=t?[].forEach:function(n){return E(this,n,arguments.length>1?arguments[1]:void 0)}},48774:(B,K,f)=>{"use strict";var E=f(92244),m=f(90869),t=f(40004),e=f(83226),n=f(5177),a=f(61263),u=f(92512),C=f(67005),D=f(19140),F=f(98577),W=f(23035),te=E.Array;B.exports=function(q){var ue=e(q),Te=u(this),le=arguments.length,_e=le>1?arguments[1]:void 0,Pe=void 0!==_e;Pe&&(_e=m(_e,le>2?arguments[2]:void 0));var ve,se,me,ce,Ne,Ae,Ue=W(ue),Se=0;if(!Ue||this==te&&a(Ue))for(ve=C(ue),se=Te?new this(ve):te(ve);ve>Se;Se++)Ae=Pe?_e(ue[Se],Se):ue[Se],D(se,Se,Ae);else for(Ne=(ce=F(ue,Ue)).next,se=Te?new this:[];!(me=t(Ne,ce)).done;Se++)Ae=Pe?n(ce,_e,[me.value,Se],!0):me.value,D(se,Se,Ae);return se.length=Se,se}},96728:(B,K,f)=>{var E=f(77519),m=f(25881),t=f(67005),e=function(n){return function(a,u,C){var te,D=E(a),F=t(D),W=m(C,F);if(n&&u!=u){for(;F>W;)if((te=D[W++])!=te)return!0}else for(;F>W;W++)if((n||W in D)&&D[W]===u)return n||W||0;return!n&&-1}};B.exports={includes:e(!0),indexOf:e(!1)}},21407:(B,K,f)=>{var E=f(90869),m=f(58316),t=f(55030),e=f(83226),n=f(67005),a=f(9310),u=m([].push),C=function(D){var F=1==D,W=2==D,te=3==D,oe=4==D,q=6==D,ue=7==D,Te=5==D||q;return function(le,_e,Pe,Ue){for(var Ce,de,Se=e(le),ve=t(Se),se=E(_e,Pe),me=n(ve),ce=0,Ne=Ue||a,Ae=F?Ne(le,me):W||ue?Ne(le,0):void 0;me>ce;ce++)if((Te||ce in ve)&&(de=se(Ce=ve[ce],ce,Se),D))if(F)Ae[ce]=de;else if(de)switch(D){case 3:return!0;case 5:return Ce;case 6:return ce;case 2:u(Ae,Ce)}else switch(D){case 4:return!1;case 7:u(Ae,Ce)}return q?-1:te||oe?oe:Ae}};B.exports={forEach:C(0),map:C(1),filter:C(2),some:C(3),every:C(4),find:C(5),findIndex:C(6),filterReject:C(7)}},89064:(B,K,f)=>{var E=f(11111),m=f(45312),t=f(55114),e=m("species");B.exports=function(n){return t>=51||!E(function(){var a=[];return(a.constructor={})[e]=function(){return{foo:1}},1!==a[n](Boolean).foo})}},86234:(B,K,f)=>{"use strict";var E=f(11111);B.exports=function(m,t){var e=[][m];return!!e&&E(function(){e.call(null,t||function(){return 1},1)})}},90381:(B,K,f)=>{var E=f(92244),m=f(25881),t=f(67005),e=f(19140),n=E.Array,a=Math.max;B.exports=function(u,C,D){for(var F=t(u),W=m(C,F),te=m(void 0===D?F:D,F),oe=n(a(te-W,0)),q=0;W<te;W++,q++)e(oe,q,u[W]);return oe.length=q,oe}},63341:(B,K,f)=>{var E=f(58316);B.exports=E([].slice)},4590:(B,K,f)=>{var E=f(90381),m=Math.floor,t=function(a,u){var C=a.length,D=m(C/2);return C<8?e(a,u):n(a,t(E(a,0,D),u),t(E(a,D),u),u)},e=function(a,u){for(var F,W,C=a.length,D=1;D<C;){for(W=D,F=a[D];W&&u(a[W-1],F)>0;)a[W]=a[--W];W!==D++&&(a[W]=F)}return a},n=function(a,u,C,D){for(var F=u.length,W=C.length,te=0,oe=0;te<F||oe<W;)a[te+oe]=te<F&&oe<W?D(u[te],C[oe])<=0?u[te++]:C[oe++]:te<F?u[te++]:C[oe++];return a};B.exports=t},70066:(B,K,f)=>{var E=f(92244),m=f(67902),t=f(92512),e=f(29642),a=f(45312)("species"),u=E.Array;B.exports=function(C){var D;return m(C)&&(t(D=C.constructor)&&(D===u||m(D.prototype))||e(D)&&null===(D=D[a]))&&(D=void 0),void 0===D?u:D}},9310:(B,K,f)=>{var E=f(70066);B.exports=function(m,t){return new(E(m))(0===t?0:t)}},5177:(B,K,f)=>{var E=f(67057),m=f(27336);B.exports=function(t,e,n,a){try{return a?e(E(n)[0],n[1]):e(n)}catch(u){m(t,"throw",u)}}},32024:(B,K,f)=>{var m=f(45312)("iterator"),t=!1;try{var e=0,n={next:function(){return{done:!!e++}},return:function(){t=!0}};n[m]=function(){return this},Array.from(n,function(){throw 2})}catch(a){}B.exports=function(a,u){if(!u&&!t)return!1;var C=!1;try{var D={};D[m]=function(){return{next:function(){return{done:C=!0}}}},a(D)}catch(F){}return C}},37120:(B,K,f)=>{var E=f(58316),m=E({}.toString),t=E("".slice);B.exports=function(e){return t(m(e),8,-1)}},18598:(B,K,f)=>{var E=f(92244),m=f(75991),t=f(51594),e=f(37120),a=f(45312)("toStringTag"),u=E.Object,C="Arguments"==e(function(){return arguments}());B.exports=m?e:function(F){var W,te,oe;return void 0===F?"Undefined":null===F?"Null":"string"==typeof(te=function(F,W){try{return F[W]}catch(te){}}(W=u(F),a))?te:C?e(W):"Object"==(oe=e(W))&&t(W.callee)?"Arguments":oe}},95304:(B,K,f)=>{var E=f(58316),m=Error,t=E("".replace),e=String(m("zxcasd").stack),n=/\n\s*at [^:]*:[^\n]*/,a=n.test(e);B.exports=function(u,C){if(a&&"string"==typeof u&&!m.prepareStackTrace)for(;C--;)u=t(u,n,"");return u}},15474:(B,K,f)=>{"use strict";var E=f(58316),m=f(50077),t=f(41770).getWeakData,e=f(67057),n=f(29642),a=f(93450),u=f(70529),C=f(21407),D=f(8277),F=f(74818),W=F.set,te=F.getterFor,oe=C.find,q=C.findIndex,ue=E([].splice),Te=0,le=function(Ue){return Ue.frozen||(Ue.frozen=new _e)},_e=function(){this.entries=[]},Pe=function(Ue,Se){return oe(Ue.entries,function(ve){return ve[0]===Se})};_e.prototype={get:function(Ue){var Se=Pe(this,Ue);if(Se)return Se[1]},has:function(Ue){return!!Pe(this,Ue)},set:function(Ue,Se){var ve=Pe(this,Ue);ve?ve[1]=Se:this.entries.push([Ue,Se])},delete:function(Ue){var Se=q(this.entries,function(ve){return ve[0]===Ue});return~Se&&ue(this.entries,Se,1),!!~Se}},B.exports={getConstructor:function(Ue,Se,ve,se){var me=Ue(function(Ce,de){a(Ce,ce),W(Ce,{type:Se,id:Te++,frozen:void 0}),null!=de&&u(de,Ce[se],{that:Ce,AS_ENTRIES:ve})}),ce=me.prototype,Ne=te(Se),Ae=function(Ce,de,re){var ot=Ne(Ce),ze=t(e(de),!0);return!0===ze?le(ot).set(de,re):ze[ot.id]=re,Ce};return m(ce,{delete:function(Ce){var de=Ne(this);if(!n(Ce))return!1;var re=t(Ce);return!0===re?le(de).delete(Ce):re&&D(re,de.id)&&delete re[de.id]},has:function(de){var re=Ne(this);if(!n(de))return!1;var ot=t(de);return!0===ot?le(re).has(de):ot&&D(ot,re.id)}}),m(ce,ve?{get:function(de){var re=Ne(this);if(n(de)){var ot=t(de);return!0===ot?le(re).get(de):ot?ot[re.id]:void 0}},set:function(de,re){return Ae(this,de,re)}}:{add:function(de){return Ae(this,de,!0)}}),me}}},4236:(B,K,f)=>{"use strict";var E=f(79235),m=f(92244),t=f(41770),e=f(11111),n=f(3156),a=f(70529),u=f(93450),C=f(51594),D=f(29642),F=f(32049),W=f(82972).f,te=f(21407).forEach,oe=f(2646),q=f(74818),ue=q.set,Te=q.getterFor;B.exports=function(le,_e,Pe){var Ne,Ue=-1!==le.indexOf("Map"),Se=-1!==le.indexOf("Weak"),ve=Ue?"set":"add",se=m[le],me=se&&se.prototype,ce={};if(oe&&C(se)&&(Se||me.forEach&&!e(function(){(new se).entries().next()}))){var Ae=(Ne=_e(function(de,re){ue(u(de,Ae),{type:le,collection:new se}),null!=re&&a(re,de[ve],{that:de,AS_ENTRIES:Ue})})).prototype,Ce=Te(le);te(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(de){var re="add"==de||"set"==de;de in me&&(!Se||"clear"!=de)&&n(Ae,de,function(ot,ze){var De=Ce(this).collection;if(!re&&Se&&!D(ot))return"get"==de&&void 0;var st=De[de](0===ot?0:ot,ze);return re?this:st})}),Se||W(Ae,"size",{configurable:!0,get:function(){return Ce(this).collection.size}})}else Ne=Pe.getConstructor(_e,le,Ue,ve),t.enable();return F(Ne,le,!1,!0),ce[le]=Ne,E({global:!0,forced:!0},ce),Se||Pe.setStrong(Ne,le,Ue),Ne}},98782:(B,K,f)=>{var E=f(8277),m=f(97291),t=f(70050),e=f(82972);B.exports=function(n,a,u){for(var C=m(a),D=e.f,F=t.f,W=0;W<C.length;W++){var te=C[W];!E(n,te)&&(!u||!E(u,te))&&D(n,te,F(a,te))}}},93770:(B,K,f)=>{var m=f(45312)("match");B.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[m]=!1,"/./"[t](e)}catch(a){}}return!1}},40399:(B,K,f)=>{var E=f(11111);B.exports=!E(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})},42758:(B,K,f)=>{"use strict";var E=f(27468).IteratorPrototype,m=f(54021),t=f(8342),e=f(32049),n=f(41949),a=function(){return this};B.exports=function(u,C,D,F){var W=C+" Iterator";return u.prototype=m(E,{next:t(+!F,D)}),e(u,W,!1,!0),n[W]=a,u}},3156:(B,K,f)=>{var E=f(2646),m=f(82972),t=f(8342);B.exports=E?function(e,n,a){return m.f(e,n,t(1,a))}:function(e,n,a){return e[n]=a,e}},8342:B=>{B.exports=function(K,f){return{enumerable:!(1&K),configurable:!(2&K),writable:!(4&K),value:f}}},19140:(B,K,f)=>{"use strict";var E=f(74479),m=f(82972),t=f(8342);B.exports=function(e,n,a){var u=E(n);u in e?m.f(e,u,t(0,a)):e[u]=a}},20404:(B,K,f)=>{var E=f(3156);B.exports=function(m,t,e,n){return n&&n.enumerable?m[t]=e:E(m,t,e),m}},50077:(B,K,f)=>{var E=f(20404);B.exports=function(m,t,e){for(var n in t)e&&e.unsafe&&m[n]?m[n]=t[n]:E(m,n,t[n],e);return m}},13894:(B,K,f)=>{"use strict";var E=f(79235),m=f(40004),t=f(290),e=f(14706),n=f(51594),a=f(42758),u=f(1028),C=f(70990),D=f(32049),F=f(3156),W=f(20404),te=f(45312),oe=f(41949),q=f(27468),ue=e.PROPER,Te=e.CONFIGURABLE,le=q.IteratorPrototype,_e=q.BUGGY_SAFARI_ITERATORS,Pe=te("iterator"),Se="values",ve="entries",se=function(){return this};B.exports=function(me,ce,Ne,Ae,Ce,de,re){a(Ne,ce,Ae);var kt,oi,bi,ot=function(ti){if(ti===Ce&&dt)return dt;if(!_e&&ti in st)return st[ti];switch(ti){case"keys":case Se:case ve:return function(){return new Ne(this,ti)}}return function(){return new Ne(this)}},ze=ce+" Iterator",De=!1,st=me.prototype,pt=st[Pe]||st["@@iterator"]||Ce&&st[Ce],dt=!_e&&pt||ot(Ce),Ot="Array"==ce&&st.entries||pt;if(Ot&&(kt=u(Ot.call(new me)))!==Object.prototype&&kt.next&&(!t&&u(kt)!==le&&(C?C(kt,le):n(kt[Pe])||W(kt,Pe,se)),D(kt,ze,!0,!0),t&&(oe[ze]=se)),ue&&Ce==Se&&pt&&pt.name!==Se&&(!t&&Te?F(st,"name",Se):(De=!0,dt=function(){return m(pt,this)})),Ce)if(oi={values:ot(Se),keys:de?dt:ot("keys"),entries:ot(ve)},re)for(bi in oi)(_e||De||!(bi in st))&&W(st,bi,oi[bi]);else E({target:ce,proto:!0,forced:_e||De},oi);return(!t||re)&&st[Pe]!==dt&&W(st,Pe,dt,{name:Ce}),oe[ce]=dt,oi}},2490:(B,K,f)=>{var E=f(33706),m=f(8277),t=f(52118),e=f(82972).f;B.exports=function(n){var a=E.Symbol||(E.Symbol={});m(a,n)||e(a,n,{value:t.f(n)})}},2646:(B,K,f)=>{var E=f(11111);B.exports=!E(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},11858:(B,K,f)=>{var E=f(92244),m=f(29642),t=E.document,e=m(t)&&m(t.createElement);B.exports=function(n){return e?t.createElement(n):{}}},49467:B=>{B.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},4903:B=>{B.exports="object"==typeof window&&"object"!=typeof Deno},26315:(B,K,f)=>{var E=f(73994),m=f(92244);B.exports=/ipad|iphone|ipod/i.test(E)&&void 0!==m.Pebble},53740:(B,K,f)=>{var E=f(73994);B.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(E)},11044:(B,K,f)=>{var E=f(37120),m=f(92244);B.exports="process"==E(m.process)},98400:(B,K,f)=>{var E=f(73994);B.exports=/web0s(?!.*chrome)/i.test(E)},73994:(B,K,f)=>{var E=f(59939);B.exports=E("navigator","userAgent")||""},55114:(B,K,f)=>{var u,C,E=f(92244),m=f(73994),t=E.process,e=E.Deno,n=t&&t.versions||e&&e.version,a=n&&n.v8;a&&(C=(u=a.split("."))[0]>0&&u[0]<4?1:+(u[0]+u[1])),!C&&m&&(!(u=m.match(/Edge\/(\d+)/))||u[1]>=74)&&(u=m.match(/Chrome\/(\d+)/))&&(C=+u[1]),B.exports=C},80550:(B,K,f)=>{var E=f(33706);B.exports=function(m){return E[m+"Prototype"]}},44762:B=>{B.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},25725:(B,K,f)=>{var E=f(11111),m=f(8342);B.exports=!E(function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",m(1,7)),7!==t.stack)})},79235:(B,K,f)=>{"use strict";var E=f(92244),m=f(50291),t=f(58316),e=f(51594),n=f(70050).f,a=f(95294),u=f(33706),C=f(90869),D=f(3156),F=f(8277),W=function(te){var oe=function(q,ue,Te){if(this instanceof oe){switch(arguments.length){case 0:return new te;case 1:return new te(q);case 2:return new te(q,ue)}return new te(q,ue,Te)}return m(te,this,arguments)};return oe.prototype=te.prototype,oe};B.exports=function(te,oe){var ve,se,me,ce,Ne,Ae,Ce,de,q=te.target,ue=te.global,Te=te.stat,le=te.proto,_e=ue?E:Te?E[q]:(E[q]||{}).prototype,Pe=ue?u:u[q]||D(u,q,{})[q],Ue=Pe.prototype;for(me in oe)ve=!a(ue?me:q+(Te?".":"#")+me,te.forced)&&_e&&F(_e,me),Ne=Pe[me],ve&&(Ae=te.noTargetGet?(de=n(_e,me))&&de.value:_e[me]),ce=ve&&Ae?Ae:oe[me],(!ve||typeof Ne!=typeof ce)&&(Ce=te.bind&&ve?C(ce,E):te.wrap&&ve?W(ce):le&&e(ce)?t(ce):ce,(te.sham||ce&&ce.sham||Ne&&Ne.sham)&&D(Ce,"sham",!0),D(Pe,me,Ce),le&&(F(u,se=q+"Prototype")||D(u,se,{}),D(u[se],me,ce),te.real&&Ue&&!Ue[me]&&D(Ue,me,ce)))}},11111:B=>{B.exports=function(K){try{return!!K()}catch(f){return!0}}},99934:(B,K,f)=>{var E=f(11111);B.exports=!E(function(){return Object.isExtensible(Object.preventExtensions({}))})},50291:(B,K,f)=>{var E=f(25493),m=Function.prototype,t=m.apply,e=m.call;B.exports="object"==typeof Reflect&&Reflect.apply||(E?e.bind(t):function(){return e.apply(t,arguments)})},90869:(B,K,f)=>{var E=f(58316),m=f(74989),t=f(25493),e=E(E.bind);B.exports=function(n,a){return m(n),void 0===a?n:t?e(n,a):function(){return n.apply(a,arguments)}}},25493:(B,K,f)=>{var E=f(11111);B.exports=!E(function(){var m=function(){}.bind();return"function"!=typeof m||m.hasOwnProperty("prototype")})},40004:(B,K,f)=>{var E=f(25493),m=Function.prototype.call;B.exports=E?m.bind(m):function(){return m.apply(m,arguments)}},14706:(B,K,f)=>{var E=f(2646),m=f(8277),t=Function.prototype,e=E&&Object.getOwnPropertyDescriptor,n=m(t,"name"),a=n&&"something"===function(){}.name,u=n&&(!E||E&&e(t,"name").configurable);B.exports={EXISTS:n,PROPER:a,CONFIGURABLE:u}},58316:(B,K,f)=>{var E=f(25493),m=Function.prototype,e=m.call,n=E&&m.bind.bind(e,e);B.exports=E?function(a){return a&&n(a)}:function(a){return a&&function(){return e.apply(a,arguments)}}},59939:(B,K,f)=>{var E=f(33706),m=f(92244),t=f(51594),e=function(n){return t(n)?n:void 0};B.exports=function(n,a){return arguments.length<2?e(E[n])||e(m[n]):E[n]&&E[n][a]||m[n]&&m[n][a]}},23035:(B,K,f)=>{var E=f(18598),m=f(68856),t=f(41949),n=f(45312)("iterator");B.exports=function(a){if(null!=a)return m(a,n)||m(a,"@@iterator")||t[E(a)]}},98577:(B,K,f)=>{var E=f(92244),m=f(40004),t=f(74989),e=f(67057),n=f(66766),a=f(23035),u=E.TypeError;B.exports=function(C,D){var F=arguments.length<2?a(C):D;if(t(F))return e(m(F,C));throw u(n(C)+" is not iterable")}},68856:(B,K,f)=>{var E=f(74989);B.exports=function(m,t){var e=m[t];return null==e?void 0:E(e)}},92244:B=>{var K=function(f){return f&&f.Math==Math&&f};B.exports=K("object"==typeof globalThis&&globalThis)||K("object"==typeof window&&window)||K("object"==typeof self&&self)||K("object"==typeof global&&global)||function(){return this}()||Function("return this")()},8277:(B,K,f)=>{var E=f(58316),m=f(83226),t=E({}.hasOwnProperty);B.exports=Object.hasOwn||function(n,a){return t(m(n),a)}},7530:B=>{B.exports={}},14291:(B,K,f)=>{var E=f(92244);B.exports=function(m,t){var e=E.console;e&&e.error&&(1==arguments.length?e.error(m):e.error(m,t))}},68396:(B,K,f)=>{var E=f(59939);B.exports=E("document","documentElement")},62748:(B,K,f)=>{var E=f(2646),m=f(11111),t=f(11858);B.exports=!E&&!m(function(){return 7!=Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a})},55030:(B,K,f)=>{var E=f(92244),m=f(58316),t=f(11111),e=f(37120),n=E.Object,a=m("".split);B.exports=t(function(){return!n("z").propertyIsEnumerable(0)})?function(u){return"String"==e(u)?a(u,""):n(u)}:n},38423:(B,K,f)=>{var E=f(58316),m=f(51594),t=f(44606),e=E(Function.toString);m(t.inspectSource)||(t.inspectSource=function(n){return e(n)}),B.exports=t.inspectSource},38079:(B,K,f)=>{var E=f(29642),m=f(3156);B.exports=function(t,e){E(e)&&"cause"in e&&m(t,"cause",e.cause)}},41770:(B,K,f)=>{var E=f(79235),m=f(58316),t=f(7530),e=f(29642),n=f(8277),a=f(82972).f,u=f(31836),C=f(27217),D=f(4415),F=f(72194),W=f(99934),te=!1,oe=F("meta"),q=0,ue=function(Se){a(Se,oe,{value:{objectID:"O"+q++,weakData:{}}})},Ue=B.exports={enable:function(){Ue.enable=function(){},te=!0;var Se=u.f,ve=m([].splice),se={};se[oe]=1,Se(se).length&&(u.f=function(me){for(var ce=Se(me),Ne=0,Ae=ce.length;Ne<Ae;Ne++)if(ce[Ne]===oe){ve(ce,Ne,1);break}return ce},E({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:C.f}))},fastKey:function(Se,ve){if(!e(Se))return"symbol"==typeof Se?Se:("string"==typeof Se?"S":"P")+Se;if(!n(Se,oe)){if(!D(Se))return"F";if(!ve)return"E";ue(Se)}return Se[oe].objectID},getWeakData:function(Se,ve){if(!n(Se,oe)){if(!D(Se))return!0;if(!ve)return!1;ue(Se)}return Se[oe].weakData},onFreeze:function(Se){return W&&te&&D(Se)&&!n(Se,oe)&&ue(Se),Se}};t[oe]=!0},74818:(B,K,f)=>{var oe,q,ue,E=f(68785),m=f(92244),t=f(58316),e=f(29642),n=f(3156),a=f(8277),u=f(44606),C=f(19948),D=f(7530),F="Object already initialized",W=m.TypeError;if(E||u.state){var _e=u.state||(u.state=new(0,m.WeakMap)),Pe=t(_e.get),Ue=t(_e.has),Se=t(_e.set);oe=function(se,me){if(Ue(_e,se))throw new W(F);return me.facade=se,Se(_e,se,me),me},q=function(se){return Pe(_e,se)||{}},ue=function(se){return Ue(_e,se)}}else{var ve=C("state");D[ve]=!0,oe=function(se,me){if(a(se,ve))throw new W(F);return me.facade=se,n(se,ve,me),me},q=function(se){return a(se,ve)?se[ve]:{}},ue=function(se){return a(se,ve)}}B.exports={set:oe,get:q,has:ue,enforce:function(se){return ue(se)?q(se):oe(se,{})},getterFor:function(se){return function(me){var ce;if(!e(me)||(ce=q(me)).type!==se)throw W("Incompatible receiver, "+se+" required");return ce}}}},61263:(B,K,f)=>{var E=f(45312),m=f(41949),t=E("iterator"),e=Array.prototype;B.exports=function(n){return void 0!==n&&(m.Array===n||e[t]===n)}},67902:(B,K,f)=>{var E=f(37120);B.exports=Array.isArray||function(t){return"Array"==E(t)}},51594:B=>{B.exports=function(K){return"function"==typeof K}},92512:(B,K,f)=>{var E=f(58316),m=f(11111),t=f(51594),e=f(18598),n=f(59939),a=f(38423),u=function(){},C=[],D=n("Reflect","construct"),F=/^\s*(?:class|function)\b/,W=E(F.exec),te=!F.exec(u),oe=function(Te){if(!t(Te))return!1;try{return D(u,C,Te),!0}catch(le){return!1}},q=function(Te){if(!t(Te))return!1;switch(e(Te)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return te||!!W(F,a(Te))}catch(le){return!0}};q.sham=!0,B.exports=!D||m(function(){var ue;return oe(oe.call)||!oe(Object)||!oe(function(){ue=!0})||ue})?q:oe},95294:(B,K,f)=>{var E=f(11111),m=f(51594),t=/#|\.prototype\./,e=function(D,F){var W=a[n(D)];return W==C||W!=u&&(m(F)?E(F):!!F)},n=e.normalize=function(D){return String(D).replace(t,".").toLowerCase()},a=e.data={},u=e.NATIVE="N",C=e.POLYFILL="P";B.exports=e},29642:(B,K,f)=>{var E=f(51594);B.exports=function(m){return"object"==typeof m?null!==m:E(m)}},290:B=>{B.exports=!0},63158:(B,K,f)=>{var E=f(29642),m=f(37120),e=f(45312)("match");B.exports=function(n){var a;return E(n)&&(void 0!==(a=n[e])?!!a:"RegExp"==m(n))}},61284:(B,K,f)=>{var E=f(92244),m=f(59939),t=f(51594),e=f(32807),n=f(46885),a=E.Object;B.exports=n?function(u){return"symbol"==typeof u}:function(u){var C=m("Symbol");return t(C)&&e(C.prototype,a(u))}},70529:(B,K,f)=>{var E=f(92244),m=f(90869),t=f(40004),e=f(67057),n=f(66766),a=f(61263),u=f(67005),C=f(32807),D=f(98577),F=f(23035),W=f(27336),te=E.TypeError,oe=function(ue,Te){this.stopped=ue,this.result=Te},q=oe.prototype;B.exports=function(ue,Te,le){var se,me,ce,Ne,Ae,Ce,de,Pe=!(!le||!le.AS_ENTRIES),Ue=!(!le||!le.IS_ITERATOR),Se=!(!le||!le.INTERRUPTED),ve=m(Te,le&&le.that),re=function(ze){return se&&W(se,"normal",ze),new oe(!0,ze)},ot=function(ze){return Pe?(e(ze),Se?ve(ze[0],ze[1],re):ve(ze[0],ze[1])):Se?ve(ze,re):ve(ze)};if(Ue)se=ue;else{if(!(me=F(ue)))throw te(n(ue)+" is not iterable");if(a(me)){for(ce=0,Ne=u(ue);Ne>ce;ce++)if((Ae=ot(ue[ce]))&&C(q,Ae))return Ae;return new oe(!1)}se=D(ue,me)}for(Ce=se.next;!(de=t(Ce,se)).done;){try{Ae=ot(de.value)}catch(ze){W(se,"throw",ze)}if("object"==typeof Ae&&Ae&&C(q,Ae))return Ae}return new oe(!1)}},27336:(B,K,f)=>{var E=f(40004),m=f(67057),t=f(68856);B.exports=function(e,n,a){var u,C;m(e);try{if(!(u=t(e,"return"))){if("throw"===n)throw a;return a}u=E(u,e)}catch(D){C=!0,u=D}if("throw"===n)throw a;if(C)throw u;return m(u),a}},27468:(B,K,f)=>{"use strict";var F,W,te,E=f(11111),m=f(51594),t=f(54021),e=f(1028),n=f(20404),a=f(45312),u=f(290),C=a("iterator"),D=!1;[].keys&&("next"in(te=[].keys())?(W=e(e(te)))!==Object.prototype&&(F=W):D=!0),null==F||E(function(){var q={};return F[C].call(q)!==q})?F={}:u&&(F=t(F)),m(F[C])||n(F,C,function(){return this}),B.exports={IteratorPrototype:F,BUGGY_SAFARI_ITERATORS:D}},41949:B=>{B.exports={}},67005:(B,K,f)=>{var E=f(17675);B.exports=function(m){return E(m.length)}},18268:(B,K,f)=>{var ue,Te,le,_e,Pe,Ue,Se,ve,E=f(92244),m=f(90869),t=f(70050).f,e=f(9263).set,n=f(53740),a=f(26315),u=f(98400),C=f(11044),D=E.MutationObserver||E.WebKitMutationObserver,F=E.document,W=E.process,te=E.Promise,oe=t(E,"queueMicrotask"),q=oe&&oe.value;q||(ue=function(){var se,me;for(C&&(se=W.domain)&&se.exit();Te;){me=Te.fn,Te=Te.next;try{me()}catch(ce){throw Te?_e():le=void 0,ce}}le=void 0,se&&se.enter()},n||C||u||!D||!F?!a&&te&&te.resolve?((Se=te.resolve(void 0)).constructor=te,ve=m(Se.then,Se),_e=function(){ve(ue)}):C?_e=function(){W.nextTick(ue)}:(e=m(e,E),_e=function(){e(ue)}):(Pe=!0,Ue=F.createTextNode(""),new D(ue).observe(Ue,{characterData:!0}),_e=function(){Ue.data=Pe=!Pe})),B.exports=q||function(se){var me={fn:se,next:void 0};le&&(le.next=me),Te||(Te=me,_e()),le=me}},89383:(B,K,f)=>{var E=f(44662);B.exports=E&&!!Symbol.for&&!!Symbol.keyFor},44662:(B,K,f)=>{var E=f(55114),m=f(11111);B.exports=!!Object.getOwnPropertySymbols&&!m(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&E&&E<41})},41341:(B,K,f)=>{var E=f(11111),m=f(45312),t=f(290),e=m("iterator");B.exports=!E(function(){var n=new URL("b?a=1&b=2&c=3","http://a"),a=n.searchParams,u="";return n.pathname="c%20d",a.forEach(function(C,D){a.delete("b"),u+=D+C}),t&&!n.toJSON||!a.sort||"http://a/c%20d?a=1&c=3"!==n.href||"3"!==a.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!a[e]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==u||"x"!==new URL("http://x",void 0).host})},68785:(B,K,f)=>{var E=f(92244),m=f(51594),t=f(38423),e=E.WeakMap;B.exports=m(e)&&/native code/.test(t(e))},4228:(B,K,f)=>{"use strict";var E=f(74989),m=function(t){var e,n;this.promise=new t(function(a,u){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=a,n=u}),this.resolve=E(e),this.reject=E(n)};B.exports.f=function(t){return new m(t)}},84463:(B,K,f)=>{var E=f(77645);B.exports=function(m,t){return void 0===m?arguments.length<2?"":t:E(m)}},59616:(B,K,f)=>{var E=f(92244),m=f(63158),t=E.TypeError;B.exports=function(e){if(m(e))throw t("The method doesn't accept regular expressions");return e}},4205:(B,K,f)=>{"use strict";var E=f(2646),m=f(58316),t=f(40004),e=f(11111),n=f(10151),a=f(11331),u=f(98974),C=f(83226),D=f(55030),F=Object.assign,W=Object.defineProperty,te=m([].concat);B.exports=!F||e(function(){if(E&&1!==F({b:1},F(W({},"a",{enumerable:!0,get:function(){W(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var oe={},q={},ue=Symbol(),Te="abcdefghijklmnopqrst";return oe[ue]=7,Te.split("").forEach(function(le){q[le]=le}),7!=F({},oe)[ue]||n(F({},q)).join("")!=Te})?function(q,ue){for(var Te=C(q),le=arguments.length,_e=1,Pe=a.f,Ue=u.f;le>_e;)for(var ce,Se=D(arguments[_e++]),ve=Pe?te(n(Se),Pe(Se)):n(Se),se=ve.length,me=0;se>me;)ce=ve[me++],(!E||t(Ue,Se,ce))&&(Te[ce]=Se[ce]);return Te}:F},54021:(B,K,f)=>{var le,E=f(67057),m=f(92251),t=f(44762),e=f(7530),n=f(68396),a=f(11858),u=f(19948),F="prototype",W="script",te=u("IE_PROTO"),oe=function(){},q=function(Pe){return"<"+W+">"+Pe+"</"+W+">"},ue=function(Pe){Pe.write(q("")),Pe.close();var Ue=Pe.parentWindow.Object;return Pe=null,Ue},_e=function(){try{le=new ActiveXObject("htmlfile")}catch(Ue){}_e="undefined"!=typeof document?document.domain&&le?ue(le):function(){var Se,Pe=a("iframe");return Pe.style.display="none",n.appendChild(Pe),Pe.src=String("javascript:"),(Se=Pe.contentWindow.document).open(),Se.write(q("document.F=Object")),Se.close(),Se.F}():ue(le);for(var Pe=t.length;Pe--;)delete _e[F][t[Pe]];return _e()};e[te]=!0,B.exports=Object.create||function(Ue,Se){var ve;return null!==Ue?(oe[F]=E(Ue),ve=new oe,oe[F]=null,ve[te]=Ue):ve=_e(),void 0===Se?ve:m.f(ve,Se)}},92251:(B,K,f)=>{var E=f(2646),m=f(71011),t=f(82972),e=f(67057),n=f(77519),a=f(10151);K.f=E&&!m?Object.defineProperties:function(C,D){e(C);for(var q,F=n(D),W=a(D),te=W.length,oe=0;te>oe;)t.f(C,q=W[oe++],F[q]);return C}},82972:(B,K,f)=>{var E=f(92244),m=f(2646),t=f(62748),e=f(71011),n=f(67057),a=f(74479),u=E.TypeError,C=Object.defineProperty,D=Object.getOwnPropertyDescriptor,F="enumerable",W="configurable",te="writable";K.f=m?e?function(q,ue,Te){if(n(q),ue=a(ue),n(Te),"function"==typeof q&&"prototype"===ue&&"value"in Te&&te in Te&&!Te[te]){var le=D(q,ue);le&&le[te]&&(q[ue]=Te.value,Te={configurable:W in Te?Te[W]:le[W],enumerable:F in Te?Te[F]:le[F],writable:!1})}return C(q,ue,Te)}:C:function(q,ue,Te){if(n(q),ue=a(ue),n(Te),t)try{return C(q,ue,Te)}catch(le){}if("get"in Te||"set"in Te)throw u("Accessors not supported");return"value"in Te&&(q[ue]=Te.value),q}},70050:(B,K,f)=>{var E=f(2646),m=f(40004),t=f(98974),e=f(8342),n=f(77519),a=f(74479),u=f(8277),C=f(62748),D=Object.getOwnPropertyDescriptor;K.f=E?D:function(W,te){if(W=n(W),te=a(te),C)try{return D(W,te)}catch(oe){}if(u(W,te))return e(!m(t.f,W,te),W[te])}},27217:(B,K,f)=>{var E=f(37120),m=f(77519),t=f(31836).f,e=f(90381),n="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];B.exports.f=function(C){return n&&"Window"==E(C)?function(u){try{return t(u)}catch(C){return e(n)}}(C):t(m(C))}},31836:(B,K,f)=>{var E=f(35168),t=f(44762).concat("length","prototype");K.f=Object.getOwnPropertyNames||function(n){return E(n,t)}},11331:(B,K)=>{K.f=Object.getOwnPropertySymbols},1028:(B,K,f)=>{var E=f(92244),m=f(8277),t=f(51594),e=f(83226),n=f(19948),a=f(40399),u=n("IE_PROTO"),C=E.Object,D=C.prototype;B.exports=a?C.getPrototypeOf:function(F){var W=e(F);if(m(W,u))return W[u];var te=W.constructor;return t(te)&&W instanceof te?te.prototype:W instanceof C?D:null}},4415:(B,K,f)=>{var E=f(11111),m=f(29642),t=f(37120),e=f(28438),n=Object.isExtensible,a=E(function(){n(1)});B.exports=a||e?function(C){return!(!m(C)||e&&"ArrayBuffer"==t(C))&&(!n||n(C))}:n},32807:(B,K,f)=>{var E=f(58316);B.exports=E({}.isPrototypeOf)},35168:(B,K,f)=>{var E=f(58316),m=f(8277),t=f(77519),e=f(96728).indexOf,n=f(7530),a=E([].push);B.exports=function(u,C){var te,D=t(u),F=0,W=[];for(te in D)!m(n,te)&&m(D,te)&&a(W,te);for(;C.length>F;)m(D,te=C[F++])&&(~e(W,te)||a(W,te));return W}},10151:(B,K,f)=>{var E=f(35168),m=f(44762);B.exports=Object.keys||function(e){return E(e,m)}},98974:(B,K)=>{"use strict";var f={}.propertyIsEnumerable,E=Object.getOwnPropertyDescriptor,m=E&&!f.call({1:2},1);K.f=m?function(e){var n=E(this,e);return!!n&&n.enumerable}:f},70990:(B,K,f)=>{var E=f(58316),m=f(67057),t=f(56940);B.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,e=!1,n={};try{(a=E(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(u){}return function(C,D){return m(C),t(D),e?a(C,D):C.__proto__=D,C}}():void 0)},80601:(B,K,f)=>{var E=f(2646),m=f(58316),t=f(10151),e=f(77519),a=m(f(98974).f),u=m([].push),C=function(D){return function(F){for(var Te,W=e(F),te=t(W),oe=te.length,q=0,ue=[];oe>q;)Te=te[q++],(!E||a(W,Te))&&u(ue,D?[Te,W[Te]]:W[Te]);return ue}};B.exports={entries:C(!0),values:C(!1)}},49649:(B,K,f)=>{"use strict";var E=f(75991),m=f(18598);B.exports=E?{}.toString:function(){return"[object "+m(this)+"]"}},39025:(B,K,f)=>{var E=f(92244),m=f(40004),t=f(51594),e=f(29642),n=E.TypeError;B.exports=function(a,u){var C,D;if("string"===u&&t(C=a.toString)&&!e(D=m(C,a))||t(C=a.valueOf)&&!e(D=m(C,a))||"string"!==u&&t(C=a.toString)&&!e(D=m(C,a)))return D;throw n("Can't convert object to primitive value")}},97291:(B,K,f)=>{var E=f(59939),m=f(58316),t=f(31836),e=f(11331),n=f(67057),a=m([].concat);B.exports=E("Reflect","ownKeys")||function(C){var D=t.f(n(C)),F=e.f;return F?a(D,F(C)):D}},33706:B=>{B.exports={}},68716:B=>{B.exports=function(K){try{return{error:!1,value:K()}}catch(f){return{error:!0,value:f}}}},35942:(B,K,f)=>{var E=f(92244),m=f(27474),t=f(51594),e=f(95294),n=f(38423),a=f(45312),u=f(4903),C=f(290),D=f(55114),F=m&&m.prototype,W=a("species"),te=!1,oe=t(E.PromiseRejectionEvent),q=e("Promise",function(){var ue=n(m),Te=ue!==String(m);if(!Te&&66===D||C&&(!F.catch||!F.finally))return!0;if(D>=51&&/native code/.test(ue))return!1;var le=new m(function(Ue){Ue(1)}),_e=function(Ue){Ue(function(){},function(){})};return(le.constructor={})[W]=_e,!(te=le.then(function(){})instanceof _e)||!Te&&u&&!oe});B.exports={CONSTRUCTOR:q,REJECTION_EVENT:oe,SUBCLASSING:te}},27474:(B,K,f)=>{var E=f(92244);B.exports=E.Promise},80182:(B,K,f)=>{var E=f(67057),m=f(29642),t=f(4228);B.exports=function(e,n){if(E(e),m(n)&&n.constructor===e)return n;var a=t.f(e);return(0,a.resolve)(n),a.promise}},39686:(B,K,f)=>{var E=f(27474),m=f(32024),t=f(35942).CONSTRUCTOR;B.exports=t||!m(function(e){E.all(e).then(void 0,function(){})})},73690:B=>{var K=function(){this.head=null,this.tail=null};K.prototype={add:function(f){var E={item:f,next:null};this.head?this.tail.next=E:this.head=E,this.tail=E},get:function(){var f=this.head;if(f)return this.head=f.next,this.tail===f&&(this.tail=null),f.item}},B.exports=K},56751:(B,K,f)=>{var m=f(92244).TypeError;B.exports=function(t){if(null==t)throw m("Can't call method on "+t);return t}},85462:(B,K,f)=>{var E=f(92244),m=Object.defineProperty;B.exports=function(t,e){try{m(E,t,{value:e,configurable:!0,writable:!0})}catch(n){E[t]=e}return e}},449:(B,K,f)=>{"use strict";var E=f(59939),m=f(82972),t=f(45312),e=f(2646),n=t("species");B.exports=function(a){var u=E(a);e&&u&&!u[n]&&(0,m.f)(u,n,{configurable:!0,get:function(){return this}})}},32049:(B,K,f)=>{var E=f(75991),m=f(82972).f,t=f(3156),e=f(8277),n=f(49649),u=f(45312)("toStringTag");B.exports=function(C,D,F,W){if(C){var te=F?C:C.prototype;e(te,u)||m(te,u,{configurable:!0,value:D}),W&&!E&&t(te,"toString",n)}}},19948:(B,K,f)=>{var E=f(68790),m=f(72194),t=E("keys");B.exports=function(e){return t[e]||(t[e]=m(e))}},44606:(B,K,f)=>{var E=f(92244),m=f(85462),t="__core-js_shared__",e=E[t]||m(t,{});B.exports=e},68790:(B,K,f)=>{var E=f(290),m=f(44606);(B.exports=function(t,e){return m[t]||(m[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.22.5",mode:E?"pure":"global",copyright:"\xa9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.5/LICENSE",source:"https://github.com/zloirock/core-js"})},42547:(B,K,f)=>{var E=f(67057),m=f(44081),e=f(45312)("species");B.exports=function(n,a){var C,u=E(n).constructor;return void 0===u||null==(C=E(u)[e])?a:m(C)}},18284:(B,K,f)=>{var E=f(58316),m=f(99561),t=f(77645),e=f(56751),n=E("".charAt),a=E("".charCodeAt),u=E("".slice),C=function(D){return function(F,W){var ue,Te,te=t(e(F)),oe=m(W),q=te.length;return oe<0||oe>=q?D?"":void 0:(ue=a(te,oe))<55296||ue>56319||oe+1===q||(Te=a(te,oe+1))<56320||Te>57343?D?n(te,oe):ue:D?u(te,oe,oe+2):Te-56320+(ue-55296<<10)+65536}};B.exports={codeAt:C(!1),charAt:C(!0)}},50433:(B,K,f)=>{var E=f(40004),m=f(59939),t=f(45312),e=f(20404);B.exports=function(){var n=m("Symbol"),a=n&&n.prototype,u=a&&a.valueOf,C=t("toPrimitive");a&&!a[C]&&e(a,C,function(D){return E(u,this)},{arity:1})}},9263:(B,K,f)=>{var se,me,ce,Ne,E=f(92244),m=f(50291),t=f(90869),e=f(51594),n=f(8277),a=f(11111),u=f(68396),C=f(63341),D=f(11858),F=f(19814),W=f(53740),te=f(11044),oe=E.setImmediate,q=E.clearImmediate,ue=E.process,Te=E.Dispatch,le=E.Function,_e=E.MessageChannel,Pe=E.String,Ue=0,Se={},ve="onreadystatechange";try{se=E.location}catch(ot){}var Ae=function(ot){if(n(Se,ot)){var ze=Se[ot];delete Se[ot],ze()}},Ce=function(ot){return function(){Ae(ot)}},de=function(ot){Ae(ot.data)},re=function(ot){E.postMessage(Pe(ot),se.protocol+"//"+se.host)};(!oe||!q)&&(oe=function(ze){F(arguments.length,1);var De=e(ze)?ze:le(ze),st=C(arguments,1);return Se[++Ue]=function(){m(De,void 0,st)},me(Ue),Ue},q=function(ze){delete Se[ze]},te?me=function(ot){ue.nextTick(Ce(ot))}:Te&&Te.now?me=function(ot){Te.now(Ce(ot))}:_e&&!W?(Ne=(ce=new _e).port2,ce.port1.onmessage=de,me=t(Ne.postMessage,Ne)):E.addEventListener&&e(E.postMessage)&&!E.importScripts&&se&&"file:"!==se.protocol&&!a(re)?(me=re,E.addEventListener("message",de,!1)):me=ve in D("script")?function(ot){u.appendChild(D("script"))[ve]=function(){u.removeChild(this),Ae(ot)}}:function(ot){setTimeout(Ce(ot),0)}),B.exports={set:oe,clear:q}},25881:(B,K,f)=>{var E=f(99561),m=Math.max,t=Math.min;B.exports=function(e,n){var a=E(e);return a<0?m(a+n,0):t(a,n)}},77519:(B,K,f)=>{var E=f(55030),m=f(56751);B.exports=function(t){return E(m(t))}},99561:B=>{var K=Math.ceil,f=Math.floor;B.exports=function(E){var m=+E;return m!=m||0===m?0:(m>0?f:K)(m)}},17675:(B,K,f)=>{var E=f(99561),m=Math.min;B.exports=function(t){return t>0?m(E(t),9007199254740991):0}},83226:(B,K,f)=>{var E=f(92244),m=f(56751),t=E.Object;B.exports=function(e){return t(m(e))}},40074:(B,K,f)=>{var E=f(92244),m=f(40004),t=f(29642),e=f(61284),n=f(68856),a=f(39025),u=f(45312),C=E.TypeError,D=u("toPrimitive");B.exports=function(F,W){if(!t(F)||e(F))return F;var oe,te=n(F,D);if(te){if(void 0===W&&(W="default"),oe=m(te,F,W),!t(oe)||e(oe))return oe;throw C("Can't convert object to primitive value")}return void 0===W&&(W="number"),a(F,W)}},74479:(B,K,f)=>{var E=f(40074),m=f(61284);B.exports=function(t){var e=E(t,"string");return m(e)?e:e+""}},75991:(B,K,f)=>{var t={};t[f(45312)("toStringTag")]="z",B.exports="[object z]"===String(t)},77645:(B,K,f)=>{var E=f(92244),m=f(18598),t=E.String;B.exports=function(e){if("Symbol"===m(e))throw TypeError("Cannot convert a Symbol value to a string");return t(e)}},66766:(B,K,f)=>{var m=f(92244).String;B.exports=function(t){try{return m(t)}catch(e){return"Object"}}},72194:(B,K,f)=>{var E=f(58316),m=0,t=Math.random(),e=E(1..toString);B.exports=function(n){return"Symbol("+(void 0===n?"":n)+")_"+e(++m+t,36)}},46885:(B,K,f)=>{var E=f(44662);B.exports=E&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},71011:(B,K,f)=>{var E=f(2646),m=f(11111);B.exports=E&&m(function(){return 42!=Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},19814:(B,K,f)=>{var m=f(92244).TypeError;B.exports=function(t,e){if(t<e)throw m("Not enough arguments");return t}},52118:(B,K,f)=>{var E=f(45312);K.f=E},45312:(B,K,f)=>{var E=f(92244),m=f(68790),t=f(8277),e=f(72194),n=f(44662),a=f(46885),u=m("wks"),C=E.Symbol,D=C&&C.for,F=a?C:C&&C.withoutSetter||e;B.exports=function(W){if(!t(u,W)||!n&&"string"!=typeof u[W]){var te="Symbol."+W;u[W]=n&&t(C,W)?C[W]:a&&D?D(te):F(te)}return u[W]}},91592:(B,K,f)=>{"use strict";var E=f(79235),m=f(92244),t=f(32807),e=f(1028),n=f(70990),a=f(98782),u=f(54021),C=f(3156),D=f(8342),F=f(95304),W=f(38079),te=f(70529),oe=f(84463),q=f(45312),ue=f(25725),Te=q("toStringTag"),le=m.Error,_e=[].push,Pe=function(ve,se){var Ne,me=arguments.length>2?arguments[2]:void 0,ce=t(Ue,this);n?Ne=n(new le,ce?e(this):Ue):(Ne=ce?this:u(Ue),C(Ne,Te,"Error")),void 0!==se&&C(Ne,"message",oe(se)),ue&&C(Ne,"stack",F(Ne.stack,1)),W(Ne,me);var Ae=[];return te(ve,_e,{that:Ae}),C(Ne,"errors",Ae),Ne};n?n(Pe,le):a(Pe,le,{name:!0});var Ue=Pe.prototype=u(le.prototype,{constructor:D(1,Pe),message:D(1,""),name:D(1,"AggregateError")});E({global:!0,constructor:!0,arity:2},{AggregateError:Pe})},67704:(B,K,f)=>{f(91592)},98512:(B,K,f)=>{"use strict";var E=f(79235),m=f(92244),t=f(11111),e=f(67902),n=f(29642),a=f(83226),u=f(67005),C=f(19140),D=f(9310),F=f(89064),W=f(45312),te=f(55114),oe=W("isConcatSpreadable"),q=9007199254740991,ue="Maximum allowed index exceeded",Te=m.TypeError,le=te>=51||!t(function(){var Se=[];return Se[oe]=!1,Se.concat()[0]!==Se}),_e=F("concat"),Pe=function(Se){if(!n(Se))return!1;var ve=Se[oe];return void 0!==ve?!!ve:e(Se)};E({target:"Array",proto:!0,arity:1,forced:!le||!_e},{concat:function(ve){var Ne,Ae,Ce,de,re,se=a(this),me=D(se,0),ce=0;for(Ne=-1,Ce=arguments.length;Ne<Ce;Ne++)if(Pe(re=-1===Ne?se:arguments[Ne])){if(ce+(de=u(re))>q)throw Te(ue);for(Ae=0;Ae<de;Ae++,ce++)Ae in re&&C(me,ce,re[Ae])}else{if(ce>=q)throw Te(ue);C(me,ce++,re)}return me.length=ce,me}})},1051:(B,K,f)=>{"use strict";var E=f(79235),m=f(21407).filter;E({target:"Array",proto:!0,forced:!f(89064)("filter")},{filter:function(a){return m(this,a,arguments.length>1?arguments[1]:void 0)}})},12183:(B,K,f)=>{"use strict";var E=f(79235),m=f(21407).find,t=f(30127),e="find",n=!0;e in[]&&Array(1)[e](function(){n=!1}),E({target:"Array",proto:!0,forced:n},{find:function(u){return m(this,u,arguments.length>1?arguments[1]:void 0)}}),t(e)},19058:(B,K,f)=>{"use strict";var E=f(79235),m=f(61368);E({target:"Array",proto:!0,forced:[].forEach!=m},{forEach:m})},50945:(B,K,f)=>{var E=f(79235),m=f(48774);E({target:"Array",stat:!0,forced:!f(32024)(function(n){Array.from(n)})},{from:m})},98155:(B,K,f)=>{"use strict";var E=f(79235),m=f(96728).includes,t=f(11111),e=f(30127);E({target:"Array",proto:!0,forced:t(function(){return!Array(1).includes()})},{includes:function(u){return m(this,u,arguments.length>1?arguments[1]:void 0)}}),e("includes")},91316:(B,K,f)=>{"use strict";var E=f(79235),m=f(58316),t=f(96728).indexOf,e=f(86234),n=m([].indexOf),a=!!n&&1/n([1],1,-0)<0,u=e("indexOf");E({target:"Array",proto:!0,forced:a||!u},{indexOf:function(D){var F=arguments.length>1?arguments[1]:void 0;return a?n(this,D,F)||0:t(this,D,F)}})},8095:(B,K,f)=>{f(79235)({target:"Array",stat:!0},{isArray:f(67902)})},22929:(B,K,f)=>{"use strict";var E=f(77519),m=f(30127),t=f(41949),e=f(74818),n=f(82972).f,a=f(13894),u=f(290),C=f(2646),D="Array Iterator",F=e.set,W=e.getterFor(D);B.exports=a(Array,"Array",function(oe,q){F(this,{type:D,target:E(oe),index:0,kind:q})},function(){var oe=W(this),q=oe.target,ue=oe.kind,Te=oe.index++;return!q||Te>=q.length?(oe.target=void 0,{value:void 0,done:!0}):"keys"==ue?{value:Te,done:!1}:"values"==ue?{value:q[Te],done:!1}:{value:[Te,q[Te]],done:!1}},"values");var te=t.Arguments=t.Array;if(m("keys"),m("values"),m("entries"),!u&&C&&"values"!==te.name)try{n(te,"name",{value:"values"})}catch(oe){}},86173:(B,K,f)=>{"use strict";var E=f(79235),m=f(21407).map;E({target:"Array",proto:!0,forced:!f(89064)("map")},{map:function(a){return m(this,a,arguments.length>1?arguments[1]:void 0)}})},79492:(B,K,f)=>{"use strict";var E=f(79235),m=f(92244),t=f(67902),e=f(92512),n=f(29642),a=f(25881),u=f(67005),C=f(77519),D=f(19140),F=f(45312),W=f(89064),te=f(63341),oe=W("slice"),q=F("species"),ue=m.Array,Te=Math.max;E({target:"Array",proto:!0,forced:!oe},{slice:function(_e,Pe){var me,ce,Ne,Ue=C(this),Se=u(Ue),ve=a(_e,Se),se=a(void 0===Pe?Se:Pe,Se);if(t(Ue)&&((e(me=Ue.constructor)&&(me===ue||t(me.prototype))||n(me)&&null===(me=me[q]))&&(me=void 0),me===ue||void 0===me))return te(Ue,ve,se);for(ce=new(void 0===me?ue:me)(Te(se-ve,0)),Ne=0;ve<se;ve++,Ne++)ve in Ue&&D(ce,Ne,Ue[ve]);return ce.length=Ne,ce}})},78605:(B,K,f)=>{"use strict";var E=f(79235),m=f(92244),t=f(25881),e=f(99561),n=f(67005),a=f(83226),u=f(9310),C=f(19140),F=f(89064)("splice"),W=m.TypeError,te=Math.max,oe=Math.min,q=9007199254740991,ue="Maximum allowed length exceeded";E({target:"Array",proto:!0,forced:!F},{splice:function(le,_e){var se,me,ce,Ne,Ae,Ce,Pe=a(this),Ue=n(Pe),Se=t(le,Ue),ve=arguments.length;if(0===ve?se=me=0:1===ve?(se=0,me=Ue-Se):(se=ve-2,me=oe(te(e(_e),0),Ue-Se)),Ue+se-me>q)throw W(ue);for(ce=u(Pe,me),Ne=0;Ne<me;Ne++)(Ae=Se+Ne)in Pe&&C(ce,Ne,Pe[Ae]);if(ce.length=me,se<me){for(Ne=Se;Ne<Ue-me;Ne++)Ce=Ne+se,(Ae=Ne+me)in Pe?Pe[Ce]=Pe[Ae]:delete Pe[Ce];for(Ne=Ue;Ne>Ue-me+se;Ne--)delete Pe[Ne-1]}else if(se>me)for(Ne=Ue-me;Ne>Se;Ne--)Ce=Ne+se-1,(Ae=Ne+me-1)in Pe?Pe[Ce]=Pe[Ae]:delete Pe[Ce];for(Ne=0;Ne<se;Ne++)Pe[Ne+Se]=arguments[Ne+2];return Pe.length=Ue-me+se,ce}})},48115:(B,K,f)=>{var E=f(79235),m=f(59939),t=f(50291),e=f(40004),n=f(58316),a=f(11111),u=f(67902),C=f(51594),D=f(29642),F=f(61284),W=f(63341),te=f(44662),oe=m("JSON","stringify"),q=n(/./.exec),ue=n("".charAt),Te=n("".charCodeAt),le=n("".replace),_e=n(1..toString),Pe=/[\uD800-\uDFFF]/g,Ue=/^[\uD800-\uDBFF]$/,Se=/^[\uDC00-\uDFFF]$/,ve=!te||a(function(){var Ne=m("Symbol")();return"[null]"!=oe([Ne])||"{}"!=oe({a:Ne})||"{}"!=oe(Object(Ne))}),se=a(function(){return'"\\udf06\\ud834"'!==oe("\udf06\ud834")||'"\\udead"'!==oe("\udead")}),me=function(Ne,Ae){var Ce=W(arguments),de=Ae;if((D(Ae)||void 0!==Ne)&&!F(Ne))return u(Ae)||(Ae=function(re,ot){if(C(de)&&(ot=e(de,this,re,ot)),!F(ot))return ot}),Ce[1]=Ae,t(oe,null,Ce)},ce=function(Ne,Ae,Ce){var de=ue(Ce,Ae-1),re=ue(Ce,Ae+1);return q(Ue,Ne)&&!q(Se,re)||q(Se,Ne)&&!q(Ue,de)?"\\u"+_e(Te(Ne,0),16):Ne};oe&&E({target:"JSON",stat:!0,arity:3,forced:ve||se},{stringify:function(Ae,Ce,de){var re=W(arguments),ot=t(ve?me:oe,null,re);return se&&"string"==typeof ot?le(ot,Pe,ce):ot}})},46773:(B,K,f)=>{var E=f(92244);f(32049)(E.JSON,"JSON",!0)},67153:()=>{},81118:(B,K,f)=>{var E=f(79235),m=f(4205);E({target:"Object",stat:!0,arity:2,forced:Object.assign!==m},{assign:m})},42642:(B,K,f)=>{var E=f(79235),m=f(2646),t=f(92251).f;E({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!m},{defineProperties:t})},72361:(B,K,f)=>{var E=f(79235),m=f(2646),t=f(82972).f;E({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!m},{defineProperty:t})},37791:(B,K,f)=>{var E=f(79235),m=f(80601).entries;E({target:"Object",stat:!0},{entries:function(e){return m(e)}})},29415:(B,K,f)=>{var E=f(79235),m=f(11111),t=f(77519),e=f(70050).f,n=f(2646),a=m(function(){e(1)});E({target:"Object",stat:!0,forced:!n||a,sham:!n},{getOwnPropertyDescriptor:function(D,F){return e(t(D),F)}})},34831:(B,K,f)=>{var E=f(79235),m=f(2646),t=f(97291),e=f(77519),n=f(70050),a=f(19140);E({target:"Object",stat:!0,sham:!m},{getOwnPropertyDescriptors:function(C){for(var q,ue,D=e(C),F=n.f,W=t(D),te={},oe=0;W.length>oe;)void 0!==(ue=F(D,q=W[oe++]))&&a(te,q,ue);return te}})},28257:(B,K,f)=>{var E=f(79235),m=f(44662),t=f(11111),e=f(11331),n=f(83226);E({target:"Object",stat:!0,forced:!m||t(function(){e.f(1)})},{getOwnPropertySymbols:function(C){var D=e.f;return D?D(n(C)):[]}})},57963:(B,K,f)=>{var E=f(79235),m=f(83226),t=f(10151);E({target:"Object",stat:!0,forced:f(11111)(function(){t(1)})},{keys:function(u){return t(m(u))}})},16016:()=>{},17028:(B,K,f)=>{"use strict";var E=f(79235),m=f(40004),t=f(74989),e=f(4228),n=f(68716),a=f(70529);E({target:"Promise",stat:!0},{allSettled:function(C){var D=this,F=e.f(D),W=F.resolve,te=F.reject,oe=n(function(){var q=t(D.resolve),ue=[],Te=0,le=1;a(C,function(_e){var Pe=Te++,Ue=!1;le++,m(q,D,_e).then(function(Se){Ue||(Ue=!0,ue[Pe]={status:"fulfilled",value:Se},--le||W(ue))},function(Se){Ue||(Ue=!0,ue[Pe]={status:"rejected",reason:Se},--le||W(ue))})}),--le||W(ue)});return oe.error&&te(oe.value),F.promise}})},75282:(B,K,f)=>{"use strict";var E=f(79235),m=f(40004),t=f(74989),e=f(4228),n=f(68716),a=f(70529);E({target:"Promise",stat:!0,forced:f(39686)},{all:function(D){var F=this,W=e.f(F),te=W.resolve,oe=W.reject,q=n(function(){var ue=t(F.resolve),Te=[],le=0,_e=1;a(D,function(Pe){var Ue=le++,Se=!1;_e++,m(ue,F,Pe).then(function(ve){Se||(Se=!0,Te[Ue]=ve,--_e||te(Te))},oe)}),--_e||te(Te)});return q.error&&oe(q.value),W.promise}})},44055:(B,K,f)=>{"use strict";var E=f(79235),m=f(40004),t=f(74989),e=f(59939),n=f(4228),a=f(68716),u=f(70529),C="No one promise resolved";E({target:"Promise",stat:!0},{any:function(F){var W=this,te=e("AggregateError"),oe=n.f(W),q=oe.resolve,ue=oe.reject,Te=a(function(){var le=t(W.resolve),_e=[],Pe=0,Ue=1,Se=!1;u(F,function(ve){var se=Pe++,me=!1;Ue++,m(le,W,ve).then(function(ce){me||Se||(Se=!0,q(ce))},function(ce){me||Se||(me=!0,_e[se]=ce,--Ue||ue(new te(_e,C)))})}),--Ue||ue(new te(_e,C))});return Te.error&&ue(Te.value),oe.promise}})},10552:(B,K,f)=>{"use strict";var E=f(79235),m=f(290),t=f(35942).CONSTRUCTOR,e=f(27474),n=f(59939),a=f(51594),u=f(20404),C=e&&e.prototype;if(E({target:"Promise",proto:!0,forced:t,real:!0},{catch:function(F){return this.then(void 0,F)}}),!m&&a(e)){var D=n("Promise").prototype.catch;C.catch!==D&&u(C,"catch",D,{unsafe:!0})}},70395:(B,K,f)=>{"use strict";var Je,ut,yt,E=f(79235),m=f(290),t=f(11044),e=f(92244),n=f(40004),a=f(20404),u=f(70990),C=f(32049),D=f(449),F=f(74989),W=f(51594),te=f(29642),oe=f(93450),q=f(42547),ue=f(9263).set,Te=f(18268),le=f(14291),_e=f(68716),Pe=f(73690),Ue=f(74818),Se=f(27474),ve=f(35942),se=f(4228),me="Promise",ce=ve.CONSTRUCTOR,Ne=ve.REJECTION_EVENT,Ae=ve.SUBCLASSING,Ce=Ue.getterFor(me),de=Ue.set,re=Se&&Se.prototype,ot=Se,ze=re,De=e.TypeError,st=e.document,pt=e.process,dt=se.f,Ot=dt,kt=!!(st&&st.createEvent&&e.dispatchEvent),oi="unhandledrejection",zt=function(Ze){var Wt;return!(!te(Ze)||!W(Wt=Ze.then))&&Wt},gi=function(Ze,Wt){var an,_t,Mt,Kt=Wt.value,Ei=1==Wt.state,vi=Ei?Ze.ok:Ze.fail,pi=Ze.resolve,Gi=Ze.reject,Di=Ze.domain;try{vi?(Ei||(2===Wt.rejection&&lt(Wt),Wt.rejection=1),!0===vi?an=Kt:(Di&&Di.enter(),an=vi(Kt),Di&&(Di.exit(),Mt=!0)),an===Ze.promise?Gi(De("Promise-chain cycle")):(_t=zt(an))?n(_t,an,pi,Gi):pi(an)):Gi(Kt)}catch(_i){Di&&!Mt&&Di.exit(),Gi(_i)}},wt=function(Ze,Wt){Ze.notified||(Ze.notified=!0,Te(function(){for(var Ei,Kt=Ze.reactions;Ei=Kt.get();)gi(Ei,Ze);Ze.notified=!1,Wt&&!Ze.rejection&&tt(Ze)}))},rt=function(Ze,Wt,Kt){var Ei,vi;kt?((Ei=st.createEvent("Event")).promise=Wt,Ei.reason=Kt,Ei.initEvent(Ze,!1,!0),e.dispatchEvent(Ei)):Ei={promise:Wt,reason:Kt},!Ne&&(vi=e["on"+Ze])?vi(Ei):Ze===oi&&le("Unhandled promise rejection",Kt)},tt=function(Ze){n(ue,e,function(){var vi,Wt=Ze.facade,Kt=Ze.value;if(At(Ze)&&(vi=_e(function(){t?pt.emit("unhandledRejection",Kt,Wt):rt(oi,Wt,Kt)}),Ze.rejection=t||At(Ze)?2:1,vi.error))throw vi.value})},At=function(Ze){return 1!==Ze.rejection&&!Ze.parent},lt=function(Ze){n(ue,e,function(){var Wt=Ze.facade;t?pt.emit("rejectionHandled",Wt):rt("rejectionhandled",Wt,Ze.value)})},vt=function(Ze,Wt,Kt){return function(Ei){Ze(Wt,Ei,Kt)}},Et=function(Ze,Wt,Kt){Ze.done||(Ze.done=!0,Kt&&(Ze=Kt),Ze.value=Wt,Ze.state=2,wt(Ze,!0))},Ke=function(Ze,Wt,Kt){if(!Ze.done){Ze.done=!0,Kt&&(Ze=Kt);try{if(Ze.facade===Wt)throw De("Promise can't be resolved itself");var Ei=zt(Wt);Ei?Te(function(){var vi={done:!1};try{n(Ei,Wt,vt(Ke,vi,Ze),vt(Et,vi,Ze))}catch(pi){Et(vi,pi,Ze)}}):(Ze.value=Wt,Ze.state=1,wt(Ze,!1))}catch(vi){Et({done:!1},vi,Ze)}}};if(ce&&(ot=function(Wt){oe(this,ze),F(Wt),n(Je,this);var Kt=Ce(this);try{Wt(vt(Ke,Kt),vt(Et,Kt))}catch(Ei){Et(Kt,Ei)}},(Je=function(Wt){de(this,{type:me,done:!1,notified:!1,parent:!1,reactions:new Pe,rejection:!1,state:0,value:void 0})}).prototype=a(ze=ot.prototype,"then",function(Wt,Kt){var Ei=Ce(this),vi=dt(q(this,ot));return Ei.parent=!0,vi.ok=!W(Wt)||Wt,vi.fail=W(Kt)&&Kt,vi.domain=t?pt.domain:void 0,0==Ei.state?Ei.reactions.add(vi):Te(function(){gi(vi,Ei)}),vi.promise}),ut=function(){var Ze=new Je,Wt=Ce(Ze);this.promise=Ze,this.resolve=vt(Ke,Wt),this.reject=vt(Et,Wt)},se.f=dt=function(Ze){return Ze===ot||void 0===Ze?new ut(Ze):Ot(Ze)},!m&&W(Se)&&re!==Object.prototype)){yt=re.then,Ae||a(re,"then",function(Wt,Kt){var Ei=this;return new ot(function(vi,pi){n(yt,Ei,vi,pi)}).then(Wt,Kt)},{unsafe:!0});try{delete re.constructor}catch(Ze){}u&&u(re,ze)}E({global:!0,constructor:!0,wrap:!0,forced:ce},{Promise:ot}),C(ot,me,!1,!0),D(me)},66881:(B,K,f)=>{"use strict";var E=f(79235),m=f(290),t=f(27474),e=f(11111),n=f(59939),a=f(51594),u=f(42547),C=f(80182),D=f(20404),F=t&&t.prototype;if(E({target:"Promise",proto:!0,real:!0,forced:!!t&&e(function(){F.finally.call({then:function(){}},function(){})})},{finally:function(oe){var q=u(this,n("Promise")),ue=a(oe);return this.then(ue?function(Te){return C(q,oe()).then(function(){return Te})}:oe,ue?function(Te){return C(q,oe()).then(function(){throw Te})}:oe)}}),!m&&a(t)){var te=n("Promise").prototype.finally;F.finally!==te&&D(F,"finally",te,{unsafe:!0})}},8708:(B,K,f)=>{f(70395),f(75282),f(10552),f(88654),f(36830),f(91397)},88654:(B,K,f)=>{"use strict";var E=f(79235),m=f(40004),t=f(74989),e=f(4228),n=f(68716),a=f(70529);E({target:"Promise",stat:!0,forced:f(39686)},{race:function(D){var F=this,W=e.f(F),te=W.reject,oe=n(function(){var q=t(F.resolve);a(D,function(ue){m(q,F,ue).then(W.resolve,te)})});return oe.error&&te(oe.value),W.promise}})},36830:(B,K,f)=>{"use strict";var E=f(79235),m=f(40004),t=f(4228);E({target:"Promise",stat:!0,forced:f(35942).CONSTRUCTOR},{reject:function(a){var u=t.f(this);return m(u.reject,void 0,a),u.promise}})},91397:(B,K,f)=>{"use strict";var E=f(79235),m=f(59939),t=f(290),e=f(27474),n=f(35942).CONSTRUCTOR,a=f(80182),u=m("Promise"),C=t&&!n;E({target:"Promise",stat:!0,forced:t||n},{resolve:function(F){return a(C&&this===u?e:this,F)}})},16645:()=>{},4206:(B,K,f)=>{"use strict";var E=f(79235),m=f(58316),t=f(59616),e=f(56751),n=f(77645),a=f(93770),u=m("".indexOf);E({target:"String",proto:!0,forced:!a("includes")},{includes:function(D){return!!~u(n(e(this)),n(t(D)),arguments.length>1?arguments[1]:void 0)}})},2240:(B,K,f)=>{"use strict";var E=f(18284).charAt,m=f(77645),t=f(74818),e=f(13894),n="String Iterator",a=t.set,u=t.getterFor(n);e(String,"String",function(C){a(this,{type:n,string:m(C),index:0})},function(){var te,D=u(this),F=D.string,W=D.index;return W>=F.length?{value:void 0,done:!0}:(te=E(F,W),D.index+=te.length,{value:te,done:!1})})},38736:(B,K,f)=>{"use strict";var ue,E=f(79235),m=f(58316),t=f(70050).f,e=f(17675),n=f(77645),a=f(59616),u=f(56751),C=f(93770),D=f(290),F=m("".startsWith),W=m("".slice),te=Math.min,oe=C("startsWith");E({target:"String",proto:!0,forced:!(!D&&!oe&&(ue=t(String.prototype,"startsWith"),ue&&!ue.writable)||oe)},{startsWith:function(Te){var le=n(u(this));a(Te);var _e=e(te(arguments.length>1?arguments[1]:void 0,le.length)),Pe=n(Te);return F?F(le,Pe,_e):W(le,_e,_e+Pe.length)===Pe}})},62200:(B,K,f)=>{f(2490)("asyncIterator")},13487:(B,K,f)=>{"use strict";var E=f(79235),m=f(92244),t=f(40004),e=f(58316),n=f(290),a=f(2646),u=f(44662),C=f(11111),D=f(8277),F=f(32807),W=f(67057),te=f(77519),oe=f(74479),q=f(77645),ue=f(8342),Te=f(54021),le=f(10151),_e=f(31836),Pe=f(27217),Ue=f(11331),Se=f(70050),ve=f(82972),se=f(92251),me=f(98974),ce=f(20404),Ne=f(68790),Ae=f(19948),Ce=f(7530),de=f(72194),re=f(45312),ot=f(52118),ze=f(2490),De=f(50433),st=f(32049),pt=f(74818),dt=f(21407).forEach,Ot=Ae("hidden"),kt="Symbol",oi="prototype",bi=pt.set,ti=pt.getterFor(kt),Rt=Object[oi],ii=m.Symbol,mt=ii&&ii[oi],Ye=m.TypeError,Je=m.QObject,ut=Se.f,Re=ve.f,yt=Pe.f,zt=me.f,gi=e([].push),wt=Ne("symbols"),rt=Ne("op-symbols"),tt=Ne("wks"),At=!Je||!Je[oi]||!Je[oi].findChild,lt=a&&C(function(){return 7!=Te(Re({},"a",{get:function(){return Re(this,"a",{value:7}).a}})).a})?function(pi,Gi,Di){var an=ut(Rt,Gi);an&&delete Rt[Gi],Re(pi,Gi,Di),an&&pi!==Rt&&Re(Rt,Gi,an)}:Re,vt=function(pi,Gi){var Di=wt[pi]=Te(mt);return bi(Di,{type:kt,tag:pi,description:Gi}),a||(Di.description=Gi),Di},Et=function(Gi,Di,an){Gi===Rt&&Et(rt,Di,an),W(Gi);var _t=oe(Di);return W(an),D(wt,_t)?(an.enumerable?(D(Gi,Ot)&&Gi[Ot][_t]&&(Gi[Ot][_t]=!1),an=Te(an,{enumerable:ue(0,!1)})):(D(Gi,Ot)||Re(Gi,Ot,ue(1,{})),Gi[Ot][_t]=!0),lt(Gi,_t,an)):Re(Gi,_t,an)},Ke=function(Gi,Di){W(Gi);var an=te(Di),_t=le(an).concat(vi(an));return dt(_t,function(Mt){(!a||t(Wt,an,Mt))&&Et(Gi,Mt,an[Mt])}),Gi},Wt=function(Gi){var Di=oe(Gi),an=t(zt,this,Di);return!(this===Rt&&D(wt,Di)&&!D(rt,Di))&&(!(an||!D(this,Di)||!D(wt,Di)||D(this,Ot)&&this[Ot][Di])||an)},Kt=function(Gi,Di){var an=te(Gi),_t=oe(Di);if(an!==Rt||!D(wt,_t)||D(rt,_t)){var Mt=ut(an,_t);return Mt&&D(wt,_t)&&!(D(an,Ot)&&an[Ot][_t])&&(Mt.enumerable=!0),Mt}},Ei=function(Gi){var Di=yt(te(Gi)),an=[];return dt(Di,function(_t){!D(wt,_t)&&!D(Ce,_t)&&gi(an,_t)}),an},vi=function(pi){var Gi=pi===Rt,Di=yt(Gi?rt:te(pi)),an=[];return dt(Di,function(_t){D(wt,_t)&&(!Gi||D(Rt,_t))&&gi(an,wt[_t])}),an};u||(ce(mt=(ii=function(){if(F(mt,this))throw Ye("Symbol is not a constructor");var Gi=arguments.length&&void 0!==arguments[0]?q(arguments[0]):void 0,Di=de(Gi),an=function(_t){this===Rt&&t(an,rt,_t),D(this,Ot)&&D(this[Ot],Di)&&(this[Ot][Di]=!1),lt(this,Di,ue(1,_t))};return a&&At&&lt(Rt,Di,{configurable:!0,set:an}),vt(Di,Gi)})[oi],"toString",function(){return ti(this).tag}),ce(ii,"withoutSetter",function(pi){return vt(de(pi),pi)}),me.f=Wt,ve.f=Et,se.f=Ke,Se.f=Kt,_e.f=Pe.f=Ei,Ue.f=vi,ot.f=function(pi){return vt(re(pi),pi)},a&&(Re(mt,"description",{configurable:!0,get:function(){return ti(this).description}}),n||ce(Rt,"propertyIsEnumerable",Wt,{unsafe:!0}))),E({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:ii}),dt(le(tt),function(pi){ze(pi)}),E({target:kt,stat:!0,forced:!u},{useSetter:function(){At=!0},useSimple:function(){At=!1}}),E({target:"Object",stat:!0,forced:!u,sham:!a},{create:function(Gi,Di){return void 0===Di?Te(Gi):Ke(Te(Gi),Di)},defineProperty:Et,defineProperties:Ke,getOwnPropertyDescriptor:Kt}),E({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:Ei}),De(),st(ii,kt),Ce[Ot]=!0},40765:()=>{},14355:(B,K,f)=>{var E=f(79235),m=f(59939),t=f(8277),e=f(77645),n=f(68790),a=f(89383),u=n("string-to-symbol-registry"),C=n("symbol-to-string-registry");E({target:"Symbol",stat:!0,forced:!a},{for:function(D){var F=e(D);if(t(u,F))return u[F];var W=m("Symbol")(F);return u[F]=W,C[W]=F,W}})},12605:(B,K,f)=>{f(2490)("hasInstance")},16035:(B,K,f)=>{f(2490)("isConcatSpreadable")},31320:(B,K,f)=>{f(2490)("iterator")},34987:(B,K,f)=>{f(13487),f(14355),f(68092),f(48115),f(28257)},68092:(B,K,f)=>{var E=f(79235),m=f(8277),t=f(61284),e=f(66766),n=f(68790),a=f(89383),u=n("symbol-to-string-registry");E({target:"Symbol",stat:!0,forced:!a},{keyFor:function(D){if(!t(D))throw TypeError(e(D)+" is not a symbol");if(m(u,D))return u[D]}})},73714:(B,K,f)=>{f(2490)("matchAll")},55128:(B,K,f)=>{f(2490)("match")},3906:(B,K,f)=>{f(2490)("replace")},39471:(B,K,f)=>{f(2490)("search")},18301:(B,K,f)=>{f(2490)("species")},45955:(B,K,f)=>{f(2490)("split")},11609:(B,K,f)=>{var E=f(2490),m=f(50433);E("toPrimitive"),m()},69958:(B,K,f)=>{var E=f(59939),m=f(2490),t=f(32049);m("toStringTag"),t(E("Symbol"),"Symbol")},23726:(B,K,f)=>{f(2490)("unscopables")},71712:(B,K,f)=>{"use strict";var te,E=f(92244),m=f(58316),t=f(50077),e=f(41770),n=f(4236),a=f(15474),u=f(29642),C=f(4415),D=f(74818).enforce,F=f(68785),W=!E.ActiveXObject&&"ActiveXObject"in E,oe=function(Ue){return function(){return Ue(this,arguments.length?arguments[0]:void 0)}},q=n("WeakMap",oe,a);if(F&&W){te=a.getConstructor(oe,"WeakMap",!0),e.enable();var ue=q.prototype,Te=m(ue.delete),le=m(ue.has),_e=m(ue.get),Pe=m(ue.set);t(ue,{delete:function(Ue){if(u(Ue)&&!C(Ue)){var Se=D(this);return Se.frozen||(Se.frozen=new te),Te(this,Ue)||Se.frozen.delete(Ue)}return Te(this,Ue)},has:function(Se){if(u(Se)&&!C(Se)){var ve=D(this);return ve.frozen||(ve.frozen=new te),le(this,Se)||ve.frozen.has(Se)}return le(this,Se)},get:function(Se){if(u(Se)&&!C(Se)){var ve=D(this);return ve.frozen||(ve.frozen=new te),le(this,Se)?_e(this,Se):ve.frozen.get(Se)}return _e(this,Se)},set:function(Se,ve){if(u(Se)&&!C(Se)){var se=D(this);se.frozen||(se.frozen=new te),le(this,Se)?Pe(this,Se,ve):se.frozen.set(Se,ve)}else Pe(this,Se,ve);return this}})}},55922:(B,K,f)=>{f(71712)},29224:(B,K,f)=>{f(67704)},13742:(B,K,f)=>{f(17028)},96910:(B,K,f)=>{f(44055)},3242:(B,K,f)=>{"use strict";var E=f(79235),m=f(4228),t=f(68716);E({target:"Promise",stat:!0,forced:!0},{try:function(e){var n=m.f(this),a=t(e);return(a.error?n.reject:n.resolve)(a.value),n.promise}})},44197:(B,K,f)=>{f(2490)("asyncDispose")},99797:(B,K,f)=>{f(2490)("dispose")},11262:(B,K,f)=>{f(2490)("matcher")},75626:(B,K,f)=>{f(2490)("metadata")},27657:(B,K,f)=>{f(2490)("observable")},71158:(B,K,f)=>{f(2490)("patternMatch")},92001:(B,K,f)=>{f(2490)("replaceAll")},17600:(B,K,f)=>{f(22929);var E=f(49467),m=f(92244),t=f(18598),e=f(3156),n=f(41949),u=f(45312)("toStringTag");for(var C in E){var D=m[C],F=D&&D.prototype;F&&t(F)!==u&&e(F,u,C),n[C]=n.Array}},67144:(B,K,f)=>{"use strict";f(22929);var E=f(79235),m=f(92244),t=f(40004),e=f(58316),n=f(2646),a=f(41341),u=f(20404),C=f(50077),D=f(32049),F=f(42758),W=f(74818),te=f(93450),oe=f(51594),q=f(8277),ue=f(90869),Te=f(18598),le=f(67057),_e=f(29642),Pe=f(77645),Ue=f(54021),Se=f(8342),ve=f(98577),se=f(23035),me=f(19814),ce=f(45312),Ne=f(4590),Ae=ce("iterator"),Ce="URLSearchParams",de=Ce+"Iterator",re=W.set,ot=W.getterFor(Ce),ze=W.getterFor(de),De=Object.getOwnPropertyDescriptor,st=function(_t){if(!n)return m[_t];var Mt=De(m,_t);return Mt&&Mt.value},pt=st("fetch"),dt=st("Request"),Ot=st("Headers"),kt=dt&&dt.prototype,oi=Ot&&Ot.prototype,bi=m.RegExp,ti=m.TypeError,Rt=m.decodeURIComponent,ii=m.encodeURIComponent,mt=e("".charAt),Ye=e([].join),Je=e([].push),ut=e("".replace),Re=e([].shift),yt=e([].splice),zt=e("".split),gi=e("".slice),wt=/\+/g,rt=Array(4),tt=function(_t){return rt[_t-1]||(rt[_t-1]=bi("((?:%[\\da-f]{2}){"+_t+"})","gi"))},At=function(_t){try{return Rt(_t)}catch(Mt){return _t}},lt=function(_t){var Mt=ut(_t,wt," "),_i=4;try{return Rt(Mt)}catch(yi){for(;_i;)Mt=ut(Mt,tt(_i--),At);return Mt}},vt=/[!'()~]|%20/g,Et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ke=function(_t){return Et[_t]},Ze=function(_t){return ut(ii(_t),vt,Ke)},Wt=F(function(Mt,_i){re(this,{type:de,iterator:ve(ot(Mt).entries),kind:_i})},"Iterator",function(){var Mt=ze(this),_i=Mt.kind,yi=Mt.iterator.next(),Fi=yi.value;return yi.done||(yi.value="keys"===_i?Fi.key:"values"===_i?Fi.value:[Fi.key,Fi.value]),yi},!0),Kt=function(_t){this.entries=[],this.url=null,void 0!==_t&&(_e(_t)?this.parseObject(_t):this.parseQuery("string"==typeof _t?"?"===mt(_t,0)?gi(_t,1):_t:Pe(_t)))};Kt.prototype={type:Ce,bindURL:function(_t){this.url=_t,this.update()},parseObject:function(_t){var _i,yi,Fi,Pi,gn,ai,Tt,Mt=se(_t);if(Mt)for(yi=(_i=ve(_t,Mt)).next;!(Fi=t(yi,_i)).done;){if(Pi=ve(le(Fi.value)),(ai=t(gn=Pi.next,Pi)).done||(Tt=t(gn,Pi)).done||!t(gn,Pi).done)throw ti("Expected sequence with length 2");Je(this.entries,{key:Pe(ai.value),value:Pe(Tt.value)})}else for(var He in _t)q(_t,He)&&Je(this.entries,{key:He,value:Pe(_t[He])})},parseQuery:function(_t){if(_t)for(var yi,Fi,Mt=zt(_t,"&"),_i=0;_i<Mt.length;)(yi=Mt[_i++]).length&&(Fi=zt(yi,"="),Je(this.entries,{key:lt(Re(Fi)),value:lt(Ye(Fi,"="))}))},serialize:function(){for(var yi,_t=this.entries,Mt=[],_i=0;_i<_t.length;)yi=_t[_i++],Je(Mt,Ze(yi.key)+"="+Ze(yi.value));return Ye(Mt,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var Ei=function(){te(this,vi);var Mt=arguments.length>0?arguments[0]:void 0;re(this,new Kt(Mt))},vi=Ei.prototype;if(C(vi,{append:function(Mt,_i){me(arguments.length,2);var yi=ot(this);Je(yi.entries,{key:Pe(Mt),value:Pe(_i)}),yi.updateURL()},delete:function(_t){me(arguments.length,1);for(var Mt=ot(this),_i=Mt.entries,yi=Pe(_t),Fi=0;Fi<_i.length;)_i[Fi].key===yi?yt(_i,Fi,1):Fi++;Mt.updateURL()},get:function(Mt){me(arguments.length,1);for(var _i=ot(this).entries,yi=Pe(Mt),Fi=0;Fi<_i.length;Fi++)if(_i[Fi].key===yi)return _i[Fi].value;return null},getAll:function(Mt){me(arguments.length,1);for(var _i=ot(this).entries,yi=Pe(Mt),Fi=[],Pi=0;Pi<_i.length;Pi++)_i[Pi].key===yi&&Je(Fi,_i[Pi].value);return Fi},has:function(Mt){me(arguments.length,1);for(var _i=ot(this).entries,yi=Pe(Mt),Fi=0;Fi<_i.length;)if(_i[Fi++].key===yi)return!0;return!1},set:function(Mt,_i){me(arguments.length,1);for(var He,yi=ot(this),Fi=yi.entries,Pi=!1,gn=Pe(Mt),ai=Pe(_i),Tt=0;Tt<Fi.length;Tt++)(He=Fi[Tt]).key===gn&&(Pi?yt(Fi,Tt--,1):(Pi=!0,He.value=ai));Pi||Je(Fi,{key:gn,value:ai}),yi.updateURL()},sort:function(){var Mt=ot(this);Ne(Mt.entries,function(_i,yi){return _i.key>yi.key?1:-1}),Mt.updateURL()},forEach:function(Mt){for(var Pi,_i=ot(this).entries,yi=ue(Mt,arguments.length>1?arguments[1]:void 0),Fi=0;Fi<_i.length;)yi((Pi=_i[Fi++]).value,Pi.key,this)},keys:function(){return new Wt(this,"keys")},values:function(){return new Wt(this,"values")},entries:function(){return new Wt(this,"entries")}},{enumerable:!0}),u(vi,Ae,vi.entries,{name:"entries"}),u(vi,"toString",function(){return ot(this).serialize()},{enumerable:!0}),D(Ei,Ce),E({global:!0,constructor:!0,forced:!a},{URLSearchParams:Ei}),!a&&oe(Ot)){var pi=e(oi.has),Gi=e(oi.set),Di=function(_t){if(_e(_t)){var _i,Mt=_t.body;if(Te(Mt)===Ce)return _i=_t.headers?new Ot(_t.headers):new Ot,pi(_i,"content-type")||Gi(_i,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ue(_t,{body:Se(0,Pe(Mt)),headers:Se(0,_i)})}return _t};if(oe(pt)&&E({global:!0,enumerable:!0,noTargetGet:!0,forced:!0},{fetch:function(Mt){return pt(Mt,arguments.length>1?Di(arguments[1]):{})}}),oe(dt)){var an=function(Mt){return te(this,kt),new dt(Mt,arguments.length>1?Di(arguments[1]):{})};kt.constructor=an,an.prototype=kt,E({global:!0,constructor:!0,noTargetGet:!0,forced:!0},{Request:an})}}B.exports={URLSearchParams:Ei,getState:ot}},67395:(B,K,f)=>{f(67144)},96711:(B,K,f)=>{var E=f(717);B.exports=E},15063:(B,K,f)=>{var E=f(50267);B.exports=E},73341:(B,K,f)=>{var E=f(88288);B.exports=E},74023:(B,K,f)=>{var E=f(1445);B.exports=E},92694:(B,K,f)=>{var E=f(25073);f(17600),B.exports=E},86934:(B,K,f)=>{var E=f(67021);B.exports=E},48505:(B,K,f)=>{f(17600);var E=f(18598),m=f(8277),t=f(32807),e=f(73341),n=Array.prototype,a={DOMTokenList:!0,NodeList:!0};B.exports=function(u){var C=u.entries;return u===n||t(n,u)&&C===n.entries||m(a,E(u))?e:C}},12265:(B,K,f)=>{var E=f(53192);B.exports=E},81e3:(B,K,f)=>{var E=f(86915);B.exports=E},68144:(B,K,f)=>{f(17600);var E=f(18598),m=f(8277),t=f(32807),e=f(74023),n=Array.prototype,a={DOMTokenList:!0,NodeList:!0};B.exports=function(u){var C=u.forEach;return u===n||t(n,u)&&C===n.forEach||m(a,E(u))?e:C}},33866:(B,K,f)=>{var E=f(6198);B.exports=E},22932:(B,K,f)=>{var E=f(70801);B.exports=E},72016:(B,K,f)=>{var E=f(2807);B.exports=E},51387:(B,K,f)=>{var E=f(85546);B.exports=E},74607:(B,K,f)=>{var E=f(90475);B.exports=E},31137:(B,K,f)=>{var E=f(53602);B.exports=E},96354:(B,K,f)=>{var E=f(98516);B.exports=E},74230:(B,K,f)=>{var E=f(81062);B.exports=E},33659:(B,K,f)=>{var E=f(61539);B.exports=E},26591:(B,K,f)=>{var E=f(50434);B.exports=E},51589:(B,K,f)=>{var E=f(18263);B.exports=E},6372:(B,K,f)=>{var E=f(87043);B.exports=E},5317:(B,K,f)=>{var E=f(28125);B.exports=E},44829:(B,K,f)=>{var E=f(53453);B.exports=E},52298:(B,K,f)=>{var E=f(96648);B.exports=E},6870:(B,K,f)=>{var E=f(8736);f(17600),B.exports=E},8047:(B,K,f)=>{var E=f(38828);f(17600),B.exports=E},45168:(B,K,f)=>{var E=f(94154);f(17600),B.exports=E},68372:(B,K,f)=>{var E=f(27144);f(17600),B.exports=E},18362:(B,K,f)=>{var E=f(30026);f(17600),B.exports=E},27144:(B,K,f)=>{f(67395);var E=f(33706);B.exports=E.URLSearchParams},45618:function(){var B;B="undefined"!=typeof self?self:this,function(f){var E_searchParams="URLSearchParams"in B,E_iterable="Symbol"in B&&"iterator"in Symbol,E_blob="FileReader"in B&&"Blob"in B&&function(){try{return new Blob,!0}catch(me){return!1}}(),E_formData="FormData"in B,E_arrayBuffer="ArrayBuffer"in B;if(E_arrayBuffer)var t=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],e=ArrayBuffer.isView||function(me){return me&&t.indexOf(Object.prototype.toString.call(me))>-1};function n(me){if("string"!=typeof me&&(me=String(me)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(me))throw new TypeError("Invalid character in header field name");return me.toLowerCase()}function a(me){return"string"!=typeof me&&(me=String(me)),me}function u(me){var ce={next:function(){var Ne=me.shift();return{done:void 0===Ne,value:Ne}}};return E_iterable&&(ce[Symbol.iterator]=function(){return ce}),ce}function C(me){this.map={},me instanceof C?me.forEach(function(ce,Ne){this.append(Ne,ce)},this):Array.isArray(me)?me.forEach(function(ce){this.append(ce[0],ce[1])},this):me&&Object.getOwnPropertyNames(me).forEach(function(ce){this.append(ce,me[ce])},this)}function D(me){if(me.bodyUsed)return Promise.reject(new TypeError("Already read"));me.bodyUsed=!0}function F(me){return new Promise(function(ce,Ne){me.onload=function(){ce(me.result)},me.onerror=function(){Ne(me.error)}})}function W(me){var ce=new FileReader,Ne=F(ce);return ce.readAsArrayBuffer(me),Ne}function q(me){if(me.slice)return me.slice(0);var ce=new Uint8Array(me.byteLength);return ce.set(new Uint8Array(me)),ce.buffer}function ue(){return this.bodyUsed=!1,this._initBody=function(me){this._bodyInit=me,me?"string"==typeof me?this._bodyText=me:E_blob&&Blob.prototype.isPrototypeOf(me)?this._bodyBlob=me:E_formData&&FormData.prototype.isPrototypeOf(me)?this._bodyFormData=me:E_searchParams&&URLSearchParams.prototype.isPrototypeOf(me)?this._bodyText=me.toString():E_arrayBuffer&&E_blob&&function m(me){return me&&DataView.prototype.isPrototypeOf(me)}(me)?(this._bodyArrayBuffer=q(me.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):E_arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(me)||e(me))?this._bodyArrayBuffer=q(me):this._bodyText=me=Object.prototype.toString.call(me):this._bodyText="",this.headers.get("content-type")||("string"==typeof me?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):E_searchParams&&URLSearchParams.prototype.isPrototypeOf(me)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},E_blob&&(this.blob=function(){var me=D(this);if(me)return me;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?D(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(W)}),this.text=function(){var me=D(this);if(me)return me;if(this._bodyBlob)return function te(me){var ce=new FileReader,Ne=F(ce);return ce.readAsText(me),Ne}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function oe(me){for(var ce=new Uint8Array(me),Ne=new Array(ce.length),Ae=0;Ae<ce.length;Ae++)Ne[Ae]=String.fromCharCode(ce[Ae]);return Ne.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},E_formData&&(this.formData=function(){return this.text().then(Pe)}),this.json=function(){return this.text().then(JSON.parse)},this}C.prototype.append=function(me,ce){me=n(me),ce=a(ce);var Ne=this.map[me];this.map[me]=Ne?Ne+", "+ce:ce},C.prototype.delete=function(me){delete this.map[n(me)]},C.prototype.get=function(me){return me=n(me),this.has(me)?this.map[me]:null},C.prototype.has=function(me){return this.map.hasOwnProperty(n(me))},C.prototype.set=function(me,ce){this.map[n(me)]=a(ce)},C.prototype.forEach=function(me,ce){for(var Ne in this.map)this.map.hasOwnProperty(Ne)&&me.call(ce,this.map[Ne],Ne,this)},C.prototype.keys=function(){var me=[];return this.forEach(function(ce,Ne){me.push(Ne)}),u(me)},C.prototype.values=function(){var me=[];return this.forEach(function(ce){me.push(ce)}),u(me)},C.prototype.entries=function(){var me=[];return this.forEach(function(ce,Ne){me.push([Ne,ce])}),u(me)},E_iterable&&(C.prototype[Symbol.iterator]=C.prototype.entries);var Te=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function _e(me,ce){var Ne=(ce=ce||{}).body;if(me instanceof _e){if(me.bodyUsed)throw new TypeError("Already read");this.url=me.url,this.credentials=me.credentials,ce.headers||(this.headers=new C(me.headers)),this.method=me.method,this.mode=me.mode,this.signal=me.signal,!Ne&&null!=me._bodyInit&&(Ne=me._bodyInit,me.bodyUsed=!0)}else this.url=String(me);if(this.credentials=ce.credentials||this.credentials||"same-origin",(ce.headers||!this.headers)&&(this.headers=new C(ce.headers)),this.method=function le(me){var ce=me.toUpperCase();return Te.indexOf(ce)>-1?ce:me}(ce.method||this.method||"GET"),this.mode=ce.mode||this.mode||null,this.signal=ce.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&Ne)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Ne)}function Pe(me){var ce=new FormData;return me.trim().split("&").forEach(function(Ne){if(Ne){var Ae=Ne.split("="),Ce=Ae.shift().replace(/\+/g," "),de=Ae.join("=").replace(/\+/g," ");ce.append(decodeURIComponent(Ce),decodeURIComponent(de))}}),ce}function Ue(me){var ce=new C;return me.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Ae){var Ce=Ae.split(":"),de=Ce.shift().trim();if(de){var re=Ce.join(":").trim();ce.append(de,re)}}),ce}function Se(me,ce){ce||(ce={}),this.type="default",this.status=void 0===ce.status?200:ce.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in ce?ce.statusText:"OK",this.headers=new C(ce.headers),this.url=ce.url||"",this._initBody(me)}_e.prototype.clone=function(){return new _e(this,{body:this._bodyInit})},ue.call(_e.prototype),ue.call(Se.prototype),Se.prototype.clone=function(){return new Se(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new C(this.headers),url:this.url})},Se.error=function(){var me=new Se(null,{status:0,statusText:""});return me.type="error",me};var ve=[301,302,303,307,308];Se.redirect=function(me,ce){if(-1===ve.indexOf(ce))throw new RangeError("Invalid status code");return new Se(null,{status:ce,headers:{location:me}})},f.DOMException=B.DOMException;try{new f.DOMException}catch(me){f.DOMException=function(ce,Ne){this.message=ce,this.name=Ne;var Ae=Error(ce);this.stack=Ae.stack},f.DOMException.prototype=Object.create(Error.prototype),f.DOMException.prototype.constructor=f.DOMException}function se(me,ce){return new Promise(function(Ne,Ae){var Ce=new _e(me,ce);if(Ce.signal&&Ce.signal.aborted)return Ae(new f.DOMException("Aborted","AbortError"));var de=new XMLHttpRequest;function re(){de.abort()}de.onload=function(){var ot={status:de.status,statusText:de.statusText,headers:Ue(de.getAllResponseHeaders()||"")};ot.url="responseURL"in de?de.responseURL:ot.headers.get("X-Request-URL"),Ne(new Se("response"in de?de.response:de.responseText,ot))},de.onerror=function(){Ae(new TypeError("Network request failed"))},de.ontimeout=function(){Ae(new TypeError("Network request failed"))},de.onabort=function(){Ae(new f.DOMException("Aborted","AbortError"))},de.open(Ce.method,Ce.url,!0),"include"===Ce.credentials?de.withCredentials=!0:"omit"===Ce.credentials&&(de.withCredentials=!1),"responseType"in de&&E_blob&&(de.responseType="blob"),Ce.headers.forEach(function(ot,ze){de.setRequestHeader(ze,ot)}),Ce.signal&&(Ce.signal.addEventListener("abort",re),de.onreadystatechange=function(){4===de.readyState&&Ce.signal.removeEventListener("abort",re)}),de.send(void 0===Ce._bodyInit?null:Ce._bodyInit)})}se.polyfill=!0,B.fetch||(B.fetch=se,B.Headers=C,B.Request=_e,B.Response=Se),f.Headers=C,f.Request=_e,f.Response=Se,f.fetch=se,Object.defineProperty(f,"__esModule",{value:!0})}({})},38277:B=>{"use strict";function K(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp}function f(e){if(e instanceof Buffer){var n=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);return e.copy(n),n}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);throw new Error("Unexpected situation")}function E(e){var n=[];return e.forEach(function(a,u){n[u]="object"==typeof a&&null!==a?Array.isArray(a)?E(a):K(a)?f(a):t({},a):a}),n}function m(e,n){return"__proto__"===n?void 0:e[n]}var t=B.exports=function(){if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var a,u,e=arguments[0],n=Array.prototype.slice.call(arguments,1);return n.forEach(function(D){"object"!=typeof D||null===D||Array.isArray(D)||Object.keys(D).forEach(function(F){if(u=m(e,F),(a=m(D,F))!==e)return"object"!=typeof a||null===a?void(e[F]=a):Array.isArray(a)?void(e[F]=E(a)):K(a)?void(e[F]=f(a)):"object"!=typeof u||null===u||Array.isArray(u)?void(e[F]=t({},a)):void(e[F]=t(u,a))})}),e}},94327:function(B,K){var m;void 0!==(m=function(){"use strict";function e(F,W,te){var oe=new XMLHttpRequest;oe.open("GET",F),oe.responseType="blob",oe.onload=function(){D(oe.response,W,te)},oe.onerror=function(){console.error("could not download file")},oe.send()}function n(F){var W=new XMLHttpRequest;W.open("HEAD",F,!1);try{W.send()}catch(te){}return 200<=W.status&&299>=W.status}function a(F){try{F.dispatchEvent(new MouseEvent("click"))}catch(te){var W=document.createEvent("MouseEvents");W.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),F.dispatchEvent(W)}}var u="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,C=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),D=u.saveAs||("object"!=typeof window||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!C?function(F,W,te){var oe=u.URL||u.webkitURL,q=document.createElement("a");q.download=W=W||F.name||"download",q.rel="noopener","string"==typeof F?(q.href=F,q.origin===location.origin?a(q):n(q.href)?e(F,W,te):a(q,q.target="_blank")):(q.href=oe.createObjectURL(F),setTimeout(function(){oe.revokeObjectURL(q.href)},4e4),setTimeout(function(){a(q)},0))}:"msSaveOrOpenBlob"in navigator?function(F,W,te){if(W=W||F.name||"download","string"!=typeof F)navigator.msSaveOrOpenBlob(function t(F,W){return void 0===W?W={autoBom:!1}:"object"!=typeof W&&(console.warn("Deprecated: Expected third argument to be a object"),W={autoBom:!W}),W.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(F.type)?new Blob(["\ufeff",F],{type:F.type}):F}(F,te),W);else if(n(F))e(F,W,te);else{var oe=document.createElement("a");oe.href=F,oe.target="_blank",setTimeout(function(){a(oe)})}}:function(F,W,te,oe){if((oe=oe||open("","_blank"))&&(oe.document.title=oe.document.body.innerText="downloading..."),"string"==typeof F)return e(F,W,te);var q="application/octet-stream"===F.type,ue=/constructor/i.test(u.HTMLElement)||u.safari,Te=/CriOS\/[\d]+/.test(navigator.userAgent);if((Te||q&&ue||C)&&"undefined"!=typeof FileReader){var le=new FileReader;le.onloadend=function(){var Ue=le.result;Ue=Te?Ue:Ue.replace(/^data:[^;]*;/,"data:attachment/file;"),oe?oe.location.href=Ue:location=Ue,oe=null},le.readAsDataURL(F)}else{var _e=u.URL||u.webkitURL,Pe=_e.createObjectURL(F);oe?oe.location=Pe:location.href=Pe,oe=null,setTimeout(function(){_e.revokeObjectURL(Pe)},4e4)}});u.saveAs=D.saveAs=D,B.exports=D}.apply(K,[]))&&(B.exports=m)},83457:B=>{"use strict";var K="Function.prototype.bind called on incompatible ",f=Array.prototype.slice,E=Object.prototype.toString,m="[object Function]";B.exports=function(e){var n=this;if("function"!=typeof n||E.call(n)!==m)throw new TypeError(K+n);for(var u,a=f.call(arguments,1),C=function(){if(this instanceof u){var oe=n.apply(this,a.concat(f.call(arguments)));return Object(oe)===oe?oe:this}return n.apply(e,a.concat(f.call(arguments)))},D=Math.max(0,n.length-a.length),F=[],W=0;W<D;W++)F.push("$"+W);if(u=Function("binder","return function ("+F.join(",")+"){ return binder.apply(this,arguments); }")(C),n.prototype){var te=function(){};te.prototype=n.prototype,u.prototype=new te,te.prototype=null}return u}},84444:(B,K,f)=>{"use strict";var E=f(83457);B.exports=Function.prototype.bind||E},95203:(B,K,f)=>{"use strict";var E,m=SyntaxError,t=Function,e=TypeError,n=function(Ne){try{return t('"use strict"; return ('+Ne+").constructor;")()}catch(Ae){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(Ne){a=null}var u=function(){throw new e},C=a?function(){try{return u}catch(Ne){try{return a(arguments,"callee").get}catch(Ae){return u}}}():u,D=f(92969)(),F=Object.getPrototypeOf||function(Ne){return Ne.__proto__},W={},te="undefined"==typeof Uint8Array?E:F(Uint8Array),oe={"%AggregateError%":"undefined"==typeof AggregateError?E:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?E:ArrayBuffer,"%ArrayIteratorPrototype%":D?F([][Symbol.iterator]()):E,"%AsyncFromSyncIteratorPrototype%":E,"%AsyncFunction%":W,"%AsyncGenerator%":W,"%AsyncGeneratorFunction%":W,"%AsyncIteratorPrototype%":W,"%Atomics%":"undefined"==typeof Atomics?E:Atomics,"%BigInt%":"undefined"==typeof BigInt?E:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?E:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?E:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?E:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?E:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":W,"%Int8Array%":"undefined"==typeof Int8Array?E:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?E:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?E:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":D?F(F([][Symbol.iterator]())):E,"%JSON%":"object"==typeof JSON?JSON:E,"%Map%":"undefined"==typeof Map?E:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&D?F((new Map)[Symbol.iterator]()):E,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?E:Promise,"%Proxy%":"undefined"==typeof Proxy?E:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?E:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?E:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&D?F((new Set)[Symbol.iterator]()):E,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?E:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":D?F(""[Symbol.iterator]()):E,"%Symbol%":D?Symbol:E,"%SyntaxError%":m,"%ThrowTypeError%":C,"%TypedArray%":te,"%TypeError%":e,"%Uint8Array%":"undefined"==typeof Uint8Array?E:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?E:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?E:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?E:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?E:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?E:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?E:WeakSet},q=function Ne(Ae){var Ce;if("%AsyncFunction%"===Ae)Ce=n("async function () {}");else if("%GeneratorFunction%"===Ae)Ce=n("function* () {}");else if("%AsyncGeneratorFunction%"===Ae)Ce=n("async function* () {}");else if("%AsyncGenerator%"===Ae){var de=Ne("%AsyncGeneratorFunction%");de&&(Ce=de.prototype)}else if("%AsyncIteratorPrototype%"===Ae){var re=Ne("%AsyncGenerator%");re&&(Ce=F(re.prototype))}return oe[Ae]=Ce,Ce},ue={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Te=f(84444),le=f(93164),_e=Te.call(Function.call,Array.prototype.concat),Pe=Te.call(Function.apply,Array.prototype.splice),Ue=Te.call(Function.call,String.prototype.replace),Se=Te.call(Function.call,String.prototype.slice),ve=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,se=/\\(\\)?/g,me=function(Ae){var Ce=Se(Ae,0,1),de=Se(Ae,-1);if("%"===Ce&&"%"!==de)throw new m("invalid intrinsic syntax, expected closing `%`");if("%"===de&&"%"!==Ce)throw new m("invalid intrinsic syntax, expected opening `%`");var re=[];return Ue(Ae,ve,function(ot,ze,De,st){re[re.length]=De?Ue(st,se,"$1"):ze||ot}),re},ce=function(Ae,Ce){var re,de=Ae;if(le(ue,de)&&(de="%"+(re=ue[de])[0]+"%"),le(oe,de)){var ot=oe[de];if(ot===W&&(ot=q(de)),void 0===ot&&!Ce)throw new e("intrinsic "+Ae+" exists, but is not available. Please file an issue!");return{alias:re,name:de,value:ot}}throw new m("intrinsic "+Ae+" does not exist!")};B.exports=function(Ae,Ce){if("string"!=typeof Ae||0===Ae.length)throw new e("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ce)throw new e('"allowMissing" argument must be a boolean');var de=me(Ae),re=de.length>0?de[0]:"",ot=ce("%"+re+"%",Ce),ze=ot.name,De=ot.value,st=!1,pt=ot.alias;pt&&(re=pt[0],Pe(de,_e([0,1],pt)));for(var dt=1,Ot=!0;dt<de.length;dt+=1){var kt=de[dt],oi=Se(kt,0,1),bi=Se(kt,-1);if(('"'===oi||"'"===oi||"`"===oi||'"'===bi||"'"===bi||"`"===bi)&&oi!==bi)throw new m("property names with quotes must have matching quotes");if(("constructor"===kt||!Ot)&&(st=!0),le(oe,ze="%"+(re+="."+kt)+"%"))De=oe[ze];else if(null!=De){if(!(kt in De)){if(!Ce)throw new e("base intrinsic for "+Ae+" exists, but the property is not available.");return}if(a&&dt+1>=de.length){var ti=a(De,kt);De=(Ot=!!ti)&&"get"in ti&&!("originalValue"in ti.get)?ti.get:De[kt]}else Ot=le(De,kt),De=De[kt];Ot&&!st&&(oe[ze]=De)}}return De}},92969:(B,K,f)=>{"use strict";var E="undefined"!=typeof Symbol&&Symbol,m=f(81983);B.exports=function(){return"function"==typeof E&&"function"==typeof Symbol&&"symbol"==typeof E("foo")&&"symbol"==typeof Symbol("bar")&&m()}},81983:B=>{"use strict";B.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var f={},E=Symbol("test"),m=Object(E);if("string"==typeof E||"[object Symbol]"!==Object.prototype.toString.call(E)||"[object Symbol]"!==Object.prototype.toString.call(m))return!1;for(E in f[E]=42,f)return!1;if("function"==typeof Object.keys&&0!==Object.keys(f).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(f).length)return!1;var e=Object.getOwnPropertySymbols(f);if(1!==e.length||e[0]!==E||!Object.prototype.propertyIsEnumerable.call(f,E))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(f,E);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},93164:(B,K,f)=>{"use strict";var E=f(84444);B.exports=E.call(Function.call,Object.prototype.hasOwnProperty)},70697:function(B){B.exports=function(){"use strict";function K(be){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(xe){return typeof xe}:function(xe){return xe&&"function"==typeof Symbol&&xe.constructor===Symbol&&xe!==Symbol.prototype?"symbol":typeof xe})(be)}var be,E=(be={},function(et){var Dt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"introjs-stamp";return be[Dt]=be[Dt]||0,void 0===et[Dt]&&(et[Dt]=be[Dt]++),et[Dt]});function m(be,xe,et){if(be)for(var Dt=0,Ht=be.length;Dt<Ht;Dt++)xe(be[Dt],Dt);"function"==typeof et&&et()}var t=new function be(){var xe="introjs_event";this._id=function(et,Dt,Ht,ui){return Dt+E(Ht)+(ui?"_".concat(E(ui)):"")},this.on=function(et,Dt,Ht,ui,Zt){var li=this._id.apply(this,arguments),Oi=function(Ui){return Ht.call(ui||et,Ui||window.event)};"addEventListener"in et?et.addEventListener(Dt,Oi,Zt):"attachEvent"in et&&et.attachEvent("on".concat(Dt),Oi),et[xe]=et[xe]||{},et[xe][li]=Oi},this.off=function(et,Dt,Ht,ui,Zt){var li=this._id.apply(this,arguments),Oi=et[xe]&&et[xe][li];!Oi||("removeEventListener"in et?et.removeEventListener(Dt,Oi,Zt):"detachEvent"in et&&et.detachEvent("on".concat(Dt),Oi),et[xe][li]=null)}},e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(be,xe){return be(xe={exports:{}},xe.exports),xe.exports}var Rt,ii,a=function(be){return be&&be.Math==Math&&be},u=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof e&&e)||function(){return this}()||Function("return this")(),C=function(be){try{return!!be()}catch(xe){return!0}},D=!C(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),F=Function.prototype.call,W=F.bind?F.bind(F):function(){return F.apply(F,arguments)},te={}.propertyIsEnumerable,oe=Object.getOwnPropertyDescriptor,Te={f:oe&&!te.call({1:2},1)?function(xe){var et=oe(this,xe);return!!et&&et.enumerable}:te},le=function(be,xe){return{enumerable:!(1&be),configurable:!(2&be),writable:!(4&be),value:xe}},_e=Function.prototype,Pe=_e.bind,Ue=_e.call,Se=Pe&&Pe.bind(Ue),ve=Pe?function(be){return be&&Se(Ue,be)}:function(be){return be&&function(){return Ue.apply(be,arguments)}},se=ve({}.toString),me=ve("".slice),ce=function(be){return me(se(be),8,-1)},Ne=u.Object,Ae=ve("".split),Ce=C(function(){return!Ne("z").propertyIsEnumerable(0)})?function(be){return"String"==ce(be)?Ae(be,""):Ne(be)}:Ne,de=u.TypeError,re=function(be){if(null==be)throw de("Can't call method on "+be);return be},ot=function(be){return Ce(re(be))},ze=function(be){return"function"==typeof be},De=function(be){return"object"==typeof be?null!==be:ze(be)},st=function(be){return ze(be)?be:void 0},pt=function(be,xe){return arguments.length<2?st(u[be]):u[be]&&u[be][xe]},dt=ve({}.isPrototypeOf),Ot=pt("navigator","userAgent")||"",kt=u.process,oi=u.Deno,bi=kt&&kt.versions||oi&&oi.version,ti=bi&&bi.v8;ti&&(ii=(Rt=ti.split("."))[0]>0&&Rt[0]<4?1:+(Rt[0]+Rt[1])),!ii&&Ot&&(!(Rt=Ot.match(/Edge\/(\d+)/))||Rt[1]>=74)&&(Rt=Ot.match(/Chrome\/(\d+)/))&&(ii=+Rt[1]);var mt=ii,Ye=!!Object.getOwnPropertySymbols&&!C(function(){var be=Symbol();return!String(be)||!(Object(be)instanceof Symbol)||!Symbol.sham&&mt&&mt<41}),Je=Ye&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ut=u.Object,Re=Je?function(be){return"symbol"==typeof be}:function(be){var xe=pt("Symbol");return ze(xe)&&dt(xe.prototype,ut(be))},yt=u.String,zt=function(be){try{return yt(be)}catch(xe){return"Object"}},gi=u.TypeError,wt=function(be){if(ze(be))return be;throw gi(zt(be)+" is not a function")},rt=function(be,xe){var et=be[xe];return null==et?void 0:wt(et)},tt=u.TypeError,lt=Object.defineProperty,vt=function(be,xe){try{lt(u,be,{value:xe,configurable:!0,writable:!0})}catch(et){u[be]=xe}return xe},Et="__core-js_shared__",Ze=u[Et]||vt(Et,{}),Wt=n(function(be){(be.exports=function(xe,et){return Ze[xe]||(Ze[xe]=void 0!==et?et:{})})("versions",[]).push({version:"3.19.1",mode:"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})}),Kt=u.Object,Ei=function(be){return Kt(re(be))},vi=ve({}.hasOwnProperty),pi=Object.hasOwn||function(xe,et){return vi(Ei(xe),et)},Gi=0,Di=Math.random(),an=ve(1..toString),_t=function(be){return"Symbol("+(void 0===be?"":be)+")_"+an(++Gi+Di,36)},Mt=Wt("wks"),_i=u.Symbol,yi=_i&&_i.for,Fi=Je?_i:_i&&_i.withoutSetter||_t,Pi=function(be){if(!pi(Mt,be)||!Ye&&"string"!=typeof Mt[be]){var xe="Symbol."+be;Mt[be]=Ye&&pi(_i,be)?_i[be]:Je&&yi?yi(xe):Fi(xe)}return Mt[be]},gn=u.TypeError,ai=Pi("toPrimitive"),Tt=function(be,xe){if(!De(be)||Re(be))return be;var Dt,et=rt(be,ai);if(et){if(void 0===xe&&(xe="default"),Dt=W(et,be,xe),!De(Dt)||Re(Dt))return Dt;throw gn("Can't convert object to primitive value")}return void 0===xe&&(xe="number"),function(be,xe){var et,Dt;if("string"===xe&&ze(et=be.toString)&&!De(Dt=W(et,be))||ze(et=be.valueOf)&&!De(Dt=W(et,be))||"string"!==xe&&ze(et=be.toString)&&!De(Dt=W(et,be)))return Dt;throw tt("Can't convert object to primitive value")}(be,xe)},He=function(be){var xe=Tt(be,"string");return Re(xe)?xe:xe+""},Ee=u.document,Ve=De(Ee)&&De(Ee.createElement),gt=function(be){return Ve?Ee.createElement(be):{}},Ut=!D&&!C(function(){return 7!=Object.defineProperty(gt("div"),"a",{get:function(){return 7}}).a}),Xi=Object.getOwnPropertyDescriptor,An={f:D?Xi:function(xe,et){if(xe=ot(xe),et=He(et),Ut)try{return Xi(xe,et)}catch(Dt){}if(pi(xe,et))return le(!W(Te.f,xe,et),xe[et])}},qn=u.String,si=u.TypeError,$t=function(be){if(De(be))return be;throw si(qn(be)+" is not an object")},Pt=u.TypeError,di=Object.defineProperty,fn={f:D?di:function(xe,et,Dt){if($t(xe),et=He(et),$t(Dt),Ut)try{return di(xe,et,Dt)}catch(Ht){}if("get"in Dt||"set"in Dt)throw Pt("Accessors not supported");return"value"in Dt&&(xe[et]=Dt.value),xe}},kn=D?function(be,xe,et){return fn.f(be,xe,le(1,et))}:function(be,xe,et){return be[xe]=et,be},rr=ve(Function.toString);ze(Ze.inspectSource)||(Ze.inspectSource=function(be){return rr(be)});var jn,mr,Vr,Sr=Ze.inspectSource,Jr=u.WeakMap,Qr=ze(Jr)&&/native code/.test(Sr(Jr)),bo=Wt("keys"),Dr=function(be){return bo[be]||(bo[be]=_t(be))},dr={},Zo="Object already initialized",ar=u.TypeError;if(Qr||Ze.state){var Zr=Ze.state||(Ze.state=new(0,u.WeakMap)),xr=ve(Zr.get),Bi=ve(Zr.has),Bn=ve(Zr.set);jn=function(be,xe){if(Bi(Zr,be))throw new ar(Zo);return xe.facade=be,Bn(Zr,be,xe),xe},mr=function(be){return xr(Zr,be)||{}},Vr=function(be){return Bi(Zr,be)}}else{var Ln=Dr("state");dr[Ln]=!0,jn=function(be,xe){if(pi(be,Ln))throw new ar(Zo);return xe.facade=be,kn(be,Ln,xe),xe},mr=function(be){return pi(be,Ln)?be[Ln]:{}},Vr=function(be){return pi(be,Ln)}}var at={set:jn,get:mr,has:Vr,enforce:function(be){return Vr(be)?mr(be):jn(be,{})},getterFor:function(be){return function(xe){var et;if(!De(xe)||(et=mr(xe)).type!==be)throw ar("Incompatible receiver, "+be+" required");return et}}},Ft=Function.prototype,Ai=D&&Object.getOwnPropertyDescriptor,Yi=pi(Ft,"name"),Qn={EXISTS:Yi,PROPER:Yi&&"something"===function(){}.name,CONFIGURABLE:Yi&&(!D||D&&Ai(Ft,"name").configurable)},or=n(function(be){var xe=Qn.CONFIGURABLE,et=at.get,Dt=at.enforce,Ht=String(String).split("String");(be.exports=function(ui,Zt,li,Oi){var ur,Ii=!!Oi&&!!Oi.unsafe,Ui=!!Oi&&!!Oi.enumerable,er=!!Oi&&!!Oi.noTargetGet,zn=Oi&&void 0!==Oi.name?Oi.name:Zt;ze(li)&&("Symbol("===String(zn).slice(0,7)&&(zn="["+String(zn).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!pi(li,"name")||xe&&li.name!==zn)&&kn(li,"name",zn),(ur=Dt(li)).source||(ur.source=Ht.join("string"==typeof zn?zn:""))),ui!==u?(Ii?!er&&ui[Zt]&&(Ui=!0):delete ui[Zt],Ui?ui[Zt]=li:kn(ui,Zt,li)):Ui?ui[Zt]=li:vt(Zt,li)})(Function.prototype,"toString",function(){return ze(this)&&et(this).source||Sr(this)})}),Sn=Math.ceil,Qo=Math.floor,uo=function(be){var xe=+be;return xe!=xe||0===xe?0:(xe>0?Qo:Sn)(xe)},io=Math.max,Io=Math.min,lr=function(be,xe){var et=uo(be);return et<0?io(et+xe,0):Io(et,xe)},Gs=Math.min,jo=function(be){return be>0?Gs(uo(be),9007199254740991):0},no=function(be){return jo(be.length)},Eo=function(be){return function(xe,et,Dt){var li,Ht=ot(xe),ui=no(Ht),Zt=lr(Dt,ui);if(be&&et!=et){for(;ui>Zt;)if((li=Ht[Zt++])!=li)return!0}else for(;ui>Zt;Zt++)if((be||Zt in Ht)&&Ht[Zt]===et)return be||Zt||0;return!be&&-1}},Ua={includes:Eo(!0),indexOf:Eo(!1)},So=Ua.indexOf,hs=ve([].push),ia=function(be,xe){var ui,et=ot(be),Dt=0,Ht=[];for(ui in et)!pi(dr,ui)&&pi(et,ui)&&hs(Ht,ui);for(;xe.length>Dt;)pi(et,ui=xe[Dt++])&&(~So(Ht,ui)||hs(Ht,ui));return Ht},Gr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ia=Gr.concat("length","prototype"),Os={f:Object.getOwnPropertyNames||function(xe){return ia(xe,Ia)}},Ga={f:Object.getOwnPropertySymbols},il=ve([].concat),pa=pt("Reflect","ownKeys")||function(xe){var et=Os.f($t(xe)),Dt=Ga.f;return Dt?il(et,Dt(xe)):et},Oa=function(be,xe){for(var et=pa(xe),Dt=fn.f,Ht=An.f,ui=0;ui<et.length;ui++){var Zt=et[ui];pi(be,Zt)||Dt(be,Zt,Ht(xe,Zt))}},Ws=/#|\.prototype\./,ns=function(be,xe){var et=Wa[nl(be)];return et==Ur||et!=rs&&(ze(xe)?C(xe):!!xe)},nl=ns.normalize=function(be){return String(be).replace(Ws,".").toLowerCase()},Wa=ns.data={},rs=ns.NATIVE="N",Ur=ns.POLYFILL="P",Pr=ns,na=An.f,Oo=function(be,xe){var Zt,li,Oi,Ii,Ui,et=be.target,Dt=be.global,Ht=be.stat;if(Zt=Dt?u:Ht?u[et]||vt(et,{}):(u[et]||{}).prototype)for(li in xe){if(Ii=xe[li],Oi=be.noTargetGet?(Ui=na(Zt,li))&&Ui.value:Zt[li],!Pr(Dt?li:et+(Ht?".":"#")+li,be.forced)&&void 0!==Oi){if(typeof Ii==typeof Oi)continue;Oa(Ii,Oi)}(be.sham||Oi&&Oi.sham)&&kn(Ii,"sham",!0),or(Zt,li,Ii,be)}},ra={};ra[Pi("toStringTag")]="z";var Ti,Ho="[object z]"===String(ra),fa=Pi("toStringTag"),Vo=u.Object,Do="Arguments"==ce(function(){return arguments}()),ro=Ho?ce:function(be){var xe,et,Dt;return void 0===be?"Undefined":null===be?"Null":"string"==typeof(et=function(be,xe){try{return be[xe]}catch(et){}}(xe=Vo(be),fa))?et:Do?ce(xe):"Object"==(Dt=ce(xe))&&ze(xe.callee)?"Arguments":Dt},ks=u.String,Ar=function(be){if("Symbol"===ro(be))throw TypeError("Cannot convert a Symbol value to a string");return ks(be)},Es=function(){var be=$t(this),xe="";return be.global&&(xe+="g"),be.ignoreCase&&(xe+="i"),be.multiline&&(xe+="m"),be.dotAll&&(xe+="s"),be.unicode&&(xe+="u"),be.sticky&&(xe+="y"),xe},ho=u.RegExp,Ta=C(function(){var be=ho("a","y");return be.lastIndex=2,null!=be.exec("abcd")}),ja=C(function(){var be=ho("^r","gy");return be.lastIndex=2,null!=be.exec("str")}),ps={UNSUPPORTED_Y:Ta,BROKEN_CARET:ja},qo=Object.keys||function(xe){return ia(xe,Gr)},js=D?Object.defineProperties:function(xe,et){$t(xe);for(var li,Dt=ot(et),Ht=qo(et),ui=Ht.length,Zt=0;ui>Zt;)fn.f(xe,li=Ht[Zt++],Dt[li]);return xe},fl=pt("document","documentElement"),oa="prototype",ke="script",Z=Dr("IE_PROTO"),V=function(){},j=function(be){return"<script>"+be+"</"+ke+">"},Ie=function(be){be.write(j("")),be.close();var xe=be.parentWindow.Object;return be=null,xe},dn=function(){try{Ti=new ActiveXObject("htmlfile")}catch(xe){}dn="undefined"!=typeof document?document.domain&&Ti?Ie(Ti):function(){var et,be=gt("iframe");return be.style.display="none",fl.appendChild(be),be.src=String("javascript:"),(et=be.contentWindow.document).open(),et.write(j("document.F=Object")),et.close(),et.F}():Ie(Ti);for(var be=Gr.length;be--;)delete dn[oa][Gr[be]];return dn()};dr[Z]=!0;var Un=Object.create||function(xe,et){var Dt;return null!==xe?(V[oa]=$t(xe),Dt=new V,V[oa]=null,Dt[Z]=xe):Dt=dn(),void 0===et?Dt:js(Dt,et)},Ir=u.RegExp,Wr=C(function(){var be=Ir(".","s");return!(be.dotAll&&be.exec("\n")&&"s"===be.flags)}),Or=u.RegExp,qr=C(function(){var be=Or("(?<a>b)","g");return"b"!==be.exec("b").groups.a||"bc"!=="b".replace(be,"$<a>c")}),hr=at.get,ko=Wt("native-string-replace",String.prototype.replace),$n=RegExp.prototype.exec,zs=$n,rl=ve("".charAt),es=ve("".indexOf),za=ve("".replace),Ls=ve("".slice),wa=function(){var be=/a/,xe=/b*/g;return W($n,be,"a"),W($n,xe,"a"),0!==be.lastIndex||0!==xe.lastIndex}(),Ec=ps.UNSUPPORTED_Y||ps.BROKEN_CARET,$i=void 0!==/()??/.exec("")[1];(wa||$i||Ec||Wr||qr)&&(zs=function(xe){var Zt,li,Oi,Ii,Ui,er,zn,et=this,Dt=hr(et),Ht=Ar(xe),ui=Dt.raw;if(ui)return ui.lastIndex=et.lastIndex,Zt=W(zs,ui,Ht),et.lastIndex=ui.lastIndex,Zt;var ur=Dt.groups,Uo=Ec&&et.sticky,yo=W(Es,et),zr=et.source,po=0,Go=Ht;if(Uo&&(yo=za(yo,"y",""),-1===es(yo,"g")&&(yo+="g"),Go=Ls(Ht,et.lastIndex),et.lastIndex>0&&(!et.multiline||et.multiline&&"\n"!==rl(Ht,et.lastIndex-1))&&(zr="(?: "+zr+")",Go=" "+Go,po++),li=new RegExp("^(?:"+zr+")",yo)),$i&&(li=new RegExp("^"+zr+"$(?!\\s)",yo)),wa&&(Oi=et.lastIndex),Ii=W($n,Uo?li:et,Go),Uo?Ii?(Ii.input=Ls(Ii.input,po),Ii[0]=Ls(Ii[0],po),Ii.index=et.lastIndex,et.lastIndex+=Ii[0].length):et.lastIndex=0:wa&&Ii&&(et.lastIndex=et.global?Ii.index+Ii[0].length:Oi),$i&&Ii&&Ii.length>1&&W(ko,Ii[0],li,function(){for(Ui=1;Ui<arguments.length-2;Ui++)void 0===arguments[Ui]&&(Ii[Ui]=void 0)}),Ii&&ur)for(Ii.groups=er=Un(null),Ui=0;Ui<ur.length;Ui++)er[(zn=ur[Ui])[0]]=Ii[zn[1]];return Ii});var it=zs;Oo({target:"RegExp",proto:!0,forced:/./.exec!==it},{exec:it});var G=Pi("species"),X=RegExp.prototype,ye=function(be,xe,et,Dt){var Ht=Pi(be),ui=!C(function(){var Ii={};return Ii[Ht]=function(){return 7},7!=""[be](Ii)}),Zt=ui&&!C(function(){var Ii=!1,Ui=/a/;return"split"===be&&((Ui={}).constructor={},Ui.constructor[G]=function(){return Ui},Ui.flags="",Ui[Ht]=/./[Ht]),Ui.exec=function(){return Ii=!0,null},Ui[Ht](""),!Ii});if(!ui||!Zt||et){var li=ve(/./[Ht]),Oi=xe(Ht,""[be],function(Ii,Ui,er,zn,ur){var Uo=ve(Ii),yo=Ui.exec;return yo===it||yo===X.exec?ui&&!ur?{done:!0,value:li(Ui,er,zn)}:{done:!0,value:Uo(er,Ui,zn)}:{done:!1}});or(String.prototype,be,Oi[0]),or(X,Ht,Oi[1])}Dt&&kn(X[Ht],"sham",!0)},qe=ve("".charAt),bt=ve("".charCodeAt),Xt=ve("".slice),Qt=function(be){return function(xe,et){var Zt,li,Dt=Ar(re(xe)),Ht=uo(et),ui=Dt.length;return Ht<0||Ht>=ui?be?"":void 0:(Zt=bt(Dt,Ht))<55296||Zt>56319||Ht+1===ui||(li=bt(Dt,Ht+1))<56320||li>57343?be?qe(Dt,Ht):Zt:be?Xt(Dt,Ht,Ht+2):li-56320+(Zt-55296<<10)+65536}},Hi=(Qt(!1),Qt(!0)),hn=function(be,xe,et){return xe+(et?Hi(be,xe).length:1)},bn=u.TypeError,Jn=function(be,xe){var et=be.exec;if(ze(et)){var Dt=W(et,be,xe);return null!==Dt&&$t(Dt),Dt}if("RegExp"===ce(be))return W(it,be,xe);throw bn("RegExp#exec called on incompatible receiver")};ye("match",function(be,xe,et){return[function(Ht){var ui=re(this),Zt=null==Ht?void 0:rt(Ht,be);return Zt?W(Zt,Ht,ui):new RegExp(Ht)[be](Ar(ui))},function(Dt){var Ht=$t(this),ui=Ar(Dt),Zt=et(xe,Ht,ui);if(Zt.done)return Zt.value;if(!Ht.global)return Jn(Ht,ui);var li=Ht.unicode;Ht.lastIndex=0;for(var Ui,Oi=[],Ii=0;null!==(Ui=Jn(Ht,ui));){var er=Ar(Ui[0]);Oi[Ii]=er,""===er&&(Ht.lastIndex=hn(ui,jo(Ht.lastIndex),li)),Ii++}return 0===Ii?null:Oi}]});var cr=Array.isArray||function(xe){return"Array"==ce(xe)},Gn=function(be,xe,et){var Dt=He(xe);Dt in be?fn.f(be,Dt,le(0,et)):be[Dt]=et},Yn=function(){},nr=[],jr=pt("Reflect","construct"),_o=/^\s*(?:class|function)\b/,zo=ve(_o.exec),Lo=!_o.exec(Yn),sa=function(be){if(!ze(be))return!1;try{return jr(Yn,nr,be),!0}catch(xe){return!1}},Co=!jr||C(function(){var be;return sa(sa.call)||!sa(Object)||!sa(function(){be=!0})||be})?function(be){if(!ze(be))return!1;switch(ro(be)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return Lo||!!zo(_o,Sr(be))}:sa,Ps=Pi("species"),Ys=u.Array,ka=function(be,xe){return new(function(be){var xe;return cr(be)&&(Co(xe=be.constructor)&&(xe===Ys||cr(xe.prototype))||De(xe)&&null===(xe=xe[Ps]))&&(xe=void 0),void 0===xe?Ys:xe}(be))(0===xe?0:xe)},lo=Pi("species"),Cs=function(be){return mt>=51||!C(function(){var xe=[];return(xe.constructor={})[lo]=function(){return{foo:1}},1!==xe[be](Boolean).foo})},ol=Pi("isConcatSpreadable"),os=9007199254740991,wn="Maximum allowed index exceeded",Xn=u.TypeError,Nn=mt>=51||!C(function(){var be=[];return be[ol]=!1,be.concat()[0]!==be}),_r=Cs("concat"),vr=function(be){if(!De(be))return!1;var xe=be[ol];return void 0!==xe?!!xe:cr(be)};Oo({target:"Array",proto:!0,forced:!Nn||!_r},{concat:function(xe){var ui,Zt,li,Oi,Ii,et=Ei(this),Dt=ka(et,0),Ht=0;for(ui=-1,li=arguments.length;ui<li;ui++)if(vr(Ii=-1===ui?et:arguments[ui])){if(Ht+(Oi=no(Ii))>os)throw Xn(wn);for(Zt=0;Zt<Oi;Zt++,Ht++)Zt in Ii&&Gn(Dt,Ht,Ii[Zt])}else{if(Ht>=os)throw Xn(wn);Gn(Dt,Ht++,Ii)}return Dt.length=Ht,Dt}}),Ho||or(Object.prototype,"toString",Ho?{}.toString:function(){return"[object "+ro(this)+"]"},{unsafe:!0});var $s=Qn.PROPER,oo="toString",Po=RegExp.prototype,ss=Po[oo],ws=ve(Es);(C(function(){return"/a/b"!=ss.call({source:"a",flags:"b"})})||$s&&ss.name!=oo)&&or(RegExp.prototype,oo,function(){var xe=$t(this),et=Ar(xe.source),Dt=xe.flags;return"/"+et+"/"+Ar(void 0===Dt&&dt(Po,xe)&&!("flags"in Po)?ws(xe):Dt)},{unsafe:!0});var Ns=Function.prototype,ql=Ns.apply,Fs=Ns.call,ts="object"==typeof Reflect&&Reflect.apply||(Ns.bind?Fs.bind(ql):function(){return Fs.apply(ql,arguments)}),ga=Pi("match"),La=function(be){var xe;return De(be)&&(void 0!==(xe=be[ga])?!!xe:"RegExp"==ce(be))},Ya=u.TypeError,al=Pi("species"),Gl=function(be,xe){var Dt,et=$t(be).constructor;return void 0===et||null==(Dt=$t(et)[al])?xe:function(be){if(Co(be))return be;throw Ya(zt(be)+" is not a constructor")}(Dt)},Xa=ve([].slice),gl=ps.UNSUPPORTED_Y,ml=4294967295,Vc=Math.min,ma=[].push,cc=ve(/./.exec),Pa=ve(ma),Js=ve("".slice),Ka=!C(function(){var be=/(?:)/,xe=be.exec;be.exec=function(){return xe.apply(this,arguments)};var et="ab".split(be);return 2!==et.length||"a"!==et[0]||"b"!==et[1]});function Zs(be,xe){if(be instanceof SVGElement){var et=be.getAttribute("class")||"";et.match(xe)||be.setAttribute("class","".concat(et," ").concat(xe))}else void 0!==be.classList?m(xe.split(" "),function(Ht){be.classList.add(Ht)}):be.className.match(xe)||(be.className+=" ".concat(xe))}function _a(be,xe){var et="";return be.currentStyle?et=be.currentStyle[xe]:document.defaultView&&document.defaultView.getComputedStyle&&(et=document.defaultView.getComputedStyle(be,null).getPropertyValue(xe)),et&&et.toLowerCase?et.toLowerCase():et}function Cc(be){var xe=be.element;if(this._options.scrollToElement){var et=function Wl(be){var xe=window.getComputedStyle(be),et="absolute"===xe.position,Dt=/(auto|scroll)/;if("fixed"===xe.position)return document.body;for(var Ht=be;Ht=Ht.parentElement;)if(xe=window.getComputedStyle(Ht),(!et||"static"!==xe.position)&&Dt.test(xe.overflow+xe.overflowY+xe.overflowX))return Ht;return document.body}(xe);et!==document.body&&(et.scrollTop=xe.offsetTop-et.offsetTop)}}function uc(){if(void 0!==window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var be=document.documentElement;return{width:be.clientWidth,height:be.clientHeight}}function fe(be,xe,et){var Ht,Dt=xe.element;if("off"!==be&&this._options.scrollToElement&&(Ht="tooltip"===be?et.getBoundingClientRect():Dt.getBoundingClientRect(),!function Uc(be){var xe=be.getBoundingClientRect();return xe.top>=0&&xe.left>=0&&xe.bottom+80<=window.innerHeight&&xe.right<=window.innerWidth}(Dt))){var ui=uc().height;Ht.bottom-(Ht.bottom-Ht.top)<0||Dt.clientHeight>ui?window.scrollBy(0,Ht.top-(ui/2-Ht.height/2)-this._options.scrollPadding):window.scrollBy(0,Ht.top-(ui/2-Ht.height/2)+this._options.scrollPadding)}}function ne(be){be.setAttribute("role","button"),be.tabIndex=0}ye("split",function(be,xe,et){var Dt;return Dt="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(Ht,ui){var Zt=Ar(re(this)),li=void 0===ui?ml:ui>>>0;if(0===li)return[];if(void 0===Ht)return[Zt];if(!La(Ht))return W(xe,Zt,Ht,li);for(var zn,ur,Uo,Oi=[],Ui=0,er=new RegExp(Ht.source,(Ht.ignoreCase?"i":"")+(Ht.multiline?"m":"")+(Ht.unicode?"u":"")+(Ht.sticky?"y":"")+"g");(zn=W(it,er,Zt))&&!((ur=er.lastIndex)>Ui&&(Pa(Oi,Js(Zt,Ui,zn.index)),zn.length>1&&zn.index<Zt.length&&ts(ma,Oi,Xa(zn,1)),Uo=zn[0].length,Ui=ur,Oi.length>=li));)er.lastIndex===zn.index&&er.lastIndex++;return Ui===Zt.length?(Uo||!cc(er,""))&&Pa(Oi,""):Pa(Oi,Js(Zt,Ui)),Oi.length>li?Xa(Oi,0,li):Oi}:"0".split(void 0,0).length?function(Ht,ui){return void 0===Ht&&0===ui?[]:W(xe,this,Ht,ui)}:xe,[function(ui,Zt){var li=re(this),Oi=null==ui?void 0:rt(ui,be);return Oi?W(Oi,ui,li,Zt):W(Dt,Ar(li),ui,Zt)},function(Ht,ui){var Zt=$t(this),li=Ar(Ht),Oi=et(Dt,Zt,li,ui,Dt!==xe);if(Oi.done)return Oi.value;var Ii=Gl(Zt,RegExp),Ui=Zt.unicode,zn=new Ii(gl?"^(?:"+Zt.source+")":Zt,(Zt.ignoreCase?"i":"")+(Zt.multiline?"m":"")+(Zt.unicode?"u":"")+(gl?"g":"y")),ur=void 0===ui?ml:ui>>>0;if(0===ur)return[];if(0===li.length)return null===Jn(zn,li)?[li]:[];for(var Uo=0,yo=0,zr=[];yo<li.length;){zn.lastIndex=gl?0:yo;var Go,po=Jn(zn,gl?Js(li,yo):li);if(null===po||(Go=Vc(jo(zn.lastIndex+(gl?yo:0)),li.length))===Uo)yo=hn(li,yo,Ui);else{if(Pa(zr,Js(li,Uo,yo)),zr.length===ur)return zr;for(var fo=1;fo<=po.length-1;fo++)if(Pa(zr,po[fo]),zr.length===ur)return zr;yo=Uo=Go}}return Pa(zr,Js(li,Uo)),zr}]},!Ka,gl);var Q=Object.assign,Oe=Object.defineProperty,Ge=ve([].concat),ft=!Q||C(function(){if(D&&1!==Q({b:1},Q(Oe({},"a",{enumerable:!0,get:function(){Oe(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var be={},xe={},et=Symbol(),Dt="abcdefghijklmnopqrst";return be[et]=7,Dt.split("").forEach(function(Ht){xe[Ht]=Ht}),7!=Q({},be)[et]||qo(Q({},xe)).join("")!=Dt})?function(xe,et){for(var Dt=Ei(xe),Ht=arguments.length,ui=1,Zt=Ga.f,li=Te.f;Ht>ui;)for(var zn,Oi=Ce(arguments[ui++]),Ii=Zt?Ge(qo(Oi),Zt(Oi)):qo(Oi),Ui=Ii.length,er=0;Ui>er;)zn=Ii[er++],(!D||W(li,Oi,zn))&&(Dt[zn]=Oi[zn]);return Dt}:Q;function Vt(be){var xe=be.parentNode;return!(!xe||"HTML"===xe.nodeName)&&("fixed"===_a(be,"position")||Vt(xe))}function qt(be,xe){var et=document.body,Dt=document.documentElement,Ht=window.pageYOffset||Dt.scrollTop||et.scrollTop,ui=window.pageXOffset||Dt.scrollLeft||et.scrollLeft;xe=xe||et;var Zt=be.getBoundingClientRect(),li=xe.getBoundingClientRect(),Oi=_a(xe,"position"),Ii={width:Zt.width,height:Zt.height};return"body"!==xe.tagName.toLowerCase()&&"relative"===Oi||"sticky"===Oi?Object.assign(Ii,{top:Zt.top-li.top,left:Zt.left-li.left}):Vt(be)?Object.assign(Ii,{top:Zt.top,left:Zt.left}):Object.assign(Ii,{top:Zt.top+Ht,left:Zt.left+ui})}Oo({target:"Object",stat:!0,forced:Object.assign!==ft},{assign:ft});var Li=Math.floor,Mn=ve("".charAt),yr=ve("".replace),Kn=ve("".slice),$r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,co=/\$([$&'`]|\d{1,2})/g,Sl=function(be,xe,et,Dt,Ht,ui){var Zt=et+be.length,li=Dt.length,Oi=co;return void 0!==Ht&&(Ht=Ei(Ht),Oi=$r),yr(ui,Oi,function(Ii,Ui){var er;switch(Mn(Ui,0)){case"$":return"$";case"&":return be;case"`":return Kn(xe,0,et);case"'":return Kn(xe,Zt);case"<":er=Ht[Kn(Ui,1,-1)];break;default:var zn=+Ui;if(0===zn)return Ii;if(zn>li){var ur=Li(zn/10);return 0===ur?Ii:ur<=li?void 0===Dt[ur-1]?Mn(Ui,1):Dt[ur-1]+Mn(Ui,1):Ii}er=Dt[zn-1]}return void 0===er?"":er})},Bs=Pi("replace"),Ss=Math.max,Qs=Math.min,Da=ve([].concat),as=ve([].push),Dl=ve("".indexOf),$a=ve("".slice),Gc=function(be){return void 0===be?be:String(be)},va="$0"==="a".replace(/./,"$0"),jl=!!/./[Bs]&&""===/./[Bs]("a","$0"),gs=!C(function(){var be=/./;return be.exec=function(){var xe=[];return xe.groups={a:"7"},xe},"7"!=="".replace(be,"$<a>")});function To(be,xe){if(be instanceof SVGElement){var et=be.getAttribute("class")||"";be.setAttribute("class",et.replace(xe,"").replace(/^\s+|\s+$/g,""))}else be.className=be.className.replace(xe,"").replace(/^\s+|\s+$/g,"")}function xo(be,xe){var et="";if(be.style.cssText&&(et+=be.style.cssText),"string"==typeof xe)et+=xe;else for(var Dt in xe)et+="".concat(Dt,":").concat(xe[Dt],";");be.style.cssText=et}function eo(be){if(be){if(!this._introItems[this._currentStep])return;var xe=this._introItems[this._currentStep],et=qt(xe.element,this._targetElement),Dt=this._options.helperElementPadding;Vt(xe.element)?Zs(be,"introjs-fixedTooltip"):To(be,"introjs-fixedTooltip"),"floating"===xe.position&&(Dt=0),xo(be,{width:"".concat(et.width+Dt,"px"),height:"".concat(et.height+Dt,"px"),top:"".concat(et.top-Dt/2,"px"),left:"".concat(et.left-Dt/2,"px")})}}ye("replace",function(be,xe,et){var Dt=jl?"$":"$0";return[function(ui,Zt){var li=re(this),Oi=null==ui?void 0:rt(ui,Bs);return Oi?W(Oi,ui,li,Zt):W(xe,Ar(li),ui,Zt)},function(Ht,ui){var Zt=$t(this),li=Ar(Ht);if("string"==typeof ui&&-1===Dl(ui,Dt)&&-1===Dl(ui,"$<")){var Oi=et(xe,Zt,li,ui);if(Oi.done)return Oi.value}var Ii=ze(ui);Ii||(ui=Ar(ui));var Ui=Zt.global;if(Ui){var er=Zt.unicode;Zt.lastIndex=0}for(var zn=[];;){var ur=Jn(Zt,li);if(null===ur||(as(zn,ur),!Ui))break;""===Ar(ur[0])&&(Zt.lastIndex=hn(li,jo(Zt.lastIndex),er))}for(var yo="",zr=0,po=0;po<zn.length;po++){for(var Go=Ar((ur=zn[po])[0]),fo=Ss(Qs(uo(ur.index),li.length),0),ua=[],cs=1;cs<ur.length;cs++)as(ua,Gc(ur[cs]));var qs=ur.groups;if(Ii){var hl=Da([Go],ua,fo,li);void 0!==qs&&as(hl,qs);var cu=Ar(ts(ui,void 0,hl))}else cu=Sl(Go,li,fo,ua,qs,ui);fo>=zr&&(yo+=$a(li,zr,fo)+cu,zr=fo+Go.length)}return yo+$a(li,zr)}]},!gs||!va||jl);var Ml=Pi("unscopables"),ru=Array.prototype;null==ru[Ml]&&fn.f(ru,Ml,{configurable:!0,value:Un(null)});var rd=Ua.includes;Oo({target:"Array",proto:!0},{includes:function(xe){return rd(this,xe,arguments.length>1?arguments[1]:void 0)}}),function(be){ru[Ml][be]=!0}("includes");var Gu=Cs("slice"),wu=Pi("species"),Tc=u.Array,Wu=Math.max;Oo({target:"Array",proto:!0,forced:!Gu},{slice:function(xe,et){var li,Oi,Ii,Dt=ot(this),Ht=no(Dt),ui=lr(xe,Ht),Zt=lr(void 0===et?Ht:et,Ht);if(cr(Dt)&&((Co(li=Dt.constructor)&&(li===Tc||cr(li.prototype))||De(li)&&null===(li=li[wu]))&&(li=void 0),li===Tc||void 0===li))return Xa(Dt,ui,Zt);for(Oi=new(void 0===li?Tc:li)(Wu(Zt-ui,0)),Ii=0;ui<Zt;ui++,Ii++)ui in Dt&&Gn(Oi,Ii,Dt[ui]);return Oi.length=Ii,Oi}});var Su=u.TypeError,od=function(be){if(La(be))throw Su("The method doesn't accept regular expressions");return be},dc=Pi("match"),No=ve("".indexOf);Oo({target:"String",proto:!0,forced:!function(be){var xe=/./;try{"/./"[be](xe)}catch(et){try{return xe[dc]=!1,"/./"[be](xe)}catch(Dt){}}return!1}("includes")},{includes:function(xe){return!!~No(Ar(re(this)),Ar(od(xe)),arguments.length>1?arguments[1]:void 0)}});var zl=function(be,xe){var et=[][be];return!!et&&C(function(){et.call(null,xe||function(){throw 1},1)})},tc=ve([].join),ya=Ce!=Object,_l=zl("join",",");Oo({target:"Array",proto:!0,forced:ya||!_l},{join:function(xe){return tc(ot(this),void 0===xe?",":xe)}});var Ds=ve(ve.bind),Ja=ve([].push),Ma=function(be){var xe=1==be,et=2==be,Dt=3==be,Ht=4==be,ui=6==be,Zt=7==be,li=5==be||ui;return function(Oi,Ii,Ui,er){for(var fo,ua,zn=Ei(Oi),ur=Ce(zn),Uo=function(be,xe){return wt(be),void 0===xe?be:Ds?Ds(be,xe):function(){return be.apply(xe,arguments)}}(Ii,Ui),yo=no(ur),zr=0,po=er||ka,Go=xe?po(Oi,yo):et||Zt?po(Oi,0):void 0;yo>zr;zr++)if((li||zr in ur)&&(ua=Uo(fo=ur[zr],zr,zn),be))if(xe)Go[zr]=ua;else if(ua)switch(be){case 3:return!0;case 5:return fo;case 6:return zr;case 2:Ja(Go,fo)}else switch(be){case 4:return!1;case 7:Ja(Go,fo)}return ui?-1:Dt||Ht?Ht:Go}},wc=[Ma(0),Ma(1),Ma(2),Ma(3),Ma(4),Ma(5),Ma(6),Ma(7)][2];function Br(be,xe,et,Dt,Ht){return be.left+xe+et.width>Dt.width?(Ht.style.left="".concat(Dt.width-et.width-be.left,"px"),!1):(Ht.style.left="".concat(xe,"px"),!0)}function Fa(be,xe,et,Dt){return be.left+be.width-xe-et.width<0?(Dt.style.left="".concat(-be.left,"px"),!1):(Dt.style.right="".concat(xe,"px"),!0)}Oo({target:"Array",proto:!0,forced:!Cs("filter")},{filter:function(xe){return wc(this,xe,arguments.length>1?arguments[1]:void 0)}});var vl=Cs("splice"),Yl=u.TypeError,Ms=Math.max,Xl=Math.min,ll=9007199254740991,sd="Maximum allowed length exceeded";function xl(be,xe){be.includes(xe)&&be.splice(be.indexOf(xe),1)}function ou(be,xe,et){var Dt=this._options.positionPrecedence.slice(),Ht=uc(),ui=qt(xe).height+10,Zt=qt(xe).width+20,li=be.getBoundingClientRect(),Oi="floating";li.bottom+ui>Ht.height&&xl(Dt,"bottom"),li.top-ui<0&&xl(Dt,"top"),li.right+Zt>Ht.width&&xl(Dt,"right"),li.left-Zt<0&&xl(Dt,"left");var Ui,er,Ii=-1!==(er=(Ui=et||"").indexOf("-"))?Ui.substr(er):"";return et&&(et=et.split("-")[0]),Dt.length&&(Oi=Dt.includes(et)?et:Dt[0]),["top","bottom"].includes(Oi)&&(Oi+=function ic(be,xe,et,Dt){var ui=xe/2,Zt=Math.min(et.width,window.screen.width),li=["-left-aligned","-middle-aligned","-right-aligned"];return Zt-be<xe&&xl(li,"-left-aligned"),(be<ui||Zt-be<ui)&&xl(li,"-middle-aligned"),be<xe&&xl(li,"-right-aligned"),li.length?li.includes(Dt)?Dt:li[0]:"-middle-aligned"}(li.left,Zt,Ht,Ii)),Oi}function ls(be,xe,et,Dt){var ui,Zt,li,Oi,Ii;if(Dt=Dt||!1,xe.style.top=null,xe.style.right=null,xe.style.bottom=null,xe.style.left=null,xe.style.marginLeft=null,xe.style.marginTop=null,et.style.display="inherit",this._introItems[this._currentStep])switch(xe.className=["introjs-tooltip","string"==typeof(ui=this._introItems[this._currentStep]).tooltipClass?ui.tooltipClass:this._options.tooltipClass].filter(Boolean).join(" "),xe.setAttribute("role","dialog"),"floating"!==(Ii=this._introItems[this._currentStep].position)&&this._options.autoPosition&&(Ii=ou.call(this,be,xe,Ii)),li=qt(be),Zt=qt(xe),Oi=uc(),Zs(xe,"introjs-".concat(Ii)),Ii){case"top-right-aligned":et.className="introjs-arrow bottom-right";var er=0;Fa(li,er,Zt,xe),xe.style.bottom="".concat(li.height+20,"px");break;case"top-middle-aligned":et.className="introjs-arrow bottom-middle";var zn=li.width/2-Zt.width/2;Dt&&(zn+=5),Fa(li,zn,Zt,xe)&&(xe.style.right=null,Br(li,zn,Zt,Oi,xe)),xe.style.bottom="".concat(li.height+20,"px");break;case"top-left-aligned":case"top":et.className="introjs-arrow bottom",Br(li,Dt?0:15,Zt,Oi,xe),xe.style.bottom="".concat(li.height+20,"px");break;case"right":xe.style.left="".concat(li.width+20,"px"),li.top+Zt.height>Oi.height?(et.className="introjs-arrow left-bottom",xe.style.top="-".concat(Zt.height-li.height-20,"px")):et.className="introjs-arrow left";break;case"left":!Dt&&!0===this._options.showStepNumbers&&(xe.style.top="15px"),li.top+Zt.height>Oi.height?(xe.style.top="-".concat(Zt.height-li.height-20,"px"),et.className="introjs-arrow right-bottom"):et.className="introjs-arrow right",xe.style.right="".concat(li.width+20,"px");break;case"floating":et.style.display="none",xe.style.left="50%",xe.style.top="50%",xe.style.marginLeft="-".concat(Zt.width/2,"px"),xe.style.marginTop="-".concat(Zt.height/2,"px");break;case"bottom-right-aligned":et.className="introjs-arrow top-right",Fa(li,er=0,Zt,xe),xe.style.top="".concat(li.height+20,"px");break;case"bottom-middle-aligned":et.className="introjs-arrow top-middle",zn=li.width/2-Zt.width/2,Dt&&(zn+=5),Fa(li,zn,Zt,xe)&&(xe.style.right=null,Br(li,zn,Zt,Oi,xe)),xe.style.top="".concat(li.height+20,"px");break;default:et.className="introjs-arrow top",Br(li,0,Zt,Oi,xe),xe.style.top="".concat(li.height+20,"px")}}function cl(){m(document.querySelectorAll(".introjs-showElement"),function(xe){To(xe,/introjs-[a-zA-Z]+/g)})}function Rr(be,xe){var et=document.createElement(be);xe=xe||{};var Dt=/^(?:role|data-|aria-)/;for(var Ht in xe){var ui=xe[Ht];"style"===Ht?xo(et,ui):Ht.match(Dt)?et.setAttribute(Ht,ui):et[Ht]=ui}return et}function Sc(be,xe,et){if(et){var Dt=xe.style.opacity||"1";xo(xe,{opacity:"0"}),window.setTimeout(function(){xo(xe,{opacity:Dt})},10)}be.appendChild(xe)}function la(){return parseInt(this._currentStep+1,10)/this._introItems.length*100}function hc(){var be=document.querySelector(".introjs-disableInteraction");null===be&&(be=Rr("div",{className:"introjs-disableInteraction"}),this._targetElement.appendChild(be)),eo.call(this,be)}function jc(be){var xe=this,et=Rr("div",{className:"introjs-bullets"});!1===this._options.showBullets&&(et.style.display="none");var Dt=Rr("ul");Dt.setAttribute("role","tablist");var Ht=function(){xe.goToStep(this.getAttribute("data-stepnumber"))};return m(this._introItems,function(ui,Zt){var li=ui.step,Oi=Rr("li"),Ii=Rr("a");Oi.setAttribute("role","presentation"),Ii.setAttribute("role","tab"),Ii.onclick=Ht,Zt===be.step-1&&(Ii.className="active"),ne(Ii),Ii.innerHTML="&nbsp;",Ii.setAttribute("data-stepnumber",li),Oi.appendChild(Ii),Dt.appendChild(Oi)}),et.appendChild(Dt),et}function Rl(be,xe){if(this._options.showBullets){var et=document.querySelector(".introjs-bullets");et.parentNode.replaceChild(jc.call(this,xe),et)}}function su(be,xe){this._options.showBullets&&(be.querySelector(".introjs-bullets li > a.active").className="",be.querySelector('.introjs-bullets li > a[data-stepnumber="'.concat(xe.step,'"]')).className="active")}function Ro(){var be=Rr("div");be.className="introjs-progress",!1===this._options.showProgress&&(be.style.display="none");var xe=Rr("div",{className:"introjs-progressbar"});return this._options.progressBarAdditionalClass&&(xe.className+=" "+this._options.progressBarAdditionalClass),xe.setAttribute("role","progress"),xe.setAttribute("aria-valuemin",0),xe.setAttribute("aria-valuemax",100),xe.setAttribute("aria-valuenow",la.call(this)),xe.style.cssText="width:".concat(la.call(this),"%;"),be.appendChild(xe),be}function Mu(be){be.querySelector(".introjs-progress .introjs-progressbar").style.cssText="width:".concat(la.call(this),"%;"),be.querySelector(".introjs-progress .introjs-progressbar").setAttribute("aria-valuenow",la.call(this))}function nc(be){var xe=this;void 0!==this._introChangeCallback&&this._introChangeCallback.call(this,be.element);var Zt,li,Oi,et=this,Dt=document.querySelector(".introjs-helperLayer"),Ht=document.querySelector(".introjs-tooltipReferenceLayer"),ui="introjs-helperLayer";if("string"==typeof be.highlightClass&&(ui+=" ".concat(be.highlightClass)),"string"==typeof this._options.highlightClass&&(ui+=" ".concat(this._options.highlightClass)),null!==Dt&&null!==Ht){var Ii=Ht.querySelector(".introjs-helperNumberLayer"),Ui=Ht.querySelector(".introjs-tooltiptext"),er=Ht.querySelector(".introjs-tooltip-title"),zn=Ht.querySelector(".introjs-arrow"),ur=Ht.querySelector(".introjs-tooltip");Oi=Ht.querySelector(".introjs-skipbutton"),li=Ht.querySelector(".introjs-prevbutton"),Zt=Ht.querySelector(".introjs-nextbutton"),Dt.className=ui,ur.style.opacity=0,ur.style.display="none",Cc.call(et,be),eo.call(et,Dt),eo.call(et,Ht),cl(),et._lastShowElementTimer&&window.clearTimeout(et._lastShowElementTimer),et._lastShowElementTimer=window.setTimeout(function(){null!==Ii&&(Ii.innerHTML="".concat(be.step," of ").concat(xe._introItems.length)),Ui.innerHTML=be.intro,er.innerHTML=be.title,ur.style.display="block",ls.call(et,be.element,ur,zn),su.call(et,Ht,be),Mu.call(et,Ht),ur.style.opacity=1,(null!=Zt&&/introjs-donebutton/gi.test(Zt.className)||null!=Zt)&&Zt.focus(),fe.call(et,be.scrollTo,be,Ui)},350)}else{var Uo=Rr("div",{className:ui}),yo=Rr("div",{className:"introjs-tooltipReferenceLayer"}),zr=Rr("div",{className:"introjs-arrow"}),po=Rr("div",{className:"introjs-tooltip"}),Go=Rr("div",{className:"introjs-tooltiptext"}),fo=Rr("div",{className:"introjs-tooltip-header"}),ua=Rr("h1",{className:"introjs-tooltip-title"}),cs=Rr("div");xo(Uo,{"box-shadow":"0 0 1px 2px rgba(33, 33, 33, 0.8), rgba(33, 33, 33, ".concat(et._options.overlayOpacity.toString(),") 0 0 0 5000px")}),Cc.call(et,be),eo.call(et,Uo),eo.call(et,yo),Sc(this._targetElement,Uo,!0),Sc(this._targetElement,yo),Go.innerHTML=be.intro,ua.innerHTML=be.title,cs.className="introjs-tooltipbuttons",!1===this._options.showButtons&&(cs.style.display="none"),fo.appendChild(ua),po.appendChild(fo),po.appendChild(Go),po.appendChild(jc.call(this,be)),po.appendChild(Ro.call(this));var qs=Rr("div");!0===this._options.showStepNumbers&&(qs.className="introjs-helperNumberLayer",qs.innerHTML="".concat(be.step," of ").concat(this._introItems.length),po.appendChild(qs)),po.appendChild(zr),yo.appendChild(po),(Zt=Rr("a")).onclick=function(){et._introItems.length-1!==et._currentStep?Za.call(et):/introjs-donebutton/gi.test(Zt.className)&&("function"==typeof et._introCompleteCallback&&et._introCompleteCallback.call(et,et._currentStep,"done"),ba.call(et,et._targetElement))},ne(Zt),Zt.innerHTML=this._options.nextLabel,(li=Rr("a")).onclick=function(){0!==et._currentStep&&Ba.call(et)},ne(li),li.innerHTML=this._options.prevLabel,ne(Oi=Rr("a",{className:"introjs-skipbutton"})),Oi.innerHTML=this._options.skipLabel,Oi.onclick=function(){et._introItems.length-1===et._currentStep&&"function"==typeof et._introCompleteCallback&&et._introCompleteCallback.call(et,et._currentStep,"skip"),"function"==typeof et._introSkipCallback&&et._introSkipCallback.call(et),ba.call(et,et._targetElement)},fo.appendChild(Oi),this._introItems.length>1&&cs.appendChild(li),cs.appendChild(Zt),po.appendChild(cs),ls.call(et,be.element,po,zr),fe.call(this,be.scrollTo,be,po)}var hl=et._targetElement.querySelector(".introjs-disableInteraction");hl&&hl.parentNode.removeChild(hl),be.disableInteraction&&hc.call(et),0===this._currentStep&&this._introItems.length>1?(null!=Zt&&(Zt.className="".concat(this._options.buttonClass," introjs-nextbutton"),Zt.innerHTML=this._options.nextLabel),!0===this._options.hidePrev?(null!=li&&(li.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-hidden")),null!=Zt&&Zs(Zt,"introjs-fullbutton")):null!=li&&(li.className="".concat(this._options.buttonClass," introjs-prevbutton introjs-disabled"))):this._introItems.length-1===this._currentStep||1===this._introItems.length?(null!=li&&(li.className="".concat(this._options.buttonClass," introjs-prevbutton")),!0===this._options.hideNext?(null!=Zt&&(Zt.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-hidden")),null!=li&&Zs(li,"introjs-fullbutton")):null!=Zt&&(!0===this._options.nextToDone?(Zt.innerHTML=this._options.doneLabel,Zs(Zt,"".concat(this._options.buttonClass," introjs-nextbutton introjs-donebutton"))):Zt.className="".concat(this._options.buttonClass," introjs-nextbutton introjs-disabled"))):(null!=li&&(li.className="".concat(this._options.buttonClass," introjs-prevbutton")),null!=Zt&&(Zt.className="".concat(this._options.buttonClass," introjs-nextbutton"),Zt.innerHTML=this._options.nextLabel)),null!=li&&li.setAttribute("role","button"),null!=Zt&&Zt.setAttribute("role","button"),null!=Oi&&Oi.setAttribute("role","button"),null!=Zt&&Zt.focus(),function wl(be){var xe=be.element;Zs(xe,"introjs-showElement");var et=_a(xe,"position");"absolute"!==et&&"relative"!==et&&"sticky"!==et&&"fixed"!==et&&Zs(xe,"introjs-relativePosition")}(be),void 0!==this._introAfterChangeCallback&&this._introAfterChangeCallback.call(this,be.element)}function au(be){this._currentStep=be-2,void 0!==this._introItems&&Za.call(this)}function Al(be){this._currentStepNumber=be,void 0!==this._introItems&&Za.call(this)}function Za(){var be=this;this._direction="forward",void 0!==this._currentStepNumber&&m(this._introItems,function(Dt,Ht){Dt.step===be._currentStepNumber&&(be._currentStep=Ht-1,be._currentStepNumber=void 0)}),void 0===this._currentStep?this._currentStep=0:++this._currentStep;var xe=this._introItems[this._currentStep],et=!0;return void 0!==this._introBeforeChangeCallback&&(et=this._introBeforeChangeCallback.call(this,xe&&xe.element)),!1===et?(--this._currentStep,!1):this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this,this._currentStep,"end"),void ba.call(this,this._targetElement)):void nc.call(this,xe)}function Ba(){if(this._direction="backward",0===this._currentStep)return!1;--this._currentStep;var be=this._introItems[this._currentStep],xe=!0;if(void 0!==this._introBeforeChangeCallback&&(xe=this._introBeforeChangeCallback.call(this,be&&be.element)),!1===xe)return++this._currentStep,!1;nc.call(this,be)}function rc(){return this._currentStep}function ul(be){var xe=void 0===be.code?be.which:be.code;if(null===xe&&(xe=null===be.charCode?be.keyCode:be.charCode),"Escape"!==xe&&27!==xe||!0!==this._options.exitOnEsc){if("ArrowLeft"===xe||37===xe)Ba.call(this);else if("ArrowRight"===xe||39===xe)Za.call(this);else if("Enter"===xe||"NumpadEnter"===xe||13===xe){var et=be.target||be.srcElement;et&&et.className.match("introjs-prevbutton")?Ba.call(this):et&&et.className.match("introjs-skipbutton")?(this._introItems.length-1===this._currentStep&&"function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this,this._currentStep,"skip"),ba.call(this,this._targetElement)):et&&et.getAttribute("data-stepnumber")?et.click():Za.call(this),be.preventDefault?be.preventDefault():be.returnValue=!1}}else ba.call(this,this._targetElement)}function Xo(be){if(null===be||"object"!==K(be)||void 0!==be.nodeType)return be;var xe={};for(var et in be)xe[et]=void 0!==window.jQuery&&be[et]instanceof window.jQuery?be[et]:Xo(be[et]);return xe}function Ha(be){var xe=document.querySelector(".introjs-hints");return xe?xe.querySelectorAll(be):[]}function Ol(be){var xe=Ha('.introjs-hint[data-step="'.concat(be,'"]'))[0];Kl.call(this),xe&&Zs(xe,"introjs-hidehint"),void 0!==this._hintCloseCallback&&this._hintCloseCallback.call(this,be)}function Dc(){var be=this;m(Ha(".introjs-hint"),function(et){Ol.call(be,et.getAttribute("data-step"))})}function ad(){var be=this,xe=Ha(".introjs-hint");xe&&xe.length?m(xe,function(et){xu.call(be,et.getAttribute("data-step"))}):zc.call(this,this._targetElement)}function xu(be){var xe=Ha('.introjs-hint[data-step="'.concat(be,'"]'))[0];xe&&To(xe,/introjs-hidehint/g)}function ca(){var be=this;m(Ha(".introjs-hint"),function(et){xa.call(be,et.getAttribute("data-step"))}),t.off(document,"click",Kl,this,!1),t.off(window,"resize",Ra,this,!0),this._hintsAutoRefreshFunction&&t.off(window,"scroll",this._hintsAutoRefreshFunction,this,!0)}function xa(be){var xe=Ha('.introjs-hint[data-step="'.concat(be,'"]'))[0];xe&&xe.parentNode.removeChild(xe)}function yl(){var be=this,xe=this,et=document.querySelector(".introjs-hints");null===et&&(et=Rr("div",{className:"introjs-hints"}));m(this._introItems,function(Ht,ui){if(!document.querySelector('.introjs-hint[data-step="'.concat(ui,'"]'))){var Zt=Rr("a",{className:"introjs-hint"});ne(Zt),Zt.onclick=function(ui){return function(Zt){var li=Zt||window.event;li.stopPropagation&&li.stopPropagation(),null!==li.cancelBubble&&(li.cancelBubble=!0),kl.call(xe,ui)}}(ui),Ht.hintAnimation||Zs(Zt,"introjs-hint-no-anim"),Vt(Ht.element)&&Zs(Zt,"introjs-fixedhint");var li=Rr("div",{className:"introjs-hint-dot"}),Oi=Rr("div",{className:"introjs-hint-pulse"});Zt.appendChild(li),Zt.appendChild(Oi),Zt.setAttribute("data-step",ui),Ht.targetElement=Ht.element,Ht.element=Zt,Mc.call(be,Ht.hintPosition,Zt,Ht.targetElement),et.appendChild(Zt)}}),document.body.appendChild(et),void 0!==this._hintsAddedCallback&&this._hintsAddedCallback.call(this),this._options.hintAutoRefreshInterval>=0&&(this._hintsAutoRefreshFunction=function Il(be,xe){var Dt,et=this;return function(){for(var Ht=arguments.length,ui=new Array(Ht),Zt=0;Zt<Ht;Zt++)ui[Zt]=arguments[Zt];clearTimeout(Dt),Dt=setTimeout(function(){be.apply(et,ui)},xe)}}(function(){return Ra.call(be)},this._options.hintAutoRefreshInterval),t.on(window,"scroll",this._hintsAutoRefreshFunction,this,!0))}function Mc(be,xe,et){var Dt=xe.style,Ht=qt.call(this,et);switch(be){default:case"top-left":Dt.left="".concat(Ht.left,"px"),Dt.top="".concat(Ht.top,"px");break;case"top-right":Dt.left="".concat(Ht.left+Ht.width-20,"px"),Dt.top="".concat(Ht.top,"px");break;case"bottom-left":Dt.left="".concat(Ht.left,"px"),Dt.top="".concat(Ht.top+Ht.height-20,"px");break;case"bottom-right":Dt.left="".concat(Ht.left+Ht.width-20,"px"),Dt.top="".concat(Ht.top+Ht.height-20,"px");break;case"middle-left":Dt.left="".concat(Ht.left,"px"),Dt.top="".concat(Ht.top+(Ht.height-20)/2,"px");break;case"middle-right":Dt.left="".concat(Ht.left+Ht.width-20,"px"),Dt.top="".concat(Ht.top+(Ht.height-20)/2,"px");break;case"middle-middle":Dt.left="".concat(Ht.left+(Ht.width-20)/2,"px"),Dt.top="".concat(Ht.top+(Ht.height-20)/2,"px");break;case"bottom-middle":Dt.left="".concat(Ht.left+(Ht.width-20)/2,"px"),Dt.top="".concat(Ht.top+Ht.height-20,"px");break;case"top-middle":Dt.left="".concat(Ht.left+(Ht.width-20)/2,"px"),Dt.top="".concat(Ht.top,"px")}}function kl(be){var xe=document.querySelector('.introjs-hint[data-step="'.concat(be,'"]')),et=this._introItems[be];void 0!==this._hintClickCallback&&this._hintClickCallback.call(this,xe,et,be);var Dt=Kl.call(this);if(parseInt(Dt,10)!==be){var Ht=Rr("div",{className:"introjs-tooltip"}),ui=Rr("div"),Zt=Rr("div"),li=Rr("div");Ht.onclick=function(Ui){Ui.stopPropagation?Ui.stopPropagation():Ui.cancelBubble=!0},ui.className="introjs-tooltiptext";var Oi=Rr("p");if(Oi.innerHTML=et.hint,ui.appendChild(Oi),this._options.hintShowButton){var Ii=Rr("a");Ii.className=this._options.buttonClass,Ii.setAttribute("role","button"),Ii.innerHTML=this._options.hintButtonLabel,Ii.onclick=Ol.bind(this,be),ui.appendChild(Ii)}Zt.className="introjs-arrow",Ht.appendChild(Zt),Ht.appendChild(ui),this._currentStep=xe.getAttribute("data-step"),li.className="introjs-tooltipReferenceLayer introjs-hintReference",li.setAttribute("data-step",xe.getAttribute("data-step")),eo.call(this,li),li.appendChild(Ht),document.body.appendChild(li),ls.call(this,xe,Ht,Zt,!0)}}function Kl(){var be=document.querySelector(".introjs-hintReference");if(be){var xe=be.getAttribute("data-step");return be.parentNode.removeChild(be),xe}}function zc(be){var xe=this;if(this._introItems=[],this._options.hints)m(this._options.hints,function(Dt){var Ht=Xo(Dt);"string"==typeof Ht.element&&(Ht.element=document.querySelector(Ht.element)),Ht.hintPosition=Ht.hintPosition||xe._options.hintPosition,Ht.hintAnimation=Ht.hintAnimation||xe._options.hintAnimation,null!==Ht.element&&xe._introItems.push(Ht)});else{var et=be.querySelectorAll("*[data-hint]");if(!et||!et.length)return!1;m(et,function(Dt){var Ht=Dt.getAttribute("data-hintanimation");Ht=Ht?"true"===Ht:xe._options.hintAnimation,xe._introItems.push({element:Dt,hint:Dt.getAttribute("data-hint"),hintPosition:Dt.getAttribute("data-hintposition")||xe._options.hintPosition,hintAnimation:Ht,tooltipClass:Dt.getAttribute("data-tooltipclass"),position:Dt.getAttribute("data-position")||xe._options.tooltipPosition})})}yl.call(this),t.on(document,"click",Kl,this,!1),t.on(window,"resize",Ra,this,!0)}function Ra(){var be=this;m(this._introItems,function(xe){var et=xe.targetElement;void 0!==et&&Mc.call(be,xe.hintPosition,xe.element,et)})}Oo({target:"Array",proto:!0,forced:!vl},{splice:function(xe,et){var li,Oi,Ii,Ui,er,zn,Dt=Ei(this),Ht=no(Dt),ui=lr(xe,Ht),Zt=arguments.length;if(0===Zt?li=Oi=0:1===Zt?(li=0,Oi=Ht-ui):(li=Zt-2,Oi=Xl(Ms(uo(et),0),Ht-ui)),Ht+li-Oi>ll)throw Yl(sd);for(Ii=ka(Dt,Oi),Ui=0;Ui<Oi;Ui++)(er=ui+Ui)in Dt&&Gn(Ii,Ui,Dt[er]);if(Ii.length=Oi,li<Oi){for(Ui=ui;Ui<Ht-Oi;Ui++)zn=Ui+li,(er=Ui+Oi)in Dt?Dt[zn]=Dt[er]:delete Dt[zn];for(Ui=Ht;Ui>Ht-Oi+li;Ui--)delete Dt[Ui-1]}else if(li>Oi)for(Ui=Ht-Oi;Ui>ui;Ui--)zn=Ui+li-1,(er=Ui+Oi-1)in Dt?Dt[zn]=Dt[er]:delete Dt[zn];for(Ui=0;Ui<li;Ui++)Dt[Ui+ui]=arguments[Ui+2];return Dt.length=Ht-Oi+li,Ii}});var Yc=Math.floor,Xc=function(be,xe){var et=be.length,Dt=Yc(et/2);return et<8?pc(be,xe):so(be,Xc(Xa(be,0,Dt),xe),Xc(Xa(be,Dt),xe),xe)},pc=function(be,xe){for(var Ht,ui,et=be.length,Dt=1;Dt<et;){for(ui=Dt,Ht=be[Dt];ui&&xe(be[ui-1],Ht)>0;)be[ui]=be[--ui];ui!==Dt++&&(be[ui]=Ht)}return be},so=function(be,xe,et,Dt){for(var Ht=xe.length,ui=et.length,Zt=0,li=0;Zt<Ht||li<ui;)be[Zt+li]=Zt<Ht&&li<ui?Dt(xe[Zt],et[li])<=0?xe[Zt++]:et[li++]:Zt<Ht?xe[Zt++]:et[li++];return be},Ll=Xc,Pl=Ot.match(/firefox\/(\d+)/i),xc=!!Pl&&+Pl[1],ju=/MSIE|Trident/.test(Ot),$l=Ot.match(/AppleWebKit\/(\d+)\./),Rc=!!$l&&+$l[1],oc=[],lu=ve(oc.sort),Ac=ve(oc.push),Kc=C(function(){oc.sort(void 0)}),Nl=C(function(){oc.sort(null)}),Fl=zl("sort"),Qa=!C(function(){if(mt)return mt<70;if(!(xc&&xc>3)){if(ju)return!0;if(Rc)return Rc<603;var xe,et,Dt,Ht,be="";for(xe=65;xe<76;xe++){switch(et=String.fromCharCode(xe),xe){case 66:case 69:case 70:case 72:Dt=3;break;case 68:case 71:Dt=4;break;default:Dt=2}for(Ht=0;Ht<47;Ht++)oc.push({k:et+Ht,v:Dt})}for(oc.sort(function(ui,Zt){return Zt.v-ui.v}),Ht=0;Ht<oc.length;Ht++)et=oc[Ht].k.charAt(0),be.charAt(be.length-1)!==et&&(be+=et);return"DGBEFHACIJK"!==be}});function Jl(be){var xe=this,et=be.querySelectorAll("*[data-intro]"),Dt=[];if(this._options.steps)m(this._options.steps,function(Ii){var Ui=Xo(Ii);if(Ui.step=Dt.length+1,Ui.title=Ui.title||"","string"==typeof Ui.element&&(Ui.element=document.querySelector(Ui.element)),null==Ui.element){var er=document.querySelector(".introjsFloatingElement");null===er&&(er=Rr("div",{className:"introjsFloatingElement"}),document.body.appendChild(er)),Ui.element=er,Ui.position="floating"}Ui.position=Ui.position||xe._options.tooltipPosition,Ui.scrollTo=Ui.scrollTo||xe._options.scrollTo,void 0===Ui.disableInteraction&&(Ui.disableInteraction=xe._options.disableInteraction),null!==Ui.element&&Dt.push(Ui)});else{var ui;if(et.length<1)return[];m(et,function(Ii){if((!xe._options.group||Ii.getAttribute("data-intro-group")===xe._options.group)&&"none"!==Ii.style.display){var Ui=parseInt(Ii.getAttribute("data-step"),10);ui=Ii.hasAttribute("data-disable-interaction")?!!Ii.getAttribute("data-disable-interaction"):xe._options.disableInteraction,Ui>0&&(Dt[Ui-1]={element:Ii,title:Ii.getAttribute("data-title")||"",intro:Ii.getAttribute("data-intro"),step:parseInt(Ii.getAttribute("data-step"),10),tooltipClass:Ii.getAttribute("data-tooltipclass"),highlightClass:Ii.getAttribute("data-highlightclass"),position:Ii.getAttribute("data-position")||xe._options.tooltipPosition,scrollTo:Ii.getAttribute("data-scrollto")||xe._options.scrollTo,disableInteraction:ui})}});var Zt=0;m(et,function(Ii){if((!xe._options.group||Ii.getAttribute("data-intro-group")===xe._options.group)&&null===Ii.getAttribute("data-step")){for(;void 0!==Dt[Zt];)Zt++;ui=Ii.hasAttribute("data-disable-interaction")?!!Ii.getAttribute("data-disable-interaction"):xe._options.disableInteraction,Dt[Zt]={element:Ii,title:Ii.getAttribute("data-title")||"",intro:Ii.getAttribute("data-intro"),step:Zt+1,tooltipClass:Ii.getAttribute("data-tooltipclass"),highlightClass:Ii.getAttribute("data-highlightclass"),position:Ii.getAttribute("data-position")||xe._options.tooltipPosition,scrollTo:Ii.getAttribute("data-scrollto")||xe._options.scrollTo,disableInteraction:ui}}})}for(var li=[],Oi=0;Oi<Dt.length;Oi++)Dt[Oi]&&li.push(Dt[Oi]);return(Dt=li).sort(function(Ii,Ui){return Ii.step-Ui.step}),Dt}function qa(be){var xe=document.querySelector(".introjs-tooltipReferenceLayer"),et=document.querySelector(".introjs-helperLayer"),Dt=document.querySelector(".introjs-disableInteraction");if(eo.call(this,et),eo.call(this,xe),eo.call(this,Dt),be&&(this._introItems=Jl.call(this,this._targetElement),Rl.call(this,xe,this._introItems[this._currentStep]),Mu.call(this,xe)),null!=this._currentStep){var Ht=document.querySelector(".introjs-arrow"),ui=document.querySelector(".introjs-tooltip");ui&&Ht&&ls.call(this,this._introItems[this._currentStep].element,ui,Ht)}return Ra.call(this),this}function dl(){qa.call(this)}function fc(be,xe){if(be&&be.parentElement){var et=be.parentElement;xe?(xo(be,{opacity:"0"}),window.setTimeout(function(){try{et.removeChild(be)}catch(Dt){}},500)):et.removeChild(be)}}function ba(be,xe){var et=!0;if(void 0!==this._introBeforeExitCallback&&(et=this._introBeforeExitCallback.call(this)),xe||!1!==et){var Dt=be.querySelectorAll(".introjs-overlay");Dt&&Dt.length&&m(Dt,function(Oi){return fc(Oi)}),fc(be.querySelector(".introjs-helperLayer"),!0),fc(be.querySelector(".introjs-tooltipReferenceLayer")),fc(be.querySelector(".introjs-disableInteraction")),fc(document.querySelector(".introjsFloatingElement")),cl(),t.off(window,"keydown",ul,this,!0),t.off(window,"resize",dl,this,!0),void 0!==this._introExitCallback&&this._introExitCallback.call(this),this._currentStep=void 0}}function Ru(be){var xe=this,et=Rr("div",{className:"introjs-overlay"});return xo(et,{top:0,bottom:0,left:0,right:0,position:"fixed"}),be.appendChild(et),!0===this._options.exitOnOverlayClick&&(xo(et,{cursor:"pointer"}),et.onclick=function(){ba.call(xe,be)}),!0}function Bl(be){void 0!==this._introStartCallback&&this._introStartCallback.call(this,be);var xe=Jl.call(this,be);return 0===xe.length||(this._introItems=xe,Ru.call(this,be)&&(Za.call(this),this._options.keyboardNavigation&&t.on(window,"keydown",ul,this,!0),t.on(window,"resize",dl,this,!0))),!1}function xs(be){this._targetElement=be,this._introItems=[],this._options={nextLabel:"Next",prevLabel:"Back",skipLabel:"\xd7",doneLabel:"Done",hidePrev:!1,hideNext:!1,nextToDone:!0,tooltipPosition:"bottom",tooltipClass:"",group:"",highlightClass:"",exitOnEsc:!0,exitOnOverlayClick:!0,showStepNumbers:!1,keyboardNavigation:!0,showButtons:!0,showBullets:!0,showProgress:!1,scrollToElement:!0,scrollTo:"element",scrollPadding:30,overlayOpacity:.5,autoPosition:!0,positionPrecedence:["bottom","top","right","left"],disableInteraction:!1,helperElementPadding:10,hintPosition:"top-middle",hintButtonLabel:"Got it",hintShowButton:!0,hintAutoRefreshInterval:10,hintAnimation:!0,buttonClass:"introjs-button",progressBarAdditionalClass:!1}}Oo({target:"Array",proto:!0,forced:Kc||!Nl||!Fl||!Qa},{sort:function(xe){void 0!==xe&&wt(xe);var et=Ei(this);if(Qa)return void 0===xe?lu(et):lu(et,xe);var ui,Zt,Dt=[],Ht=no(et);for(Zt=0;Zt<Ht;Zt++)Zt in et&&Ac(Dt,et[Zt]);for(Ll(Dt,function(be){return function(xe,et){return void 0===et?-1:void 0===xe?1:void 0!==be?+be(xe,et)||0:Ar(xe)>Ar(et)?1:-1}}(xe)),ui=Dt.length,Zt=0;Zt<ui;)et[Zt]=Dt[Zt++];for(;Zt<Ht;)delete et[Zt++];return et}});var gc=function be(xe){var et;if("object"===K(xe))et=new xs(xe);else if("string"==typeof xe){var Dt=document.querySelector(xe);if(!Dt)throw new Error("There is no element with given selector.");et=new xs(Dt)}else et=new xs(document.body);return be.instances[E(et,"introjs-instance")]=et,et};return gc.version="4.3.0",gc.instances={},gc.fn=xs.prototype={clone:function(){return new xs(this)},setOption:function(xe,et){return this._options[xe]=et,this},setOptions:function(xe){return this._options=function f(be,xe){var Dt,et={};for(Dt in be)et[Dt]=be[Dt];for(Dt in xe)et[Dt]=xe[Dt];return et}(this._options,xe),this},start:function(){return Bl.call(this,this._targetElement),this},goToStep:function(xe){return au.call(this,xe),this},addStep:function(xe){return this._options.steps||(this._options.steps=[]),this._options.steps.push(xe),this},addSteps:function(xe){if(xe.length){for(var et=0;et<xe.length;et++)this.addStep(xe[et]);return this}},goToStepNumber:function(xe){return Al.call(this,xe),this},nextStep:function(){return Za.call(this),this},previousStep:function(){return Ba.call(this),this},currentStep:function(){return rc.call(this)},exit:function(xe){return ba.call(this,this._targetElement,xe),this},refresh:function(xe){return qa.call(this,xe),this},onbeforechange:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=xe,this},onchange:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=xe,this},onafterchange:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onafterchange was not a function");return this._introAfterChangeCallback=xe,this},oncomplete:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=xe,this},onhintsadded:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onhintsadded was not a function.");return this._hintsAddedCallback=xe,this},onhintclick:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onhintclick was not a function.");return this._hintClickCallback=xe,this},onhintclose:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onhintclose was not a function.");return this._hintCloseCallback=xe,this},onstart:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onstart was not a function.");return this._introStartCallback=xe,this},onexit:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=xe,this},onskip:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onskip was not a function.");return this._introSkipCallback=xe,this},onbeforeexit:function(xe){if("function"!=typeof xe)throw new Error("Provided callback for onbeforeexit was not a function.");return this._introBeforeExitCallback=xe,this},addHints:function(){return zc.call(this,this._targetElement),this},hideHint:function(xe){return Ol.call(this,xe),this},hideHints:function(){return Dc.call(this),this},showHint:function(xe){return xu.call(this,xe),this},showHints:function(){return ad.call(this),this},removeHints:function(){return ca.call(this),this},removeHint:function(xe){return xa().call(this,xe),this},showHintDialog:function(xe){return kl.call(this,xe),this}},gc}()},37244:(B,K,f)=>{var t=f(53436)(f(12119),"DataView");B.exports=t},54994:(B,K,f)=>{var E=f(64312),m=f(46421),t=f(15764),e=f(18685),n=f(26676);function a(u){var C=-1,D=null==u?0:u.length;for(this.clear();++C<D;){var F=u[C];this.set(F[0],F[1])}}a.prototype.clear=E,a.prototype.delete=m,a.prototype.get=t,a.prototype.has=e,a.prototype.set=n,B.exports=a},9215:(B,K,f)=>{var E=f(41840),m=f(34378),t=f(54981),e=f(67343),n=f(98895);function a(u){var C=-1,D=null==u?0:u.length;for(this.clear();++C<D;){var F=u[C];this.set(F[0],F[1])}}a.prototype.clear=E,a.prototype.delete=m,a.prototype.get=t,a.prototype.has=e,a.prototype.set=n,B.exports=a},51501:(B,K,f)=>{var t=f(53436)(f(12119),"Map");B.exports=t},99850:(B,K,f)=>{var E=f(10638),m=f(11184),t=f(70866),e=f(43771),n=f(51772);function a(u){var C=-1,D=null==u?0:u.length;for(this.clear();++C<D;){var F=u[C];this.set(F[0],F[1])}}a.prototype.clear=E,a.prototype.delete=m,a.prototype.get=t,a.prototype.has=e,a.prototype.set=n,B.exports=a},44267:(B,K,f)=>{var t=f(53436)(f(12119),"Promise");B.exports=t},46323:(B,K,f)=>{var t=f(53436)(f(12119),"Set");B.exports=t},2858:(B,K,f)=>{var E=f(9215),m=f(13720),t=f(64410),e=f(45576),n=f(22247),a=f(41585);function u(C){var D=this.__data__=new E(C);this.size=D.size}u.prototype.clear=m,u.prototype.delete=t,u.prototype.get=e,u.prototype.has=n,u.prototype.set=a,B.exports=u},60443:(B,K,f)=>{var E=f(12119);B.exports=E.Symbol},73457:(B,K,f)=>{var E=f(12119);B.exports=E.Uint8Array},24243:(B,K,f)=>{var t=f(53436)(f(12119),"WeakMap");B.exports=t},96837:B=>{B.exports=function K(f,E){for(var m=-1,t=null==f?0:f.length;++m<t&&!1!==E(f[m],m,f););return f}},69779:B=>{B.exports=function K(f,E){for(var m=-1,t=null==f?0:f.length,e=0,n=[];++m<t;){var a=f[m];E(a,m,f)&&(n[e++]=a)}return n}},72271:(B,K,f)=>{var E=f(85334),m=f(77151),t=f(21503),e=f(80891),n=f(58442),a=f(48159),C=Object.prototype.hasOwnProperty;B.exports=function D(F,W){var te=t(F),oe=!te&&m(F),q=!te&&!oe&&e(F),ue=!te&&!oe&&!q&&a(F),Te=te||oe||q||ue,le=Te?E(F.length,String):[],_e=le.length;for(var Pe in F)(W||C.call(F,Pe))&&(!Te||!("length"==Pe||q&&("offset"==Pe||"parent"==Pe)||ue&&("buffer"==Pe||"byteLength"==Pe||"byteOffset"==Pe)||n(Pe,_e)))&&le.push(Pe);return le}},84633:B=>{B.exports=function K(f,E){for(var m=-1,t=null==f?0:f.length,e=Array(t);++m<t;)e[m]=E(f[m],m,f);return e}},85059:B=>{B.exports=function K(f,E){for(var m=-1,t=E.length,e=f.length;++m<t;)f[e+m]=E[m];return f}},89719:(B,K,f)=>{var E=f(85683),m=f(20217),e=Object.prototype.hasOwnProperty;B.exports=function n(a,u,C){var D=a[u];(!e.call(a,u)||!m(D,C)||void 0===C&&!(u in a))&&E(a,u,C)}},43503:(B,K,f)=>{var E=f(20217);B.exports=function m(t,e){for(var n=t.length;n--;)if(E(t[n][0],e))return n;return-1}},94121:(B,K,f)=>{var E=f(31989),m=f(118);B.exports=function t(e,n){return e&&E(n,m(n),e)}},99287:(B,K,f)=>{var E=f(31989),m=f(16555);B.exports=function t(e,n){return e&&E(n,m(n),e)}},85683:(B,K,f)=>{var E=f(56713);B.exports=function m(t,e,n){"__proto__"==e&&E?E(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},44462:(B,K,f)=>{var E=f(2858),m=f(96837),t=f(89719),e=f(94121),n=f(99287),a=f(19292),u=f(99454),C=f(64093),D=f(59905),F=f(47597),W=f(6967),te=f(28794),oe=f(76782),q=f(37878),ue=f(4264),Te=f(21503),le=f(80891),_e=f(13222),Pe=f(25940),Ue=f(90799),Se=f(118),ve=f(16555),Ne="[object Arguments]",ot="[object Function]",pt="[object Object]",wt={};wt[Ne]=wt["[object Array]"]=wt["[object ArrayBuffer]"]=wt["[object DataView]"]=wt["[object Boolean]"]=wt["[object Date]"]=wt["[object Float32Array]"]=wt["[object Float64Array]"]=wt["[object Int8Array]"]=wt["[object Int16Array]"]=wt["[object Int32Array]"]=wt["[object Map]"]=wt["[object Number]"]=wt[pt]=wt["[object RegExp]"]=wt["[object Set]"]=wt["[object String]"]=wt["[object Symbol]"]=wt["[object Uint8Array]"]=wt["[object Uint8ClampedArray]"]=wt["[object Uint16Array]"]=wt["[object Uint32Array]"]=!0,wt["[object Error]"]=wt[ot]=wt["[object WeakMap]"]=!1,B.exports=function rt(tt,At,lt,vt,Et,Ke){var Ze,Wt=1&At,Kt=2&At,Ei=4&At;if(lt&&(Ze=Et?lt(tt,vt,Et,Ke):lt(tt)),void 0!==Ze)return Ze;if(!Pe(tt))return tt;var vi=Te(tt);if(vi){if(Ze=oe(tt),!Wt)return u(tt,Ze)}else{var pi=te(tt),Gi=pi==ot||"[object GeneratorFunction]"==pi;if(le(tt))return a(tt,Wt);if(pi==pt||pi==Ne||Gi&&!Et){if(Ze=Kt||Gi?{}:ue(tt),!Wt)return Kt?D(tt,n(Ze,tt)):C(tt,e(Ze,tt))}else{if(!wt[pi])return Et?tt:{};Ze=q(tt,pi,Wt)}}Ke||(Ke=new E);var Di=Ke.get(tt);if(Di)return Di;Ke.set(tt,Ze),Ue(tt)?tt.forEach(function(Mt){Ze.add(rt(Mt,At,lt,Mt,tt,Ke))}):_e(tt)&&tt.forEach(function(Mt,_i){Ze.set(_i,rt(Mt,At,lt,_i,tt,Ke))});var _t=vi?void 0:(Ei?Kt?W:F:Kt?ve:Se)(tt);return m(_t||tt,function(Mt,_i){_t&&(Mt=tt[_i=Mt]),t(Ze,_i,rt(Mt,At,lt,_i,tt,Ke))}),Ze}},78858:(B,K,f)=>{var E=f(25940),m=Object.create,t=function(){function e(){}return function(n){if(!E(n))return{};if(m)return m(n);e.prototype=n;var a=new e;return e.prototype=void 0,a}}();B.exports=t},15456:(B,K,f)=>{var E=f(65456),m=f(68533);B.exports=function t(e,n){for(var a=0,u=(n=E(n,e)).length;null!=e&&a<u;)e=e[m(n[a++])];return a&&a==u?e:void 0}},38247:(B,K,f)=>{var E=f(85059),m=f(21503);B.exports=function t(e,n,a){var u=n(e);return m(e)?u:E(u,a(e))}},93337:(B,K,f)=>{var E=f(60443),m=f(21318),t=f(92902),a=E?E.toStringTag:void 0;B.exports=function u(C){return null==C?void 0===C?"[object Undefined]":"[object Null]":a&&a in Object(C)?m(C):t(C)}},60186:(B,K,f)=>{var E=f(93337),m=f(72671);B.exports=function e(n){return m(n)&&"[object Arguments]"==E(n)}},97021:(B,K,f)=>{var E=f(28794),m=f(72671);B.exports=function e(n){return m(n)&&"[object Map]"==E(n)}},37304:(B,K,f)=>{var E=f(75946),m=f(91943),t=f(25940),e=f(52827),a=/^\[object .+?Constructor\]$/,W=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");B.exports=function te(oe){return!(!t(oe)||m(oe))&&(E(oe)?W:a).test(e(oe))}},771:(B,K,f)=>{var E=f(28794),m=f(72671);B.exports=function e(n){return m(n)&&"[object Set]"==E(n)}},1083:(B,K,f)=>{var E=f(93337),m=f(96231),t=f(72671),Ce={};Ce["[object Float32Array]"]=Ce["[object Float64Array]"]=Ce["[object Int8Array]"]=Ce["[object Int16Array]"]=Ce["[object Int32Array]"]=Ce["[object Uint8Array]"]=Ce["[object Uint8ClampedArray]"]=Ce["[object Uint16Array]"]=Ce["[object Uint32Array]"]=!0,Ce["[object Arguments]"]=Ce["[object Array]"]=Ce["[object ArrayBuffer]"]=Ce["[object Boolean]"]=Ce["[object DataView]"]=Ce["[object Date]"]=Ce["[object Error]"]=Ce["[object Function]"]=Ce["[object Map]"]=Ce["[object Number]"]=Ce["[object Object]"]=Ce["[object RegExp]"]=Ce["[object Set]"]=Ce["[object String]"]=Ce["[object WeakMap]"]=!1,B.exports=function de(re){return t(re)&&m(re.length)&&!!Ce[E(re)]}},81172:(B,K,f)=>{var E=f(45488),m=f(85491),e=Object.prototype.hasOwnProperty;B.exports=function n(a){if(!E(a))return m(a);var u=[];for(var C in Object(a))e.call(a,C)&&"constructor"!=C&&u.push(C);return u}},92809:(B,K,f)=>{var E=f(25940),m=f(45488),t=f(32158),n=Object.prototype.hasOwnProperty;B.exports=function a(u){if(!E(u))return t(u);var C=m(u),D=[];for(var F in u)"constructor"==F&&(C||!n.call(u,F))||D.push(F);return D}},85334:B=>{B.exports=function K(f,E){for(var m=-1,t=Array(f);++m<f;)t[m]=E(m);return t}},93935:(B,K,f)=>{var E=f(60443),m=f(84633),t=f(21503),e=f(44129),a=E?E.prototype:void 0,u=a?a.toString:void 0;B.exports=function C(D){if("string"==typeof D)return D;if(t(D))return m(D,C)+"";if(e(D))return u?u.call(D):"";var F=D+"";return"0"==F&&1/D==-1/0?"-0":F}},85647:B=>{B.exports=function K(f){return function(E){return f(E)}}},65456:(B,K,f)=>{var E=f(21503),m=f(45352),t=f(32855),e=f(73943);B.exports=function n(a,u){return E(a)?a:m(a,u)?[a]:t(e(a))}},43362:(B,K,f)=>{var E=f(73457);B.exports=function m(t){var e=new t.constructor(t.byteLength);return new E(e).set(new E(t)),e}},19292:(B,K,f)=>{B=f.nmd(B);var E=f(12119),m=K&&!K.nodeType&&K,t=m&&B&&!B.nodeType&&B,n=t&&t.exports===m?E.Buffer:void 0,a=n?n.allocUnsafe:void 0;B.exports=function u(C,D){if(D)return C.slice();var F=C.length,W=a?a(F):new C.constructor(F);return C.copy(W),W}},17e3:(B,K,f)=>{var E=f(43362);B.exports=function m(t,e){var n=e?E(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},74098:B=>{var K=/\w*$/;B.exports=function f(E){var m=new E.constructor(E.source,K.exec(E));return m.lastIndex=E.lastIndex,m}},62533:(B,K,f)=>{var E=f(60443),m=E?E.prototype:void 0,t=m?m.valueOf:void 0;B.exports=function e(n){return t?Object(t.call(n)):{}}},65208:(B,K,f)=>{var E=f(43362);B.exports=function m(t,e){var n=e?E(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},99454:B=>{B.exports=function K(f,E){var m=-1,t=f.length;for(E||(E=Array(t));++m<t;)E[m]=f[m];return E}},31989:(B,K,f)=>{var E=f(89719),m=f(85683);B.exports=function t(e,n,a,u){var C=!a;a||(a={});for(var D=-1,F=n.length;++D<F;){var W=n[D],te=u?u(a[W],e[W],W,a,e):void 0;void 0===te&&(te=e[W]),C?m(a,W,te):E(a,W,te)}return a}},64093:(B,K,f)=>{var E=f(31989),m=f(39383);B.exports=function t(e,n){return E(e,m(e),n)}},59905:(B,K,f)=>{var E=f(31989),m=f(53051);B.exports=function t(e,n){return E(e,m(e),n)}},24610:(B,K,f)=>{var E=f(12119);B.exports=E["__core-js_shared__"]},56713:(B,K,f)=>{var E=f(53436),m=function(){try{var t=E(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();B.exports=m},79122:B=>{var K="object"==typeof global&&global&&global.Object===Object&&global;B.exports=K},47597:(B,K,f)=>{var E=f(38247),m=f(39383),t=f(118);B.exports=function e(n){return E(n,t,m)}},6967:(B,K,f)=>{var E=f(38247),m=f(53051),t=f(16555);B.exports=function e(n){return E(n,t,m)}},54537:(B,K,f)=>{var E=f(23819);B.exports=function m(t,e){var n=t.__data__;return E(e)?n["string"==typeof e?"string":"hash"]:n.map}},53436:(B,K,f)=>{var E=f(37304),m=f(51990);B.exports=function t(e,n){var a=m(e,n);return E(a)?a:void 0}},29519:(B,K,f)=>{var m=f(69385)(Object.getPrototypeOf,Object);B.exports=m},21318:(B,K,f)=>{var E=f(60443),m=Object.prototype,t=m.hasOwnProperty,e=m.toString,n=E?E.toStringTag:void 0;B.exports=function a(u){var C=t.call(u,n),D=u[n];try{u[n]=void 0;var F=!0}catch(te){}var W=e.call(u);return F&&(C?u[n]=D:delete u[n]),W}},39383:(B,K,f)=>{var E=f(69779),m=f(49975),e=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols;B.exports=n?function(u){return null==u?[]:(u=Object(u),E(n(u),function(C){return e.call(u,C)}))}:m},53051:(B,K,f)=>{var E=f(85059),m=f(29519),t=f(39383),e=f(49975);B.exports=Object.getOwnPropertySymbols?function(u){for(var C=[];u;)E(C,t(u)),u=m(u);return C}:e},28794:(B,K,f)=>{var E=f(37244),m=f(51501),t=f(44267),e=f(46323),n=f(24243),a=f(93337),u=f(52827),C="[object Map]",F="[object Promise]",W="[object Set]",te="[object WeakMap]",oe="[object DataView]",q=u(E),ue=u(m),Te=u(t),le=u(e),_e=u(n),Pe=a;(E&&Pe(new E(new ArrayBuffer(1)))!=oe||m&&Pe(new m)!=C||t&&Pe(t.resolve())!=F||e&&Pe(new e)!=W||n&&Pe(new n)!=te)&&(Pe=function(Ue){var Se=a(Ue),ve="[object Object]"==Se?Ue.constructor:void 0,se=ve?u(ve):"";if(se)switch(se){case q:return oe;case ue:return C;case Te:return F;case le:return W;case _e:return te}return Se}),B.exports=Pe},51990:B=>{B.exports=function K(f,E){return null==f?void 0:f[E]}},64312:(B,K,f)=>{var E=f(60862);B.exports=function m(){this.__data__=E?E(null):{},this.size=0}},46421:B=>{B.exports=function K(f){var E=this.has(f)&&delete this.__data__[f];return this.size-=E?1:0,E}},15764:(B,K,f)=>{var E=f(60862),e=Object.prototype.hasOwnProperty;B.exports=function n(a){var u=this.__data__;if(E){var C=u[a];return"__lodash_hash_undefined__"===C?void 0:C}return e.call(u,a)?u[a]:void 0}},18685:(B,K,f)=>{var E=f(60862),t=Object.prototype.hasOwnProperty;B.exports=function e(n){var a=this.__data__;return E?void 0!==a[n]:t.call(a,n)}},26676:(B,K,f)=>{var E=f(60862);B.exports=function t(e,n){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=E&&void 0===n?"__lodash_hash_undefined__":n,this}},76782:B=>{var f=Object.prototype.hasOwnProperty;B.exports=function E(m){var t=m.length,e=new m.constructor(t);return t&&"string"==typeof m[0]&&f.call(m,"index")&&(e.index=m.index,e.input=m.input),e}},37878:(B,K,f)=>{var E=f(43362),m=f(17e3),t=f(74098),e=f(62533),n=f(65208);B.exports=function ce(Ne,Ae,Ce){var de=Ne.constructor;switch(Ae){case"[object ArrayBuffer]":return E(Ne);case"[object Boolean]":case"[object Date]":return new de(+Ne);case"[object DataView]":return m(Ne,Ce);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return n(Ne,Ce);case"[object Map]":case"[object Set]":return new de;case"[object Number]":case"[object String]":return new de(Ne);case"[object RegExp]":return t(Ne);case"[object Symbol]":return e(Ne)}}},4264:(B,K,f)=>{var E=f(78858),m=f(29519),t=f(45488);B.exports=function e(n){return"function"!=typeof n.constructor||t(n)?{}:E(m(n))}},58442:B=>{var f=/^(?:0|[1-9]\d*)$/;B.exports=function E(m,t){var e=typeof m;return!!(t=null==t?9007199254740991:t)&&("number"==e||"symbol"!=e&&f.test(m))&&m>-1&&m%1==0&&m<t}},45352:(B,K,f)=>{var E=f(21503),m=f(44129),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/;B.exports=function n(a,u){if(E(a))return!1;var C=typeof a;return!("number"!=C&&"symbol"!=C&&"boolean"!=C&&null!=a&&!m(a))||e.test(a)||!t.test(a)||null!=u&&a in Object(u)}},23819:B=>{B.exports=function K(f){var E=typeof f;return"string"==E||"number"==E||"symbol"==E||"boolean"==E?"__proto__"!==f:null===f}},91943:(B,K,f)=>{var e,E=f(24610),m=(e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";B.exports=function t(e){return!!m&&m in e}},45488:B=>{var K=Object.prototype;B.exports=function f(E){var m=E&&E.constructor;return E===("function"==typeof m&&m.prototype||K)}},41840:B=>{B.exports=function K(){this.__data__=[],this.size=0}},34378:(B,K,f)=>{var E=f(43503),t=Array.prototype.splice;B.exports=function e(n){var a=this.__data__,u=E(a,n);return!(u<0||(u==a.length-1?a.pop():t.call(a,u,1),--this.size,0))}},54981:(B,K,f)=>{var E=f(43503);B.exports=function m(t){var e=this.__data__,n=E(e,t);return n<0?void 0:e[n][1]}},67343:(B,K,f)=>{var E=f(43503);B.exports=function m(t){return E(this.__data__,t)>-1}},98895:(B,K,f)=>{var E=f(43503);B.exports=function m(t,e){var n=this.__data__,a=E(n,t);return a<0?(++this.size,n.push([t,e])):n[a][1]=e,this}},10638:(B,K,f)=>{var E=f(54994),m=f(9215),t=f(51501);B.exports=function e(){this.size=0,this.__data__={hash:new E,map:new(t||m),string:new E}}},11184:(B,K,f)=>{var E=f(54537);B.exports=function m(t){var e=E(this,t).delete(t);return this.size-=e?1:0,e}},70866:(B,K,f)=>{var E=f(54537);B.exports=function m(t){return E(this,t).get(t)}},43771:(B,K,f)=>{var E=f(54537);B.exports=function m(t){return E(this,t).has(t)}},51772:(B,K,f)=>{var E=f(54537);B.exports=function m(t,e){var n=E(this,t),a=n.size;return n.set(t,e),this.size+=n.size==a?0:1,this}},90719:(B,K,f)=>{var E=f(30535);B.exports=function t(e){var n=E(e,function(u){return 500===a.size&&a.clear(),u}),a=n.cache;return n}},60862:(B,K,f)=>{var m=f(53436)(Object,"create");B.exports=m},85491:(B,K,f)=>{var m=f(69385)(Object.keys,Object);B.exports=m},32158:B=>{B.exports=function K(f){var E=[];if(null!=f)for(var m in Object(f))E.push(m);return E}},73597:(B,K,f)=>{B=f.nmd(B);var E=f(79122),m=K&&!K.nodeType&&K,t=m&&B&&!B.nodeType&&B,n=t&&t.exports===m&&E.process,a=function(){try{return t&&t.require&&t.require("util").types||n&&n.binding&&n.binding("util")}catch(C){}}();B.exports=a},92902:B=>{var f=Object.prototype.toString;B.exports=function E(m){return f.call(m)}},69385:B=>{B.exports=function K(f,E){return function(m){return f(E(m))}}},12119:(B,K,f)=>{var E=f(79122),m="object"==typeof self&&self&&self.Object===Object&&self,t=E||m||Function("return this")();B.exports=t},13720:(B,K,f)=>{var E=f(9215);B.exports=function m(){this.__data__=new E,this.size=0}},64410:B=>{B.exports=function K(f){var E=this.__data__,m=E.delete(f);return this.size=E.size,m}},45576:B=>{B.exports=function K(f){return this.__data__.get(f)}},22247:B=>{B.exports=function K(f){return this.__data__.has(f)}},41585:(B,K,f)=>{var E=f(9215),m=f(51501),t=f(99850);B.exports=function n(a,u){var C=this.__data__;if(C instanceof E){var D=C.__data__;if(!m||D.length<199)return D.push([a,u]),this.size=++C.size,this;C=this.__data__=new t(D)}return C.set(a,u),this.size=C.size,this}},32855:(B,K,f)=>{var E=f(90719),m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t=/\\(\\)?/g,e=E(function(n){var a=[];return 46===n.charCodeAt(0)&&a.push(""),n.replace(m,function(u,C,D,F){a.push(D?F.replace(t,"$1"):C||u)}),a});B.exports=e},68533:(B,K,f)=>{var E=f(44129);B.exports=function t(e){if("string"==typeof e||E(e))return e;var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},52827:B=>{var f=Function.prototype.toString;B.exports=function E(m){if(null!=m){try{return f.call(m)}catch(t){}try{return m+""}catch(t){}}return""}},90733:(B,K,f)=>{var E=f(44462);B.exports=function e(n){return E(n,5)}},20217:B=>{B.exports=function K(f,E){return f===E||f!=f&&E!=E}},8817:(B,K,f)=>{var E=f(15456);B.exports=function m(t,e,n){var a=null==t?void 0:E(t,e);return void 0===a?n:a}},77151:(B,K,f)=>{var E=f(60186),m=f(72671),t=Object.prototype,e=t.hasOwnProperty,n=t.propertyIsEnumerable,a=E(function(){return arguments}())?E:function(u){return m(u)&&e.call(u,"callee")&&!n.call(u,"callee")};B.exports=a},21503:B=>{B.exports=Array.isArray},56507:(B,K,f)=>{var E=f(75946),m=f(96231);B.exports=function t(e){return null!=e&&m(e.length)&&!E(e)}},80891:(B,K,f)=>{B=f.nmd(B);var E=f(12119),m=f(63580),t=K&&!K.nodeType&&K,e=t&&B&&!B.nodeType&&B,a=e&&e.exports===t?E.Buffer:void 0;B.exports=(a?a.isBuffer:void 0)||m},71973:(B,K,f)=>{var E=f(81172),m=f(28794),t=f(77151),e=f(21503),n=f(56507),a=f(80891),u=f(45488),C=f(48159),te=Object.prototype.hasOwnProperty;B.exports=function oe(q){if(null==q)return!0;if(n(q)&&(e(q)||"string"==typeof q||"function"==typeof q.splice||a(q)||C(q)||t(q)))return!q.length;var ue=m(q);if("[object Map]"==ue||"[object Set]"==ue)return!q.size;if(u(q))return!E(q).length;for(var Te in q)if(te.call(q,Te))return!1;return!0}},75946:(B,K,f)=>{var E=f(93337),m=f(25940);B.exports=function u(C){if(!m(C))return!1;var D=E(C);return"[object Function]"==D||"[object GeneratorFunction]"==D||"[object AsyncFunction]"==D||"[object Proxy]"==D}},96231:B=>{B.exports=function f(E){return"number"==typeof E&&E>-1&&E%1==0&&E<=9007199254740991}},13222:(B,K,f)=>{var E=f(97021),m=f(85647),t=f(73597),e=t&&t.isMap,n=e?m(e):E;B.exports=n},25940:B=>{B.exports=function K(f){var E=typeof f;return null!=f&&("object"==E||"function"==E)}},72671:B=>{B.exports=function K(f){return null!=f&&"object"==typeof f}},97614:(B,K,f)=>{var E=f(93337),m=f(29519),t=f(72671),u=Function.prototype.toString,C=Object.prototype.hasOwnProperty,D=u.call(Object);B.exports=function F(W){if(!t(W)||"[object Object]"!=E(W))return!1;var te=m(W);if(null===te)return!0;var oe=C.call(te,"constructor")&&te.constructor;return"function"==typeof oe&&oe instanceof oe&&u.call(oe)==D}},90799:(B,K,f)=>{var E=f(771),m=f(85647),t=f(73597),e=t&&t.isSet,n=e?m(e):E;B.exports=n},44129:(B,K,f)=>{var E=f(93337),m=f(72671);B.exports=function e(n){return"symbol"==typeof n||m(n)&&"[object Symbol]"==E(n)}},48159:(B,K,f)=>{var E=f(1083),m=f(85647),t=f(73597),e=t&&t.isTypedArray,n=e?m(e):E;B.exports=n},118:(B,K,f)=>{var E=f(72271),m=f(81172),t=f(56507);B.exports=function e(n){return t(n)?E(n):m(n)}},16555:(B,K,f)=>{var E=f(72271),m=f(92809),t=f(56507);B.exports=function e(n){return t(n)?E(n,!0):m(n)}},30535:(B,K,f)=>{var E=f(99850);function t(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var a=function(){var u=arguments,C=n?n.apply(this,u):u[0],D=a.cache;if(D.has(C))return D.get(C);var F=e.apply(this,u);return a.cache=D.set(C,F)||D,F};return a.cache=new(t.Cache||E),a}t.Cache=E,B.exports=t},49975:B=>{B.exports=function K(){return[]}},63580:B=>{B.exports=function K(){return!1}},73943:(B,K,f)=>{var E=f(93935);B.exports=function m(t){return null==t?"":E(t)}},97024:(B,K,f)=>{var E="function"==typeof Map&&Map.prototype,m=Object.getOwnPropertyDescriptor&&E?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=E&&m&&"function"==typeof m.get?m.get:null,e=E&&Map.prototype.forEach,n="function"==typeof Set&&Set.prototype,a=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,u=n&&a&&"function"==typeof a.get?a.get:null,C=n&&Set.prototype.forEach,F="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,te="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,q="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,ue=Boolean.prototype.valueOf,Te=Object.prototype.toString,le=Function.prototype.toString,_e=String.prototype.match,Pe=String.prototype.slice,Ue=String.prototype.replace,Se=String.prototype.toUpperCase,ve=String.prototype.toLowerCase,se=RegExp.prototype.test,me=Array.prototype.concat,ce=Array.prototype.join,Ne=Array.prototype.slice,Ae=Math.floor,Ce="function"==typeof BigInt?BigInt.prototype.valueOf:null,de=Object.getOwnPropertySymbols,re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,ot="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ze="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol,1)?Symbol.toStringTag:null,De=Object.prototype.propertyIsEnumerable,st=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(_t){return _t.__proto__}:null);function pt(_t,Mt){if(_t===1/0||_t===-1/0||_t!=_t||_t&&_t>-1e3&&_t<1e3||se.call(/e/,Mt))return Mt;var _i=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof _t){var yi=_t<0?-Ae(-_t):Ae(_t);if(yi!==_t){var Fi=String(yi),Pi=Pe.call(Mt,Fi.length+1);return Ue.call(Fi,_i,"$&_")+"."+Ue.call(Ue.call(Pi,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ue.call(Mt,_i,"$&_")}var dt=f(24654).custom,Ot=dt&&ut(dt)?dt:null;function kt(_t,Mt,_i){var yi="double"===(_i.quoteStyle||Mt)?'"':"'";return yi+_t+yi}function oi(_t){return Ue.call(String(_t),/"/g,"&quot;")}function bi(_t){return!("[object Array]"!==gi(_t)||ze&&"object"==typeof _t&&ze in _t)}function ut(_t){if(ot)return _t&&"object"==typeof _t&&_t instanceof Symbol;if("symbol"==typeof _t)return!0;if(!_t||"object"!=typeof _t||!re)return!1;try{return re.call(_t),!0}catch(Mt){}return!1}B.exports=function _t(Mt,_i,yi,Fi){var Pi=_i||{};if(zt(Pi,"quoteStyle")&&"single"!==Pi.quoteStyle&&"double"!==Pi.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(zt(Pi,"maxStringLength")&&("number"==typeof Pi.maxStringLength?Pi.maxStringLength<0&&Pi.maxStringLength!==1/0:null!==Pi.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var gn=!zt(Pi,"customInspect")||Pi.customInspect;if("boolean"!=typeof gn&&"symbol"!==gn)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(zt(Pi,"indent")&&null!==Pi.indent&&"\t"!==Pi.indent&&!(parseInt(Pi.indent,10)===Pi.indent&&Pi.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(zt(Pi,"numericSeparator")&&"boolean"!=typeof Pi.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var ai=Pi.numericSeparator;if(void 0===Mt)return"undefined";if(null===Mt)return"null";if("boolean"==typeof Mt)return Mt?"true":"false";if("string"==typeof Mt)return Ze(Mt,Pi);if("number"==typeof Mt){if(0===Mt)return 1/0/Mt>0?"0":"-0";var Tt=String(Mt);return ai?pt(Mt,Tt):Tt}if("bigint"==typeof Mt){var He=String(Mt)+"n";return ai?pt(Mt,He):He}var Ee=void 0===Pi.depth?5:Pi.depth;if(void 0===yi&&(yi=0),yi>=Ee&&Ee>0&&"object"==typeof Mt)return bi(Mt)?"[Array]":"[Object]";var Ve=function Gi(_t,Mt){var _i;if("\t"===_t.indent)_i="\t";else{if(!("number"==typeof _t.indent&&_t.indent>0))return null;_i=ce.call(Array(_t.indent+1)," ")}return{base:_i,prev:ce.call(Array(Mt+1),_i)}}(Pi,yi);if(void 0===Fi)Fi=[];else if(rt(Fi,Mt)>=0)return"[Circular]";function gt(bo,Dr,dr){if(Dr&&(Fi=Ne.call(Fi)).push(Dr),dr){var Zo={depth:Pi.depth};return zt(Pi,"quoteStyle")&&(Zo.quoteStyle=Pi.quoteStyle),_t(bo,Zo,yi+1,Fi)}return _t(bo,Pi,yi+1,Fi)}if("function"==typeof Mt){var Ut=function wt(_t){if(_t.name)return _t.name;var Mt=_e.call(le.call(_t),/^function\s*([\w$]+)/);return Mt?Mt[1]:null}(Mt),Xi=an(Mt,gt);return"[Function"+(Ut?": "+Ut:" (anonymous)")+"]"+(Xi.length>0?" { "+ce.call(Xi,", ")+" }":"")}if(ut(Mt)){var ln=ot?Ue.call(String(Mt),/^(Symbol\(.*\))_[^)]*$/,"$1"):re.call(Mt);return"object"!=typeof Mt||ot?ln:Kt(ln)}if(function Ke(_t){return!(!_t||"object"!=typeof _t)&&("undefined"!=typeof HTMLElement&&_t instanceof HTMLElement||"string"==typeof _t.nodeName&&"function"==typeof _t.getAttribute)}(Mt)){for(var An="<"+ve.call(String(Mt.nodeName)),qn=Mt.attributes||[],si=0;si<qn.length;si++)An+=" "+qn[si].name+"="+kt(oi(qn[si].value),"double",Pi);return An+=">",Mt.childNodes&&Mt.childNodes.length&&(An+="..."),An+"</"+ve.call(String(Mt.nodeName))+">"}if(bi(Mt)){if(0===Mt.length)return"[]";var $t=an(Mt,gt);return Ve&&!function pi(_t){for(var Mt=0;Mt<_t.length;Mt++)if(rt(_t[Mt],"\n")>=0)return!1;return!0}($t)?"["+Di($t,Ve)+"]":"[ "+ce.call($t,", ")+" ]"}if(function ii(_t){return!("[object Error]"!==gi(_t)||ze&&"object"==typeof _t&&ze in _t)}(Mt)){var Pt=an(Mt,gt);return"cause"in Mt&&!De.call(Mt,"cause")?"{ ["+String(Mt)+"] "+ce.call(me.call("[cause]: "+gt(Mt.cause),Pt),", ")+" }":0===Pt.length?"["+String(Mt)+"]":"{ ["+String(Mt)+"] "+ce.call(Pt,", ")+" }"}if("object"==typeof Mt&&gn){if(Ot&&"function"==typeof Mt[Ot])return Mt[Ot]();if("symbol"!==gn&&"function"==typeof Mt.inspect)return Mt.inspect()}if(function tt(_t){if(!t||!_t||"object"!=typeof _t)return!1;try{t.call(_t);try{u.call(_t)}catch(Mt){return!0}return _t instanceof Map}catch(Mt){}return!1}(Mt)){var di=[];return e.call(Mt,function(bo,Dr){di.push(gt(Dr,Mt,!0)+" => "+gt(bo,Mt))}),vi("Map",t.call(Mt),di,Ve)}if(function vt(_t){if(!u||!_t||"object"!=typeof _t)return!1;try{u.call(_t);try{t.call(_t)}catch(Mt){return!0}return _t instanceof Set}catch(Mt){}return!1}(Mt)){var Ri=[];return C.call(Mt,function(bo){Ri.push(gt(bo,Mt))}),vi("Set",u.call(Mt),Ri,Ve)}if(function At(_t){if(!F||!_t||"object"!=typeof _t)return!1;try{F.call(_t,F);try{te.call(_t,te)}catch(Mt){return!0}return _t instanceof WeakMap}catch(Mt){}return!1}(Mt))return Ei("WeakMap");if(function Et(_t){if(!te||!_t||"object"!=typeof _t)return!1;try{te.call(_t,te);try{F.call(_t,F)}catch(Mt){return!0}return _t instanceof WeakSet}catch(Mt){}return!1}(Mt))return Ei("WeakSet");if(function lt(_t){if(!q||!_t||"object"!=typeof _t)return!1;try{return q.call(_t),!0}catch(Mt){}return!1}(Mt))return Ei("WeakRef");if(function Ye(_t){return!("[object Number]"!==gi(_t)||ze&&"object"==typeof _t&&ze in _t)}(Mt))return Kt(gt(Number(Mt)));if(function Re(_t){if(!_t||"object"!=typeof _t||!Ce)return!1;try{return Ce.call(_t),!0}catch(Mt){}return!1}(Mt))return Kt(gt(Ce.call(Mt)));if(function Je(_t){return!("[object Boolean]"!==gi(_t)||ze&&"object"==typeof _t&&ze in _t)}(Mt))return Kt(ue.call(Mt));if(function mt(_t){return!("[object String]"!==gi(_t)||ze&&"object"==typeof _t&&ze in _t)}(Mt))return Kt(gt(String(Mt)));if(!function ti(_t){return!("[object Date]"!==gi(_t)||ze&&"object"==typeof _t&&ze in _t)}(Mt)&&!function Rt(_t){return!("[object RegExp]"!==gi(_t)||ze&&"object"==typeof _t&&ze in _t)}(Mt)){var fn=an(Mt,gt),kn=st?st(Mt)===Object.prototype:Mt instanceof Object||Mt.constructor===Object,rr=Mt instanceof Object?"":"null prototype",Sr=!kn&&ze&&Object(Mt)===Mt&&ze in Mt?Pe.call(gi(Mt),8,-1):rr?"Object":"",Qr=(kn||"function"!=typeof Mt.constructor?"":Mt.constructor.name?Mt.constructor.name+" ":"")+(Sr||rr?"["+ce.call(me.call([],Sr||[],rr||[]),": ")+"] ":"");return 0===fn.length?Qr+"{}":Ve?Qr+"{"+Di(fn,Ve)+"}":Qr+"{ "+ce.call(fn,", ")+" }"}return String(Mt)};var yt=Object.prototype.hasOwnProperty||function(_t){return _t in this};function zt(_t,Mt){return yt.call(_t,Mt)}function gi(_t){return Te.call(_t)}function rt(_t,Mt){if(_t.indexOf)return _t.indexOf(Mt);for(var _i=0,yi=_t.length;_i<yi;_i++)if(_t[_i]===Mt)return _i;return-1}function Ze(_t,Mt){if(_t.length>Mt.maxStringLength){var _i=_t.length-Mt.maxStringLength,yi="... "+_i+" more character"+(_i>1?"s":"");return Ze(Pe.call(_t,0,Mt.maxStringLength),Mt)+yi}return kt(Ue.call(Ue.call(_t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Wt),"single",Mt)}function Wt(_t){var Mt=_t.charCodeAt(0),_i={8:"b",9:"t",10:"n",12:"f",13:"r"}[Mt];return _i?"\\"+_i:"\\x"+(Mt<16?"0":"")+Se.call(Mt.toString(16))}function Kt(_t){return"Object("+_t+")"}function Ei(_t){return _t+" { ? }"}function vi(_t,Mt,_i,yi){return _t+" ("+Mt+") {"+(yi?Di(_i,yi):ce.call(_i,", "))+"}"}function Di(_t,Mt){if(0===_t.length)return"";var _i="\n"+Mt.prev+Mt.base;return _i+ce.call(_t,","+_i)+"\n"+Mt.prev}function an(_t,Mt){var _i=bi(_t),yi=[];if(_i){yi.length=_t.length;for(var Fi=0;Fi<_t.length;Fi++)yi[Fi]=zt(_t,Fi)?Mt(_t[Fi],_t):""}var gn,Pi="function"==typeof de?de(_t):[];if(ot){gn={};for(var ai=0;ai<Pi.length;ai++)gn["$"+Pi[ai]]=Pi[ai]}for(var Tt in _t)!zt(_t,Tt)||_i&&String(Number(Tt))===Tt&&Tt<_t.length||ot&&gn["$"+Tt]instanceof Symbol||(se.call(/[^\w$]/,Tt)?yi.push(Mt(Tt,_t)+": "+Mt(_t[Tt],_t)):yi.push(Tt+": "+Mt(_t[Tt],_t)));if("function"==typeof de)for(var He=0;He<Pi.length;He++)De.call(_t,Pi[He])&&yi.push("["+Mt(Pi[He])+"]: "+Mt(_t[Pi[He]],_t));return yi}},59165:B=>{"use strict";var K=String.prototype.replace,f=/%20/g;B.exports={default:"RFC3986",formatters:{RFC1738:function(m){return K.call(m,f,"+")},RFC3986:function(m){return String(m)}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},81781:(B,K,f)=>{"use strict";var E=f(63726),m=f(46954),t=f(59165);B.exports={formats:t,parse:m,stringify:E}},46954:(B,K,f)=>{"use strict";var E=f(4393),m=Object.prototype.hasOwnProperty,t=Array.isArray,e={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:E.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(oe,q){return oe&&"string"==typeof oe&&q.comma&&oe.indexOf(",")>-1?oe.split(","):oe},W=function(q,ue,Te,le){if(q){var _e=Te.allowDots?q.replace(/\.([^.[]+)/g,"[$1]"):q,Ue=/(\[[^[\]]*])/g,Se=Te.depth>0&&/(\[[^[\]]*])/.exec(_e),ve=Se?_e.slice(0,Se.index):_e,se=[];if(ve){if(!Te.plainObjects&&m.call(Object.prototype,ve)&&!Te.allowPrototypes)return;se.push(ve)}for(var me=0;Te.depth>0&&null!==(Se=Ue.exec(_e))&&me<Te.depth;){if(me+=1,!Te.plainObjects&&m.call(Object.prototype,Se[1].slice(1,-1))&&!Te.allowPrototypes)return;se.push(Se[1])}return Se&&se.push("["+_e.slice(Se.index)+"]"),function(oe,q,ue,Te){for(var le=Te?q:a(q,ue),_e=oe.length-1;_e>=0;--_e){var Pe,Ue=oe[_e];if("[]"===Ue&&ue.parseArrays)Pe=[].concat(le);else{Pe=ue.plainObjects?Object.create(null):{};var Se="["===Ue.charAt(0)&&"]"===Ue.charAt(Ue.length-1)?Ue.slice(1,-1):Ue,ve=parseInt(Se,10);ue.parseArrays||""!==Se?!isNaN(ve)&&Ue!==Se&&String(ve)===Se&&ve>=0&&ue.parseArrays&&ve<=ue.arrayLimit?(Pe=[])[ve]=le:"__proto__"!==Se&&(Pe[Se]=le):Pe={0:le}}le=Pe}return le}(se,ue,Te,le)}};B.exports=function(oe,q){var ue=function(q){if(!q)return e;if(null!=q.decoder&&"function"!=typeof q.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==q.charset&&"utf-8"!==q.charset&&"iso-8859-1"!==q.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===q.allowDots?e.allowDots:!!q.allowDots,allowPrototypes:"boolean"==typeof q.allowPrototypes?q.allowPrototypes:e.allowPrototypes,allowSparse:"boolean"==typeof q.allowSparse?q.allowSparse:e.allowSparse,arrayLimit:"number"==typeof q.arrayLimit?q.arrayLimit:e.arrayLimit,charset:void 0===q.charset?e.charset:q.charset,charsetSentinel:"boolean"==typeof q.charsetSentinel?q.charsetSentinel:e.charsetSentinel,comma:"boolean"==typeof q.comma?q.comma:e.comma,decoder:"function"==typeof q.decoder?q.decoder:e.decoder,delimiter:"string"==typeof q.delimiter||E.isRegExp(q.delimiter)?q.delimiter:e.delimiter,depth:"number"==typeof q.depth||!1===q.depth?+q.depth:e.depth,ignoreQueryPrefix:!0===q.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof q.interpretNumericEntities?q.interpretNumericEntities:e.interpretNumericEntities,parameterLimit:"number"==typeof q.parameterLimit?q.parameterLimit:e.parameterLimit,parseArrays:!1!==q.parseArrays,plainObjects:"boolean"==typeof q.plainObjects?q.plainObjects:e.plainObjects,strictNullHandling:"boolean"==typeof q.strictNullHandling?q.strictNullHandling:e.strictNullHandling}}(q);if(""===oe||null==oe)return ue.plainObjects?Object.create(null):{};for(var Te="string"==typeof oe?function(q,ue){var Se,Te={},Pe=(ue.ignoreQueryPrefix?q.replace(/^\?/,""):q).split(ue.delimiter,ue.parameterLimit===1/0?void 0:ue.parameterLimit),Ue=-1,ve=ue.charset;if(ue.charsetSentinel)for(Se=0;Se<Pe.length;++Se)0===Pe[Se].indexOf("utf8=")&&("utf8=%E2%9C%93"===Pe[Se]?ve="utf-8":"utf8=%26%2310003%3B"===Pe[Se]&&(ve="iso-8859-1"),Ue=Se,Se=Pe.length);for(Se=0;Se<Pe.length;++Se)if(Se!==Ue){var Ne,Ae,se=Pe[Se],me=se.indexOf("]="),ce=-1===me?se.indexOf("="):me+1;-1===ce?(Ne=ue.decoder(se,e.decoder,ve,"key"),Ae=ue.strictNullHandling?null:""):(Ne=ue.decoder(se.slice(0,ce),e.decoder,ve,"key"),Ae=E.maybeMap(a(se.slice(ce+1),ue),function(Ce){return ue.decoder(Ce,e.decoder,ve,"value")})),Ae&&ue.interpretNumericEntities&&"iso-8859-1"===ve&&(Ae=Ae.replace(/&#(\d+);/g,function(q,ue){return String.fromCharCode(parseInt(ue,10))})),se.indexOf("[]=")>-1&&(Ae=t(Ae)?[Ae]:Ae),Te[Ne]=m.call(Te,Ne)?E.combine(Te[Ne],Ae):Ae}return Te}(oe,ue):oe,le=ue.plainObjects?Object.create(null):{},_e=Object.keys(Te),Pe=0;Pe<_e.length;++Pe){var Ue=_e[Pe],Se=W(Ue,Te[Ue],ue,"string"==typeof oe);le=E.merge(le,Se,ue)}return!0===ue.allowSparse?le:E.compact(le)}},63726:(B,K,f)=>{"use strict";var E=f(78475),m=f(4393),t=f(59165),e=Object.prototype.hasOwnProperty,n={brackets:function(_e){return _e+"[]"},comma:"comma",indices:function(_e,Pe){return _e+"["+Pe+"]"},repeat:function(_e){return _e}},a=Array.isArray,u=String.prototype.split,C=Array.prototype.push,D=function(le,_e){C.apply(le,a(_e)?_e:[_e])},F=Date.prototype.toISOString,W=t.default,te={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:m.encode,encodeValuesOnly:!1,format:W,formatter:t.formatters[W],indices:!1,serializeDate:function(_e){return F.call(_e)},skipNulls:!1,strictNullHandling:!1},q={},ue=function le(_e,Pe,Ue,Se,ve,se,me,ce,Ne,Ae,Ce,de,re,ot,ze){for(var De=_e,st=ze,pt=0,dt=!1;void 0!==(st=st.get(q))&&!dt;){var Ot=st.get(_e);if(pt+=1,void 0!==Ot){if(Ot===pt)throw new RangeError("Cyclic object value");dt=!0}void 0===st.get(q)&&(pt=0)}if("function"==typeof me?De=me(Pe,De):De instanceof Date?De=Ae(De):"comma"===Ue&&a(De)&&(De=m.maybeMap(De,function(zt){return zt instanceof Date?Ae(zt):zt})),null===De){if(Se)return se&&!re?se(Pe,te.encoder,ot,"key",Ce):Pe;De=""}if(function(_e){return"string"==typeof _e||"number"==typeof _e||"boolean"==typeof _e||"symbol"==typeof _e||"bigint"==typeof _e}(De)||m.isBuffer(De)){if(se){var kt=re?Pe:se(Pe,te.encoder,ot,"key",Ce);if("comma"===Ue&&re){for(var oi=u.call(String(De),","),bi="",ti=0;ti<oi.length;++ti)bi+=(0===ti?"":",")+de(se(oi[ti],te.encoder,ot,"value",Ce));return[de(kt)+"="+bi]}return[de(kt)+"="+de(se(De,te.encoder,ot,"value",Ce))]}return[de(Pe)+"="+de(String(De))]}var ii,Rt=[];if(void 0===De)return Rt;if("comma"===Ue&&a(De))ii=[{value:De.length>0?De.join(",")||null:void 0}];else if(a(me))ii=me;else{var mt=Object.keys(De);ii=ce?mt.sort(ce):mt}for(var Ye=0;Ye<ii.length;++Ye){var Je=ii[Ye],ut="object"==typeof Je&&void 0!==Je.value?Je.value:De[Je];if(!ve||null!==ut){var Re=a(De)?"function"==typeof Ue?Ue(Pe,Je):Pe:Pe+(Ne?"."+Je:"["+Je+"]");ze.set(_e,pt);var yt=E();yt.set(q,ze),D(Rt,le(ut,Re,Ue,Se,ve,se,me,ce,Ne,Ae,Ce,de,re,ot,yt))}}return Rt};B.exports=function(le,_e){var Se,Pe=le,Ue=function(_e){if(!_e)return te;if(null!=_e.encoder&&"function"!=typeof _e.encoder)throw new TypeError("Encoder has to be a function.");var Pe=_e.charset||te.charset;if(void 0!==_e.charset&&"utf-8"!==_e.charset&&"iso-8859-1"!==_e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var Ue=t.default;if(void 0!==_e.format){if(!e.call(t.formatters,_e.format))throw new TypeError("Unknown format option provided.");Ue=_e.format}var Se=t.formatters[Ue],ve=te.filter;return("function"==typeof _e.filter||a(_e.filter))&&(ve=_e.filter),{addQueryPrefix:"boolean"==typeof _e.addQueryPrefix?_e.addQueryPrefix:te.addQueryPrefix,allowDots:void 0===_e.allowDots?te.allowDots:!!_e.allowDots,charset:Pe,charsetSentinel:"boolean"==typeof _e.charsetSentinel?_e.charsetSentinel:te.charsetSentinel,delimiter:void 0===_e.delimiter?te.delimiter:_e.delimiter,encode:"boolean"==typeof _e.encode?_e.encode:te.encode,encoder:"function"==typeof _e.encoder?_e.encoder:te.encoder,encodeValuesOnly:"boolean"==typeof _e.encodeValuesOnly?_e.encodeValuesOnly:te.encodeValuesOnly,filter:ve,format:Ue,formatter:Se,serializeDate:"function"==typeof _e.serializeDate?_e.serializeDate:te.serializeDate,skipNulls:"boolean"==typeof _e.skipNulls?_e.skipNulls:te.skipNulls,sort:"function"==typeof _e.sort?_e.sort:null,strictNullHandling:"boolean"==typeof _e.strictNullHandling?_e.strictNullHandling:te.strictNullHandling}}(_e);"function"==typeof Ue.filter?Pe=(0,Ue.filter)("",Pe):a(Ue.filter)&&(Se=Ue.filter);var se=[];if("object"!=typeof Pe||null===Pe)return"";var ce=n[_e&&_e.arrayFormat in n?_e.arrayFormat:_e&&"indices"in _e?_e.indices?"indices":"repeat":"indices"];Se||(Se=Object.keys(Pe)),Ue.sort&&Se.sort(Ue.sort);for(var Ne=E(),Ae=0;Ae<Se.length;++Ae){var Ce=Se[Ae];Ue.skipNulls&&null===Pe[Ce]||D(se,ue(Pe[Ce],Ce,ce,Ue.strictNullHandling,Ue.skipNulls,Ue.encode?Ue.encoder:null,Ue.filter,Ue.sort,Ue.allowDots,Ue.serializeDate,Ue.format,Ue.formatter,Ue.encodeValuesOnly,Ue.charset,Ne))}var de=se.join(Ue.delimiter),re=!0===Ue.addQueryPrefix?"?":"";return Ue.charsetSentinel&&(re+="iso-8859-1"===Ue.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),de.length>0?re+de:""}},4393:(B,K,f)=>{"use strict";var E=f(59165),m=Object.prototype.hasOwnProperty,t=Array.isArray,e=function(){for(var Te=[],le=0;le<256;++le)Te.push("%"+((le<16?"0":"")+le.toString(16)).toUpperCase());return Te}(),a=function(le,_e){for(var Pe=_e&&_e.plainObjects?Object.create(null):{},Ue=0;Ue<le.length;++Ue)void 0!==le[Ue]&&(Pe[Ue]=le[Ue]);return Pe};B.exports={arrayToObject:a,assign:function(le,_e){return Object.keys(_e).reduce(function(Pe,Ue){return Pe[Ue]=_e[Ue],Pe},le)},combine:function(le,_e){return[].concat(le,_e)},compact:function(le){for(var _e=[{obj:{o:le},prop:"o"}],Pe=[],Ue=0;Ue<_e.length;++Ue)for(var Se=_e[Ue],ve=Se.obj[Se.prop],se=Object.keys(ve),me=0;me<se.length;++me){var ce=se[me],Ne=ve[ce];"object"==typeof Ne&&null!==Ne&&-1===Pe.indexOf(Ne)&&(_e.push({obj:ve,prop:ce}),Pe.push(Ne))}return function(le){for(;le.length>1;){var _e=le.pop(),Pe=_e.obj[_e.prop];if(t(Pe)){for(var Ue=[],Se=0;Se<Pe.length;++Se)void 0!==Pe[Se]&&Ue.push(Pe[Se]);_e.obj[_e.prop]=Ue}}}(_e),le},decode:function(Te,le,_e){var Pe=Te.replace(/\+/g," ");if("iso-8859-1"===_e)return Pe.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Pe)}catch(Ue){return Pe}},encode:function(le,_e,Pe,Ue,Se){if(0===le.length)return le;var ve=le;if("symbol"==typeof le?ve=Symbol.prototype.toString.call(le):"string"!=typeof le&&(ve=String(le)),"iso-8859-1"===Pe)return escape(ve).replace(/%u[0-9a-f]{4}/gi,function(Ne){return"%26%23"+parseInt(Ne.slice(2),16)+"%3B"});for(var se="",me=0;me<ve.length;++me){var ce=ve.charCodeAt(me);45===ce||46===ce||95===ce||126===ce||ce>=48&&ce<=57||ce>=65&&ce<=90||ce>=97&&ce<=122||Se===E.RFC1738&&(40===ce||41===ce)?se+=ve.charAt(me):ce<128?se+=e[ce]:ce<2048?se+=e[192|ce>>6]+e[128|63&ce]:ce<55296||ce>=57344?se+=e[224|ce>>12]+e[128|ce>>6&63]+e[128|63&ce]:(ce=65536+((1023&ce)<<10|1023&ve.charCodeAt(me+=1)),se+=e[240|ce>>18]+e[128|ce>>12&63]+e[128|ce>>6&63]+e[128|63&ce])}return se},isBuffer:function(le){return!(!le||"object"!=typeof le||!(le.constructor&&le.constructor.isBuffer&&le.constructor.isBuffer(le)))},isRegExp:function(le){return"[object RegExp]"===Object.prototype.toString.call(le)},maybeMap:function(le,_e){if(t(le)){for(var Pe=[],Ue=0;Ue<le.length;Ue+=1)Pe.push(_e(le[Ue]));return Pe}return _e(le)},merge:function Te(le,_e,Pe){if(!_e)return le;if("object"!=typeof _e){if(t(le))le.push(_e);else{if(!le||"object"!=typeof le)return[le,_e];(Pe&&(Pe.plainObjects||Pe.allowPrototypes)||!m.call(Object.prototype,_e))&&(le[_e]=!0)}return le}if(!le||"object"!=typeof le)return[le].concat(_e);var Ue=le;return t(le)&&!t(_e)&&(Ue=a(le,Pe)),t(le)&&t(_e)?(_e.forEach(function(Se,ve){if(m.call(le,ve)){var se=le[ve];se&&"object"==typeof se&&Se&&"object"==typeof Se?le[ve]=Te(se,Se,Pe):le.push(Se)}else le[ve]=Se}),le):Object.keys(_e).reduce(function(Se,ve){var se=_e[ve];return Se[ve]=m.call(Se,ve)?Te(Se[ve],se,Pe):se,Se},Ue)}}},90516:B=>{"use strict";function K(f,E){return Object.prototype.hasOwnProperty.call(f,E)}B.exports=function(f,E,m,t){m=m||"=";var e={};if("string"!=typeof f||0===f.length)return e;var n=/\+/g;f=f.split(E=E||"&");var a=1e3;t&&"number"==typeof t.maxKeys&&(a=t.maxKeys);var u=f.length;a>0&&u>a&&(u=a);for(var C=0;C<u;++C){var W,te,oe,q,D=f[C].replace(n,"%20"),F=D.indexOf(m);F>=0?(W=D.substr(0,F),te=D.substr(F+1)):(W=D,te=""),oe=decodeURIComponent(W),q=decodeURIComponent(te),K(e,oe)?Array.isArray(e[oe])?e[oe].push(q):e[oe]=[e[oe],q]:e[oe]=q}return e}},75776:B=>{"use strict";var K=function(f){switch(typeof f){case"string":return f;case"boolean":return f?"true":"false";case"number":return isFinite(f)?f:"";default:return""}};B.exports=function(f,E,m,t){return E=E||"&",m=m||"=",null===f&&(f=void 0),"object"==typeof f?Object.keys(f).map(function(e){var n=encodeURIComponent(K(e))+m;return Array.isArray(f[e])?f[e].map(function(a){return n+encodeURIComponent(K(a))}).join(E):n+encodeURIComponent(K(f[e]))}).join(E):t?encodeURIComponent(K(t))+m+encodeURIComponent(K(f)):""}},17137:(B,K,f)=>{"use strict";K.decode=K.parse=f(90516),K.encode=K.stringify=f(75776)},67854:B=>{var K=function(f){"use strict";var t,E=Object.prototype,m=E.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",a=e.asyncIterator||"@@asyncIterator",u=e.toStringTag||"@@toStringTag";function C(ze,De,st){return Object.defineProperty(ze,De,{value:st,enumerable:!0,configurable:!0,writable:!0}),ze[De]}try{C({},"")}catch(ze){C=function(De,st,pt){return De[st]=pt}}function D(ze,De,st,pt){var Ot=Object.create((De&&De.prototype instanceof Te?De:Te).prototype),kt=new de(pt||[]);return Ot._invoke=function ce(ze,De,st){var pt=W;return function(Ot,kt){if(pt===oe)throw new Error("Generator is already running");if(pt===q){if("throw"===Ot)throw kt;return ot()}for(st.method=Ot,st.arg=kt;;){var oi=st.delegate;if(oi){var bi=Ne(oi,st);if(bi){if(bi===ue)continue;return bi}}if("next"===st.method)st.sent=st._sent=st.arg;else if("throw"===st.method){if(pt===W)throw pt=q,st.arg;st.dispatchException(st.arg)}else"return"===st.method&&st.abrupt("return",st.arg);pt=oe;var ti=F(ze,De,st);if("normal"===ti.type){if(pt=st.done?q:te,ti.arg===ue)continue;return{value:ti.arg,done:st.done}}"throw"===ti.type&&(pt=q,st.method="throw",st.arg=ti.arg)}}}(ze,st,kt),Ot}function F(ze,De,st){try{return{type:"normal",arg:ze.call(De,st)}}catch(pt){return{type:"throw",arg:pt}}}f.wrap=D;var W="suspendedStart",te="suspendedYield",oe="executing",q="completed",ue={};function Te(){}function le(){}function _e(){}var Pe={};C(Pe,n,function(){return this});var Ue=Object.getPrototypeOf,Se=Ue&&Ue(Ue(re([])));Se&&Se!==E&&m.call(Se,n)&&(Pe=Se);var ve=_e.prototype=Te.prototype=Object.create(Pe);function se(ze){["next","throw","return"].forEach(function(De){C(ze,De,function(st){return this._invoke(De,st)})})}function me(ze,De){function st(Ot,kt,oi,bi){var ti=F(ze[Ot],ze,kt);if("throw"!==ti.type){var Rt=ti.arg,ii=Rt.value;return ii&&"object"==typeof ii&&m.call(ii,"__await")?De.resolve(ii.__await).then(function(mt){st("next",mt,oi,bi)},function(mt){st("throw",mt,oi,bi)}):De.resolve(ii).then(function(mt){Rt.value=mt,oi(Rt)},function(mt){return st("throw",mt,oi,bi)})}bi(ti.arg)}var pt;this._invoke=function dt(Ot,kt){function oi(){return new De(function(bi,ti){st(Ot,kt,bi,ti)})}return pt=pt?pt.then(oi,oi):oi()}}function Ne(ze,De){var st=ze.iterator[De.method];if(st===t){if(De.delegate=null,"throw"===De.method){if(ze.iterator.return&&(De.method="return",De.arg=t,Ne(ze,De),"throw"===De.method))return ue;De.method="throw",De.arg=new TypeError("The iterator does not provide a 'throw' method")}return ue}var pt=F(st,ze.iterator,De.arg);if("throw"===pt.type)return De.method="throw",De.arg=pt.arg,De.delegate=null,ue;var dt=pt.arg;return dt?dt.done?(De[ze.resultName]=dt.value,De.next=ze.nextLoc,"return"!==De.method&&(De.method="next",De.arg=t),De.delegate=null,ue):dt:(De.method="throw",De.arg=new TypeError("iterator result is not an object"),De.delegate=null,ue)}function Ae(ze){var De={tryLoc:ze[0]};1 in ze&&(De.catchLoc=ze[1]),2 in ze&&(De.finallyLoc=ze[2],De.afterLoc=ze[3]),this.tryEntries.push(De)}function Ce(ze){var De=ze.completion||{};De.type="normal",delete De.arg,ze.completion=De}function de(ze){this.tryEntries=[{tryLoc:"root"}],ze.forEach(Ae,this),this.reset(!0)}function re(ze){if(ze){var De=ze[n];if(De)return De.call(ze);if("function"==typeof ze.next)return ze;if(!isNaN(ze.length)){var st=-1,pt=function dt(){for(;++st<ze.length;)if(m.call(ze,st))return dt.value=ze[st],dt.done=!1,dt;return dt.value=t,dt.done=!0,dt};return pt.next=pt}}return{next:ot}}function ot(){return{value:t,done:!0}}return le.prototype=_e,C(ve,"constructor",_e),C(_e,"constructor",le),le.displayName=C(_e,u,"GeneratorFunction"),f.isGeneratorFunction=function(ze){var De="function"==typeof ze&&ze.constructor;return!!De&&(De===le||"GeneratorFunction"===(De.displayName||De.name))},f.mark=function(ze){return Object.setPrototypeOf?Object.setPrototypeOf(ze,_e):(ze.__proto__=_e,C(ze,u,"GeneratorFunction")),ze.prototype=Object.create(ve),ze},f.awrap=function(ze){return{__await:ze}},se(me.prototype),C(me.prototype,a,function(){return this}),f.AsyncIterator=me,f.async=function(ze,De,st,pt,dt){void 0===dt&&(dt=Promise);var Ot=new me(D(ze,De,st,pt),dt);return f.isGeneratorFunction(De)?Ot:Ot.next().then(function(kt){return kt.done?kt.value:Ot.next()})},se(ve),C(ve,u,"Generator"),C(ve,n,function(){return this}),C(ve,"toString",function(){return"[object Generator]"}),f.keys=function(ze){var De=[];for(var st in ze)De.push(st);return De.reverse(),function pt(){for(;De.length;){var dt=De.pop();if(dt in ze)return pt.value=dt,pt.done=!1,pt}return pt.done=!0,pt}},f.values=re,de.prototype={constructor:de,reset:function(ze){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(Ce),!ze)for(var De in this)"t"===De.charAt(0)&&m.call(this,De)&&!isNaN(+De.slice(1))&&(this[De]=t)},stop:function(){this.done=!0;var De=this.tryEntries[0].completion;if("throw"===De.type)throw De.arg;return this.rval},dispatchException:function(ze){if(this.done)throw ze;var De=this;function st(bi,ti){return Ot.type="throw",Ot.arg=ze,De.next=bi,ti&&(De.method="next",De.arg=t),!!ti}for(var pt=this.tryEntries.length-1;pt>=0;--pt){var dt=this.tryEntries[pt],Ot=dt.completion;if("root"===dt.tryLoc)return st("end");if(dt.tryLoc<=this.prev){var kt=m.call(dt,"catchLoc"),oi=m.call(dt,"finallyLoc");if(kt&&oi){if(this.prev<dt.catchLoc)return st(dt.catchLoc,!0);if(this.prev<dt.finallyLoc)return st(dt.finallyLoc)}else if(kt){if(this.prev<dt.catchLoc)return st(dt.catchLoc,!0)}else{if(!oi)throw new Error("try statement without catch or finally");if(this.prev<dt.finallyLoc)return st(dt.finallyLoc)}}}},abrupt:function(ze,De){for(var st=this.tryEntries.length-1;st>=0;--st){var pt=this.tryEntries[st];if(pt.tryLoc<=this.prev&&m.call(pt,"finallyLoc")&&this.prev<pt.finallyLoc){var dt=pt;break}}dt&&("break"===ze||"continue"===ze)&&dt.tryLoc<=De&&De<=dt.finallyLoc&&(dt=null);var Ot=dt?dt.completion:{};return Ot.type=ze,Ot.arg=De,dt?(this.method="next",this.next=dt.finallyLoc,ue):this.complete(Ot)},complete:function(ze,De){if("throw"===ze.type)throw ze.arg;return"break"===ze.type||"continue"===ze.type?this.next=ze.arg:"return"===ze.type?(this.rval=this.arg=ze.arg,this.method="return",this.next="end"):"normal"===ze.type&&De&&(this.next=De),ue},finish:function(ze){for(var De=this.tryEntries.length-1;De>=0;--De){var st=this.tryEntries[De];if(st.finallyLoc===ze)return this.complete(st.completion,st.afterLoc),Ce(st),ue}},catch:function(ze){for(var De=this.tryEntries.length-1;De>=0;--De){var st=this.tryEntries[De];if(st.tryLoc===ze){var pt=st.completion;if("throw"===pt.type){var dt=pt.arg;Ce(st)}return dt}}throw new Error("illegal catch attempt")},delegateYield:function(ze,De,st){return this.delegate={iterator:re(ze),resultName:De,nextLoc:st},"next"===this.method&&(this.arg=t),ue}},f}(B.exports);try{regeneratorRuntime=K}catch(f){"object"==typeof globalThis?globalThis.regeneratorRuntime=K:Function("r","regeneratorRuntime = r")(K)}},61135:(B,K,f)=>{"use strict";f.d(K,{X:()=>m});var E=f(77579);class m extends E.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:a}=this;if(e)throw n;return this._throwIfClosed(),a}next(e){super.next(this._value=e)}}},68306:(B,K,f)=>{"use strict";f.d(K,{y:()=>F});var E=f(70930),m=f(50727),t=f(48822),e=f(44671);var u=f(42416),C=f(30576),D=f(72806);let F=(()=>{class q{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const le=new q;return le.source=this,le.operator=Te,le}subscribe(Te,le,_e){const Pe=function oe(q){return q&&q instanceof E.Lv||function te(q){return q&&(0,C.m)(q.next)&&(0,C.m)(q.error)&&(0,C.m)(q.complete)}(q)&&(0,m.Nn)(q)}(Te)?Te:new E.Hp(Te,le,_e);return(0,D.x)(()=>{const{operator:Ue,source:Se}=this;Pe.add(Ue?Ue.call(Pe,Se):Se?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(Te){try{return this._subscribe(Te)}catch(le){Te.error(le)}}forEach(Te,le){return new(le=W(le))((_e,Pe)=>{let Ue;Ue=this.subscribe(Se=>{try{Te(Se)}catch(ve){Pe(ve),null==Ue||Ue.unsubscribe()}},Pe,_e)})}_subscribe(Te){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(Te)}[t.L](){return this}pipe(...Te){return function a(q){return 0===q.length?e.y:1===q.length?q[0]:function(Te){return q.reduce((le,_e)=>_e(le),Te)}}(Te)(this)}toPromise(Te){return new(Te=W(Te))((le,_e)=>{let Pe;this.subscribe(Ue=>Pe=Ue,Ue=>_e(Ue),()=>le(Pe))})}}return q.create=ue=>new q(ue),q})();function W(q){var ue;return null!==(ue=null!=q?q:u.v.Promise)&&void 0!==ue?ue:Promise}},77579:(B,K,f)=>{"use strict";f.d(K,{x:()=>u});var E=f(68306),m=f(50727);const e=(0,f(83888).d)(D=>function(){D(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var n=f(38737),a=f(72806);let u=(()=>{class D extends E.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const te=new C(this,this);return te.operator=W,te}_throwIfClosed(){if(this.closed)throw new e}next(W){(0,a.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const te=this.observers.slice();for(const oe of te)oe.next(W)}})}error(W){(0,a.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:te}=this;for(;te.length;)te.shift().error(W)}})}complete(){(0,a.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:te,isStopped:oe,observers:q}=this;return te||oe?m.Lc:(q.push(W),new m.w0(()=>(0,n.P)(q,W)))}_checkFinalizedStatuses(W){const{hasError:te,thrownError:oe,isStopped:q}=this;te?W.error(oe):q&&W.complete()}asObservable(){const W=new E.y;return W.source=this,W}}return D.create=(F,W)=>new C(F,W),D})();class C extends u{constructor(F,W){super(),this.destination=F,this.source=W}next(F){var W,te;null===(te=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===te||te.call(W,F)}error(F){var W,te;null===(te=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===te||te.call(W,F)}complete(){var F,W;null===(W=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===W||W.call(F)}_subscribe(F){var W,te;return null!==(te=null===(W=this.source)||void 0===W?void 0:W.subscribe(F))&&void 0!==te?te:m.Lc}}},70930:(B,K,f)=>{"use strict";f.d(K,{Hp:()=>oe,Lv:()=>te});var E=f(30576),m=f(50727),t=f(42416),e=f(87849),n=f(25032);const a=D("C",void 0,void 0);function D(_e,Pe,Ue){return{kind:_e,value:Pe,error:Ue}}var F=f(43410),W=f(72806);class te extends m.w0{constructor(Pe){super(),this.isStopped=!1,Pe?(this.destination=Pe,(0,m.Nn)(Pe)&&Pe.add(this)):this.destination=le}static create(Pe,Ue,Se){return new oe(Pe,Ue,Se)}next(Pe){this.isStopped?Te(function C(_e){return D("N",_e,void 0)}(Pe),this):this._next(Pe)}error(Pe){this.isStopped?Te(function u(_e){return D("E",void 0,_e)}(Pe),this):(this.isStopped=!0,this._error(Pe))}complete(){this.isStopped?Te(a,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Pe){this.destination.next(Pe)}_error(Pe){try{this.destination.error(Pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class oe extends te{constructor(Pe,Ue,Se){let ve;if(super(),(0,E.m)(Pe))ve=Pe;else if(Pe){let se;({next:ve,error:Ue,complete:Se}=Pe),this&&t.v.useDeprecatedNextContext?(se=Object.create(Pe),se.unsubscribe=()=>this.unsubscribe()):se=Pe,ve=null==ve?void 0:ve.bind(se),Ue=null==Ue?void 0:Ue.bind(se),Se=null==Se?void 0:Se.bind(se)}this.destination={next:ve?q(ve):n.Z,error:q(null!=Ue?Ue:ue),complete:Se?q(Se):n.Z}}}function q(_e,Pe){return(...Ue)=>{try{_e(...Ue)}catch(Se){t.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Se):(0,e.h)(Se)}}}function ue(_e){throw _e}function Te(_e,Pe){const{onStoppedNotification:Ue}=t.v;Ue&&F.z.setTimeout(()=>Ue(_e,Pe))}const le={closed:!0,next:n.Z,error:ue,complete:n.Z}},50727:(B,K,f)=>{"use strict";f.d(K,{Lc:()=>a,w0:()=>n,Nn:()=>u});var E=f(30576);const t=(0,f(83888).d)(D=>function(W){D(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((te,oe)=>`${oe+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var e=f(38737);class n{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const q of W)q.remove(this);else W.remove(this);const{initialTeardown:te}=this;if((0,E.m)(te))try{te()}catch(q){F=q instanceof t?q.errors:[q]}const{_teardowns:oe}=this;if(oe){this._teardowns=null;for(const q of oe)try{C(q)}catch(ue){F=null!=F?F:[],ue instanceof t?F=[...F,...ue.errors]:F.push(ue)}}if(F)throw new t(F)}}add(F){var W;if(F&&F!==this)if(this.closed)C(F);else{if(F instanceof n){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._teardowns=null!==(W=this._teardowns)&&void 0!==W?W:[]).push(F)}}_hasParent(F){const{_parentage:W}=this;return W===F||Array.isArray(W)&&W.includes(F)}_addParent(F){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(F),W):W?[W,F]:F}_removeParent(F){const{_parentage:W}=this;W===F?this._parentage=null:Array.isArray(W)&&(0,e.P)(W,F)}remove(F){const{_teardowns:W}=this;W&&(0,e.P)(W,F),F instanceof n&&F._removeParent(this)}}n.EMPTY=(()=>{const D=new n;return D.closed=!0,D})();const a=n.EMPTY;function u(D){return D instanceof n||D&&"closed"in D&&(0,E.m)(D.remove)&&(0,E.m)(D.add)&&(0,E.m)(D.unsubscribe)}function C(D){(0,E.m)(D)?D():D.unsubscribe()}},42416:(B,K,f)=>{"use strict";f.d(K,{v:()=>E});const E={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},39841:(B,K,f)=>{"use strict";f.d(K,{a:()=>F});var E=f(68306),m=f(54742),t=f(32076),e=f(44671),n=f(83268),a=f(63269),u=f(31810),C=f(25403),D=f(39672);function F(...oe){const q=(0,a.yG)(oe),ue=(0,a.jO)(oe),{args:Te,keys:le}=(0,m.D)(oe);if(0===Te.length)return(0,t.D)([],q);const _e=new E.y(function W(oe,q,ue=e.y){return Te=>{te(q,()=>{const{length:le}=oe,_e=new Array(le);let Pe=le,Ue=le;for(let Se=0;Se<le;Se++)te(q,()=>{const ve=(0,t.D)(oe[Se],q);let se=!1;ve.subscribe(new C.Q(Te,me=>{_e[Se]=me,se||(se=!0,Ue--),Ue||Te.next(ue(_e.slice()))},()=>{--Pe||Te.complete()}))},Te)},Te)}}(Te,q,le?Pe=>(0,u.n)(le,Pe):e.y));return ue?_e.pipe((0,n.Z)(ue)):_e}function te(oe,q,ue){oe?(0,D.f)(ue,oe,q):q()}},97272:(B,K,f)=>{"use strict";f.d(K,{z:()=>n});var E=f(8189),t=f(63269),e=f(32076);function n(...a){return function m(){return(0,E.J)(1)}()((0,e.D)(a,(0,t.yG)(a)))}},49770:(B,K,f)=>{"use strict";f.d(K,{P:()=>t});var E=f(68306),m=f(38421);function t(e){return new E.y(n=>{(0,m.Xf)(e()).subscribe(n)})}},60515:(B,K,f)=>{"use strict";f.d(K,{E:()=>m});const m=new(f(68306).y)(n=>n.complete())},4128:(B,K,f)=>{"use strict";f.d(K,{D:()=>C});var E=f(68306),m=f(54742),t=f(38421),e=f(63269),n=f(25403),a=f(83268),u=f(31810);function C(...D){const F=(0,e.jO)(D),{args:W,keys:te}=(0,m.D)(D),oe=new E.y(q=>{const{length:ue}=W;if(!ue)return void q.complete();const Te=new Array(ue);let le=ue,_e=ue;for(let Pe=0;Pe<ue;Pe++){let Ue=!1;(0,t.Xf)(W[Pe]).subscribe(new n.Q(q,Se=>{Ue||(Ue=!0,_e--),Te[Pe]=Se},()=>le--,void 0,()=>{(!le||!Ue)&&(_e||q.next(te?(0,u.n)(te,Te):Te),q.complete())}))}});return F?oe.pipe((0,a.Z)(F)):oe}},32076:(B,K,f)=>{"use strict";f.d(K,{D:()=>me});var E=f(38421),m=f(39672),t=f(54482),e=f(25403);function n(ce,Ne=0){return(0,t.e)((Ae,Ce)=>{Ae.subscribe(new e.Q(Ce,de=>(0,m.f)(Ce,ce,()=>Ce.next(de),Ne),()=>(0,m.f)(Ce,ce,()=>Ce.complete(),Ne),de=>(0,m.f)(Ce,ce,()=>Ce.error(de),Ne)))})}function a(ce,Ne=0){return(0,t.e)((Ae,Ce)=>{Ce.add(ce.schedule(()=>Ae.subscribe(Ce),Ne))})}var D=f(68306),W=f(2202),te=f(30576);function q(ce,Ne){if(!ce)throw new Error("Iterable cannot be null");return new D.y(Ae=>{(0,m.f)(Ae,Ne,()=>{const Ce=ce[Symbol.asyncIterator]();(0,m.f)(Ae,Ne,()=>{Ce.next().then(de=>{de.done?Ae.complete():Ae.next(de.value)})},0,!0)})})}var ue=f(93670),Te=f(28239),le=f(81144),_e=f(26495),Pe=f(12206),Ue=f(44532),Se=f(53260);function me(ce,Ne){return Ne?function se(ce,Ne){if(null!=ce){if((0,ue.c)(ce))return function u(ce,Ne){return(0,E.Xf)(ce).pipe(a(Ne),n(Ne))}(ce,Ne);if((0,le.z)(ce))return function F(ce,Ne){return new D.y(Ae=>{let Ce=0;return Ne.schedule(function(){Ce===ce.length?Ae.complete():(Ae.next(ce[Ce++]),Ae.closed||this.schedule())})})}(ce,Ne);if((0,Te.t)(ce))return function C(ce,Ne){return(0,E.Xf)(ce).pipe(a(Ne),n(Ne))}(ce,Ne);if((0,Pe.D)(ce))return q(ce,Ne);if((0,_e.T)(ce))return function oe(ce,Ne){return new D.y(Ae=>{let Ce;return(0,m.f)(Ae,Ne,()=>{Ce=ce[W.h](),(0,m.f)(Ae,Ne,()=>{let de,re;try{({value:de,done:re}=Ce.next())}catch(ot){return void Ae.error(ot)}re?Ae.complete():Ae.next(de)},0,!0)}),()=>(0,te.m)(null==Ce?void 0:Ce.return)&&Ce.return()})}(ce,Ne);if((0,Se.L)(ce))return function ve(ce,Ne){return q((0,Se.Q)(ce),Ne)}(ce,Ne)}throw(0,Ue.z)(ce)}(ce,Ne):(0,E.Xf)(ce)}},54968:(B,K,f)=>{"use strict";f.d(K,{R:()=>F});var E=f(38421),m=f(68306),t=f(95577),e=f(81144),n=f(30576),a=f(83268);const u=["addListener","removeListener"],C=["addEventListener","removeEventListener"],D=["on","off"];function F(ue,Te,le,_e){if((0,n.m)(le)&&(_e=le,le=void 0),_e)return F(ue,Te,le).pipe((0,a.Z)(_e));const[Pe,Ue]=function q(ue){return(0,n.m)(ue.addEventListener)&&(0,n.m)(ue.removeEventListener)}(ue)?C.map(Se=>ve=>ue[Se](Te,ve,le)):function te(ue){return(0,n.m)(ue.addListener)&&(0,n.m)(ue.removeListener)}(ue)?u.map(W(ue,Te)):function oe(ue){return(0,n.m)(ue.on)&&(0,n.m)(ue.off)}(ue)?D.map(W(ue,Te)):[];if(!Pe&&(0,e.z)(ue))return(0,t.z)(Se=>F(Se,Te,le))((0,E.Xf)(ue));if(!Pe)throw new TypeError("Invalid event target");return new m.y(Se=>{const ve=(...se)=>Se.next(1<se.length?se:se[0]);return Pe(ve),()=>Ue(ve)})}function W(ue,Te){return le=>_e=>ue[le](Te,_e)}},38421:(B,K,f)=>{"use strict";f.d(K,{Xf:()=>oe});var E=f(35987),m=f(81144),t=f(28239),e=f(68306),n=f(93670),a=f(12206),u=f(44532),C=f(26495),D=f(53260),F=f(30576),W=f(87849),te=f(48822);function oe(Se){if(Se instanceof e.y)return Se;if(null!=Se){if((0,n.c)(Se))return function q(Se){return new e.y(ve=>{const se=Se[te.L]();if((0,F.m)(se.subscribe))return se.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,m.z)(Se))return function ue(Se){return new e.y(ve=>{for(let se=0;se<Se.length&&!ve.closed;se++)ve.next(Se[se]);ve.complete()})}(Se);if((0,t.t)(Se))return function Te(Se){return new e.y(ve=>{Se.then(se=>{ve.closed||(ve.next(se),ve.complete())},se=>ve.error(se)).then(null,W.h)})}(Se);if((0,a.D)(Se))return _e(Se);if((0,C.T)(Se))return function le(Se){return new e.y(ve=>{for(const se of Se)if(ve.next(se),ve.closed)return;ve.complete()})}(Se);if((0,D.L)(Se))return function Pe(Se){return _e((0,D.Q)(Se))}(Se)}throw(0,u.z)(Se)}function _e(Se){return new e.y(ve=>{(function Ue(Se,ve){var se,me,ce,Ne;return(0,E.mG)(this,void 0,void 0,function*(){try{for(se=(0,E.KL)(Se);!(me=yield se.next()).done;)if(ve.next(me.value),ve.closed)return}catch(Ae){ce={error:Ae}}finally{try{me&&!me.done&&(Ne=se.return)&&(yield Ne.call(se))}finally{if(ce)throw ce.error}}ve.complete()})})(Se,ve).catch(se=>ve.error(se))})}},56451:(B,K,f)=>{"use strict";f.d(K,{T:()=>a});var E=f(8189),m=f(38421),t=f(60515),e=f(63269),n=f(32076);function a(...u){const C=(0,e.yG)(u),D=(0,e._6)(u,1/0),F=u;return F.length?1===F.length?(0,m.Xf)(F[0]):(0,E.J)(D)((0,n.D)(F,C)):t.E}},39646:(B,K,f)=>{"use strict";f.d(K,{of:()=>t});var E=f(63269),m=f(32076);function t(...e){const n=(0,E.yG)(e);return(0,m.D)(e,n)}},5963:(B,K,f)=>{"use strict";f.d(K,{H:()=>n});var E=f(68306),m=f(34986),t=f(93532);function n(a=0,u,C=m.P){let D=-1;return null!=u&&((0,t.K)(u)?C=u:D=u),new E.y(F=>{let W=function e(a){return a instanceof Date&&!isNaN(a)}(a)?+a-C.now():a;W<0&&(W=0);let te=0;return C.schedule(function(){F.closed||(F.next(te++),0<=D?this.schedule(void 0,D):F.complete())},W)})}},25403:(B,K,f)=>{"use strict";f.d(K,{Q:()=>m});var E=f(70930);class m extends E.Lv{constructor(e,n,a,u,C){super(e),this.onFinalize=C,this._next=n?function(D){try{n(D)}catch(F){e.error(F)}}:super._next,this._error=u?function(D){try{u(D)}catch(F){e.error(F)}finally{this.unsubscribe()}}:super._error,this._complete=a?function(){try{a()}catch(D){e.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}},70262:(B,K,f)=>{"use strict";f.d(K,{K:()=>e});var E=f(38421),m=f(25403),t=f(54482);function e(n){return(0,t.e)((a,u)=>{let F,C=null,D=!1;C=a.subscribe(new m.Q(u,void 0,void 0,W=>{F=(0,E.Xf)(n(W,e(n)(a))),C?(C.unsubscribe(),C=null,F.subscribe(u)):D=!0})),D&&(C.unsubscribe(),C=null,F.subscribe(u))})}},24351:(B,K,f)=>{"use strict";f.d(K,{b:()=>t});var E=f(95577),m=f(30576);function t(e,n){return(0,m.m)(n)?(0,E.z)(e,n,1):(0,E.z)(e,1)}},78372:(B,K,f)=>{"use strict";f.d(K,{b:()=>e});var E=f(34986),m=f(54482),t=f(25403);function e(n,a=E.z){return(0,m.e)((u,C)=>{let D=null,F=null,W=null;const te=()=>{if(D){D.unsubscribe(),D=null;const q=F;F=null,C.next(q)}};function oe(){const q=W+n,ue=a.now();if(ue<q)return D=this.schedule(void 0,q-ue),void C.add(D);te()}u.subscribe(new t.Q(C,q=>{F=q,W=a.now(),D||(D=a.schedule(oe,n),C.add(D))},()=>{te(),C.complete()},void 0,()=>{F=D=null}))})}},91005:(B,K,f)=>{"use strict";f.d(K,{g:()=>te});var E=f(34986),m=f(97272),t=f(95698),e=f(54482),n=f(25403),a=f(25032),C=f(69718),D=f(95577);function F(oe,q){return q?ue=>(0,m.z)(q.pipe((0,t.q)(1),function u(){return(0,e.e)((oe,q)=>{oe.subscribe(new n.Q(q,a.Z))})}()),ue.pipe(F(oe))):(0,D.z)((ue,Te)=>oe(ue,Te).pipe((0,t.q)(1),(0,C.h)(ue)))}var W=f(5963);function te(oe,q=E.z){const ue=(0,W.H)(oe,q);return F(()=>ue)}},71884:(B,K,f)=>{"use strict";f.d(K,{x:()=>e});var E=f(44671),m=f(54482),t=f(25403);function e(a,u=E.y){return a=null!=a?a:n,(0,m.e)((C,D)=>{let F,W=!0;C.subscribe(new t.Q(D,te=>{const oe=u(te);(W||!a(F,oe))&&(W=!1,F=oe,D.next(te))}))})}function n(a,u){return a===u}},39300:(B,K,f)=>{"use strict";f.d(K,{h:()=>t});var E=f(54482),m=f(25403);function t(e,n){return(0,E.e)((a,u)=>{let C=0;a.subscribe(new m.Q(u,D=>e.call(n,D,C++)&&u.next(D)))})}},28746:(B,K,f)=>{"use strict";f.d(K,{x:()=>m});var E=f(54482);function m(t){return(0,E.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}},54004:(B,K,f)=>{"use strict";f.d(K,{U:()=>t});var E=f(54482),m=f(25403);function t(e,n){return(0,E.e)((a,u)=>{let C=0;a.subscribe(new m.Q(u,D=>{u.next(e.call(n,D,C++))}))})}},69718:(B,K,f)=>{"use strict";f.d(K,{h:()=>m});var E=f(54004);function m(t){return(0,E.U)(()=>t)}},8189:(B,K,f)=>{"use strict";f.d(K,{J:()=>t});var E=f(95577),m=f(44671);function t(e=1/0){return(0,E.z)(m.y,e)}},95577:(B,K,f)=>{"use strict";f.d(K,{z:()=>C});var E=f(54004),m=f(38421),t=f(54482),e=f(39672),n=f(25403),u=f(30576);function C(D,F,W=1/0){return(0,u.m)(F)?C((te,oe)=>(0,E.U)((q,ue)=>F(te,q,oe,ue))((0,m.Xf)(D(te,oe))),W):("number"==typeof F&&(W=F),(0,t.e)((te,oe)=>function a(D,F,W,te,oe,q,ue,Te){const le=[];let _e=0,Pe=0,Ue=!1;const Se=()=>{Ue&&!le.length&&!_e&&F.complete()},ve=me=>_e<te?se(me):le.push(me),se=me=>{q&&F.next(me),_e++;let ce=!1;(0,m.Xf)(W(me,Pe++)).subscribe(new n.Q(F,Ne=>{null==oe||oe(Ne),q?ve(Ne):F.next(Ne)},()=>{ce=!0},void 0,()=>{if(ce)try{for(_e--;le.length&&_e<te;){const Ne=le.shift();ue?(0,e.f)(F,ue,()=>se(Ne)):se(Ne)}Se()}catch(Ne){F.error(Ne)}}))};return D.subscribe(new n.Q(F,ve,()=>{Ue=!0,Se()})),()=>{null==Te||Te()}}(te,oe,D,W)))}},13099:(B,K,f)=>{"use strict";f.d(K,{B:()=>a});var E=f(32076),m=f(95698),t=f(77579),e=f(70930),n=f(54482);function a(C={}){const{connector:D=(()=>new t.x),resetOnError:F=!0,resetOnComplete:W=!0,resetOnRefCountZero:te=!0}=C;return oe=>{let q=null,ue=null,Te=null,le=0,_e=!1,Pe=!1;const Ue=()=>{null==ue||ue.unsubscribe(),ue=null},Se=()=>{Ue(),q=Te=null,_e=Pe=!1},ve=()=>{const se=q;Se(),null==se||se.unsubscribe()};return(0,n.e)((se,me)=>{le++,!Pe&&!_e&&Ue();const ce=Te=null!=Te?Te:D();me.add(()=>{le--,0===le&&!Pe&&!_e&&(ue=u(ve,te))}),ce.subscribe(me),q||(q=new e.Hp({next:Ne=>ce.next(Ne),error:Ne=>{Pe=!0,Ue(),ue=u(Se,F,Ne),ce.error(Ne)},complete:()=>{_e=!0,Ue(),ue=u(Se,W),ce.complete()}}),(0,E.D)(se).subscribe(q))})(oe)}}function u(C,D,...F){return!0===D?(C(),null):!1===D?null:D(...F).pipe((0,m.q)(1)).subscribe(()=>C())}},35684:(B,K,f)=>{"use strict";f.d(K,{T:()=>m});var E=f(39300);function m(t){return(0,E.h)((e,n)=>t<=n)}},68675:(B,K,f)=>{"use strict";f.d(K,{O:()=>e});var E=f(97272),m=f(63269),t=f(54482);function e(...n){const a=(0,m.yG)(n);return(0,t.e)((u,C)=>{(a?(0,E.z)(n,u,a):(0,E.z)(n,u)).subscribe(C)})}},63900:(B,K,f)=>{"use strict";f.d(K,{w:()=>e});var E=f(38421),m=f(54482),t=f(25403);function e(n,a){return(0,m.e)((u,C)=>{let D=null,F=0,W=!1;const te=()=>W&&!D&&C.complete();u.subscribe(new t.Q(C,oe=>{null==D||D.unsubscribe();let q=0;const ue=F++;(0,E.Xf)(n(oe,ue)).subscribe(D=new t.Q(C,Te=>C.next(a?a(oe,Te,ue,q++):Te),()=>{D=null,te()}))},()=>{W=!0,te()}))})}},95698:(B,K,f)=>{"use strict";f.d(K,{q:()=>e});var E=f(60515),m=f(54482),t=f(25403);function e(n){return n<=0?()=>E.E:(0,m.e)((a,u)=>{let C=0;a.subscribe(new t.Q(u,D=>{++C<=n&&(u.next(D),n<=C&&u.complete())}))})}},82722:(B,K,f)=>{"use strict";f.d(K,{R:()=>n});var E=f(54482),m=f(25403),t=f(38421),e=f(25032);function n(a){return(0,E.e)((u,C)=>{(0,t.Xf)(a).subscribe(new m.Q(C,()=>C.complete(),e.Z)),!C.closed&&u.subscribe(C)})}},18505:(B,K,f)=>{"use strict";f.d(K,{b:()=>n});var E=f(30576),m=f(54482),t=f(25403),e=f(44671);function n(a,u,C){const D=(0,E.m)(a)||u||C?{next:a,error:u,complete:C}:a;return D?(0,m.e)((F,W)=>{var te;null===(te=D.subscribe)||void 0===te||te.call(D);let oe=!0;F.subscribe(new t.Q(W,q=>{var ue;null===(ue=D.next)||void 0===ue||ue.call(D,q),W.next(q)},()=>{var q;oe=!1,null===(q=D.complete)||void 0===q||q.call(D),W.complete()},q=>{var ue;oe=!1,null===(ue=D.error)||void 0===ue||ue.call(D,q),W.error(q)},()=>{var q,ue;oe&&(null===(q=D.unsubscribe)||void 0===q||q.call(D)),null===(ue=D.finalize)||void 0===ue||ue.call(D)}))}):e.y}},84408:(B,K,f)=>{"use strict";f.d(K,{o:()=>n});var E=f(50727);class m extends E.w0{constructor(u,C){super()}schedule(u,C=0){return this}}const t={setInterval(...a){const{delegate:u}=t;return((null==u?void 0:u.setInterval)||setInterval)(...a)},clearInterval(a){const{delegate:u}=t;return((null==u?void 0:u.clearInterval)||clearInterval)(a)},delegate:void 0};var e=f(38737);class n extends m{constructor(u,C){super(u,C),this.scheduler=u,this.work=C,this.pending=!1}schedule(u,C=0){if(this.closed)return this;this.state=u;const D=this.id,F=this.scheduler;return null!=D&&(this.id=this.recycleAsyncId(F,D,C)),this.pending=!0,this.delay=C,this.id=this.id||this.requestAsyncId(F,this.id,C),this}requestAsyncId(u,C,D=0){return t.setInterval(u.flush.bind(u,this),D)}recycleAsyncId(u,C,D=0){if(null!=D&&this.delay===D&&!1===this.pending)return C;t.clearInterval(C)}execute(u,C){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const D=this._execute(u,C);if(D)return D;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(u,C){let F,D=!1;try{this.work(u)}catch(W){D=!0,F=W||new Error("Scheduled action threw falsy error")}if(D)return this.unsubscribe(),F}unsubscribe(){if(!this.closed){const{id:u,scheduler:C}=this,{actions:D}=C;this.work=this.state=this.scheduler=null,this.pending=!1,(0,e.P)(D,this),null!=u&&(this.id=this.recycleAsyncId(C,u,null)),this.delay=null,super.unsubscribe()}}}},97565:(B,K,f)=>{"use strict";f.d(K,{v:()=>t});var E=f(26063);class m{constructor(n,a=m.now){this.schedulerActionCtor=n,this.now=a}schedule(n,a=0,u){return new this.schedulerActionCtor(this,n).schedule(u,a)}}m.now=E.l.now;class t extends m{constructor(n,a=m.now){super(n,a),this.actions=[],this._active=!1,this._scheduled=void 0}flush(n){const{actions:a}=this;if(this._active)return void a.push(n);let u;this._active=!0;do{if(u=n.execute(n.state,n.delay))break}while(n=a.shift());if(this._active=!1,u){for(;n=a.shift();)n.unsubscribe();throw u}}}},53101:(B,K,f)=>{"use strict";f.d(K,{E:()=>q});var E=f(84408);let t,m=1;const e={};function n(Te){return Te in e&&(delete e[Te],!0)}const a={setImmediate(Te){const le=m++;return e[le]=!0,t||(t=Promise.resolve()),t.then(()=>n(le)&&Te()),le},clearImmediate(Te){n(Te)}},{setImmediate:C,clearImmediate:D}=a,F={setImmediate(...Te){const{delegate:le}=F;return((null==le?void 0:le.setImmediate)||C)(...Te)},clearImmediate(Te){const{delegate:le}=F;return((null==le?void 0:le.clearImmediate)||D)(Te)},delegate:void 0};var te=f(97565);const q=new class oe extends te.v{flush(le){this._active=!0,this._scheduled=void 0;const{actions:_e}=this;let Pe,Ue=-1;le=le||_e.shift();const Se=_e.length;do{if(Pe=le.execute(le.state,le.delay))break}while(++Ue<Se&&(le=_e.shift()));if(this._active=!1,Pe){for(;++Ue<Se&&(le=_e.shift());)le.unsubscribe();throw Pe}}}(class W extends E.o{constructor(le,_e){super(le,_e),this.scheduler=le,this.work=_e}requestAsyncId(le,_e,Pe=0){return null!==Pe&&Pe>0?super.requestAsyncId(le,_e,Pe):(le.actions.push(this),le._scheduled||(le._scheduled=F.setImmediate(le.flush.bind(le,void 0))))}recycleAsyncId(le,_e,Pe=0){if(null!=Pe&&Pe>0||null==Pe&&this.delay>0)return super.recycleAsyncId(le,_e,Pe);0===le.actions.length&&(F.clearImmediate(_e),le._scheduled=void 0)}})},34986:(B,K,f)=>{"use strict";f.d(K,{z:()=>t,P:()=>e});var E=f(84408);const t=new(f(97565).v)(E.o),e=t},26063:(B,K,f)=>{"use strict";f.d(K,{l:()=>E});const E={now:()=>(E.delegate||Date).now(),delegate:void 0}},43410:(B,K,f)=>{"use strict";f.d(K,{z:()=>E});const E={setTimeout(...m){const{delegate:t}=E;return((null==t?void 0:t.setTimeout)||setTimeout)(...m)},clearTimeout(m){const{delegate:t}=E;return((null==t?void 0:t.clearTimeout)||clearTimeout)(m)},delegate:void 0}},2202:(B,K,f)=>{"use strict";f.d(K,{h:()=>m});const m=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},48822:(B,K,f)=>{"use strict";f.d(K,{L:()=>E});const E="function"==typeof Symbol&&Symbol.observable||"@@observable"},63269:(B,K,f)=>{"use strict";f.d(K,{jO:()=>e,yG:()=>n,_6:()=>a});var E=f(30576),m=f(93532);function t(u){return u[u.length-1]}function e(u){return(0,E.m)(t(u))?u.pop():void 0}function n(u){return(0,m.K)(t(u))?u.pop():void 0}function a(u,C){return"number"==typeof t(u)?u.pop():C}},54742:(B,K,f)=>{"use strict";f.d(K,{D:()=>n});const{isArray:E}=Array,{getPrototypeOf:m,prototype:t,keys:e}=Object;function n(u){if(1===u.length){const C=u[0];if(E(C))return{args:C,keys:null};if(function a(u){return u&&"object"==typeof u&&m(u)===t}(C)){const D=e(C);return{args:D.map(F=>C[F]),keys:D}}}return{args:u,keys:null}}},38737:(B,K,f)=>{"use strict";function E(m,t){if(m){const e=m.indexOf(t);0<=e&&m.splice(e,1)}}f.d(K,{P:()=>E})},83888:(B,K,f)=>{"use strict";function E(m){const e=m(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}f.d(K,{d:()=>E})},31810:(B,K,f)=>{"use strict";function E(m,t){return m.reduce((e,n,a)=>(e[n]=t[a],e),{})}f.d(K,{n:()=>E})},72806:(B,K,f)=>{"use strict";f.d(K,{x:()=>t,O:()=>e});var E=f(42416);let m=null;function t(n){if(E.v.useDeprecatedSynchronousErrorHandling){const a=!m;if(a&&(m={errorThrown:!1,error:null}),n(),a){const{errorThrown:u,error:C}=m;if(m=null,u)throw C}}else n()}function e(n){E.v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=n)}},39672:(B,K,f)=>{"use strict";function E(m,t,e,n=0,a=!1){const u=t.schedule(function(){e(),a?m.add(this.schedule(null,n)):this.unsubscribe()},n);if(m.add(u),!a)return u}f.d(K,{f:()=>E})},44671:(B,K,f)=>{"use strict";function E(m){return m}f.d(K,{y:()=>E})},81144:(B,K,f)=>{"use strict";f.d(K,{z:()=>E});const E=m=>m&&"number"==typeof m.length&&"function"!=typeof m},12206:(B,K,f)=>{"use strict";f.d(K,{D:()=>m});var E=f(30576);function m(t){return Symbol.asyncIterator&&(0,E.m)(null==t?void 0:t[Symbol.asyncIterator])}},30576:(B,K,f)=>{"use strict";function E(m){return"function"==typeof m}f.d(K,{m:()=>E})},93670:(B,K,f)=>{"use strict";f.d(K,{c:()=>t});var E=f(48822),m=f(30576);function t(e){return(0,m.m)(e[E.L])}},26495:(B,K,f)=>{"use strict";f.d(K,{T:()=>t});var E=f(2202),m=f(30576);function t(e){return(0,m.m)(null==e?void 0:e[E.h])}},28239:(B,K,f)=>{"use strict";f.d(K,{t:()=>m});var E=f(30576);function m(t){return(0,E.m)(null==t?void 0:t.then)}},53260:(B,K,f)=>{"use strict";f.d(K,{Q:()=>t,L:()=>e});var E=f(35987),m=f(30576);function t(n){return(0,E.FC)(this,arguments,function*(){const u=n.getReader();try{for(;;){const{value:C,done:D}=yield(0,E.qq)(u.read());if(D)return yield(0,E.qq)(void 0);yield yield(0,E.qq)(C)}}finally{u.releaseLock()}})}function e(n){return(0,m.m)(null==n?void 0:n.getReader)}},93532:(B,K,f)=>{"use strict";f.d(K,{K:()=>m});var E=f(30576);function m(t){return t&&(0,E.m)(t.schedule)}},54482:(B,K,f)=>{"use strict";f.d(K,{A:()=>m,e:()=>t});var E=f(30576);function m(e){return(0,E.m)(null==e?void 0:e.lift)}function t(e){return n=>{if(m(n))return n.lift(function(a){try{return e(a,this)}catch(u){this.error(u)}});throw new TypeError("Unable to lift unknown Observable type")}}},83268:(B,K,f)=>{"use strict";f.d(K,{Z:()=>e});var E=f(54004);const{isArray:m}=Array;function e(n){return(0,E.U)(a=>function t(n,a){return m(a)?n(...a):n(a)}(n,a))}},25032:(B,K,f)=>{"use strict";function E(){}f.d(K,{Z:()=>E})},87849:(B,K,f)=>{"use strict";f.d(K,{h:()=>t});var E=f(42416),m=f(43410);function t(e){m.z.setTimeout(()=>{const{onUnhandledError:n}=E.v;if(!n)throw e;n(e)})}},44532:(B,K,f)=>{"use strict";function E(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}f.d(K,{z:()=>E})},78475:(B,K,f)=>{"use strict";var E=f(95203),m=f(75834),t=f(97024),e=E("%TypeError%"),n=E("%WeakMap%",!0),a=E("%Map%",!0),u=m("WeakMap.prototype.get",!0),C=m("WeakMap.prototype.set",!0),D=m("WeakMap.prototype.has",!0),F=m("Map.prototype.get",!0),W=m("Map.prototype.set",!0),te=m("Map.prototype.has",!0),oe=function(le,_e){for(var Ue,Pe=le;null!==(Ue=Pe.next);Pe=Ue)if(Ue.key===_e)return Pe.next=Ue.next,Ue.next=le.next,le.next=Ue,Ue};B.exports=function(){var _e,Pe,Ue,Se={assert:function(ve){if(!Se.has(ve))throw new e("Side channel does not contain "+t(ve))},get:function(ve){if(n&&ve&&("object"==typeof ve||"function"==typeof ve)){if(_e)return u(_e,ve)}else if(a){if(Pe)return F(Pe,ve)}else if(Ue)return function(le,_e){var Pe=oe(le,_e);return Pe&&Pe.value}(Ue,ve)},has:function(ve){if(n&&ve&&("object"==typeof ve||"function"==typeof ve)){if(_e)return D(_e,ve)}else if(a){if(Pe)return te(Pe,ve)}else if(Ue)return function(le,_e){return!!oe(le,_e)}(Ue,ve);return!1},set:function(ve,se){n&&ve&&("object"==typeof ve||"function"==typeof ve)?(_e||(_e=new n),C(_e,ve,se)):a?(Pe||(Pe=new a),W(Pe,ve,se)):(Ue||(Ue={key:{},next:null}),function(le,_e,Pe){var Ue=oe(le,_e);Ue?Ue.value=Pe:le.next={key:_e,next:le.next,value:Pe}}(Ue,ve,se))}};return Se}},57217:(B,K,f)=>{"use strict";f.r(K),f.d(K,{default:()=>Rs,helpers:()=>us});var E={};f.r(E),f.d(E,{JsonPatchError:()=>Ro,_areEquals:()=>Il,applyOperation:()=>Za,applyPatch:()=>Ba,applyReducer:()=>rc,deepClone:()=>Mu,getValueByPointer:()=>Al,validate:()=>Xo,validator:()=>ul});var m={};f.r(m),f.d(m,{compare:()=>Kl,generate:()=>Mc,observe:()=>yl,unobserve:()=>xa});var t={};f.r(t),f.d(t,{cookie:()=>$e,header:()=>Be,path:()=>Y,query:()=>he});var e=f(89356),n=f(63263),a=f(30699),u=f(58377),C=f(28834),D=f(13038),F=f(32752),W=f(44341);function te(T,H,z){return H in T?W(T,H,{value:z,enumerable:!0,configurable:!0,writable:!0}):T[H]=z,T}function oe(T,H){var z=e(T);if(n){var ie=n(T);H&&(ie=a(ie).call(ie,function(ge){return u(T,ge).enumerable})),z.push.apply(z,ie)}return z}function q(T){for(var H=1;H<arguments.length;H++){var z,ie,ge=null!=arguments[H]?arguments[H]:{};H%2?C(z=oe(Object(ge),!0)).call(z,function(We){te(T,We,ge[We])}):D?F(T,D(ge)):C(ie=oe(Object(ge))).call(ie,function(We){W(T,We,u(ge,We))})}return T}var ue=f(51942),Te=f.n(ue),le=f(29828),_e=f.n(le),Pe=f(68762),Ue=f(51446),Se=f(19996),ve=f(78363),se=f(95238),me=f(53592);function ce(T,H){(null==H||H>T.length)&&(H=T.length);for(var z=0,ie=new Array(H);z<H;z++)ie[z]=T[z];return ie}function Ne(T,H){var z;if(T){if("string"==typeof T)return ce(T,H);var ie=se(z=Object.prototype.toString.call(T)).call(z,8,-1);if("Object"===ie&&T.constructor&&(ie=T.constructor.name),"Map"===ie||"Set"===ie)return me(T);if("Arguments"===ie||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie))return ce(T,H)}}function Ae(T,H){var z=void 0!==Ue&&Se(T)||T["@@iterator"];if(!z){if(ve(T)||(z=Ne(T))||H&&T&&"number"==typeof T.length){z&&(T=z);var ie=0,ge=function(){};return{s:ge,n:function(){return ie>=T.length?{done:!0}:{done:!1,value:T[ie++]}},e:function(xt){throw xt},f:ge}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ct,We=!0,Xe=!1;return{s:function(){z=z.call(T)},n:function(){var xt=z.next();return We=xt.done,xt},e:function(xt){Xe=!0,ct=xt},f:function(){try{!We&&null!=z.return&&z.return()}finally{if(Xe)throw ct}}}}var Ce=f(23882);function de(T){return(de="function"==typeof Ue&&"symbol"==typeof Ce?function(H){return typeof H}:function(H){return H&&"function"==typeof Ue&&H.constructor===Ue&&H!==Ue.prototype?"symbol":typeof H})(T)}function De(T,H){return function re(T){if(ve(T))return T}(T)||function ot(T,H){var z=null==T?null:void 0!==Ue&&Se(T)||T["@@iterator"];if(null!=z){var Xe,ct,ie=[],ge=!0,We=!1;try{for(z=z.call(T);!(ge=(Xe=z.next()).done)&&(ie.push(Xe.value),!H||ie.length!==H);ge=!0);}catch(St){We=!0,ct=St}finally{try{!ge&&null!=z.return&&z.return()}finally{if(We)throw ct}}return ie}}(T,H)||Ne(T,H)||function ze(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var st=f(69798);function pt(T,H,z,ie,ge,We,Xe){try{var ct=T[We](Xe),St=ct.value}catch(xt){return void z(xt)}ct.done?H(St):st.resolve(St).then(ie,ge)}function dt(T){return function(){var H=this,z=arguments;return new st(function(ie,ge){var We=T.apply(H,z);function Xe(St){pt(We,ie,ge,Xe,ct,"next",St)}function ct(St){pt(We,ie,ge,Xe,ct,"throw",St)}Xe(void 0)})}}var Ot=f(63109),kt=f.n(Ot),oi=f(78580),bi=f.n(oi),ti=f(72119),Rt=f.n(ti),ii=f(66419),mt=f.n(ii),Ye=f(59340),Je=f.n(Ye),ut=f(2991),Re=f.n(ut),yt=f(86902),zt=f.n(yt),gi=f(77766),wt=f.n(gi),rt=f(26295),tt=f.n(rt),At=f(20116),lt=f.n(At),Et=(f(45618),f(81781)),Ke=f.n(Et);function Ze(T){return null==T}var yi={isNothing:Ze,isObject:function Wt(T){return"object"==typeof T&&null!==T},toArray:function Kt(T){return Array.isArray(T)?T:Ze(T)?[]:[T]},repeat:function vi(T,H){var ie,z="";for(ie=0;ie<H;ie+=1)z+=T;return z},isNegativeZero:function pi(T){return 0===T&&Number.NEGATIVE_INFINITY===1/T},extend:function Ei(T,H){var z,ie,ge,We;if(H)for(z=0,ie=(We=Object.keys(H)).length;z<ie;z+=1)T[ge=We[z]]=H[ge];return T}};function Fi(T,H){var z="",ie=T.reason||"(unknown reason)";return T.mark?(T.mark.name&&(z+='in "'+T.mark.name+'" '),z+="("+(T.mark.line+1)+":"+(T.mark.column+1)+")",!H&&T.mark.snippet&&(z+="\n\n"+T.mark.snippet),ie+" "+z):ie}function Pi(T,H){Error.call(this),this.name="YAMLException",this.reason=T,this.mark=H,this.message=Fi(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(Pi.prototype=Object.create(Error.prototype)).constructor=Pi,Pi.prototype.toString=function(H){return this.name+": "+Fi(this,H)};var gn=Pi;function ai(T,H,z,ie,ge){var We="",Xe="",ct=Math.floor(ge/2)-1;return ie-H>ct&&(H=ie-ct+(We=" ... ").length),z-ie>ct&&(z=ie+ct-(Xe=" ...").length),{str:We+T.slice(H,z).replace(/\t/g,"\u2192")+Xe,pos:ie-H+We.length}}function Tt(T,H){return yi.repeat(" ",H-T.length)+T}var Ve=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],gt=["scalar","sequence","mapping"],ln=function Xi(T,H){if(H=H||{},Object.keys(H).forEach(function(z){if(-1===Ve.indexOf(z))throw new gn('Unknown option "'+z+'" is met in definition of "'+T+'" YAML type.')}),this.options=H,this.tag=T,this.kind=H.kind||null,this.resolve=H.resolve||function(){return!0},this.construct=H.construct||function(z){return z},this.instanceOf=H.instanceOf||null,this.predicate=H.predicate||null,this.represent=H.represent||null,this.representName=H.representName||null,this.defaultStyle=H.defaultStyle||null,this.multi=H.multi||!1,this.styleAliases=function Ut(T){var H={};return null!==T&&Object.keys(T).forEach(function(z){T[z].forEach(function(ie){H[String(ie)]=z})}),H}(H.styleAliases||null),-1===gt.indexOf(this.kind))throw new gn('Unknown kind "'+this.kind+'" is specified for "'+T+'" YAML type.')};function An(T,H){var z=[];return T[H].forEach(function(ie){var ge=z.length;z.forEach(function(We,Xe){We.tag===ie.tag&&We.kind===ie.kind&&We.multi===ie.multi&&(ge=Xe)}),z[ge]=ie}),z}function si(T){return this.extend(T)}si.prototype.extend=function(H){var z=[],ie=[];if(H instanceof ln)ie.push(H);else if(Array.isArray(H))ie=ie.concat(H);else{if(!H||!Array.isArray(H.implicit)&&!Array.isArray(H.explicit))throw new gn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");H.implicit&&(z=z.concat(H.implicit)),H.explicit&&(ie=ie.concat(H.explicit))}z.forEach(function(We){if(!(We instanceof ln))throw new gn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(We.loadKind&&"scalar"!==We.loadKind)throw new gn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(We.multi)throw new gn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),ie.forEach(function(We){if(!(We instanceof ln))throw new gn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var ge=Object.create(si.prototype);return ge.implicit=(this.implicit||[]).concat(z),ge.explicit=(this.explicit||[]).concat(ie),ge.compiledImplicit=An(ge,"implicit"),ge.compiledExplicit=An(ge,"explicit"),ge.compiledTypeMap=function qn(){var H,z,T={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function ie(ge){ge.multi?(T.multi[ge.kind].push(ge),T.multi.fallback.push(ge)):T[ge.kind][ge.tag]=T.fallback[ge.tag]=ge}for(H=0,z=arguments.length;H<z;H+=1)arguments[H].forEach(ie);return T}(ge.compiledImplicit,ge.compiledExplicit),ge};var $t=si,Pt=new ln("tag:yaml.org,2002:str",{kind:"scalar",construct:function(T){return null!==T?T:""}}),di=new ln("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(T){return null!==T?T:[]}}),Ri=new ln("tag:yaml.org,2002:map",{kind:"mapping",construct:function(T){return null!==T?T:{}}}),fn=new $t({explicit:[Pt,di,Ri]}),Jr=new ln("tag:yaml.org,2002:null",{kind:"scalar",resolve:function kn(T){if(null===T)return!0;var H=T.length;return 1===H&&"~"===T||4===H&&("null"===T||"Null"===T||"NULL"===T)},construct:function rr(){return null},predicate:function Sr(T){return null===T},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),dr=new ln("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function Qr(T){if(null===T)return!1;var H=T.length;return 4===H&&("true"===T||"True"===T||"TRUE"===T)||5===H&&("false"===T||"False"===T||"FALSE"===T)},construct:function bo(T){return"true"===T||"True"===T||"TRUE"===T},predicate:function Dr(T){return"[object Boolean]"===Object.prototype.toString.call(T)},represent:{lowercase:function(T){return T?"true":"false"},uppercase:function(T){return T?"TRUE":"FALSE"},camelcase:function(T){return T?"True":"False"}},defaultStyle:"lowercase"});function Zo(T){return 48<=T&&T<=57||65<=T&&T<=70||97<=T&&T<=102}function ar(T){return 48<=T&&T<=55}function xi(T){return 48<=T&&T<=57}var fr=new ln("tag:yaml.org,2002:int",{kind:"scalar",resolve:function jn(T){if(null===T)return!1;var ge,H=T.length,z=0,ie=!1;if(!H)return!1;if(("-"===(ge=T[z])||"+"===ge)&&(ge=T[++z]),"0"===ge){if(z+1===H)return!0;if("b"===(ge=T[++z])){for(z++;z<H;z++)if("_"!==(ge=T[z])){if("0"!==ge&&"1"!==ge)return!1;ie=!0}return ie&&"_"!==ge}if("x"===ge){for(z++;z<H;z++)if("_"!==(ge=T[z])){if(!Zo(T.charCodeAt(z)))return!1;ie=!0}return ie&&"_"!==ge}if("o"===ge){for(z++;z<H;z++)if("_"!==(ge=T[z])){if(!ar(T.charCodeAt(z)))return!1;ie=!0}return ie&&"_"!==ge}}if("_"===ge)return!1;for(;z<H;z++)if("_"!==(ge=T[z])){if(!xi(T.charCodeAt(z)))return!1;ie=!0}return!(!ie||"_"===ge)},construct:function mr(T){var ie,H=T,z=1;if(-1!==H.indexOf("_")&&(H=H.replace(/_/g,"")),("-"===(ie=H[0])||"+"===ie)&&("-"===ie&&(z=-1),ie=(H=H.slice(1))[0]),"0"===H)return 0;if("0"===ie){if("b"===H[1])return z*parseInt(H.slice(2),2);if("x"===H[1])return z*parseInt(H.slice(2),16);if("o"===H[1])return z*parseInt(H.slice(2),8)}return z*parseInt(H,10)},predicate:function Vr(T){return"[object Number]"===Object.prototype.toString.call(T)&&T%1==0&&!yi.isNegativeZero(T)},represent:{binary:function(T){return T>=0?"0b"+T.toString(2):"-0b"+T.toString(2).slice(1)},octal:function(T){return T>=0?"0o"+T.toString(8):"-0o"+T.toString(8).slice(1)},decimal:function(T){return T.toString(10)},hexadecimal:function(T){return T>=0?"0x"+T.toString(16).toUpperCase():"-0x"+T.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Mr=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),Bi=/^[-+]?[0-9]+e/,at=new ln("tag:yaml.org,2002:float",{kind:"scalar",resolve:function Zr(T){return!(null===T||!Mr.test(T)||"_"===T[T.length-1])},construct:function xr(T){var H,z;return z="-"===(H=T.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(H[0])>=0&&(H=H.slice(1)),".inf"===H?1===z?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===H?NaN:z*parseFloat(H,10)},predicate:function Ln(T){return"[object Number]"===Object.prototype.toString.call(T)&&(T%1!=0||yi.isNegativeZero(T))},represent:function Bn(T,H){var z;if(isNaN(T))switch(H){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===T)switch(H){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===T)switch(H){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(yi.isNegativeZero(T))return"-0.0";return z=T.toString(10),Bi.test(z)?z.replace("e",".e"):z},defaultStyle:"lowercase"}),Ft=fn.extend({implicit:[Jr,dr,fr,at]}),Ai=Ft,Yi=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Ji=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),Sn=new ln("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function sr(T){return null!==T&&(null!==Yi.exec(T)||null!==Ji.exec(T))},construct:function Qn(T){var H,z,ie,ge,We,Xe,ct,hi,St=0,xt=null;if(null===(H=Yi.exec(T))&&(H=Ji.exec(T)),null===H)throw new Error("Date resolve error");if(z=+H[1],ie=+H[2]-1,ge=+H[3],!H[4])return new Date(Date.UTC(z,ie,ge));if(We=+H[4],Xe=+H[5],ct=+H[6],H[7]){for(St=H[7].slice(0,3);St.length<3;)St+="0";St=+St}return H[9]&&(xt=6e4*(60*+H[10]+ +(H[11]||0)),"-"===H[9]&&(xt=-xt)),hi=new Date(Date.UTC(z,ie,ge,We,Xe,ct,St)),xt&&hi.setTime(hi.getTime()-xt),hi},instanceOf:Date,represent:function or(T){return T.toISOString()}}),uo=new ln("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function Qo(T){return"<<"===T||null===T}}),io="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",no=new ln("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function Io(T){if(null===T)return!1;var H,z,ie=0,ge=T.length,We=io;for(z=0;z<ge;z++)if(!((H=We.indexOf(T.charAt(z)))>64)){if(H<0)return!1;ie+=6}return ie%8==0},construct:function lr(T){var H,z,ie=T.replace(/[\r\n=]/g,""),ge=ie.length,We=io,Xe=0,ct=[];for(H=0;H<ge;H++)H%4==0&&H&&(ct.push(Xe>>16&255),ct.push(Xe>>8&255),ct.push(255&Xe)),Xe=Xe<<6|We.indexOf(ie.charAt(H));return 0==(z=ge%4*6)?(ct.push(Xe>>16&255),ct.push(Xe>>8&255),ct.push(255&Xe)):18===z?(ct.push(Xe>>10&255),ct.push(Xe>>2&255)):12===z&&ct.push(Xe>>4&255),new Uint8Array(ct)},predicate:function jo(T){return"[object Uint8Array]"===Object.prototype.toString.call(T)},represent:function Gs(T){var ie,ge,H="",z=0,We=T.length,Xe=io;for(ie=0;ie<We;ie++)ie%3==0&&ie&&(H+=Xe[z>>18&63],H+=Xe[z>>12&63],H+=Xe[z>>6&63],H+=Xe[63&z]),z=(z<<8)+T[ie];return 0==(ge=We%3)?(H+=Xe[z>>18&63],H+=Xe[z>>12&63],H+=Xe[z>>6&63],H+=Xe[63&z]):2===ge?(H+=Xe[z>>10&63],H+=Xe[z>>4&63],H+=Xe[z<<2&63],H+=Xe[64]):1===ge&&(H+=Xe[z>>2&63],H+=Xe[z<<4&63],H+=Xe[64],H+=Xe[64]),H}}),Eo=Object.prototype.hasOwnProperty,Ua=Object.prototype.toString,ia=new ln("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function So(T){if(null===T)return!0;var z,ie,ge,We,Xe,H=[],ct=T;for(z=0,ie=ct.length;z<ie;z+=1){if(Xe=!1,"[object Object]"!==Ua.call(ge=ct[z]))return!1;for(We in ge)if(Eo.call(ge,We)){if(Xe)return!1;Xe=!0}if(!Xe)return!1;if(-1!==H.indexOf(We))return!1;H.push(We)}return!0},construct:function hs(T){return null!==T?T:[]}}),Gr=Object.prototype.toString,Os=new ln("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function Ia(T){if(null===T)return!0;var H,z,ie,ge,We,Xe=T;for(We=new Array(Xe.length),H=0,z=Xe.length;H<z;H+=1){if("[object Object]"!==Gr.call(ie=Xe[H])||1!==(ge=Object.keys(ie)).length)return!1;We[H]=[ge[0],ie[ge[0]]]}return!0},construct:function pl(T){if(null===T)return[];var H,z,ie,ge,We,Xe=T;for(We=new Array(Xe.length),H=0,z=Xe.length;H<z;H+=1)ie=Xe[H],ge=Object.keys(ie),We[H]=[ge[0],ie[ge[0]]];return We}}),ha=Object.prototype.hasOwnProperty,pa=new ln("tag:yaml.org,2002:set",{kind:"mapping",resolve:function Ga(T){if(null===T)return!0;var H,z=T;for(H in z)if(ha.call(z,H)&&null!==z[H])return!1;return!0},construct:function il(T){return null!==T?T:{}}}),Oa=Ai.extend({implicit:[Sn,uo],explicit:[no,ia,Os,pa]}),Ws=Object.prototype.hasOwnProperty,Oo=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Bo=/[\x85\u2028\u2029]/,ra=/[,\[\]\{\}]/,Ho=/^(?:!|!!|![a-z\-]+!)$/i,fa=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Vo(T){return Object.prototype.toString.call(T)}function Do(T){return 10===T||13===T}function Mo(T){return 9===T||32===T}function ro(T){return 9===T||32===T||10===T||13===T}function ks(T){return 44===T||91===T||93===T||123===T||125===T}function Ar(T){var H;return 48<=T&&T<=57?T-48:97<=(H=32|T)&&H<=102?H-97+10:-1}function Es(T){return 120===T?2:117===T?4:85===T?8:0}function ho(T){return 48<=T&&T<=57?T-48:-1}function Ta(T){return 48===T?"\0":97===T?"\x07":98===T?"\b":116===T||9===T?"\t":110===T?"\n":118===T?"\v":102===T?"\f":114===T?"\r":101===T?"\x1b":32===T?" ":34===T?'"':47===T?"/":92===T?"\\":78===T?"\x85":95===T?"\xa0":76===T?"\u2028":80===T?"\u2029":""}function ja(T){return T<=65535?String.fromCharCode(T):String.fromCharCode(55296+(T-65536>>10),56320+(T-65536&1023))}for(var ps=new Array(256),qo=new Array(256),js=0;js<256;js++)ps[js]=Ta(js)?1:0,qo[js]=Ta(js);function fl(T,H){this.input=T,this.filename=H.filename||null,this.schema=H.schema||Oa,this.onWarning=H.onWarning||null,this.legacy=H.legacy||!1,this.json=H.json||!1,this.listener=H.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=T.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Nr(T,H){var z={name:T.filename,buffer:T.input.slice(0,-1),position:T.position,line:T.line,column:T.position-T.lineStart};return z.snippet=function He(T,H){if(H=Object.create(H||null),!T.buffer)return null;H.maxLength||(H.maxLength=79),"number"!=typeof H.indent&&(H.indent=1),"number"!=typeof H.linesBefore&&(H.linesBefore=3),"number"!=typeof H.linesAfter&&(H.linesAfter=2);for(var We,z=/\r?\n|\r|\0/g,ie=[0],ge=[],Xe=-1;We=z.exec(T.buffer);)ge.push(We.index),ie.push(We.index+We[0].length),T.position<=We.index&&Xe<0&&(Xe=ie.length-2);Xe<0&&(Xe=ie.length-1);var St,xt,ct="",ei=Math.min(T.line+H.linesAfter,ge.length).toString().length,ri=H.maxLength-(H.indent+ei+3);for(St=1;St<=H.linesBefore&&!(Xe-St<0);St++)xt=ai(T.buffer,ie[Xe-St],ge[Xe-St],T.position-(ie[Xe]-ie[Xe-St]),ri),ct=yi.repeat(" ",H.indent)+Tt((T.line-St+1).toString(),ei)+" | "+xt.str+"\n"+ct;for(xt=ai(T.buffer,ie[Xe],ge[Xe],T.position,ri),ct+=yi.repeat(" ",H.indent)+Tt((T.line+1).toString(),ei)+" | "+xt.str+"\n",ct+=yi.repeat("-",H.indent+ei+3+xt.pos)+"^\n",St=1;St<=H.linesAfter&&!(Xe+St>=ge.length);St++)xt=ai(T.buffer,ie[Xe+St],ge[Xe+St],T.position-(ie[Xe]-ie[Xe+St]),ri),ct+=yi.repeat(" ",H.indent)+Tt((T.line+St+1).toString(),ei)+" | "+xt.str+"\n";return ct.replace(/\n$/,"")}(z),new gn(H,z)}function Hn(T,H){throw Nr(T,H)}function oa(T,H){T.onWarning&&T.onWarning.call(null,Nr(T,H))}var ke={YAML:function(H,z,ie){var ge,We,Xe;null!==H.version&&Hn(H,"duplication of %YAML directive"),1!==ie.length&&Hn(H,"YAML directive accepts exactly one argument"),null===(ge=/^([0-9]+)\.([0-9]+)$/.exec(ie[0]))&&Hn(H,"ill-formed argument of the YAML directive"),We=parseInt(ge[1],10),Xe=parseInt(ge[2],10),1!==We&&Hn(H,"unacceptable YAML version of the document"),H.version=ie[0],H.checkLineBreaks=Xe<2,1!==Xe&&2!==Xe&&oa(H,"unsupported YAML version of the document")},TAG:function(H,z,ie){var ge,We;2!==ie.length&&Hn(H,"TAG directive accepts exactly two arguments"),We=ie[1],Ho.test(ge=ie[0])||Hn(H,"ill-formed tag handle (first argument) of the TAG directive"),Ws.call(H.tagMap,ge)&&Hn(H,'there is a previously declared suffix for "'+ge+'" tag handle'),fa.test(We)||Hn(H,"ill-formed tag prefix (second argument) of the TAG directive");try{We=decodeURIComponent(We)}catch(Xe){Hn(H,"tag prefix is malformed: "+We)}H.tagMap[ge]=We}};function Z(T,H,z,ie){var ge,We,Xe,ct;if(H<z){if(ct=T.input.slice(H,z),ie)for(ge=0,We=ct.length;ge<We;ge+=1)9===(Xe=ct.charCodeAt(ge))||32<=Xe&&Xe<=1114111||Hn(T,"expected valid JSON character");else Oo.test(ct)&&Hn(T,"the stream contains non-printable characters");T.result+=ct}}function V(T,H,z,ie){var ge,We,Xe,ct;for(yi.isObject(z)||Hn(T,"cannot merge mappings; the provided source object is unacceptable"),Xe=0,ct=(ge=Object.keys(z)).length;Xe<ct;Xe+=1)Ws.call(H,We=ge[Xe])||(H[We]=z[We],ie[We]=!0)}function j(T,H,z,ie,ge,We,Xe,ct,St){var xt,ei;if(Array.isArray(ge))for(xt=0,ei=(ge=Array.prototype.slice.call(ge)).length;xt<ei;xt+=1)Array.isArray(ge[xt])&&Hn(T,"nested arrays are not supported inside keys"),"object"==typeof ge&&"[object Object]"===Vo(ge[xt])&&(ge[xt]="[object Object]");if("object"==typeof ge&&"[object Object]"===Vo(ge)&&(ge="[object Object]"),ge=String(ge),null===H&&(H={}),"tag:yaml.org,2002:merge"===ie)if(Array.isArray(We))for(xt=0,ei=We.length;xt<ei;xt+=1)V(T,H,We[xt],z);else V(T,H,We,z);else!T.json&&!Ws.call(z,ge)&&Ws.call(H,ge)&&(T.line=Xe||T.line,T.lineStart=ct||T.lineStart,T.position=St||T.position,Hn(T,"duplicated mapping key")),"__proto__"===ge?Object.defineProperty(H,ge,{configurable:!0,enumerable:!0,writable:!0,value:We}):H[ge]=We,delete z[ge];return H}function Ie(T){var H;10===(H=T.input.charCodeAt(T.position))?T.position++:13===H?(T.position++,10===T.input.charCodeAt(T.position)&&T.position++):Hn(T,"a line break is expected"),T.line+=1,T.lineStart=T.position,T.firstTabInLine=-1}function Bt(T,H,z){for(var ie=0,ge=T.input.charCodeAt(T.position);0!==ge;){for(;Mo(ge);)9===ge&&-1===T.firstTabInLine&&(T.firstTabInLine=T.position),ge=T.input.charCodeAt(++T.position);if(H&&35===ge)do{ge=T.input.charCodeAt(++T.position)}while(10!==ge&&13!==ge&&0!==ge);if(!Do(ge))break;for(Ie(T),ge=T.input.charCodeAt(T.position),ie++,T.lineIndent=0;32===ge;)T.lineIndent++,ge=T.input.charCodeAt(++T.position)}return-1!==z&&0!==ie&&T.lineIndent<z&&oa(T,"deficient indentation"),ie}function Ti(T){var z,H=T.position;return!(45!==(z=T.input.charCodeAt(H))&&46!==z||z!==T.input.charCodeAt(H+1)||z!==T.input.charCodeAt(H+2)||(H+=3,z=T.input.charCodeAt(H),0!==z&&!ro(z)))}function dn(T,H){1===H?T.result+=" ":H>1&&(T.result+=yi.repeat("\n",H-1))}function hr(T,H){var z,St,ie=T.tag,ge=T.anchor,We=[],ct=!1;if(-1!==T.firstTabInLine)return!1;for(null!==T.anchor&&(T.anchorMap[T.anchor]=We),St=T.input.charCodeAt(T.position);0!==St&&(-1!==T.firstTabInLine&&(T.position=T.firstTabInLine,Hn(T,"tab characters must not be used in indentation")),45===St&&ro(T.input.charCodeAt(T.position+1)));)if(ct=!0,T.position++,Bt(T,!0,-1)&&T.lineIndent<=H)We.push(null),St=T.input.charCodeAt(T.position);else if(z=T.line,es(T,H,3,!1,!0),We.push(T.result),Bt(T,!0,-1),St=T.input.charCodeAt(T.position),(T.line===z||T.lineIndent>H)&&0!==St)Hn(T,"bad indentation of a sequence entry");else if(T.lineIndent<H)break;return!!ct&&(T.tag=ie,T.anchor=ge,T.kind="sequence",T.result=We,!0)}function $n(T){var H,ge,We,Xe,z=!1,ie=!1;if(33!==(Xe=T.input.charCodeAt(T.position)))return!1;if(null!==T.tag&&Hn(T,"duplication of a tag property"),60===(Xe=T.input.charCodeAt(++T.position))?(z=!0,Xe=T.input.charCodeAt(++T.position)):33===Xe?(ie=!0,ge="!!",Xe=T.input.charCodeAt(++T.position)):ge="!",H=T.position,z){do{Xe=T.input.charCodeAt(++T.position)}while(0!==Xe&&62!==Xe);T.position<T.length?(We=T.input.slice(H,T.position),Xe=T.input.charCodeAt(++T.position)):Hn(T,"unexpected end of the stream within a verbatim tag")}else{for(;0!==Xe&&!ro(Xe);)33===Xe&&(ie?Hn(T,"tag suffix cannot contain exclamation marks"):(ge=T.input.slice(H-1,T.position+1),Ho.test(ge)||Hn(T,"named tag handle cannot contain such characters"),ie=!0,H=T.position+1)),Xe=T.input.charCodeAt(++T.position);We=T.input.slice(H,T.position),ra.test(We)&&Hn(T,"tag suffix cannot contain flow indicator characters")}We&&!fa.test(We)&&Hn(T,"tag name cannot contain such characters: "+We);try{We=decodeURIComponent(We)}catch(ct){Hn(T,"tag name is malformed: "+We)}return z?T.tag=We:Ws.call(T.tagMap,ge)?T.tag=T.tagMap[ge]+We:"!"===ge?T.tag="!"+We:"!!"===ge?T.tag="tag:yaml.org,2002:"+We:Hn(T,'undeclared tag handle "'+ge+'"'),!0}function zs(T){var H,z;if(38!==(z=T.input.charCodeAt(T.position)))return!1;for(null!==T.anchor&&Hn(T,"duplication of an anchor property"),z=T.input.charCodeAt(++T.position),H=T.position;0!==z&&!ro(z)&&!ks(z);)z=T.input.charCodeAt(++T.position);return T.position===H&&Hn(T,"name of an anchor node must contain at least one character"),T.anchor=T.input.slice(H,T.position),!0}function es(T,H,z,ie,ge){var We,Xe,ct,ri,hi,Si,Wi,nn,un,St=1,xt=!1,ei=!1;if(null!==T.listener&&T.listener("open",T),T.tag=null,T.anchor=null,T.kind=null,T.result=null,We=Xe=ct=4===z||3===z,ie&&Bt(T,!0,-1)&&(xt=!0,T.lineIndent>H?St=1:T.lineIndent===H?St=0:T.lineIndent<H&&(St=-1)),1===St)for(;$n(T)||zs(T);)Bt(T,!0,-1)?(xt=!0,ct=We,T.lineIndent>H?St=1:T.lineIndent===H?St=0:T.lineIndent<H&&(St=-1)):ct=!1;if(ct&&(ct=xt||ge),(1===St||4===z)&&(nn=1===z||2===z?H:H+1,un=T.position-T.lineStart,1===St?ct&&(hr(T,un)||function ko(T,H,z){var ie,ge,We,Xe,ct,St,rn,xt=T.tag,ei=T.anchor,ri={},hi=Object.create(null),Si=null,Wi=null,nn=null,un=!1,On=!1;if(-1!==T.firstTabInLine)return!1;for(null!==T.anchor&&(T.anchorMap[T.anchor]=ri),rn=T.input.charCodeAt(T.position);0!==rn;){if(!un&&-1!==T.firstTabInLine&&(T.position=T.firstTabInLine,Hn(T,"tab characters must not be used in indentation")),ie=T.input.charCodeAt(T.position+1),We=T.line,63!==rn&&58!==rn||!ro(ie)){if(Xe=T.line,ct=T.lineStart,St=T.position,!es(T,z,2,!1,!0))break;if(T.line===We){for(rn=T.input.charCodeAt(T.position);Mo(rn);)rn=T.input.charCodeAt(++T.position);if(58===rn)ro(rn=T.input.charCodeAt(++T.position))||Hn(T,"a whitespace character is expected after the key-value separator within a block mapping"),un&&(j(T,ri,hi,Si,Wi,null,Xe,ct,St),Si=Wi=nn=null),On=!0,un=!1,ge=!1,Si=T.tag,Wi=T.result;else{if(!On)return T.tag=xt,T.anchor=ei,!0;Hn(T,"can not read an implicit mapping pair; a colon is missed")}}else{if(!On)return T.tag=xt,T.anchor=ei,!0;Hn(T,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===rn?(un&&(j(T,ri,hi,Si,Wi,null,Xe,ct,St),Si=Wi=nn=null),On=!0,un=!0,ge=!0):un?(un=!1,ge=!0):Hn(T,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),T.position+=1,rn=ie;if((T.line===We||T.lineIndent>H)&&(un&&(Xe=T.line,ct=T.lineStart,St=T.position),es(T,H,4,!0,ge)&&(un?Wi=T.result:nn=T.result),un||(j(T,ri,hi,Si,Wi,nn,Xe,ct,St),Si=Wi=nn=null),Bt(T,!0,-1),rn=T.input.charCodeAt(T.position)),(T.line===We||T.lineIndent>H)&&0!==rn)Hn(T,"bad indentation of a mapping entry");else if(T.lineIndent<H)break}return un&&j(T,ri,hi,Si,Wi,null,Xe,ct,St),On&&(T.tag=xt,T.anchor=ei,T.kind="mapping",T.result=ri),On}(T,un,nn))||function Or(T,H){var ie,ge,We,ct,ei,ri,hi,Si,nn,un,On,rn,z=!0,Xe=T.tag,St=T.anchor,Wi=Object.create(null);if(91===(rn=T.input.charCodeAt(T.position)))ei=93,Si=!1,ct=[];else{if(123!==rn)return!1;ei=125,Si=!0,ct={}}for(null!==T.anchor&&(T.anchorMap[T.anchor]=ct),rn=T.input.charCodeAt(++T.position);0!==rn;){if(Bt(T,!0,H),(rn=T.input.charCodeAt(T.position))===ei)return T.position++,T.tag=Xe,T.anchor=St,T.kind=Si?"mapping":"sequence",T.result=ct,!0;z?44===rn&&Hn(T,"expected the node content, but found ','"):Hn(T,"missed comma between flow collection entries"),On=null,ri=hi=!1,63===rn&&ro(T.input.charCodeAt(T.position+1))&&(ri=hi=!0,T.position++,Bt(T,!0,H)),ie=T.line,ge=T.lineStart,We=T.position,es(T,H,1,!1,!0),un=T.tag,nn=T.result,Bt(T,!0,H),rn=T.input.charCodeAt(T.position),(hi||T.line===ie)&&58===rn&&(ri=!0,rn=T.input.charCodeAt(++T.position),Bt(T,!0,H),es(T,H,1,!1,!0),On=T.result),Si?j(T,ct,Wi,un,nn,On,ie,ge,We):ct.push(ri?j(T,null,Wi,un,nn,On,ie,ge,We):nn),Bt(T,!0,H),44===(rn=T.input.charCodeAt(T.position))?(z=!0,rn=T.input.charCodeAt(++T.position)):z=!1}Hn(T,"unexpected end of the stream within a flow collection")}(T,nn)?ei=!0:(Xe&&function qr(T,H){var z,ie,ei,ri,ge=1,We=!1,Xe=!1,ct=H,St=0,xt=!1;if(124===(ri=T.input.charCodeAt(T.position)))ie=!1;else{if(62!==ri)return!1;ie=!0}for(T.kind="scalar",T.result="";0!==ri;)if(43===(ri=T.input.charCodeAt(++T.position))||45===ri)1===ge?ge=43===ri?3:2:Hn(T,"repeat of a chomping mode identifier");else{if(!((ei=ho(ri))>=0))break;0===ei?Hn(T,"bad explicit indentation width of a block scalar; it cannot be less than one"):Xe?Hn(T,"repeat of an indentation width identifier"):(ct=H+ei-1,Xe=!0)}if(Mo(ri)){do{ri=T.input.charCodeAt(++T.position)}while(Mo(ri));if(35===ri)do{ri=T.input.charCodeAt(++T.position)}while(!Do(ri)&&0!==ri)}for(;0!==ri;){for(Ie(T),T.lineIndent=0,ri=T.input.charCodeAt(T.position);(!Xe||T.lineIndent<ct)&&32===ri;)T.lineIndent++,ri=T.input.charCodeAt(++T.position);if(!Xe&&T.lineIndent>ct&&(ct=T.lineIndent),Do(ri))St++;else{if(T.lineIndent<ct){3===ge?T.result+=yi.repeat("\n",We?1+St:St):1===ge&&We&&(T.result+="\n");break}for(ie?Mo(ri)?(xt=!0,T.result+=yi.repeat("\n",We?1+St:St)):xt?(xt=!1,T.result+=yi.repeat("\n",St+1)):0===St?We&&(T.result+=" "):T.result+=yi.repeat("\n",St):T.result+=yi.repeat("\n",We?1+St:St),We=!0,Xe=!0,St=0,z=T.position;!Do(ri)&&0!==ri;)ri=T.input.charCodeAt(++T.position);Z(T,z,T.position,!1)}}return!0}(T,nn)||function Ir(T,H){var z,ie,ge;if(39!==(z=T.input.charCodeAt(T.position)))return!1;for(T.kind="scalar",T.result="",T.position++,ie=ge=T.position;0!==(z=T.input.charCodeAt(T.position));)if(39===z){if(Z(T,ie,T.position,!0),39!==(z=T.input.charCodeAt(++T.position)))return!0;ie=T.position,T.position++,ge=T.position}else Do(z)?(Z(T,ie,ge,!0),dn(T,Bt(T,!1,H)),ie=ge=T.position):T.position===T.lineStart&&Ti(T)?Hn(T,"unexpected end of the document within a single quoted scalar"):(T.position++,ge=T.position);Hn(T,"unexpected end of the stream within a single quoted scalar")}(T,nn)||function Wr(T,H){var z,ie,ge,We,Xe,ct;if(34!==(ct=T.input.charCodeAt(T.position)))return!1;for(T.kind="scalar",T.result="",T.position++,z=ie=T.position;0!==(ct=T.input.charCodeAt(T.position));){if(34===ct)return Z(T,z,T.position,!0),T.position++,!0;if(92===ct){if(Z(T,z,T.position,!0),Do(ct=T.input.charCodeAt(++T.position)))Bt(T,!1,H);else if(ct<256&&ps[ct])T.result+=qo[ct],T.position++;else if((Xe=Es(ct))>0){for(ge=Xe,We=0;ge>0;ge--)(Xe=Ar(ct=T.input.charCodeAt(++T.position)))>=0?We=(We<<4)+Xe:Hn(T,"expected hexadecimal character");T.result+=ja(We),T.position++}else Hn(T,"unknown escape sequence");z=ie=T.position}else Do(ct)?(Z(T,z,ie,!0),dn(T,Bt(T,!1,H)),z=ie=T.position):T.position===T.lineStart&&Ti(T)?Hn(T,"unexpected end of the document within a double quoted scalar"):(T.position++,ie=T.position)}Hn(T,"unexpected end of the stream within a double quoted scalar")}(T,nn)?ei=!0:function rl(T){var H,z,ie;if(42!==(ie=T.input.charCodeAt(T.position)))return!1;for(ie=T.input.charCodeAt(++T.position),H=T.position;0!==ie&&!ro(ie)&&!ks(ie);)ie=T.input.charCodeAt(++T.position);return T.position===H&&Hn(T,"name of an alias node must contain at least one character"),z=T.input.slice(H,T.position),Ws.call(T.anchorMap,z)||Hn(T,'unidentified alias "'+z+'"'),T.result=T.anchorMap[z],Bt(T,!0,-1),!0}(T)?(ei=!0,(null!==T.tag||null!==T.anchor)&&Hn(T,"alias node should not have any properties")):function Un(T,H,z){var ge,We,Xe,ct,St,xt,ei,Si,ri=T.kind,hi=T.result;if(ro(Si=T.input.charCodeAt(T.position))||ks(Si)||35===Si||38===Si||42===Si||33===Si||124===Si||62===Si||39===Si||34===Si||37===Si||64===Si||96===Si||(63===Si||45===Si)&&(ro(ge=T.input.charCodeAt(T.position+1))||z&&ks(ge)))return!1;for(T.kind="scalar",T.result="",We=Xe=T.position,ct=!1;0!==Si;){if(58===Si){if(ro(ge=T.input.charCodeAt(T.position+1))||z&&ks(ge))break}else if(35===Si){if(ro(T.input.charCodeAt(T.position-1)))break}else{if(T.position===T.lineStart&&Ti(T)||z&&ks(Si))break;if(Do(Si)){if(St=T.line,xt=T.lineStart,ei=T.lineIndent,Bt(T,!1,-1),T.lineIndent>=H){ct=!0,Si=T.input.charCodeAt(T.position);continue}T.position=Xe,T.line=St,T.lineStart=xt,T.lineIndent=ei;break}}ct&&(Z(T,We,Xe,!1),dn(T,T.line-St),We=Xe=T.position,ct=!1),Mo(Si)||(Xe=T.position+1),Si=T.input.charCodeAt(++T.position)}return Z(T,We,Xe,!1),!!T.result||(T.kind=ri,T.result=hi,!1)}(T,nn,1===z)&&(ei=!0,null===T.tag&&(T.tag="?")),null!==T.anchor&&(T.anchorMap[T.anchor]=T.result)):0===St&&(ei=ct&&hr(T,un))),null===T.tag)null!==T.anchor&&(T.anchorMap[T.anchor]=T.result);else if("?"===T.tag){for(null!==T.result&&"scalar"!==T.kind&&Hn(T,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+T.kind+'"'),ri=0,hi=T.implicitTypes.length;ri<hi;ri+=1)if((Wi=T.implicitTypes[ri]).resolve(T.result)){T.result=Wi.construct(T.result),T.tag=Wi.tag,null!==T.anchor&&(T.anchorMap[T.anchor]=T.result);break}}else if("!"!==T.tag){if(Ws.call(T.typeMap[T.kind||"fallback"],T.tag))Wi=T.typeMap[T.kind||"fallback"][T.tag];else for(Wi=null,ri=0,hi=(Si=T.typeMap.multi[T.kind||"fallback"]).length;ri<hi;ri+=1)if(T.tag.slice(0,Si[ri].tag.length)===Si[ri].tag){Wi=Si[ri];break}Wi||Hn(T,"unknown tag !<"+T.tag+">"),null!==T.result&&Wi.kind!==T.kind&&Hn(T,"unacceptable node kind for !<"+T.tag+'> tag; it should be "'+Wi.kind+'", not "'+T.kind+'"'),Wi.resolve(T.result,T.tag)?(T.result=Wi.construct(T.result,T.tag),null!==T.anchor&&(T.anchorMap[T.anchor]=T.result)):Hn(T,"cannot resolve a node with !<"+T.tag+"> explicit tag")}return null!==T.listener&&T.listener("close",T),null!==T.tag||null!==T.anchor||ei}function za(T){var z,ie,ge,Xe,H=T.position,We=!1;for(T.version=null,T.checkLineBreaks=T.legacy,T.tagMap=Object.create(null),T.anchorMap=Object.create(null);0!==(Xe=T.input.charCodeAt(T.position))&&(Bt(T,!0,-1),Xe=T.input.charCodeAt(T.position),!(T.lineIndent>0||37!==Xe));){for(We=!0,Xe=T.input.charCodeAt(++T.position),z=T.position;0!==Xe&&!ro(Xe);)Xe=T.input.charCodeAt(++T.position);for(ge=[],(ie=T.input.slice(z,T.position)).length<1&&Hn(T,"directive name must not be less than one character in length");0!==Xe;){for(;Mo(Xe);)Xe=T.input.charCodeAt(++T.position);if(35===Xe){do{Xe=T.input.charCodeAt(++T.position)}while(0!==Xe&&!Do(Xe));break}if(Do(Xe))break;for(z=T.position;0!==Xe&&!ro(Xe);)Xe=T.input.charCodeAt(++T.position);ge.push(T.input.slice(z,T.position))}0!==Xe&&Ie(T),Ws.call(ke,ie)?ke[ie](T,ie,ge):oa(T,'unknown document directive "'+ie+'"')}Bt(T,!0,-1),0===T.lineIndent&&45===T.input.charCodeAt(T.position)&&45===T.input.charCodeAt(T.position+1)&&45===T.input.charCodeAt(T.position+2)?(T.position+=3,Bt(T,!0,-1)):We&&Hn(T,"directives end mark is expected"),es(T,T.lineIndent-1,4,!1,!0),Bt(T,!0,-1),T.checkLineBreaks&&Bo.test(T.input.slice(H,T.position))&&oa(T,"non-ASCII line breaks are interpreted as content"),T.documents.push(T.result),T.position===T.lineStart&&Ti(T)?46===T.input.charCodeAt(T.position)&&(T.position+=3,Bt(T,!0,-1)):T.position<T.length-1&&Hn(T,"end of the stream or a document separator is expected")}function Ls(T,H){H=H||{},0!==(T=String(T)).length&&(10!==T.charCodeAt(T.length-1)&&13!==T.charCodeAt(T.length-1)&&(T+="\n"),65279===T.charCodeAt(0)&&(T=T.slice(1)));var z=new fl(T,H),ie=T.indexOf("\0");for(-1!==ie&&(z.position=ie,Hn(z,"null byte is not allowed in input")),z.input+="\0";32===z.input.charCodeAt(z.position);)z.lineIndent+=1,z.position+=1;for(;z.position<z.length-1;)za(z);return z.documents}var it={loadAll:function wa(T,H,z){null!==H&&"object"==typeof H&&void 0===z&&(z=H,H=null);var ie=Ls(T,z);if("function"!=typeof H)return ie;for(var ge=0,We=ie.length;ge<We;ge+=1)H(ie[ge])},load:function Ec(T,H){var z=Ls(T,H);if(0!==z.length){if(1===z.length)return z[0];throw new gn("expected a single document in the stream, but found more")}}},G=Object.prototype.toString,X=Object.prototype.hasOwnProperty,lo={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Cs=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ol=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function wn(T){var H,z,ie;if(H=T.toString(16).toUpperCase(),T<=255)z="x",ie=2;else if(T<=65535)z="u",ie=4;else{if(!(T<=4294967295))throw new gn("code point within a string may not be greater than 0xFFFFFFFF");z="U",ie=8}return"\\"+z+yi.repeat("0",ie-H.length)+H}function _r(T){this.schema=T.schema||Oa,this.indent=Math.max(1,T.indent||2),this.noArrayIndent=T.noArrayIndent||!1,this.skipInvalid=T.skipInvalid||!1,this.flowLevel=yi.isNothing(T.flowLevel)?-1:T.flowLevel,this.styleMap=function os(T,H){var z,ie,ge,We,Xe,ct,St;if(null===H)return{};for(z={},ge=0,We=(ie=Object.keys(H)).length;ge<We;ge+=1)Xe=ie[ge],ct=String(H[Xe]),"!!"===Xe.slice(0,2)&&(Xe="tag:yaml.org,2002:"+Xe.slice(2)),(St=T.compiledTypeMap.fallback[Xe])&&X.call(St.styleAliases,ct)&&(ct=St.styleAliases[ct]),z[Xe]=ct;return z}(this.schema,T.styles||null),this.sortKeys=T.sortKeys||!1,this.lineWidth=T.lineWidth||80,this.noRefs=T.noRefs||!1,this.noCompatMode=T.noCompatMode||!1,this.condenseFlow=T.condenseFlow||!1,this.quotingType='"'===T.quotingType?2:1,this.forceQuotes=T.forceQuotes||!1,this.replacer="function"==typeof T.replacer?T.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function vr(T,H){for(var Xe,z=yi.repeat(" ",H),ie=0,ge=-1,We="",ct=T.length;ie<ct;)-1===(ge=T.indexOf("\n",ie))?(Xe=T.slice(ie),ie=ct):(Xe=T.slice(ie,ge+1),ie=ge+1),Xe.length&&"\n"!==Xe&&(We+=z),We+=Xe;return We}function Ts(T,H){return"\n"+yi.repeat(" ",T.indent*H)}function $s(T){return 32===T||9===T}function oo(T){return 32<=T&&T<=126||161<=T&&T<=55295&&8232!==T&&8233!==T||57344<=T&&T<=65533&&65279!==T||65536<=T&&T<=1114111}function Po(T){return oo(T)&&65279!==T&&13!==T&&10!==T}function ss(T,H,z){var ie=Po(T),ge=ie&&!$s(T);return(z?ie:ie&&44!==T&&91!==T&&93!==T&&123!==T&&125!==T)&&35!==T&&!(58===H&&!ge)||Po(H)&&!$s(H)&&35===T||58===H&&ge}function Yo(T,H){var ie,z=T.charCodeAt(H);return z>=55296&&z<=56319&&H+1<T.length&&(ie=T.charCodeAt(H+1))>=56320&&ie<=57343?1024*(z-55296)+ie-56320+65536:z}function Ns(T){return/^\n* /.test(T)}function Ya(T,H,z,ie,ge){T.dump=function(){if(0===H.length)return 2===T.quotingType?'""':"''";if(!T.noCompatMode&&(-1!==Cs.indexOf(H)||ol.test(H)))return 2===T.quotingType?'"'+H+'"':"'"+H+"'";var We=T.indent*Math.max(1,z),Xe=-1===T.lineWidth?-1:Math.max(Math.min(T.lineWidth,40),T.lineWidth-We);switch(function La(T,H,z,ie,ge,We,Xe,ct){var St,xt=0,ei=null,ri=!1,hi=!1,Si=-1!==ie,Wi=-1,nn=function ws(T){return oo(T)&&65279!==T&&!$s(T)&&45!==T&&63!==T&&58!==T&&44!==T&&91!==T&&93!==T&&123!==T&&125!==T&&35!==T&&38!==T&&42!==T&&33!==T&&124!==T&&61!==T&&62!==T&&39!==T&&34!==T&&37!==T&&64!==T&&96!==T}(Yo(T,0))&&function Sa(T){return!$s(T)&&58!==T}(Yo(T,T.length-1));if(H||Xe)for(St=0;St<T.length;xt>=65536?St+=2:St++){if(!oo(xt=Yo(T,St)))return 5;nn=nn&&ss(xt,ei,ct),ei=xt}else{for(St=0;St<T.length;xt>=65536?St+=2:St++){if(10===(xt=Yo(T,St)))ri=!0,Si&&(hi=hi||St-Wi-1>ie&&" "!==T[Wi+1],Wi=St);else if(!oo(xt))return 5;nn=nn&&ss(xt,ei,ct),ei=xt}hi=hi||Si&&St-Wi-1>ie&&" "!==T[Wi+1]}return ri||hi?z>9&&Ns(T)?5:Xe?2===We?5:2:hi?4:3:!nn||Xe||ge(T)?2===We?5:2:1}(H,ie||T.flowLevel>-1&&z>=T.flowLevel,T.indent,Xe,function St(xt){return function Ks(T,H){var z,ie;for(z=0,ie=T.implicitTypes.length;z<ie;z+=1)if(T.implicitTypes[z].resolve(H))return!0;return!1}(T,xt)},T.quotingType,T.forceQuotes&&!ie,ge)){case 1:return H;case 2:return"'"+H.replace(/'/g,"''")+"'";case 3:return"|"+ec(H,T.indent)+al(vr(H,We));case 4:return">"+ec(H,T.indent)+al(vr(function Gl(T,H){for(var We,Xe,z=/(\n+)([^\n]*)/g,ie=(xt=void 0,xt=T.indexOf("\n"),z.lastIndex=xt=-1!==xt?xt:T.length,Xa(T.slice(0,xt),H)),ge="\n"===T[0]||" "===T[0];Xe=z.exec(T);){var St=Xe[2];We=" "===St[0],ie+=Xe[1]+(ge||We||""===St?"":"\n")+Xa(St,H),ge=We}var xt;return ie}(H,Xe),We));case 5:return'"'+function gl(T){for(var ie,H="",z=0,ge=0;ge<T.length;z>=65536?ge+=2:ge++)z=Yo(T,ge),!(ie=lo[z])&&oo(z)?(H+=T[ge],z>=65536&&(H+=T[ge+1])):H+=ie||wn(z);return H}(H)+'"';default:throw new gn("impossible error: invalid scalar style")}}()}function ec(T,H){var z=Ns(T)?String(H):"",ie="\n"===T[T.length-1];return z+(!ie||"\n"!==T[T.length-2]&&"\n"!==T?ie?"":"-":"+")+"\n"}function al(T){return"\n"===T[T.length-1]?T.slice(0,-1):T}function Xa(T,H){if(""===T||" "===T[0])return T;for(var ie,We,z=/ [^ ]/g,ge=0,Xe=0,ct=0,St="";ie=z.exec(T);)(ct=ie.index)-ge>H&&(St+="\n"+T.slice(ge,We=Xe>ge?Xe:ct),ge=We+1),Xe=ct;return St+="\n",(St+=T.length-ge>H&&Xe>ge?T.slice(ge,Xe)+"\n"+T.slice(Xe+1):T.slice(ge)).slice(1)}function Pa(T,H,z){var ie,ge,We,Xe,ct,St;for(We=0,Xe=(ge=z?T.explicitTypes:T.implicitTypes).length;We<Xe;We+=1)if(((ct=ge[We]).instanceOf||ct.predicate)&&(!ct.instanceOf||"object"==typeof H&&H instanceof ct.instanceOf)&&(!ct.predicate||ct.predicate(H))){if(T.tag=z?ct.multi&&ct.representName?ct.representName(H):ct.tag:"?",ct.represent){if(St=T.styleMap[ct.tag]||ct.defaultStyle,"[object Function]"===G.call(ct.represent))ie=ct.represent(H,St);else{if(!X.call(ct.represent,St))throw new gn("!<"+ct.tag+'> tag resolver accepts not "'+St+'" style');ie=ct.represent[St](H,St)}T.dump=ie}return!0}return!1}function Js(T,H,z,ie,ge,We,Xe){T.tag=null,T.dump=z,Pa(T,z,!1)||Pa(T,z,!0);var xt,ct=G.call(T.dump),St=ie;ie&&(ie=T.flowLevel<0||T.flowLevel>H);var ri,hi,ei="[object Object]"===ct||"[object Array]"===ct;if(ei&&(hi=-1!==(ri=T.duplicates.indexOf(z))),(null!==T.tag&&"?"!==T.tag||hi||2!==T.indent&&H>0)&&(ge=!1),hi&&T.usedDuplicates[ri])T.dump="*ref_"+ri;else{if(ei&&hi&&!T.usedDuplicates[ri]&&(T.usedDuplicates[ri]=!0),"[object Object]"===ct)ie&&0!==Object.keys(T.dump).length?(function cc(T,H,z,ie){var ct,St,xt,ei,ri,hi,ge="",We=T.tag,Xe=Object.keys(z);if(!0===T.sortKeys)Xe.sort();else if("function"==typeof T.sortKeys)Xe.sort(T.sortKeys);else if(T.sortKeys)throw new gn("sortKeys must be a boolean or a function");for(ct=0,St=Xe.length;ct<St;ct+=1)hi="",(!ie||""!==ge)&&(hi+=Ts(T,H)),ei=z[xt=Xe[ct]],T.replacer&&(ei=T.replacer.call(z,xt,ei)),Js(T,H+1,xt,!0,!0,!0)&&((ri=null!==T.tag&&"?"!==T.tag||T.dump&&T.dump.length>1024)&&(T.dump&&10===T.dump.charCodeAt(0)?hi+="?":hi+="? "),hi+=T.dump,ri&&(hi+=Ts(T,H)),Js(T,H+1,ei,!0,ri)&&(T.dump&&10===T.dump.charCodeAt(0)?hi+=":":hi+=": ",ge+=hi+=T.dump));T.tag=We,T.dump=ge||"{}"}(T,H,T.dump,ge),hi&&(T.dump="&ref_"+ri+T.dump)):(function ma(T,H,z){var Xe,ct,St,xt,ei,ie="",ge=T.tag,We=Object.keys(z);for(Xe=0,ct=We.length;Xe<ct;Xe+=1)ei="",""!==ie&&(ei+=", "),T.condenseFlow&&(ei+='"'),xt=z[St=We[Xe]],T.replacer&&(xt=T.replacer.call(z,St,xt)),Js(T,H,St,!1,!1)&&(T.dump.length>1024&&(ei+="? "),ei+=T.dump+(T.condenseFlow?'"':"")+":"+(T.condenseFlow?"":" "),Js(T,H,xt,!1,!1)&&(ie+=ei+=T.dump));T.tag=ge,T.dump="{"+ie+"}"}(T,H,T.dump),hi&&(T.dump="&ref_"+ri+" "+T.dump));else if("[object Array]"===ct)ie&&0!==T.dump.length?(function Vc(T,H,z,ie){var Xe,ct,St,ge="",We=T.tag;for(Xe=0,ct=z.length;Xe<ct;Xe+=1)St=z[Xe],T.replacer&&(St=T.replacer.call(z,String(Xe),St)),(Js(T,H+1,St,!0,!0,!1,!0)||void 0===St&&Js(T,H+1,null,!0,!0,!1,!0))&&((!ie||""!==ge)&&(ge+=Ts(T,H)),T.dump&&10===T.dump.charCodeAt(0)?ge+="-":ge+="- ",ge+=T.dump);T.tag=We,T.dump=ge||"[]"}(T,T.noArrayIndent&&!Xe&&H>0?H-1:H,T.dump,ge),hi&&(T.dump="&ref_"+ri+T.dump)):(function ml(T,H,z){var We,Xe,ct,ie="",ge=T.tag;for(We=0,Xe=z.length;We<Xe;We+=1)ct=z[We],T.replacer&&(ct=T.replacer.call(z,String(We),ct)),(Js(T,H,ct,!1,!1)||void 0===ct&&Js(T,H,null,!1,!1))&&(""!==ie&&(ie+=","+(T.condenseFlow?"":" ")),ie+=T.dump);T.tag=ge,T.dump="["+ie+"]"}(T,H,T.dump),hi&&(T.dump="&ref_"+ri+" "+T.dump));else{if("[object String]"!==ct){if("[object Undefined]"===ct)return!1;if(T.skipInvalid)return!1;throw new gn("unacceptable kind of an object to dump "+ct)}"?"!==T.tag&&Ya(T,T.dump,H,We,St)}null!==T.tag&&"?"!==T.tag&&(xt=encodeURI("!"===T.tag[0]?T.tag.slice(1):T.tag).replace(/!/g,"%21"),xt="!"===T.tag[0]?"!"+xt:"tag:yaml.org,2002:"===xt.slice(0,18)?"!!"+xt.slice(18):"!<"+xt+">",T.dump=xt+" "+T.dump)}return!0}function Ka(T,H){var ge,We,z=[],ie=[];for(Zs(T,z,ie),ge=0,We=ie.length;ge<We;ge+=1)H.duplicates.push(z[ie[ge]]);H.usedDuplicates=new Array(We)}function Zs(T,H,z){var ie,ge,We;if(null!==T&&"object"==typeof T)if(-1!==(ge=H.indexOf(T)))-1===z.indexOf(ge)&&z.push(ge);else if(H.push(T),Array.isArray(T))for(ge=0,We=T.length;ge<We;ge+=1)Zs(T[ge],H,z);else for(ge=0,We=(ie=Object.keys(T)).length;ge<We;ge+=1)Zs(T[ie[ge]],H,z)}function Cc(T,H){return function(){throw new Error("Function yaml."+T+" is removed in js-yaml 4. Use yaml."+H+" instead, which is now safe by default.")}}const co={Type:ln,Schema:$t,FAILSAFE_SCHEMA:fn,JSON_SCHEMA:Ft,CORE_SCHEMA:Ai,DEFAULT_SCHEMA:Oa,load:it.load,loadAll:it.loadAll,dump:function _a(T,H){var z=new _r(H=H||{});z.noRefs||Ka(T,z);var ie=T;return z.replacer&&(ie=z.replacer.call({"":ie},"",ie)),Js(z,0,ie,!0,!0)?z.dump+"\n":""},YAMLException:gn,types:{binary:no,float:at,map:Ri,null:Jr,pairs:Os,set:pa,timestamp:Sn,bool:dr,int:fr,merge:uo,omap:ia,seq:di,str:Pt},safeLoad:Cc("safeLoad","load"),safeLoadAll:Cc("safeLoadAll","loadAll"),safeDump:Cc("safeDump","dump")},Sl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window,{FormData:Bs,Blob:Ss,File:Qs}=Sl;function $a(T){return function Da(T){if(ve(T))return ce(T)}(T)||function as(T){if(void 0!==Ue&&null!=Se(T)||null!=T["@@iterator"])return me(T)}(T)||Ne(T)||function Dl(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Gc=f(3649),va=f.n(Gc),jl=function(H){return":/?#[]@!$&'()*+,;=".indexOf(H)>-1},gs=function(H){return/^[a-z0-9\-._~]+$/i.test(H)};function To(T){var H,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=z.escape,ge=arguments.length>2?arguments[2]:void 0;return"number"==typeof T&&(T=T.toString()),"string"==typeof T&&T.length&&ie?ge?JSON.parse(T):Re()(H=$a(T)).call(H,function(We){var Xe,ct;if(gs(We)||jl(We)&&"unsafe"===ie)return We;var St=new TextEncoder;return Re()(Xe=Re()(ct=mt()(St.encode(We))).call(ct,function(ei){var ri;return va()(ri="0".concat(ei.toString(16).toUpperCase())).call(ri,-2)})).call(Xe,function(ei){return"%".concat(ei)}).join("")}).join(""):T}function xo(T){var H=T.value;return Array.isArray(H)?function eo(T){var H=T.key,z=T.value,ie=T.style,ge=T.explode,We=T.escape,Xe=function(ri){return To(ri,{escape:We})};if("simple"===ie)return Re()(z).call(z,function(ei){return Xe(ei)}).join(",");if("label"===ie)return".".concat(Re()(z).call(z,function(ei){return Xe(ei)}).join("."));if("matrix"===ie)return Re()(z).call(z,function(ei){return Xe(ei)}).reduce(function(ei,ri){var hi,Si,Wi;return!ei||ge?wt()(Si=wt()(Wi="".concat(ei||"",";")).call(Wi,H,"=")).call(Si,ri):wt()(hi="".concat(ei,",")).call(hi,ri)},"");if("form"===ie){var ct=ge?"&".concat(H,"="):",";return Re()(z).call(z,function(ei){return Xe(ei)}).join(ct)}if("spaceDelimited"===ie){var St=ge?"".concat(H,"="):"";return Re()(z).call(z,function(ei){return Xe(ei)}).join(" ".concat(St))}if("pipeDelimited"===ie){var xt=ge?"".concat(H,"="):"";return Re()(z).call(z,function(ei){return Xe(ei)}).join("|".concat(xt))}}(T):"object"===de(H)?function Ml(T){var H=T.key,z=T.value,ie=T.style,ge=T.explode,We=T.escape,Xe=function(xt){return To(xt,{escape:We})},ct=zt()(z);return"simple"===ie?ct.reduce(function(St,xt){var ei,ri,hi,Si=Xe(z[xt]),Wi=ge?"=":",",nn=St?"".concat(St,","):"";return wt()(ei=wt()(ri=wt()(hi="".concat(nn)).call(hi,xt)).call(ri,Wi)).call(ei,Si)},""):"label"===ie?ct.reduce(function(St,xt){var ei,ri,hi,Si=Xe(z[xt]),Wi=ge?"=":".",nn=St?"".concat(St,"."):".";return wt()(ei=wt()(ri=wt()(hi="".concat(nn)).call(hi,xt)).call(ri,Wi)).call(ei,Si)},""):"matrix"===ie&&ge?ct.reduce(function(St,xt){var ei,ri,hi=Xe(z[xt]),Si=St?"".concat(St,";"):";";return wt()(ei=wt()(ri="".concat(Si)).call(ri,xt,"=")).call(ei,hi)},""):"matrix"===ie?ct.reduce(function(St,xt){var ei,ri,hi=Xe(z[xt]),Si=St?"".concat(St,","):";".concat(H,"=");return wt()(ei=wt()(ri="".concat(Si)).call(ri,xt,",")).call(ei,hi)},""):"form"===ie?ct.reduce(function(St,xt){var ei,ri,hi,Si,Wi=Xe(z[xt]),nn=St?wt()(ei="".concat(St)).call(ei,ge?"&":","):"",un=ge?"=":",";return wt()(ri=wt()(hi=wt()(Si="".concat(nn)).call(Si,xt)).call(hi,un)).call(ri,Wi)},""):void 0}(T):function ru(T){var Xe,H=T.key,z=T.value,ie=T.style,ge=T.escape,We=function(St){return To(St,{escape:ge})};return"simple"===ie?We(z):"label"===ie?".".concat(We(z)):"matrix"===ie?wt()(Xe=";".concat(H,"=")).call(Xe,We(z)):"form"===ie||"deepObject"===ie?We(z):void 0}(T)}const rd=function(H,z){z.body=H};var Gu={serializeRes:od,mergeInQueryOrForm:Ma};function wu(T){return Tc.apply(this,arguments)}function Tc(){return Tc=dt(kt().mark(function T(H){var z,ge,We,Xe,ct=arguments;return kt().wrap(function(xt){for(;;)switch(xt.prev=xt.next){case 0:if(z=ct.length>1&&void 0!==ct[1]?ct[1]:{},"object"===de(H)&&(H=(z=H).url),z.headers=z.headers||{},Gu.mergeInQueryOrForm(z),z.headers&&zt()(z.headers).forEach(function(ei){var ri=z.headers[ei];"string"==typeof ri&&(z.headers[ei]=ri.replace(/\n+/g," "))}),!z.requestInterceptor){xt.next=12;break}return xt.next=8,z.requestInterceptor(z);case 8:if(xt.t0=xt.sent,xt.t0){xt.next=11;break}xt.t0=z;case 11:z=xt.t0;case 12:return/multipart\/form-data/i.test(z.headers["content-type"]||z.headers["Content-Type"])&&z.body instanceof Bs&&(delete z.headers["content-type"],delete z.headers["Content-Type"]),xt.prev=14,xt.next=17,(z.userFetch||fetch)(z.url,z);case 17:return ge=xt.sent,xt.next=20,Gu.serializeRes(ge,H,z);case 20:if(ge=xt.sent,!z.responseInterceptor){xt.next=28;break}return xt.next=24,z.responseInterceptor(ge);case 24:if(xt.t1=xt.sent,xt.t1){xt.next=27;break}xt.t1=ge;case 27:ge=xt.t1;case 28:xt.next=39;break;case 30:if(xt.prev=30,xt.t2=xt.catch(14),ge){xt.next=34;break}throw xt.t2;case 34:throw(We=new Error(ge.statusText||"response status is ".concat(ge.status))).status=ge.status,We.statusCode=ge.status,We.responseError=xt.t2,We;case 39:if(ge.ok){xt.next=45;break}throw(Xe=new Error(ge.statusText||"response status is ".concat(ge.status))).status=ge.status,Xe.statusCode=ge.status,Xe.response=ge,Xe;case 45:return xt.abrupt("return",ge);case 46:case"end":return xt.stop()}},T,null,[[14,30]])})),Tc.apply(this,arguments)}var Wu=function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/(json|xml|yaml|text)\b/.test(H)};function Su(T,H){return H&&(0===H.indexOf("application/json")||H.indexOf("+json")>0)?JSON.parse(T):co.load(T)}function od(T,H){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ie=z.loadSpec,ge=void 0!==ie&&ie,We={ok:T.ok,url:T.url||H,status:T.status,statusText:T.statusText,headers:Du(T.headers)},Xe=We.headers["content-type"],ct=ge||Wu(Xe),St=ct?T.text:T.blob||T.buffer;return St.call(T).then(function(xt){if(We.text=xt,We.data=xt,ct)try{var ei=Su(xt,Xe);We.body=ei,We.obj=ei}catch(ri){We.parseError=ri}return We})}function dc(T){return bi()(T).call(T,", ")?T.split(", "):T}function Du(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"function"!=typeof Rt()(T)?{}:mt()(Rt()(T).call(T)).reduce(function(H,z){var ie=De(z,2);return H[ie[0]]=dc(ie[1]),H},{})}function No(T,H){return!H&&"undefined"!=typeof navigator&&(H=navigator),H&&"ReactNative"===H.product?!(!T||"object"!==de(T)||"string"!=typeof T.uri):!!(void 0!==Qs&&T instanceof Qs||void 0!==Ss&&T instanceof Ss||ArrayBuffer.isView(T))||null!==T&&"object"===de(T)&&"function"==typeof T.pipe}function zl(T,H){return Array.isArray(T)&&T.some(function(z){return No(z,H)})}var tc={form:",",spaceDelimited:"%20",pipeDelimited:"|"},ya={csv:",",ssv:"%20",tsv:"%09",pipes:"|"};function _l(T,H){var z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ie=H.collectionFormat,ge=H.allowEmptyValue,We=H.serializationOption,Xe=H.encoding,ct="object"!==de(H)||Array.isArray(H)?H:H.value,St=z?function(Wi){return Wi.toString()}:function(Wi){return encodeURIComponent(Wi)},xt=St(T);if(void 0===ct&&ge)return[[xt,""]];if(No(ct)||zl(ct))return[[xt,ct]];if(We)return Ds(T,ct,z,We);if(Xe){if([de(Xe.style),de(Xe.explode),de(Xe.allowReserved)].some(function(Wi){return"undefined"!==Wi})){var ei=Xe.style,ri=Xe.explode,hi=Xe.allowReserved;return Ds(T,ct,z,{style:ei,explode:ri,allowReserved:hi})}if(Xe.contentType){if("application/json"===Xe.contentType){var Si="string"==typeof ct?ct:Je()(ct);return[[xt,St(Si)]]}return[[xt,St(ct.toString())]]}return"object"!==de(ct)?[[xt,St(ct)]]:Array.isArray(ct)&&ct.every(function(Wi){return"object"!==de(Wi)})?[[xt,Re()(ct).call(ct,St).join(",")]]:[[xt,St(Je()(ct))]]}return"object"!==de(ct)?[[xt,St(ct)]]:Array.isArray(ct)?"multi"===ie?[[xt,Re()(ct).call(ct,St)]]:[[xt,Re()(ct).call(ct,St).join(ya[ie||"csv"])]]:[[xt,""]]}function Ds(T,H,z,ie){var ge,ei,ri,We=ie.style||"form",Xe=void 0===ie.explode?"form"===We:ie.explode,ct=!z&&(ie&&ie.allowReserved?"unsafe":"reserved"),St=function(Si){return To(Si,{escape:ct})},xt=z?function(hi){return hi}:function(hi){return To(hi,{escape:ct})};return"object"!==de(H)?[[xt(T),St(H)]]:Array.isArray(H)?Xe?[[xt(T),Re()(H).call(H,St)]]:[[xt(T),Re()(H).call(H,St).join(tc[We])]]:"deepObject"===We?Re()(ei=zt()(H)).call(ei,function(hi){var Si;return[xt(wt()(Si="".concat(T,"[")).call(Si,hi,"]")),St(H[hi])]}):Xe?Re()(ri=zt()(H)).call(ri,function(hi){return[xt(hi),St(H[hi])]}):[[xt(T),Re()(ge=zt()(H)).call(ge,function(hi){var Si;return[wt()(Si="".concat(xt(hi),",")).call(Si,St(H[hi]))]}).join(",")]]}function aa(T){return tt()(T).reduce(function(H,z){var ct,ie=De(z,2),Xe=Ae(_l(ie[0],ie[1],!0));try{for(Xe.s();!(ct=Xe.n()).done;){var St=De(ct.value,2),xt=St[0],ei=St[1];if(Array.isArray(ei)){var hi,ri=Ae(ei);try{for(ri.s();!(hi=ri.n()).done;){var Si=hi.value;if(ArrayBuffer.isView(Si)){var Wi=new Ss([Si]);H.append(xt,Wi)}else H.append(xt,Si)}}catch(un){ri.e(un)}finally{ri.f()}}else if(ArrayBuffer.isView(ei)){var nn=new Ss([ei]);H.append(xt,nn)}else H.append(xt,ei)}}catch(un){Xe.e(un)}finally{Xe.f()}return H},new Bs)}function Ja(T){var H=zt()(T).reduce(function(z,ie){var We,ge=Ae(_l(ie,T[ie]));try{for(ge.s();!(We=ge.n()).done;){var Xe=De(We.value,2);z[Xe[0]]=Xe[1]}}catch(xt){ge.e(xt)}finally{ge.f()}return z},{});return Ke().stringify(H,{encode:!1,indices:!1})||""}function Ma(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},H=T.url,z=void 0===H?"":H,ie=T.query,ge=T.form,We=function(){for(var rn=arguments.length,Er=new Array(rn),Cr=0;Cr<rn;Cr++)Er[Cr]=arguments[Cr];var is=lt()(Er).call(Er,function(Ao){return Ao}).join("&");return is?"?".concat(is):""};if(ge){var Xe=zt()(ge).some(function(On){var rn=ge[On].value;return No(rn)||zl(rn)}),ct=T.headers["content-type"]||T.headers["Content-Type"];if(Xe||/multipart\/form-data/i.test(ct)){var St=aa(T.form);rd(St,T)}else T.body=Ja(ge);delete T.form}if(ie){var xt=z.split("?"),ei=De(xt,2),ri=ei[0],hi=ei[1],Si="";if(hi){var Wi=Ke().parse(hi),nn=zt()(ie);nn.forEach(function(On){return delete Wi[On]}),Si=Ke().stringify(Wi,{encode:!0})}var un=We(Si,Ja(ie));T.url=ri+un,delete T.query}return T}function wc(T,H){if(!(T instanceof H))throw new TypeError("Cannot call a class as a function")}function Na(T,H){for(var z=0;z<H.length;z++){var ie=H[z];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),W(T,ie.key,ie)}}function Br(T,H,z){return H&&Na(T.prototype,H),z&&Na(T,z),W(T,"prototype",{writable:!1}),T}var T,Fa=f(94473),vl=f.n(Fa),Yl=f(93476),Ms=f.n(Yl),Xl=f(92762),ll=f.n(Xl),sd=(T=function(H,z){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,ge){ie.__proto__=ge}||function(ie,ge){for(var We in ge)ge.hasOwnProperty(We)&&(ie[We]=ge[We])})(H,z)},function(H,z){function ie(){this.constructor=H}T(H,z),H.prototype=null===z?Object.create(z):(ie.prototype=z.prototype,new ie)}),xl=Object.prototype.hasOwnProperty;function ic(T,H){return xl.call(T,H)}function ou(T){if(Array.isArray(T)){for(var H=new Array(T.length),z=0;z<H.length;z++)H[z]=""+z;return H}if(Object.keys)return Object.keys(T);var ie=[];for(var ge in T)ic(T,ge)&&ie.push(ge);return ie}function ls(T){switch(typeof T){case"object":return JSON.parse(JSON.stringify(T));case"undefined":return null;default:return T}}function cl(T){for(var ie,H=0,z=T.length;H<z;){if(!((ie=T.charCodeAt(H))>=48&&ie<=57))return!1;H++}return!0}function Rr(T){return-1===T.indexOf("/")&&-1===T.indexOf("~")?T:T.replace(/~/g,"~0").replace(/\//g,"~1")}function Sc(T){return T.replace(/~1/g,"/").replace(/~0/g,"~")}function jc(T){if(void 0===T)return!0;if(T)if(Array.isArray(T)){for(var H=0,z=T.length;H<z;H++)if(jc(T[H]))return!0}else if("object"==typeof T)for(var ie=ou(T),ge=ie.length,We=0;We<ge;We++)if(jc(T[ie[We]]))return!0;return!1}function Rl(T,H){var z=[T];for(var ie in H){var ge="object"==typeof H[ie]?JSON.stringify(H[ie],null,2):H[ie];void 0!==ge&&z.push(ie+": "+ge)}return z.join("\n")}var su=function(T){function H(z,ie,ge,We,Xe){var ct=this.constructor,St=T.call(this,Rl(z,{name:ie,index:ge,operation:We,tree:Xe}))||this;return St.name=ie,St.index=ge,St.operation=We,St.tree=Xe,Object.setPrototypeOf(St,ct.prototype),St.message=Rl(z,{name:ie,index:ge,operation:We,tree:Xe}),St}return sd(H,T),H}(Error),Ro=su,Mu=ls,nc={add:function(T,H,z){return T[H]=this.value,{newDocument:z}},remove:function(T,H,z){var ie=T[H];return delete T[H],{newDocument:z,removed:ie}},replace:function(T,H,z){var ie=T[H];return T[H]=this.value,{newDocument:z,removed:ie}},move:function(T,H,z){var ie=Al(z,this.path);ie&&(ie=ls(ie));var ge=Za(z,{op:"remove",path:this.from}).removed;return Za(z,{op:"add",path:this.path,value:ge}),{newDocument:z,removed:ie}},copy:function(T,H,z){var ie=Al(z,this.from);return Za(z,{op:"add",path:this.path,value:ls(ie)}),{newDocument:z}},test:function(T,H,z){return{newDocument:z,test:Il(T[H],this.value)}},_get:function(T,H,z){return this.value=T[H],{newDocument:z}}},au={add:function(T,H,z){return cl(H)?T.splice(H,0,this.value):T[H]=this.value,{newDocument:z,index:H}},remove:function(T,H,z){return{newDocument:z,removed:T.splice(H,1)[0]}},replace:function(T,H,z){var ie=T[H];return T[H]=this.value,{newDocument:z,removed:ie}},move:nc.move,copy:nc.copy,test:nc.test,_get:nc._get};function Al(T,H){if(""==H)return T;var z={op:"_get",path:H};return Za(T,z),z.value}function Za(T,H,z,ie,ge,We){if(void 0===z&&(z=!1),void 0===ie&&(ie=!0),void 0===ge&&(ge=!0),void 0===We&&(We=0),z&&("function"==typeof z?z(H,0,T,H.path):ul(H,0)),""===H.path){var Xe={newDocument:T};if("add"===H.op)return Xe.newDocument=H.value,Xe;if("replace"===H.op)return Xe.newDocument=H.value,Xe.removed=T,Xe;if("move"===H.op||"copy"===H.op)return Xe.newDocument=Al(T,H.from),"move"===H.op&&(Xe.removed=T),Xe;if("test"===H.op){if(Xe.test=Il(T,H.value),!1===Xe.test)throw new Ro("Test operation failed","TEST_OPERATION_FAILED",We,H,T);return Xe.newDocument=T,Xe}if("remove"===H.op)return Xe.removed=T,Xe.newDocument=null,Xe;if("_get"===H.op)return H.value=T,Xe;if(z)throw new Ro("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",We,H,T);return Xe}ie||(T=ls(T));var St=(H.path||"").split("/"),xt=T,ei=1,ri=St.length,hi=void 0,Si=void 0,Wi=void 0;for(Wi="function"==typeof z?z:ul;;){if((Si=St[ei])&&-1!=Si.indexOf("~")&&(Si=Sc(Si)),ge&&("__proto__"==Si||"prototype"==Si&&ei>0&&"constructor"==St[ei-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(z&&void 0===hi&&(void 0===xt[Si]?hi=St.slice(0,ei).join("/"):ei==ri-1&&(hi=H.path),void 0!==hi&&Wi(H,0,T,hi)),ei++,Array.isArray(xt)){if("-"===Si)Si=xt.length;else{if(z&&!cl(Si))throw new Ro("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",We,H,T);cl(Si)&&(Si=~~Si)}if(ei>=ri){if(z&&"add"===H.op&&Si>xt.length)throw new Ro("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",We,H,T);if(!1===(Xe=au[H.op].call(H,xt,Si,T)).test)throw new Ro("Test operation failed","TEST_OPERATION_FAILED",We,H,T);return Xe}}else if(ei>=ri){if(!1===(Xe=nc[H.op].call(H,xt,Si,T)).test)throw new Ro("Test operation failed","TEST_OPERATION_FAILED",We,H,T);return Xe}if(xt=xt[Si],z&&ei<ri&&(!xt||"object"!=typeof xt))throw new Ro("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",We,H,T)}}function Ba(T,H,z,ie,ge){if(void 0===ie&&(ie=!0),void 0===ge&&(ge=!0),z&&!Array.isArray(H))throw new Ro("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");ie||(T=ls(T));for(var We=new Array(H.length),Xe=0,ct=H.length;Xe<ct;Xe++)We[Xe]=Za(T,H[Xe],z,!0,ge,Xe),T=We[Xe].newDocument;return We.newDocument=T,We}function rc(T,H,z){var ie=Za(T,H);if(!1===ie.test)throw new Ro("Test operation failed","TEST_OPERATION_FAILED",z,H,T);return ie.newDocument}function ul(T,H,z,ie){if("object"!=typeof T||null===T||Array.isArray(T))throw new Ro("Operation is not an object","OPERATION_NOT_AN_OBJECT",H,T,z);if(!nc[T.op])throw new Ro("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",H,T,z);if("string"!=typeof T.path)throw new Ro("Operation `path` property is not a string","OPERATION_PATH_INVALID",H,T,z);if(0!==T.path.indexOf("/")&&T.path.length>0)throw new Ro('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",H,T,z);if(("move"===T.op||"copy"===T.op)&&"string"!=typeof T.from)throw new Ro("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",H,T,z);if(("add"===T.op||"replace"===T.op||"test"===T.op)&&void 0===T.value)throw new Ro("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",H,T,z);if(("add"===T.op||"replace"===T.op||"test"===T.op)&&jc(T.value))throw new Ro("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",H,T,z);if(z)if("add"==T.op){var ge=T.path.split("/").length,We=ie.split("/").length;if(ge!==We+1&&ge!==We)throw new Ro("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",H,T,z)}else if("replace"===T.op||"remove"===T.op||"_get"===T.op){if(T.path!==ie)throw new Ro("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",H,T,z)}else if("move"===T.op||"copy"===T.op){var ct=Xo([{op:"_get",path:T.from,value:void 0}],z);if(ct&&"OPERATION_PATH_UNRESOLVABLE"===ct.name)throw new Ro("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",H,T,z)}}function Xo(T,H,z){try{if(!Array.isArray(T))throw new Ro("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(H)Ba(ls(H),ls(T),z||!0);else{z=z||ul;for(var ie=0;ie<T.length;ie++)z(T[ie],ie,H,void 0)}}catch(ge){if(ge instanceof Ro)return ge;throw ge}}function Il(T,H){if(T===H)return!0;if(T&&H&&"object"==typeof T&&"object"==typeof H){var ge,We,Xe,z=Array.isArray(T),ie=Array.isArray(H);if(z&&ie){if((We=T.length)!=H.length)return!1;for(ge=We;0!=ge--;)if(!Il(T[ge],H[ge]))return!1;return!0}if(z!=ie)return!1;var ct=Object.keys(T);if((We=ct.length)!==Object.keys(H).length)return!1;for(ge=We;0!=ge--;)if(!H.hasOwnProperty(ct[ge]))return!1;for(ge=We;0!=ge--;)if(!Il(T[Xe=ct[ge]],H[Xe]))return!1;return!0}return T!=T&&H!=H}var Ha=new WeakMap,Ol=function T(H){this.observers=new Map,this.obj=H},Dc=function T(H,z){this.callback=H,this.observer=z};function xa(T,H){H.unobserve()}function yl(T,H){var ie,ge=function ad(T){return Ha.get(T)}(T);if(ge){var We=function xu(T,H){return T.observers.get(H)}(ge,H);ie=We&&We.observer}else ge=new Ol(T),Ha.set(T,ge);if(ie)return ie;if(ie={},ge.value=ls(T),H){ie.callback=H,ie.next=null;var Xe=function(){Mc(ie)},ct=function(){clearTimeout(ie.next),ie.next=setTimeout(Xe)};"undefined"!=typeof window&&(window.addEventListener("mouseup",ct),window.addEventListener("keyup",ct),window.addEventListener("mousedown",ct),window.addEventListener("keydown",ct),window.addEventListener("change",ct))}return ie.patches=[],ie.object=T,ie.unobserve=function(){Mc(ie),clearTimeout(ie.next),function ca(T,H){T.observers.delete(H.callback)}(ge,ie),"undefined"!=typeof window&&(window.removeEventListener("mouseup",ct),window.removeEventListener("keyup",ct),window.removeEventListener("mousedown",ct),window.removeEventListener("keydown",ct),window.removeEventListener("change",ct))},ge.observers.set(H,new Dc(H,ie)),ie}function Mc(T,H){void 0===H&&(H=!1);var z=Ha.get(T.object);kl(z.value,T.object,T.patches,"",H),T.patches.length&&Ba(z.value,T.patches);var ie=T.patches;return ie.length>0&&(T.patches=[],T.callback&&T.callback(ie)),ie}function kl(T,H,z,ie,ge){if(H!==T){"function"==typeof H.toJSON&&(H=H.toJSON());for(var We=ou(H),Xe=ou(T),St=!1,xt=Xe.length-1;xt>=0;xt--){var ri=T[ei=Xe[xt]];if(!ic(H,ei)||void 0===H[ei]&&void 0!==ri&&!1===Array.isArray(H))Array.isArray(T)===Array.isArray(H)?(ge&&z.push({op:"test",path:ie+"/"+Rr(ei),value:ls(ri)}),z.push({op:"remove",path:ie+"/"+Rr(ei)}),St=!0):(ge&&z.push({op:"test",path:ie,value:T}),z.push({op:"replace",path:ie,value:H}));else{var hi=H[ei];"object"==typeof ri&&null!=ri&&"object"==typeof hi&&null!=hi&&Array.isArray(ri)===Array.isArray(hi)?kl(ri,hi,z,ie+"/"+Rr(ei),ge):ri!==hi&&(ge&&z.push({op:"test",path:ie+"/"+Rr(ei),value:ls(ri)}),z.push({op:"replace",path:ie+"/"+Rr(ei),value:ls(hi)}))}}if(St||We.length!=Xe.length)for(xt=0;xt<We.length;xt++){var ei;!ic(T,ei=We[xt])&&void 0!==H[ei]&&z.push({op:"add",path:ie+"/"+Rr(ei),value:ls(H[ei])})}}}function Kl(T,H,z){void 0===z&&(z=!1);var ie=[];return kl(T,H,ie,"",z),ie}Object.assign({},E,m,{JsonPatchError:su,deepClone:ls,escapePathComponent:Rr,unescapePathComponent:Sc});var Ra=f(38277),Yc=f.n(Ra),Xc=f(90733),pc=f.n(Xc);const so={add:function xc(T,H){return{op:"add",path:T,value:H}},replace:ju,remove:function $l(T){return{op:"remove",path:T}},merge:function Rc(T,H){return{type:"mutation",op:"merge",path:T,value:H}},mergeDeep:function oc(T,H){return{type:"mutation",op:"mergeDeep",path:T,value:H}},context:function lu(T,H){return{type:"context",path:T,value:H}},getIn:function zu(T,H){return H.reduce(function(z,ie){return void 0!==ie&&z?z[ie]:z},T)},applyPatch:function Ll(T,H,z){if(z=z||{},"merge"===(H=q(q({},H),{},{path:H.path&&Pl(H.path)})).op){var ie=Ht(T,H.path);Te()(ie,H.value),Ba(T,[ju(H.path,ie)])}else if("mergeDeep"===H.op){var ge=Ht(T,H.path);for(var We in H.value){var Xe=H.value[We],ct=Array.isArray(Xe);if(ct){var St=ge[We]||[];ge[We]=wt()(St).call(St,Xe)}else if(ba(Xe)&&!ct){var xt=q({},ge[We]);for(var ei in Xe){if(Object.prototype.hasOwnProperty.call(xt,ei)){xt=Yc()(pc()(xt),Xe);break}Te()(xt,te({},ei,Xe[ei]))}ge[We]=xt}else ge[We]=Xe}}else if("add"===H.op&&""===H.path&&ba(H.value)){Ba(T,zt()(H.value).reduce(function(un,On){return un.push({op:"add",path:"/".concat(Pl(On)),value:H.value[On]}),un},[]))}else if("replace"===H.op&&""===H.path){var Si=H.value;z.allowMetaPatches&&H.meta&&xe(H)&&(Array.isArray(H.value)||ba(H.value))&&(Si=q(q({},Si),H.meta)),T=Si}else if(Ba(T,[H]),z.allowMetaPatches&&H.meta&&xe(H)&&(Array.isArray(H.value)||ba(H.value))){var nn=q(q({},Ht(T,H.path)),H.meta);Ba(T,[ju(H.path,nn)])}return T},parentPathMatch:function $c(T,H){if(!Array.isArray(H))return!1;for(var z=0,ie=H.length;z<ie;z+=1)if(H[z]!==T[z])return!1;return!0},flatten:dl,fullyNormalizeArray:function Jl(T){return fc(dl(qa(T)))},normalizeArray:qa,isPromise:function Ru(T){return ba(T)&&Bl(T.then)},forEachNew:function Ac(T,H){try{return Nl(T,Qa,H)}catch(z){return z}},forEachNewPrimitive:function Kc(T,H){try{return Nl(T,Fl,H)}catch(z){return z}},isJsonPatch:xs,isContextPatch:function et(T){return Dt(T)&&"context"===T.type},isPatch:Dt,isMutation:be,isAdditiveMutation:xe,isGenerator:function gc(T){return"[object GeneratorFunction]"===Object.prototype.toString.call(T)},isFunction:Bl,isObject:ba,isError:function Au(T){return T instanceof Error}};function Pl(T){return Array.isArray(T)?T.length<1?"":"/".concat(Re()(T).call(T,function(H){return(H+"").replace(/~/g,"~0").replace(/\//g,"~1")}).join("/")):T}function ju(T,H,z){return{op:"replace",path:T,value:H,meta:z}}function Nl(T,H,z){var ie;return fc(dl(Re()(ie=lt()(T).call(T,xe)).call(ie,function(ct){return H(ct.value,z,ct.path)})||[]))}function Fl(T,H,z){return z=z||[],Array.isArray(T)?Re()(T).call(T,function(ge,We){return Fl(ge,H,wt()(z).call(z,We))}):ba(T)?Re()(ie=zt()(T)).call(ie,function(ge){return Fl(T[ge],H,wt()(z).call(z,ge))}):H(T,z[z.length-1],z);var ie}function Qa(T,H,z){var ie=[];if((z=z||[]).length>0){var ge=H(T,z[z.length-1],z);ge&&(ie=wt()(ie).call(ie,ge))}if(Array.isArray(T)){var We=Re()(T).call(T,function(St,xt){return Qa(St,H,wt()(z).call(z,xt))});We&&(ie=wt()(ie).call(ie,We))}else if(ba(T)){var Xe,ct=Re()(Xe=zt()(T)).call(Xe,function(St){return Qa(T[St],H,wt()(z).call(z,St))});ct&&(ie=wt()(ie).call(ie,ct))}return dl(ie)}function qa(T){return Array.isArray(T)?T:[T]}function dl(T){var H;return wt()(H=[]).apply(H,$a(Re()(T).call(T,function(z){return Array.isArray(z)?dl(z):z})))}function fc(T){return lt()(T).call(T,function(H){return void 0!==H})}function ba(T){return T&&"object"===de(T)}function Bl(T){return T&&"function"==typeof T}function xs(T){if(Dt(T)){var H=T.op;return"add"===H||"remove"===H||"replace"===H}return!1}function be(T){return xs(T)||Dt(T)&&"mutation"===T.type}function xe(T){return be(T)&&("add"===T.op||"replace"===T.op||"merge"===T.op||"mergeDeep"===T.op)}function Dt(T){return T&&"object"===de(T)}function Ht(T,H){try{return Al(T,H)}catch(z){return console.error(z),{}}}var ui=f(52424),Zt=f.n(ui),li=f(94435),Oi=f.n(li);function Ii(T,H){function z(){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack;for(var ie=arguments.length,ge=new Array(ie),We=0;We<ie;We++)ge[We]=arguments[We];this.message=ge[0],H&&H.apply(this,ge)}return(z.prototype=new Error).name=T,z.prototype.constructor=z,z}var Ui=f(75080),er=f.n(Ui),zn=["properties"],ur=["properties"],Uo=["definitions","parameters","responses","securityDefinitions","components/schemas","components/responses","components/parameters","components/securitySchemes"],yo=["schema/example","items/example"];function zr(T){var H=T[T.length-1],z=T[T.length-2],ie=T.join("/");return zn.indexOf(H)>-1&&-1===ur.indexOf(z)||Uo.indexOf(ie)>-1||yo.some(function(ge){return ie.indexOf(ge)>-1})}function Go(T,H){var z,ge=De(T.split("#"),2),Xe=ge[1],ct=Pe.resolve(ge[0]||"",H||"");return Xe?wt()(z="".concat(ct,"#")).call(z,Xe):ct}var fo="application/json, application/yaml",ua=new RegExp("^([a-z]+://|//)","i"),cs=Ii("JSONRefError",function(H,z,ie){this.originalError=ie,Te()(this,z||{})}),qs={},hl=new(Zt()),cu=[function(T){return"paths"===T[0]&&"responses"===T[3]&&"examples"===T[5]},function(T){return"paths"===T[0]&&"responses"===T[3]&&"content"===T[5]&&"example"===T[7]},function(T){return"paths"===T[0]&&"responses"===T[3]&&"content"===T[5]&&"examples"===T[7]&&"value"===T[9]},function(T){return"paths"===T[0]&&"requestBody"===T[3]&&"content"===T[4]&&"example"===T[6]},function(T){return"paths"===T[0]&&"requestBody"===T[3]&&"content"===T[4]&&"examples"===T[6]&&"value"===T[8]},function(T){return"paths"===T[0]&&"parameters"===T[2]&&"example"===T[4]},function(T){return"paths"===T[0]&&"parameters"===T[3]&&"example"===T[5]},function(T){return"paths"===T[0]&&"parameters"===T[2]&&"examples"===T[4]&&"value"===T[6]},function(T){return"paths"===T[0]&&"parameters"===T[3]&&"examples"===T[5]&&"value"===T[7]},function(T){return"paths"===T[0]&&"parameters"===T[2]&&"content"===T[4]&&"example"===T[6]},function(T){return"paths"===T[0]&&"parameters"===T[2]&&"content"===T[4]&&"examples"===T[6]&&"value"===T[8]},function(T){return"paths"===T[0]&&"parameters"===T[3]&&"content"===T[4]&&"example"===T[7]},function(T){return"paths"===T[0]&&"parameters"===T[3]&&"content"===T[5]&&"examples"===T[7]&&"value"===T[9]}],Iu={key:"$ref",plugin:function(H,z,ie,ge){var We=ge.getInstance(),Xe=va()(ie).call(ie,0,-1);if(!zr(Xe)&&!function(H){return cu.some(function(z){return z(H)})}(Xe)){var St=ge.getContext(ie).baseDoc;if("string"!=typeof H)return new cs("$ref: must be a string (JSON-Ref)",{$ref:H,baseDoc:St,fullPath:ie});var hi,Si,Wi,xt=_c(H),ei=xt[0],ri=xt[1]||"";try{hi=St||ei?Ou(ei,St):null}catch(rn){return mc(rn,{pointer:ri,$ref:H,basePath:hi,fullPath:ie})}if(function Lu(T,H,z,ie){var ge,We,Xe=hl.get(ie);Xe||hl.set(ie,Xe={});var ct=function $u(T){return 0===T.length?"":"/".concat(Re()(T).call(T,Jc).join("/"))}(z),St=wt()(ge="".concat(H||"<specmap-base>","#")).call(ge,T),xt=ct.replace(/allOf\/\d+\/?/g,"");if(H===ie.contextTree.get([]).baseDoc&&ms(xt,T))return!0;var ri="",hi=z.some(function(Si){var Wi;return ri=wt()(Wi="".concat(ri,"/")).call(Wi,Jc(Si)),Xe[ri]&&Xe[ri].some(function(nn){return ms(nn,St)||ms(St,nn)})});if(hi)return!0;Xe[xt]=wt()(We=Xe[xt]||[]).call(We,St)}(ri,hi,Xe,ge)&&!We.useCircularStructures){var nn=Go(H,hi);return H===nn?null:so.replace(ie,nn)}if(null==hi?(Wi=uu(ri),void 0===(Si=ge.get(Wi))&&(Si=new cs("Could not resolve reference: ".concat(H),{pointer:ri,$ref:H,baseDoc:St,fullPath:ie}))):Si=null!=(Si=Xu(hi,ri)).__value?Si.__value:Si.catch(function(rn){throw mc(rn,{pointer:ri,$ref:H,baseDoc:St,fullPath:ie})}),Si instanceof Error)return[so.remove(ie),Si];var un=Go(H,hi),On=so.replace(Xe,Si,{$$ref:un});if(hi&&hi!==St)return[On,so.context(Xe,{baseDoc:hi})];try{if(!function du(T,H){var z=[T];return H.path.reduce(function(ge,We){return z.push(ge[We]),ge[We]},T),function ie(ge){return so.isObject(ge)&&(z.indexOf(ge)>=0||zt()(ge).some(function(We){return ie(ge[We])}))}(H.value)}(ge.state,On)||We.useCircularStructures)return On}catch(rn){return null}}}},Ic=Te()(Iu,{docCache:qs,absoluteify:Ou,clearCache:function ku(T){void 0!==T?delete qs[T]:zt()(qs).forEach(function(H){delete qs[H]})},JSONRefError:cs,wrapError:mc,getDoc:ld,split:_c,extractFromDoc:Xu,fetchJSON:function Ku(T){return fetch(T,{headers:{Accept:fo},loadSpec:!0}).then(function(H){return H.text()}).then(function(H){return co.load(H)})},extract:cd,jsonPointerToArray:uu,unescapeJsonPointerToken:Oc});const Yu=Ic;function Ou(T,H){if(!ua.test(T)){var z;if(!H)throw new cs(wt()(z="Tried to resolve a relative URL, without having a basePath. path: '".concat(T,"' basePath: '")).call(z,H,"'"));return Pe.resolve(H,T)}return T}function mc(T,H){var z,ie;return z=T&&T.response&&T.response.body?wt()(ie="".concat(T.response.body.code," ")).call(ie,T.response.body.message):T.message,new cs("Could not resolve reference: ".concat(z),H,T)}function _c(T){return(T+"").split("#")}function Xu(T,H){var z=qs[T];if(z&&!so.isPromise(z))try{var ie=cd(H,z);return Te()(Ms().resolve(ie),{__value:ie})}catch(ge){return Ms().reject(ge)}return ld(T).then(function(ge){return cd(H,ge)})}function ld(T){var H=qs[T];return H?so.isPromise(H)?H:Ms().resolve(H):(qs[T]=Ic.fetchJSON(T).then(function(z){return qs[T]=z,z}),qs[T])}function cd(T,H){var z=uu(T);if(z.length<1)return H;var ie=so.getIn(H,z);if(void 0===ie)throw new cs("Could not resolve pointer: ".concat(T," does not exist in document"),{pointer:T});return ie}function uu(T){var H;if("string"!=typeof T)throw new TypeError("Expected a string, got a ".concat(de(T)));return"/"===T[0]&&(T=T.substr(1)),""===T?[]:Re()(H=T.split("/")).call(H,Oc)}function Oc(T){return"string"!=typeof T?T:new(Oi())("=".concat(T.replace(/~1/g,"/").replace(/~0/g,"~"))).get("")}function Jc(T){var H,z=new(Oi())([["",T.replace(/~/g,"~0").replace(/\//g,"~1")]]);return va()(H=z.toString()).call(H,1)}function ms(T,H){if(function(H){return!H||"/"===H||"#"===H}(H))return!0;var z=T.charAt(H.length),ie=va()(H).call(H,-1);return 0===T.indexOf(H)&&(!z||"/"===z||"#"===z)&&"#"!==ie}var Zc=f(71973),Sd=f.n(Zc);const Dd={key:"allOf",plugin:function(H,z,ie,ge,We){if(!We.meta||!We.meta.$$ref){var Xe=va()(ie).call(ie,0,-1);if(!zr(Xe)){if(!Array.isArray(H)){var ct=new TypeError("allOf must be an array");return ct.fullPath=ie,ct}var St=!1,xt=We.value;if(Xe.forEach(function(hi){!xt||(xt=xt[hi])}),xt=q({},xt),!Sd()(xt)){delete xt.allOf;var ri,ei=[];return ei.push(ge.replace(Xe,{})),H.forEach(function(hi,Si){if(!ge.isObject(hi)){if(St)return null;St=!0;var Wi=new TypeError("Elements in allOf must be objects");return Wi.fullPath=ie,ei.push(Wi)}ei.push(ge.mergeDeep(Xe,hi));var un=function po(T,H){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ie=z.specmap,ge=z.getBaseUrlForNodePath,We=void 0===ge?function(xt){var ei;return ie.getContext(wt()(ei=[]).call(ei,$a(H),$a(xt))).baseDoc}:ge,Xe=z.targetKeys,ct=void 0===Xe?["$ref","$$ref"]:Xe,St=[];return er()(T).forEach(function(){if(bi()(ct).call(ct,this.key)&&"string"==typeof this.node){var ei=this.path,ri=wt()(H).call(H,this.path),hi=Go(this.node,We(ei));St.push(ie.replace(ri,hi))}}),St}(hi,va()(ie).call(ie,0,-1),{getBaseUrlForNodePath:function(rn){var Er;return ge.getContext(wt()(Er=[]).call(Er,$a(ie),[Si],$a(rn))).baseDoc},specmap:ge});ei.push.apply(ei,$a(un))}),ei.push(ge.mergeDeep(Xe,xt)),xt.$$ref||ei.push(ge.remove(wt()(ri=[]).call(ri,Xe,"$$ref"))),ei}}}}},Md={key:"parameters",plugin:function(H,z,ie,ge){if(Array.isArray(H)&&H.length){var We=Te()([],H),Xe=va()(ie).call(ie,0,-1),ct=q({},so.getIn(ge.spec,Xe));return H.forEach(function(St,xt){try{We[xt].default=ge.parameterMacro(ct,St)}catch(ri){var ei=new Error(ri);return ei.fullPath=ie,ei}}),so.replace(ie,We)}return so.replace(ie,H)}},xd={key:"properties",plugin:function(H,z,ie,ge){var We=q({},H);for(var Xe in H)try{We[Xe].default=ge.modelPropertyMacro(We[Xe])}catch(xt){var ct=new Error(xt);return ct.fullPath=ie,ct}return so.replace(ie,We)}};var Rd=function(){function T(H){wc(this,T),this.root=Pu(H||{})}return Br(T,[{key:"set",value:function(z,ie){var ge=this.getParent(z,!0);if(ge){var We=z[z.length-1],Xe=ge.children;Xe[We]?Nu(Xe[We],ie,ge):Xe[We]=Pu(ie,ge)}else Nu(this.root,ie,null)}},{key:"get",value:function(z){if((z=z||[]).length<1)return this.root.value;for(var ge,We,ie=this.root,Xe=0;Xe<z.length&&(ge=ie.children)[We=z[Xe]];Xe+=1)ie=ge[We];return ie&&ie.protoValue}},{key:"getParent",value:function(z,ie){return!z||z.length<1?null:z.length<2?this.root:va()(z).call(z,0,-1).reduce(function(ge,We){if(!ge)return ge;var Xe=ge.children;return!Xe[We]&&ie&&(Xe[We]=Pu(null,ge)),Xe[We]},this.root)}}]),T}();function Pu(T,H){return Nu({children:{}},T,H)}function Nu(T,H,z){return T.value=H||{},T.protoValue=z?q(q({},z.protoValue),T.value):T.value,zt()(T.children).forEach(function(ie){var ge=T.children[ie];T.children[ie]=Nu(ge,ge.value,T)}),T}var kc=function(){},Ea=function(){function T(H){var ie,ge,z=this;wc(this,T),Te()(this,{spec:"",debugLevel:"info",plugins:[],pluginHistory:{},errors:[],mutations:[],promisedPatches:[],state:{},patches:[],context:{},contextTree:new Rd,showDebug:!1,allPatches:[],pluginProp:"specMap",libMethods:Te()(Object.create(this),so,{getInstance:function(){return z}}),allowMetaPatches:!1},H),this.get=this._get.bind(this),this.getContext=this._getContext.bind(this),this.hasRun=this._hasRun.bind(this),this.wrappedPlugins=lt()(ie=Re()(ge=this.plugins).call(ge,this.wrapPlugin.bind(this))).call(ie,so.isFunction),this.patches.push(so.add([],this.spec)),this.patches.push(so.context([],this.context)),this.updatePatches(this.patches)}return Br(T,[{key:"debug",value:function(z){if(this.debugLevel===z){for(var ie,ge=arguments.length,We=new Array(ge>1?ge-1:0),Xe=1;Xe<ge;Xe++)We[Xe-1]=arguments[Xe];(ie=console).log.apply(ie,We)}}},{key:"verbose",value:function(z){if("verbose"===this.debugLevel){for(var ie,ge,We=arguments.length,Xe=new Array(We>1?We-1:0),ct=1;ct<We;ct++)Xe[ct-1]=arguments[ct];(ie=console).log.apply(ie,wt()(ge=["[".concat(z,"]   ")]).call(ge,Xe))}}},{key:"wrapPlugin",value:function(z,ie){var Xe,ge=this.pathDiscriminator,We=null;return z[this.pluginProp]?(We=z,Xe=z[this.pluginProp]):so.isFunction(z)?Xe=z:so.isObject(z)&&(Xe=function ct(St){var xt=function(ri,hi){return!Array.isArray(ri)||ri.every(function(Si,Wi){return Si===hi[Wi]})};return kt().mark(function ei(ri,hi){var Si,Wi,nn,un,On,rn;return kt().wrap(function(Cr){for(;;)switch(Cr.prev=Cr.next){case 0:rn=function(Ao,nt,ea){var As,ds,Is,Xr,ys,Vs,sc,yc,Zu,Xd,sh,Ql,ah;return kt().wrap(function(Cl){for(;;)switch(Cl.prev=Cl.next){case 0:if(so.isObject(Ao)){Cl.next=6;break}if(St.key!==nt[nt.length-1]){Cl.next=4;break}return Cl.next=4,St.plugin(Ao,St.key,nt,hi);case 4:Cl.next=30;break;case 6:ds=nt[As=nt.length-1],Is=nt.indexOf("properties"),Xr="properties"===ds&&As===Is,ys=hi.allowMetaPatches&&Wi[Ao.$$ref],Vs=0,sc=zt()(Ao);case 12:if(!(Vs<sc.length)){Cl.next=30;break}if(Zu=Ao[yc=sc[Vs]],Xd=wt()(nt).call(nt,yc),sh=so.isObject(Zu),Ql=Ao.$$ref,ys){Cl.next=22;break}if(!sh){Cl.next=22;break}return hi.allowMetaPatches&&Ql&&(Wi[Ql]=!0),Cl.delegateYield(rn(Zu,Xd,ea),"t0",22);case 22:if(Xr||yc!==St.key){Cl.next=27;break}if(ah=xt(ge,nt),ge&&!ah){Cl.next=27;break}return Cl.next=27,St.plugin(Zu,yc,Xd,hi,ea);case 27:Vs++,Cl.next=12;break;case 30:case"end":return Cl.stop()}},Si)},Si=kt().mark(rn),Wi={},nn=Ae(lt()(ri).call(ri,so.isAdditiveMutation)),Cr.prev=4,nn.s();case 6:if((un=nn.n()).done){Cr.next=11;break}return Cr.delegateYield(rn((On=un.value).value,On.path,On),"t0",9);case 9:Cr.next=6;break;case 11:Cr.next=16;break;case 13:Cr.prev=13,Cr.t1=Cr.catch(4),nn.e(Cr.t1);case 16:return Cr.prev=16,nn.f(),Cr.finish(16);case 19:case"end":return Cr.stop()}},ei,null,[[4,13,16,19]])})}(z)),Te()(Xe.bind(We),{pluginName:z.name||ie,isGenerator:so.isGenerator(Xe)})}},{key:"nextPlugin",value:function(){var z,ie=this;return vl()(z=this.wrappedPlugins).call(z,function(ge){return ie.getMutationsForPlugin(ge).length>0})}},{key:"nextPromisedPatch",value:function(){var z;if(this.promisedPatches.length>0)return Ms().race(Re()(z=this.promisedPatches).call(z,function(ie){return ie.value}))}},{key:"getPluginHistory",value:function(z){var ie=this.constructor.getPluginName(z);return this.pluginHistory[ie]||[]}},{key:"getPluginRunCount",value:function(z){return this.getPluginHistory(z).length}},{key:"getPluginHistoryTip",value:function(z){var ie=this.getPluginHistory(z);return ie&&ie[ie.length-1]||{}}},{key:"getPluginMutationIndex",value:function(z){var ie=this.getPluginHistoryTip(z).mutationIndex;return"number"!=typeof ie?-1:ie}},{key:"updatePluginHistory",value:function(z,ie){var ge=this.constructor.getPluginName(z);this.pluginHistory[ge]=this.pluginHistory[ge]||[],this.pluginHistory[ge].push(ie)}},{key:"updatePatches",value:function(z){var ie=this;so.normalizeArray(z).forEach(function(ge){if(ge instanceof Error)ie.errors.push(ge);else try{if(!so.isObject(ge))return void ie.debug("updatePatches","Got a non-object patch",ge);if(ie.showDebug&&ie.allPatches.push(ge),so.isPromise(ge.value))return ie.promisedPatches.push(ge),void ie.promisedPatchThen(ge);if(so.isContextPatch(ge))return void ie.setContext(ge.path,ge.value);if(so.isMutation(ge))return void ie.updateMutations(ge)}catch(We){console.error(We),ie.errors.push(We)}})}},{key:"updateMutations",value:function(z){"object"===de(z.value)&&!Array.isArray(z.value)&&this.allowMetaPatches&&(z.value=q({},z.value));var ie=so.applyPatch(this.state,z,{allowMetaPatches:this.allowMetaPatches});ie&&(this.mutations.push(z),this.state=ie)}},{key:"removePromisedPatch",value:function(z){var ie,ge=this.promisedPatches.indexOf(z);ge<0?this.debug("Tried to remove a promisedPatch that isn't there!"):ll()(ie=this.promisedPatches).call(ie,ge,1)}},{key:"promisedPatchThen",value:function(z){var ie=this;return z.value=z.value.then(function(ge){var We=q(q({},z),{},{value:ge});ie.removePromisedPatch(z),ie.updatePatches(We)}).catch(function(ge){ie.removePromisedPatch(z),ie.updatePatches(ge)}),z.value}},{key:"getMutations",value:function(z,ie){var ge;return z=z||0,"number"!=typeof ie&&(ie=this.mutations.length),va()(ge=this.mutations).call(ge,z,ie)}},{key:"getCurrentMutations",value:function(){return this.getMutationsForPlugin(this.getCurrentPlugin())}},{key:"getMutationsForPlugin",value:function(z){var ie=this.getPluginMutationIndex(z);return this.getMutations(ie+1)}},{key:"getCurrentPlugin",value:function(){return this.currentPlugin}},{key:"getLib",value:function(){return this.libMethods}},{key:"_get",value:function(z){return so.getIn(this.state,z)}},{key:"_getContext",value:function(z){return this.contextTree.get(z)}},{key:"setContext",value:function(z,ie){return this.contextTree.set(z,ie)}},{key:"_hasRun",value:function(z){return this.getPluginRunCount(this.getCurrentPlugin())>(z||0)}},{key:"dispatch",value:function(){var ct,z=this,ie=this,ge=this.nextPlugin();if(!ge){var We=this.nextPromisedPatch();if(We)return We.then(function(){return z.dispatch()}).catch(function(){return z.dispatch()});var Xe={spec:this.state,errors:this.errors};return this.showDebug&&(Xe.patches=this.allPatches),Ms().resolve(Xe)}if(ie.pluginCount=ie.pluginCount||{},ie.pluginCount[ge]=(ie.pluginCount[ge]||0)+1,ie.pluginCount[ge]>100)return Ms().resolve({spec:ie.state,errors:wt()(ct=ie.errors).call(ct,new Error("We've reached a hard limit of ".concat(100," plugin runs")))});if(ge!==this.currentPlugin&&this.promisedPatches.length){var St,xt=Re()(St=this.promisedPatches).call(St,function(hi){return hi.value});return Ms().all(Re()(xt).call(xt,function(hi){return hi.then(kc,kc)})).then(function(){return z.dispatch()})}return function ei(){ie.currentPlugin=ge;var hi=ie.getCurrentMutations(),Si=ie.mutations.length-1;try{if(ge.isGenerator){var nn,Wi=Ae(ge(hi,ie.getLib()));try{for(Wi.s();!(nn=Wi.n()).done;)ri(nn.value)}catch(rn){Wi.e(rn)}finally{Wi.f()}}else ri(ge(hi,ie.getLib()))}catch(rn){console.error(rn),ri([Te()(Object.create(rn),{plugin:ge})])}finally{ie.updatePluginHistory(ge,{mutationIndex:Si})}return ie.dispatch()}();function ri(hi){hi&&(hi=so.fullyNormalizeArray(hi),ie.updatePatches(hi,ge))}}}],[{key:"getPluginName",value:function(z){return z.pluginName}},{key:"getPatchesOfType",value:function(z,ie){return lt()(z).call(z,ie)}}]),T}(),Zl={refs:Yu,allOf:Dd,parameters:Md,properties:xd},Ju=f(25940),da=f.n(Ju),Hl=function(H){return String.prototype.toLowerCase.call(H)},Qc=function(H){return H.replace(/[^\w]/gi,"_")};function pu(T){var H=T.openapi;return!!H&&_e()(H).call(H,"3")}function Lc(T,H){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",ie=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},ge=ie.v2OperationIdCompatibilityMode;if(!T||"object"!==de(T))return null;var We=(T.operationId||"").replace(/\s/g,"");return We.length?Qc(T.operationId):ud(H,z,{v2OperationIdCompatibilityMode:ge})}function ud(T,H){var z,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ge=ie.v2OperationIdCompatibilityMode;if(ge){var We,Xe,ct=wt()(We="".concat(H.toLowerCase(),"_")).call(We,T).replace(/[\s!@#$%^&*()_+=[{\]};:<>|./?,\\'""-]/g,"_");return(ct=ct||wt()(Xe="".concat(T.substring(1),"_")).call(Xe,H)).replace(/((_){2,})/g,"_").replace(/^(_)*/g,"").replace(/([_])*$/g,"")}return wt()(z="".concat(Hl(H))).call(z,Qc(T))}function Fo(T,H){var z;return wt()(z="".concat(Hl(H),"-")).call(z,T)}function Pc(T,H,z){if(!T||"object"!==de(T)||!T.paths||"object"!==de(T.paths))return null;var ie=T.paths;for(var ge in ie)for(var We in ie[ge])if("PARAMETERS"!==We.toUpperCase()){var Xe=ie[ge][We];if(Xe&&"object"===de(Xe)){var ct={spec:T,pathName:ge,method:We.toUpperCase(),operation:Xe},St=H(ct);if(z&&St)return ct}}}function El(T){var H=T.spec,z=H.paths,ie={};if(!z||H.$$normalized)return T;for(var ge in z){var We=z[ge];if(da()(We)){var Xe=We.parameters,ct=function(ri){var hi=We[ri];if(!da()(hi))return"continue";var Si=Lc(hi,ge,ri);if(Si){ie[Si]?ie[Si].push(hi):ie[Si]=[hi];var Wi=ie[Si];if(Wi.length>1)Wi.forEach(function(ds,Is){var Xr;ds.__originalOperationId=ds.__originalOperationId||ds.operationId,ds.operationId=wt()(Xr="".concat(Si)).call(Xr,Is+1)});else if(void 0!==hi.operationId){var nn=Wi[0];nn.__originalOperationId=nn.__originalOperationId||hi.operationId,nn.operationId=Si}}if("parameters"!==ri){var un=[],On={};for(var rn in H)("produces"===rn||"consumes"===rn||"security"===rn)&&(On[rn]=H[rn],un.push(On));if(Xe&&(On.parameters=Xe,un.push(On)),un.length){var Cr,Er=Ae(un);try{for(Er.s();!(Cr=Er.n()).done;){var is=Cr.value;for(var Ao in is)if(hi[Ao]){if("parameters"===Ao){var ea,nt=Ae(is[Ao]);try{var As=function(){var Is=ea.value;hi[Ao].some(function(ys){return ys.name&&ys.name===Is.name||ys.$ref&&ys.$ref===Is.$ref||ys.$$ref&&ys.$$ref===Is.$$ref||ys===Is})||hi[Ao].push(Is)};for(nt.s();!(ea=nt.n()).done;)As()}catch(ds){nt.e(ds)}finally{nt.f()}}}else hi[Ao]=is[Ao]}}catch(ds){Er.e(ds)}finally{Er.f()}}}};for(var St in We)ct(St)}}return H.$$normalized=!0,T}function Nc(T){var H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=H.requestInterceptor,ie=H.responseInterceptor,ge=T.withCredentials?"include":"same-origin";return function(We){return T({url:We,loadSpec:!0,requestInterceptor:z,responseInterceptor:ie,headers:{Accept:fo},credentials:ge}).then(function(Xe){return Xe.body})}}function Fu(T){var z=T.spec,ge=T.mode,We=T.allowMetaPatches,Xe=void 0===We||We,ct=T.pathDiscriminator,St=T.modelPropertyMacro,xt=T.parameterMacro,ei=T.requestInterceptor,ri=T.responseInterceptor,hi=T.skipNormalization,Si=T.useCircularStructures,Wi=T.http,nn=T.baseDoc;return nn=nn||T.url,Wi=T.fetch||Wi||wu,z?un(z):Nc(Wi,{requestInterceptor:ei,responseInterceptor:ri})(nn).then(un);function un(On){nn&&(Zl.refs.docCache[nn]=On),Zl.refs.fetchJSON=Nc(Wi,{requestInterceptor:ei,responseInterceptor:ri});var rn=[Zl.refs];return"function"==typeof xt&&rn.push(Zl.parameters),"function"==typeof St&&rn.push(Zl.properties),"strict"!==ge&&rn.push(Zl.allOf),function hu(T){return new Ea(T).dispatch()}({spec:On,context:{baseDoc:nn},plugins:rn,allowMetaPatches:Xe,pathDiscriminator:ct,parameterMacro:xt,modelPropertyMacro:St,useCircularStructures:Si}).then(hi?function(){var Er=dt(kt().mark(function Cr(is){return kt().wrap(function(nt){for(;;)switch(nt.prev=nt.next){case 0:return nt.abrupt("return",is);case 1:case"end":return nt.stop()}},Cr)}));return function(Cr){return Er.apply(this,arguments)}}():El)}}var dd=f(8817),qc=f.n(dd);function mu(){return mu=dt(kt().mark(function T(H,z){var ie,ge,ri,hi,Si,Wi,nn=arguments;return kt().wrap(function(On){for(;;)switch(On.prev=On.next){case 0:return ge=(ie=nn.length>2&&void 0!==nn[2]?nn[2]:{}).returnEntireTree,ri={pathDiscriminator:z,baseDoc:ie.baseDoc,requestInterceptor:ie.requestInterceptor,responseInterceptor:ie.responseInterceptor,parameterMacro:ie.parameterMacro,modelPropertyMacro:ie.modelPropertyMacro,useCircularStructures:ie.useCircularStructures},hi=El({spec:H}),Si=hi.spec,On.next=6,Fu(q(q({},ri),{},{spec:Si,allowMetaPatches:!0,skipNormalization:!0}));case 6:return Wi=On.sent,!ge&&Array.isArray(z)&&z.length&&(Wi.spec=qc()(Wi.spec,z)||null),On.abrupt("return",Wi);case 9:case"end":return On.stop()}},T)})),mu.apply(this,arguments)}var _u=function(){return null},eu_mapTagOperations=function Va(T){var H=T.spec,z=T.cb,ie=void 0===z?_u:z,ge=T.defaultTag,We=void 0===ge?"default":ge,Xe=T.v2OperationIdCompatibilityMode,ct={},St={};return Pc(H,function(xt){var ei=xt.pathName,ri=xt.method,hi=xt.operation,Si=hi.tags?function(H){return Array.isArray(H)?H:[H]}(hi.tags):[We];Si.forEach(function(Wi){if("string"==typeof Wi){St[Wi]=St[Wi]||{};var rn,nn=St[Wi],un=Lc(hi,ei,ri,{v2OperationIdCompatibilityMode:Xe}),On=ie({spec:H,pathName:ei,method:ri,operation:hi,operationId:un});if(ct[un])ct[un]+=1,nn[wt()(rn="".concat(un)).call(rn,ct[un])]=On;else if(void 0!==nn[un]){var Er,Cr,is=ct[un]||1;ct[un]=is+1,nn[wt()(Er="".concat(un)).call(Er,ct[un])]=On;var Ao=nn[un];delete nn[un],nn[wt()(Cr="".concat(un)).call(Cr,is)]=Ao}else nn[un]=On}})}),St},eu_makeExecute=function ao(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(H){var z=H.pathName,ie=H.method,ge=H.operationId;return function(We){var Xe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ct=T.requestInterceptor,St=T.responseInterceptor,xt=T.userFetch;return T.execute(q({spec:T.spec,requestInterceptor:ct,responseInterceptor:St,userFetch:xt,pathName:z,method:ie,parameters:We,operationId:ge},Xe))}}},Vl=f(95683);var _s=f(97614),pd=f.n(_s),fd=f(23555);const gd={body:function Hu(T){T.req.body=T.value},header:function b(T){var H=T.req,z=T.parameter,ie=T.value;H.headers=H.headers||{},void 0!==ie&&(H.headers[z.name]=ie)},query:function M(T){var H=T.req,z=T.value,ie=T.parameter;if(H.query=H.query||{},!1===z&&"boolean"===ie.type&&(z="false"),0===z&&["number","integer"].indexOf(ie.type)>-1&&(z="0"),z)H.query[ie.name]={collectionFormat:ie.collectionFormat,value:z};else if(ie.allowEmptyValue&&void 0!==z){var ge=ie.name;H.query[ge]=H.query[ge]||{},H.query[ge].allowEmptyValue=!0}},path:function x(T){var H=T.req,z=T.value;H.url=H.url.split("{".concat(T.parameter.name,"}")).join(encodeURIComponent(z))},formData:function h(T){var H=T.req,z=T.value,ie=T.parameter;(z||ie.allowEmptyValue)&&(H.form=H.form||{},H.form[ie.name]={value:z,allowEmptyValue:ie.allowEmptyValue,collectionFormat:ie.collectionFormat})}};function L(T,H){return bi()(H).call(H,"application/json")?"string"==typeof T?T:Je()(T):T.toString()}function Y(T){var H=T.req,z=T.value,ie=T.parameter,ge=ie.name,We=ie.style,Xe=ie.explode,ct=ie.content;if(ct){var St=zt()(ct)[0];H.url=H.url.split("{".concat(ge,"}")).join(To(L(z,St),{escape:!0}))}else{var xt=xo({key:ie.name,value:z,style:We||"simple",explode:Xe||!1,escape:!0});H.url=H.url.split("{".concat(ge,"}")).join(xt)}}function he(T){var H=T.req,z=T.value,ie=T.parameter;if(H.query=H.query||{},ie.content){var ge=zt()(ie.content)[0];H.query[ie.name]=L(z,ge)}else if(!1===z&&(z="false"),0===z&&(z="0"),z)H.query[ie.name]={value:z,serializationOption:{style:ie.style,explode:ie.explode,allowReserved:ie.allowReserved}};else if(ie.allowEmptyValue&&void 0!==z){var St=ie.name;H.query[St]=H.query[St]||{},H.query[St].allowEmptyValue=!0}}var Me=["accept","authorization","content-type"];function Be(T){var H=T.req,z=T.parameter,ie=T.value;if(H.headers=H.headers||{},!(Me.indexOf(z.name.toLowerCase())>-1)){if(z.content){var ge=zt()(z.content)[0];return void(H.headers[z.name]=L(ie,ge))}void 0!==ie&&(H.headers[z.name]=xo({key:z.name,value:ie,style:z.style||"simple",explode:void 0!==z.explode&&z.explode,escape:!1}))}}function $e(T){var H=T.req,z=T.parameter,ie=T.value;H.headers=H.headers||{};var ge=de(ie);if(z.content){var We,Xe=zt()(z.content)[0];H.headers.Cookie=wt()(We="".concat(z.name,"=")).call(We,L(ie,Xe))}else if("undefined"!==ge){var ct="object"===ge&&!Array.isArray(ie)&&z.explode?"":"".concat(z.name,"=");H.headers.Cookie=ct+xo({key:z.name,value:ie,escape:!1,style:z.style||"form",explode:void 0!==z.explode&&z.explode})}}var It=f(87558),jt=f.n(It);var cn=["http","fetch","spec","operationId","pathName","method","parameters","securities"],_n=function(H){return Array.isArray(H)?H:[]},xn=Ii("OperationNotFoundError",function(H,z,ie){this.originalError=ie,Te()(this,z||{})}),ir={buildRequest:Tr};function Tr(T){var H,z,ie=T.spec,ge=T.operationId,We=T.responseContentType,Xe=T.scheme,ct=T.requestInterceptor,St=T.responseInterceptor,xt=T.contextUrl,ei=T.userFetch,ri=T.server,hi=T.serverVariables,Si=T.http,Wi=T.parameters,nn=T.parameterBuilders,un=pu(ie);nn||(nn=un?t:gd);var rn={url:"",credentials:Si&&Si.withCredentials?"include":"same-origin",headers:{},cookies:{}};ct&&(rn.requestInterceptor=ct),St&&(rn.responseInterceptor=St),ei&&(rn.userFetch=ei);var Er=function bl(T,H){return T&&T.paths?function fu(T,H){return Pc(T,H,!0)||null}(T,function(z){var ie=z.pathName,ge=z.method,We=z.operation;if(!We||"object"!==de(We))return!1;var Xe=We.operationId;return[Lc(We,ie,ge),Fo(ie,ge),Xe].some(function(xt){return xt&&xt===H})}):null}(ie,ge);if(!Er)throw new xn("Operation ".concat(ge," not found"));var Cr=Er.operation,is=void 0===Cr?{}:Cr,Ao=Er.method,nt=Er.pathName;if(rn.url+=Hs({spec:ie,scheme:Xe,contextUrl:xt,server:ri,serverVariables:hi,pathName:nt,method:Ao}),!ge)return delete rn.cookies,rn;rn.url+=nt,rn.method="".concat(Ao).toUpperCase(),Wi=Wi||{};var ea=ie.paths[nt]||{};We&&(rn.headers.accept=We);var As=function(H){var z={};H.forEach(function(ge){z[ge.in]||(z[ge.in]={}),z[ge.in][ge.name]=ge});var ie=[];return zt()(z).forEach(function(ge){zt()(z[ge]).forEach(function(We){ie.push(z[ge][We])})}),ie}(wt()(H=wt()(z=[]).call(z,_n(is.parameters))).call(H,_n(ea.parameters)));As.forEach(function(Xr){var Vs,sc,ys=nn[Xr.in];if("body"===Xr.in&&Xr.schema&&Xr.schema.properties&&(Vs=Wi),void 0===(Vs=Xr&&Xr.name&&Wi[Xr.name]))Vs=Xr&&Xr.name&&Wi[wt()(sc="".concat(Xr.in,".")).call(sc,Xr.name)];else if(function(H,z){return lt()(z).call(z,function(ie){return ie.name===H})}(Xr.name,As).length>1){var yc;console.warn(wt()(yc="Parameter '".concat(Xr.name,"' is ambiguous because the defined spec has more than one parameter with the name: '")).call(yc,Xr.name,"' and the passed-in parameter values did not define an 'in' value."))}if(null!==Vs){if(void 0!==Xr.default&&void 0===Vs&&(Vs=Xr.default),void 0===Vs&&Xr.required&&!Xr.allowEmptyValue)throw new Error("Required parameter ".concat(Xr.name," is not provided"));if(un&&Xr.schema&&"object"===Xr.schema.type&&"string"==typeof Vs)try{Vs=JSON.parse(Vs)}catch(Zu){throw new Error("Could not parse object parameter value string as JSON")}ys&&ys({req:rn,parameter:Xr,value:Vs,operation:is,spec:ie})}});var ds=q(q({},T),{},{operation:is});if((rn=un?function fi(T,H){var z=T.operation,ie=T.requestBody,Xe=T.attachContentTypeForEmptyPayload,ct=T.requestContentType;H=function ci(T){var H=T.request,z=T.securities,ie=void 0===z?{}:z,ge=T.operation,We=void 0===ge?{}:ge,Xe=T.spec,ct=q({},H),St=ie.authorized,xt=void 0===St?{}:St,ei=We.security||Xe.security||[],ri=xt&&!!zt()(xt).length,hi=qc()(Xe,["components","securitySchemes"])||{};return ct.headers=ct.headers||{},ct.query=ct.query||{},zt()(ie).length&&ri&&ei&&(!Array.isArray(We.security)||We.security.length)?(ei.forEach(function(Si){zt()(Si).forEach(function(Wi){var nn=xt[Wi],un=hi[Wi];if(nn){var On=nn.value||nn,rn=un.type;if(nn)if("apiKey"===rn)"query"===un.in&&(ct.query[un.name]=On),"header"===un.in&&(ct.headers[un.name]=On),"cookie"===un.in&&(ct.cookies[un.name]=On);else if("http"===rn){if(/^basic$/i.test(un.scheme)){var Er,Cr=On.username||"",is=On.password||"",Ao=jt()(wt()(Er="".concat(Cr,":")).call(Er,is));ct.headers.Authorization="Basic ".concat(Ao)}/^bearer$/i.test(un.scheme)&&(ct.headers.Authorization="Bearer ".concat(On))}else if("oauth2"===rn||"openIdConnect"===rn){var nt,ea=nn.token||{},ds=ea[un["x-tokenName"]||"access_token"],Is=ea.token_type;(!Is||"bearer"===Is.toLowerCase())&&(Is="Bearer"),ct.headers.Authorization=wt()(nt="".concat(Is," ")).call(nt,ds)}}})}),ct):H}({request:H,securities:T.securities,operation:z,spec:T.spec});var St=z.requestBody||{},xt=zt()(St.content||{}),ei=ct&&xt.indexOf(ct)>-1;if(ie||Xe){if(ct&&ei)H.headers["Content-Type"]=ct;else if(!ct){var ri=xt[0];ri&&(H.headers["Content-Type"]=ri,ct=ri)}}else ct&&ei&&(H.headers["Content-Type"]=ct);if(!T.responseContentType&&z.responses){var hi,Si=lt()(hi=tt()(z.responses)).call(hi,function(nn){var un=De(nn,2),rn=un[1],Er=parseInt(un[0],10);return Er>=200&&Er<300&&pd()(rn.content)}).reduce(function(nn,un){var rn=De(un,2)[1];return wt()(nn).call(nn,zt()(rn.content))},[]);Si.length>0&&(H.headers.accept=Si.join(", "))}if(ie)if(ct){if(xt.indexOf(ct)>-1)if("application/x-www-form-urlencoded"===ct||"multipart/form-data"===ct)if("object"===de(ie)){var Wi=(St.content[ct]||{}).encoding||{};H.form={},zt()(ie).forEach(function(nn){H.form[nn]={value:ie[nn],encoding:Wi[nn]||{}}})}else H.form=ie;else H.body=ie}else H.body=ie;return H}(ds,rn):function ki(T,H){var St,xt,z=T.spec,ie=T.operation,We=T.requestContentType,Xe=T.responseContentType,ct=T.attachContentTypeForEmptyPayload;if(H=function zi(T){var H=T.request,z=T.securities,ie=void 0===z?{}:z,ge=T.operation,We=void 0===ge?{}:ge,Xe=T.spec,ct=q({},H),St=ie.authorized,xt=void 0===St?{}:St,ei=ie.specSecurity,hi=We.security||(void 0===ei?[]:ei),Si=xt&&!!zt()(xt).length,Wi=Xe.securityDefinitions;return ct.headers=ct.headers||{},ct.query=ct.query||{},zt()(ie).length&&Si&&hi&&(!Array.isArray(We.security)||We.security.length)?(hi.forEach(function(nn){zt()(nn).forEach(function(un){var On=xt[un];if(On){var rn=On.token,Er=On.value||On,Cr=Wi[un],is=Cr.type,nt=rn&&rn[Cr["x-tokenName"]||"access_token"],ea=rn&&rn.token_type;if(On)if("apiKey"===is){var As="query"===Cr.in?"query":"headers";ct[As]=ct[As]||{},ct[As][Cr.name]=Er}else if("basic"===is)if(Er.header)ct.headers.authorization=Er.header;else{var ds,Is=Er.username||"",Xr=Er.password||"";Er.base64=jt()(wt()(ds="".concat(Is,":")).call(ds,Xr)),ct.headers.authorization="Basic ".concat(Er.base64)}else if("oauth2"===is&&nt){var ys;ea=ea&&"bearer"!==ea.toLowerCase()?ea:"Bearer",ct.headers.authorization=wt()(ys="".concat(ea," ")).call(ys,nt)}}})}),ct):H}({request:H,securities:T.securities,operation:ie,spec:z}),H.body||H.form||ct)if(We)H.headers["Content-Type"]=We;else if(Array.isArray(ie.consumes)){var ei=De(ie.consumes,1);H.headers["Content-Type"]=ei[0]}else if(Array.isArray(z.consumes)){var ri=De(z.consumes,1);H.headers["Content-Type"]=ri[0]}else ie.parameters&&lt()(St=ie.parameters).call(St,function(un){return"file"===un.type}).length?H.headers["Content-Type"]="multipart/form-data":ie.parameters&&lt()(xt=ie.parameters).call(xt,function(un){return"formData"===un.in}).length&&(H.headers["Content-Type"]="application/x-www-form-urlencoded");else if(We){var hi,Si,Wi=ie.parameters&&lt()(hi=ie.parameters).call(hi,function(un){return"body"===un.in}).length>0,nn=ie.parameters&&lt()(Si=ie.parameters).call(Si,function(un){return"formData"===un.in}).length>0;(Wi||nn)&&(H.headers["Content-Type"]=We)}return!Xe&&Array.isArray(ie.produces)&&ie.produces.length>0&&(H.headers.accept=ie.produces.join(", ")),H}(ds,rn)).cookies&&zt()(rn.cookies).length){var Is=zt()(rn.cookies).reduce(function(Xr,ys){return Xr+(Xr?"&":"")+fd.serialize(ys,rn.cookies[ys])},"");rn.headers.Cookie=Is}return rn.cookies&&delete rn.cookies,Ma(rn),rn}var go=function(H){return H?H.replace(/\W/g,""):null};function Hs(T){return pu(T.spec)?function Ko(T){var H=T.spec,z=T.pathName,ie=T.method,ge=T.server,We=T.contextUrl,Xe=T.serverVariables,ct=void 0===Xe?{}:Xe,St=qc()(H,["paths",z,(ie||"").toLowerCase(),"servers"])||qc()(H,["paths",z,"servers"])||qc()(H,["servers"]),xt="",ei=null;if(ge&&St&&St.length){var ri=Re()(St).call(St,function(Wi){return Wi.url});ri.indexOf(ge)>-1&&(xt=ge,ei=St[ri.indexOf(ge)])}if(!xt&&St&&St.length){xt=St[0].url;var hi=De(St,1);ei=hi[0]}if(xt.indexOf("{")>-1){var Si=function Ca(T){for(var ie,H=[],z=/{([^}]+)}/g;ie=z.exec(T);)H.push(ie[1]);return H}(xt);Si.forEach(function(Wi){if(ei.variables&&ei.variables[Wi]){var un=ct[Wi]||ei.variables[Wi].default,On=new RegExp("{".concat(Wi,"}"),"g");xt=xt.replace(On,un)}})}return function Aa(){var ct,St,T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",z=Pe.parse(T&&H?Pe.resolve(H,T):T),ie=Pe.parse(H),ge=go(z.protocol)||go(ie.protocol)||"",We=z.host||ie.host,Xe=z.pathname||"";return"/"===(ct=ge&&We?wt()(St="".concat(ge,"://")).call(St,We+Xe):Xe)[ct.length-1]?va()(ct).call(ct,0,-1):ct}(xt,We)}(T):function vs(T){var ei,ri,H=T.spec,z=T.scheme,ie=T.contextUrl,We=Pe.parse(void 0===ie?"":ie),Xe=Array.isArray(H.schemes)?H.schemes[0]:null,ct=z||Xe||go(We.protocol)||"http",St=H.host||We.host||"",xt=H.basePath||"";return"/"===(ei=ct&&St?wt()(ri="".concat(ct,"://")).call(ri,St+xt):xt)[ei.length-1]?va()(ei).call(ei,0,-1):ei}(T)}function Yr(T){var H=this,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof T?z.url=T:z=T,!(this instanceof Yr))return new Yr(z);Te()(this,z);var ie=this.resolve().then(function(){return H.disableInterfaces||Te()(H,Yr.makeApisTagOperation(H)),H});return ie.client=this,ie}Yr.makeHttp=function Wc(T,H,z){return z=z||function(ie){return ie},H=H||function(ie){return ie},function(ie){return"string"==typeof ie&&(ie={url:ie}),Gu.mergeInQueryOrForm(ie),ie=H(ie),z(T(ie))}}.bind(null,Yr.http=wu),Yr.resolve=Fu,Yr.resolveSubtree=function vc(T,H){return mu.apply(this,arguments)},Yr.execute=function Zn(T){var H=T.http,z=T.fetch,ie=T.spec,ge=T.operationId,We=T.pathName,Xe=T.method,ct=T.parameters,St=T.securities,xt=function hd(T,H){if(null==T)return{};var ie,ge,z=function Bu(T,H){if(null==T)return{};var ge,We,z={},ie=e(T);for(We=0;We<ie.length;We++)ge=ie[We],!(Vl(H).call(H,ge)>=0)&&(z[ge]=T[ge]);return z}(T,H);if(n){var We=n(T);for(ge=0;ge<We.length;ge++)ie=We[ge],!(Vl(H).call(H,ie)>=0)&&(!Object.prototype.propertyIsEnumerable.call(T,ie)||(z[ie]=T[ie]))}return z}(T,cn),ei=H||z||wu;We&&Xe&&!ge&&(ge=Fo(We,Xe));var ri=ir.buildRequest(q({spec:ie,operationId:ge,parameters:ct,securities:St,http:ei},xt));return ri.body&&(pd()(ri.body)||Array.isArray(ri.body))&&(ri.body=Je()(ri.body)),ei(ri)},Yr.serializeRes=od,Yr.serializeHeaders=Du,Yr.clearCache=function gu(){Zl.refs.clearCache()},Yr.makeApisTagOperation=function vu(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},H=eu_makeExecute(T);return{apis:eu_mapTagOperations({v2OperationIdCompatibilityMode:T.v2OperationIdCompatibilityMode,spec:T.spec,cb:H})}},Yr.buildRequest=Tr,Yr.helpers={opId:Lc},Yr.getBaseUrl=Hs,(Yr.prototype={http:wu,execute:function(H){return this.applyDefaults(),Yr.execute(q({spec:this.spec,http:this.http,securities:{authorized:this.authorizations},contextUrl:"string"==typeof this.url?this.url:void 0,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null},H))},resolve:function(){var H=this,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Yr.resolve(q({spec:this.spec,url:this.url,http:this.http||this.fetch,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null,skipNormalization:this.skipNormalization||!1},z)).then(function(ie){return H.originalSpec=H.spec,H.spec=ie.spec,H.errors=ie.errors,H})}}).applyDefaults=function(){var H=this.spec,z=this.url;if(z&&_e()(z).call(z,"http")){var ie=Pe.parse(z);H.host||(H.host=ie.host),H.schemes||(H.schemes=[ie.protocol.replace(":","")]),H.basePath||(H.basePath="/")}};var us=Yr.helpers;const Rs=Yr},75080:B=>{var K=B.exports=function(q){return new f(q)};function f(q){this.value=q}function E(q,ue,Te){var le=[],_e=[],Pe=!0;return function Ue(Se){var ve=Te?m(Se):Se,se={},me=!0,ce={node:ve,node_:Se,path:[].concat(le),parent:_e[_e.length-1],parents:_e,key:le.slice(-1)[0],isRoot:0===le.length,level:le.length,circular:null,update:function(Ce,de){ce.isRoot||(ce.parent.node[ce.key]=Ce),ce.node=Ce,de&&(me=!1)},delete:function(Ce){delete ce.parent.node[ce.key],Ce&&(me=!1)},remove:function(Ce){W(ce.parent.node)?ce.parent.node.splice(ce.key,1):delete ce.parent.node[ce.key],Ce&&(me=!1)},keys:null,before:function(Ce){se.before=Ce},after:function(Ce){se.after=Ce},pre:function(Ce){se.pre=Ce},post:function(Ce){se.post=Ce},stop:function(){Pe=!1},block:function(){me=!1}};if(!Pe)return ce;function Ne(){if("object"==typeof ce.node&&null!==ce.node){(!ce.keys||ce.node_!==ce.node)&&(ce.keys=t(ce.node)),ce.isLeaf=0==ce.keys.length;for(var Ce=0;Ce<_e.length;Ce++)if(_e[Ce].node_===Se){ce.circular=_e[Ce];break}}else ce.isLeaf=!0,ce.keys=null;ce.notLeaf=!ce.isLeaf,ce.notRoot=!ce.isRoot}Ne();var Ae=ue.call(ce,ce.node);return void 0!==Ae&&ce.update&&ce.update(Ae),se.before&&se.before.call(ce,ce.node),me&&("object"==typeof ce.node&&null!==ce.node&&!ce.circular&&(_e.push(ce),Ne(),te(ce.keys,function(Ce,de){le.push(Ce),se.pre&&se.pre.call(ce,ce.node[Ce],Ce);var re=Ue(ce.node[Ce]);Te&&oe.call(ce.node,Ce)&&(ce.node[Ce]=re.node),re.isLast=de==ce.keys.length-1,re.isFirst=0==de,se.post&&se.post.call(ce,re),le.pop()}),_e.pop()),se.after&&se.after.call(ce,ce.node)),ce}(q).node}function m(q){if("object"==typeof q&&null!==q){var ue;if(W(q))ue=[];else if(function n(q){return"[object Date]"===e(q)}(q))ue=new Date(q.getTime?q.getTime():q);else if(function a(q){return"[object RegExp]"===e(q)}(q))ue=new RegExp(q);else if(function u(q){return"[object Error]"===e(q)}(q))ue={message:q.message};else if(function C(q){return"[object Boolean]"===e(q)}(q))ue=new Boolean(q);else if(function D(q){return"[object Number]"===e(q)}(q))ue=new Number(q);else if(function F(q){return"[object String]"===e(q)}(q))ue=new String(q);else if(Object.create&&Object.getPrototypeOf)ue=Object.create(Object.getPrototypeOf(q));else if(q.constructor===Object)ue={};else{var le=function(){};le.prototype=q.constructor&&q.constructor.prototype||q.__proto__||{},ue=new le}return te(t(q),function(_e){ue[_e]=q[_e]}),ue}return q}f.prototype.get=function(q){for(var ue=this.value,Te=0;Te<q.length;Te++){var le=q[Te];if(!ue||!oe.call(ue,le)){ue=void 0;break}ue=ue[le]}return ue},f.prototype.has=function(q){for(var ue=this.value,Te=0;Te<q.length;Te++){var le=q[Te];if(!ue||!oe.call(ue,le))return!1;ue=ue[le]}return!0},f.prototype.set=function(q,ue){for(var Te=this.value,le=0;le<q.length-1;le++){var _e=q[le];oe.call(Te,_e)||(Te[_e]={}),Te=Te[_e]}return Te[q[le]]=ue,ue},f.prototype.map=function(q){return E(this.value,q,!0)},f.prototype.forEach=function(q){return this.value=E(this.value,q,!1),this.value},f.prototype.reduce=function(q,ue){var Te=1===arguments.length,le=Te?this.value:ue;return this.forEach(function(_e){(!this.isRoot||!Te)&&(le=q.call(this,le,_e))}),le},f.prototype.paths=function(){var q=[];return this.forEach(function(ue){q.push(this.path)}),q},f.prototype.nodes=function(){var q=[];return this.forEach(function(ue){q.push(this.node)}),q},f.prototype.clone=function(){var q=[],ue=[];return function Te(le){for(var _e=0;_e<q.length;_e++)if(q[_e]===le)return ue[_e];if("object"==typeof le&&null!==le){var Pe=m(le);return q.push(le),ue.push(Pe),te(t(le),function(Ue){Pe[Ue]=Te(le[Ue])}),q.pop(),ue.pop(),Pe}return le}(this.value)};var t=Object.keys||function(ue){var Te=[];for(var le in ue)Te.push(le);return Te};function e(q){return Object.prototype.toString.call(q)}var W=Array.isArray||function(ue){return"[object Array]"===Object.prototype.toString.call(ue)},te=function(q,ue){if(q.forEach)return q.forEach(ue);for(var Te=0;Te<q.length;Te++)ue(q[Te],Te,q)};te(t(f.prototype),function(q){K[q]=function(ue){var Te=[].slice.call(arguments,1),le=new f(ue);return le[q].apply(le,Te)}});var oe=Object.hasOwnProperty||function(q,ue){return ue in q}},11308:function(B,K,f){var E;B=f.nmd(B),function(m){"object"==typeof global&&global;var a,u=2147483647,C=36,Te=/^xn--/,le=/[^\x20-\x7E]/,_e=/[\x2E\u3002\uFF0E\uFF61]/g,Pe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Se=Math.floor,ve=String.fromCharCode;function me(dt){throw RangeError(Pe[dt])}function ce(dt,Ot){for(var kt=dt.length,oi=[];kt--;)oi[kt]=Ot(dt[kt]);return oi}function Ne(dt,Ot){var kt=dt.split("@"),oi="";return kt.length>1&&(oi=kt[0]+"@",dt=kt[1]),oi+ce((dt=dt.replace(_e,".")).split("."),Ot).join(".")}function Ae(dt){for(var bi,ti,Ot=[],kt=0,oi=dt.length;kt<oi;)(bi=dt.charCodeAt(kt++))>=55296&&bi<=56319&&kt<oi?56320==(64512&(ti=dt.charCodeAt(kt++)))?Ot.push(((1023&bi)<<10)+(1023&ti)+65536):(Ot.push(bi),kt--):Ot.push(bi);return Ot}function Ce(dt){return ce(dt,function(Ot){var kt="";return Ot>65535&&(kt+=ve((Ot-=65536)>>>10&1023|55296),Ot=56320|1023&Ot),kt+ve(Ot)}).join("")}function de(dt){return dt-48<10?dt-22:dt-65<26?dt-65:dt-97<26?dt-97:C}function re(dt,Ot){return dt+22+75*(dt<26)-((0!=Ot)<<5)}function ot(dt,Ot,kt){var oi=0;for(dt=kt?Se(dt/700):dt>>1,dt+=Se(dt/Ot);dt>455;oi+=C)dt=Se(dt/35);return Se(oi+36*dt/(dt+38))}function ze(dt){var oi,ii,mt,Ye,Je,ut,Re,yt,zt,gi,Ot=[],kt=dt.length,bi=0,ti=128,Rt=72;for((ii=dt.lastIndexOf("-"))<0&&(ii=0),mt=0;mt<ii;++mt)dt.charCodeAt(mt)>=128&&me("not-basic"),Ot.push(dt.charCodeAt(mt));for(Ye=ii>0?ii+1:0;Ye<kt;){for(Je=bi,ut=1,Re=C;Ye>=kt&&me("invalid-input"),((yt=de(dt.charCodeAt(Ye++)))>=C||yt>Se((u-bi)/ut))&&me("overflow"),bi+=yt*ut,!(yt<(zt=Re<=Rt?1:Re>=Rt+26?26:Re-Rt));Re+=C)ut>Se(u/(gi=C-zt))&&me("overflow"),ut*=gi;Rt=ot(bi-Je,oi=Ot.length+1,0==Je),Se(bi/oi)>u-ti&&me("overflow"),ti+=Se(bi/oi),bi%=oi,Ot.splice(bi++,0,ti)}return Ce(Ot)}function De(dt){var Ot,kt,oi,bi,ti,Rt,ii,mt,Ye,Je,ut,yt,zt,gi,wt,Re=[];for(yt=(dt=Ae(dt)).length,Ot=128,kt=0,ti=72,Rt=0;Rt<yt;++Rt)(ut=dt[Rt])<128&&Re.push(ve(ut));for(oi=bi=Re.length,bi&&Re.push("-");oi<yt;){for(ii=u,Rt=0;Rt<yt;++Rt)(ut=dt[Rt])>=Ot&&ut<ii&&(ii=ut);for(ii-Ot>Se((u-kt)/(zt=oi+1))&&me("overflow"),kt+=(ii-Ot)*zt,Ot=ii,Rt=0;Rt<yt;++Rt)if((ut=dt[Rt])<Ot&&++kt>u&&me("overflow"),ut==Ot){for(mt=kt,Ye=C;!(mt<(Je=Ye<=ti?1:Ye>=ti+26?26:Ye-ti));Ye+=C)Re.push(ve(re(Je+(wt=mt-Je)%(gi=C-Je),0))),mt=Se(wt/gi);Re.push(ve(re(mt,0))),ti=ot(kt,zt,oi==bi),kt=0,++oi}++kt,++Ot}return Re.join("")}a={version:"1.3.2",ucs2:{decode:Ae,encode:Ce},decode:ze,encode:De,toASCII:function pt(dt){return Ne(dt,function(Ot){return le.test(Ot)?"xn--"+De(Ot):Ot})},toUnicode:function st(dt){return Ne(dt,function(Ot){return Te.test(Ot)?ze(Ot.slice(4).toLowerCase()):Ot})}},void 0!==(E=function(){return a}.call(K,f,K,B))&&(B.exports=E)}()},68762:(B,K,f)=>{"use strict";var E=f(11308),m=f(70796);function t(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}K.parse=Pe,K.resolve=function Se(se,me){return Pe(se,!1,!0).resolve(me)},K.resolveObject=function ve(se,me){return se?Pe(se,!1,!0).resolveObject(me):me},K.format=function Ue(se){return m.isString(se)&&(se=Pe(se)),se instanceof t?se.format():t.prototype.format.call(se)},K.Url=t;var e=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,a=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,C=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),D=["'"].concat(C),F=["%","/","?",";","#"].concat(D),W=["/","?","#"],oe=/^[+a-z0-9A-Z_-]{0,63}$/,q=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,ue={javascript:!0,"javascript:":!0},Te={javascript:!0,"javascript:":!0},le={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_e=f(17137);function Pe(se,me,ce){if(se&&m.isObject(se)&&se instanceof t)return se;var Ne=new t;return Ne.parse(se,me,ce),Ne}t.prototype.parse=function(se,me,ce){if(!m.isString(se))throw new TypeError("Parameter 'url' must be a string, not "+typeof se);var Ne=se.indexOf("?"),Ae=-1!==Ne&&Ne<se.indexOf("#")?"?":"#",Ce=se.split(Ae);Ce[0]=Ce[0].replace(/\\/g,"/");var re=se=Ce.join(Ae);if(re=re.trim(),!ce&&1===se.split("#").length){var ot=a.exec(re);if(ot)return this.path=re,this.href=re,this.pathname=ot[1],ot[2]?(this.search=ot[2],this.query=me?_e.parse(this.search.substr(1)):this.search.substr(1)):me&&(this.search="",this.query={}),this}var ze=e.exec(re);if(ze){var De=(ze=ze[0]).toLowerCase();this.protocol=De,re=re.substr(ze.length)}if(ce||ze||re.match(/^\/\/[^@\/]+@[^@\/]+/)){var st="//"===re.substr(0,2);st&&(!ze||!Te[ze])&&(re=re.substr(2),this.slashes=!0)}if(!Te[ze]&&(st||ze&&!le[ze])){for(var pt=-1,dt=0;dt<W.length;dt++)-1!==(Ot=re.indexOf(W[dt]))&&(-1===pt||Ot<pt)&&(pt=Ot);var kt,oi;for(-1!==(oi=-1===pt?re.lastIndexOf("@"):re.lastIndexOf("@",pt))&&(kt=re.slice(0,oi),re=re.slice(oi+1),this.auth=decodeURIComponent(kt)),pt=-1,dt=0;dt<F.length;dt++){var Ot;-1!==(Ot=re.indexOf(F[dt]))&&(-1===pt||Ot<pt)&&(pt=Ot)}-1===pt&&(pt=re.length),this.host=re.slice(0,pt),re=re.slice(pt),this.parseHost(),this.hostname=this.hostname||"";var bi="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!bi)for(var ti=this.hostname.split(/\./),Rt=(dt=0,ti.length);dt<Rt;dt++){var ii=ti[dt];if(ii&&!ii.match(oe)){for(var mt="",Ye=0,Je=ii.length;Ye<Je;Ye++)ii.charCodeAt(Ye)>127?mt+="x":mt+=ii[Ye];if(!mt.match(oe)){var ut=ti.slice(0,dt),Re=ti.slice(dt+1),yt=ii.match(q);yt&&(ut.push(yt[1]),Re.unshift(yt[2])),Re.length&&(re="/"+Re.join(".")+re),this.hostname=ut.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),bi||(this.hostname=E.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,bi&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==re[0]&&(re="/"+re))}if(!ue[De])for(dt=0,Rt=D.length;dt<Rt;dt++){var wt=D[dt];if(-1!==re.indexOf(wt)){var rt=encodeURIComponent(wt);rt===wt&&(rt=escape(wt)),re=re.split(wt).join(rt)}}var tt=re.indexOf("#");-1!==tt&&(this.hash=re.substr(tt),re=re.slice(0,tt));var At=re.indexOf("?");return-1!==At?(this.search=re.substr(At),this.query=re.substr(At+1),me&&(this.query=_e.parse(this.query)),re=re.slice(0,At)):me&&(this.search="",this.query={}),re&&(this.pathname=re),le[De]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},t.prototype.format=function(){var se=this.auth||"";se&&(se=(se=encodeURIComponent(se)).replace(/%3A/i,":"),se+="@");var me=this.protocol||"",ce=this.pathname||"",Ne=this.hash||"",Ae=!1,Ce="";this.host?Ae=se+this.host:this.hostname&&(Ae=se+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Ae+=":"+this.port)),this.query&&m.isObject(this.query)&&Object.keys(this.query).length&&(Ce=_e.stringify(this.query));var de=this.search||Ce&&"?"+Ce||"";return me&&":"!==me.substr(-1)&&(me+=":"),this.slashes||(!me||le[me])&&!1!==Ae?(Ae="//"+(Ae||""),ce&&"/"!==ce.charAt(0)&&(ce="/"+ce)):Ae||(Ae=""),Ne&&"#"!==Ne.charAt(0)&&(Ne="#"+Ne),de&&"?"!==de.charAt(0)&&(de="?"+de),me+Ae+(ce=ce.replace(/[?#]/g,function(re){return encodeURIComponent(re)}))+(de=de.replace("#","%23"))+Ne},t.prototype.resolve=function(se){return this.resolveObject(Pe(se,!1,!0)).format()},t.prototype.resolveObject=function(se){if(m.isString(se)){var me=new t;me.parse(se,!1,!0),se=me}for(var ce=new t,Ne=Object.keys(this),Ae=0;Ae<Ne.length;Ae++){var Ce=Ne[Ae];ce[Ce]=this[Ce]}if(ce.hash=se.hash,""===se.href)return ce.href=ce.format(),ce;if(se.slashes&&!se.protocol){for(var de=Object.keys(se),re=0;re<de.length;re++){var ot=de[re];"protocol"!==ot&&(ce[ot]=se[ot])}return le[ce.protocol]&&ce.hostname&&!ce.pathname&&(ce.path=ce.pathname="/"),ce.href=ce.format(),ce}if(se.protocol&&se.protocol!==ce.protocol){if(!le[se.protocol]){for(var ze=Object.keys(se),De=0;De<ze.length;De++){var st=ze[De];ce[st]=se[st]}return ce.href=ce.format(),ce}if(ce.protocol=se.protocol,se.host||Te[se.protocol])ce.pathname=se.pathname;else{for(var Rt=(se.pathname||"").split("/");Rt.length&&!(se.host=Rt.shift()););se.host||(se.host=""),se.hostname||(se.hostname=""),""!==Rt[0]&&Rt.unshift(""),Rt.length<2&&Rt.unshift(""),ce.pathname=Rt.join("/")}return ce.search=se.search,ce.query=se.query,ce.host=se.host||"",ce.auth=se.auth,ce.hostname=se.hostname||se.host,ce.port=se.port,(ce.pathname||ce.search)&&(ce.path=(ce.pathname||"")+(ce.search||"")),ce.slashes=ce.slashes||se.slashes,ce.href=ce.format(),ce}var Ot=ce.pathname&&"/"===ce.pathname.charAt(0),kt=se.host||se.pathname&&"/"===se.pathname.charAt(0),oi=kt||Ot||ce.host&&se.pathname,bi=oi,ti=ce.pathname&&ce.pathname.split("/")||[],ii=(Rt=se.pathname&&se.pathname.split("/")||[],ce.protocol&&!le[ce.protocol]);if(ii&&(ce.hostname="",ce.port=null,ce.host&&(""===ti[0]?ti[0]=ce.host:ti.unshift(ce.host)),ce.host="",se.protocol&&(se.hostname=null,se.port=null,se.host&&(""===Rt[0]?Rt[0]=se.host:Rt.unshift(se.host)),se.host=null),oi=oi&&(""===Rt[0]||""===ti[0])),kt)ce.host=se.host||""===se.host?se.host:ce.host,ce.hostname=se.hostname||""===se.hostname?se.hostname:ce.hostname,ce.search=se.search,ce.query=se.query,ti=Rt;else if(Rt.length)ti||(ti=[]),ti.pop(),ti=ti.concat(Rt),ce.search=se.search,ce.query=se.query;else if(!m.isNullOrUndefined(se.search))return ii&&(ce.hostname=ce.host=ti.shift(),(mt=!!(ce.host&&ce.host.indexOf("@")>0)&&ce.host.split("@"))&&(ce.auth=mt.shift(),ce.host=ce.hostname=mt.shift())),ce.search=se.search,ce.query=se.query,(!m.isNull(ce.pathname)||!m.isNull(ce.search))&&(ce.path=(ce.pathname?ce.pathname:"")+(ce.search?ce.search:"")),ce.href=ce.format(),ce;if(!ti.length)return ce.pathname=null,ce.path=ce.search?"/"+ce.search:null,ce.href=ce.format(),ce;for(var Ye=ti.slice(-1)[0],Je=(ce.host||se.host||ti.length>1)&&("."===Ye||".."===Ye)||""===Ye,ut=0,Re=ti.length;Re>=0;Re--)"."===(Ye=ti[Re])?ti.splice(Re,1):".."===Ye?(ti.splice(Re,1),ut++):ut&&(ti.splice(Re,1),ut--);if(!oi&&!bi)for(;ut--;ut)ti.unshift("..");oi&&""!==ti[0]&&(!ti[0]||"/"!==ti[0].charAt(0))&&ti.unshift(""),Je&&"/"!==ti.join("/").substr(-1)&&ti.push("");var mt,yt=""===ti[0]||ti[0]&&"/"===ti[0].charAt(0);return ii&&(ce.hostname=ce.host=yt?"":ti.length?ti.shift():"",(mt=!!(ce.host&&ce.host.indexOf("@")>0)&&ce.host.split("@"))&&(ce.auth=mt.shift(),ce.host=ce.hostname=mt.shift())),(oi=oi||ce.host&&ti.length)&&!yt&&ti.unshift(""),ti.length?ce.pathname=ti.join("/"):(ce.pathname=null,ce.path=null),(!m.isNull(ce.pathname)||!m.isNull(ce.search))&&(ce.path=(ce.pathname?ce.pathname:"")+(ce.search?ce.search:"")),ce.auth=se.auth||ce.auth,ce.slashes=ce.slashes||se.slashes,ce.href=ce.format(),ce},t.prototype.parseHost=function(){var se=this.host,me=n.exec(se);me&&(":"!==(me=me[0])&&(this.port=me.substr(1)),se=se.substr(0,se.length-me.length)),se&&(this.hostname=se)}},70796:B=>{"use strict";B.exports={isString:function(K){return"string"==typeof K},isObject:function(K){return"object"==typeof K&&null!==K},isNull:function(K){return null===K},isNullOrUndefined:function(K){return null==K}}},77784:B=>{B.exports=function m(t,e,n){function a(D,F){if(!e[D]){if(!t[D]){if(u)return u(D,!0);var te=new Error("Cannot find module '"+D+"'");throw te.code="MODULE_NOT_FOUND",te}var oe=e[D]={exports:{}};t[D][0].call(oe.exports,function(q){return a(t[D][1][q]||q)},oe,oe.exports,m,t,e,n)}return e[D].exports}for(var u=void 0,C=0;C<n.length;C++)a(n[C]);return a}({1:[function(m,t,e){"use strict";t.exports=function n(a){if(!a||"object"!=typeof a)return a;if("[object Date]"==Object.prototype.toString.call(a))return new Date(a.getTime());if(Array.isArray(a))return a.map(n);var u={};return Object.keys(a).forEach(function(C){u[C]=n(a[C])}),u}},{}],2:[function(m,t,e){t.exports=function C(D,F){if("string"!=typeof D)throw new TypeError("String expected");F||(F=document);var W=/<([\w:]+)/.exec(D);if(!W)return F.createTextNode(D);D=D.replace(/^\s+|\s+$/g,"");var te=W[1];if("body"==te)return(le=F.createElement("html")).innerHTML=D,le.removeChild(le.lastChild);var le,oe=u[te]||u._default,q=oe[0],ue=oe[1],Te=oe[2];for((le=F.createElement("div")).innerHTML=ue+D+Te;q--;)le=le.lastChild;if(le.firstChild==le.lastChild)return le.removeChild(le.firstChild);for(var _e=F.createDocumentFragment();le.firstChild;)_e.appendChild(le.removeChild(le.firstChild));return _e};var a,n=!1;"undefined"!=typeof document&&((a=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',n=!a.getElementsByTagName("link").length,a=void 0);var u={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:n?[1,"X<div>","</div>"]:[0,"",""]};u.td=u.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],u.option=u.optgroup=[1,'<select multiple="multiple">',"</select>"],u.thead=u.tbody=u.colgroup=u.caption=u.tfoot=[1,"<table>","</table>"],u.polyline=u.ellipse=u.polygon=u.circle=u.text=u.line=u.path=u.rect=u.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(m,t,e){var n=/^(?:submit|button|image|reset|file)$/i,a=/^(?:input|select|textarea|keygen)/i,u=/(\[[^\[\]]*\])/g;function F(oe,q,ue){if(0===q.length)return ue;var Te=q.shift(),le=Te.match(/^\[(.+?)\]$/);if("[]"===Te)return oe=oe||[],Array.isArray(oe)?oe.push(F(null,q,ue)):(oe._values=oe._values||[],oe._values.push(F(null,q,ue))),oe;if(le){var _e=le[1],Pe=+_e;isNaN(Pe)?(oe=oe||{})[_e]=F(oe[_e],q,ue):(oe=oe||[])[Pe]=F(oe[Pe],q,ue)}else oe[Te]=F(oe[Te],q,ue);return oe}function W(oe,q,ue){if(q.match(u))F(oe,function D(oe){var q=[],Te=new RegExp(u),le=/^([^\[\]]*)/.exec(oe);for(le[1]&&q.push(le[1]);null!==(le=Te.exec(oe));)q.push(le[1]);return q}(q),ue);else{var _e=oe[q];_e?(Array.isArray(_e)||(oe[q]=[_e]),oe[q].push(ue)):oe[q]=ue}return oe}function te(oe,q,ue){return ue=ue.replace(/(\r)?\n/g,"\r\n"),ue=(ue=encodeURIComponent(ue)).replace(/%20/g,"+"),oe+(oe?"&":"")+encodeURIComponent(q)+"="+ue}t.exports=function C(oe,q){"object"!=typeof q?q={hash:!!q}:void 0===q.hash&&(q.hash=!0);for(var ue=q.hash?{}:"",Te=q.serializer||(q.hash?W:te),le=oe&&oe.elements?oe.elements:[],_e=Object.create(null),Pe=0;Pe<le.length;++Pe){var Ue=le[Pe];if((q.disabled||!Ue.disabled)&&Ue.name&&a.test(Ue.nodeName)&&!n.test(Ue.type)){var Se=Ue.name,ve=Ue.value;if(("checkbox"===Ue.type||"radio"===Ue.type)&&!Ue.checked&&(ve=void 0),q.empty){if("checkbox"===Ue.type&&!Ue.checked&&(ve=""),"radio"===Ue.type&&(_e[Ue.name]||Ue.checked?Ue.checked&&(_e[Ue.name]=!0):_e[Ue.name]=!1),!ve&&"radio"==Ue.type)continue}else if(!ve)continue;if("select-multiple"===Ue.type){ve=[];for(var se=Ue.options,me=!1,ce=0;ce<se.length;++ce){var Ne=se[ce];Ne.selected&&(Ne.value||q.empty&&!Ne.value)&&(me=!0,ue=q.hash&&"[]"!==Se.slice(Se.length-2)?Te(ue,Se+"[]",Ne.value):Te(ue,Se,Ne.value))}!me&&q.empty&&(ue=Te(ue,Se,""));continue}ue=Te(ue,Se,ve)}}if(q.empty)for(var Se in _e)_e[Se]||(ue=Te(ue,Se,""));return ue}},{}],4:[function(m,t,e){var n=m("domify"),a=m("form-serialize"),u=m("deep-clone-simple"),D=function(te){var oe=document.createElement("div");oe.classList.add("vex-dialog-buttons");for(var q=0;q<te.length;q++){var ue=te[q],Te=document.createElement("button");Te.type=ue.type,Te.textContent=ue.text,Te.className=ue.className,Te.classList.add("vex-dialog-button"),0===q?Te.classList.add("vex-first"):q===te.length-1&&Te.classList.add("vex-last"),function(le){Te.addEventListener("click",function(_e){le.click&&le.click.call(this,_e)}.bind(this))}.bind(this)(ue),oe.appendChild(Te)}return oe};t.exports=function(te){var oe={name:"dialog",open:function(ue){var Te=Object.assign({},u(this.defaultOptions),ue);Te.unsafeMessage&&!Te.message?Te.message=Te.unsafeMessage:Te.message&&(Te.message=te._escapeHtml(Te.message));var le=Te.unsafeContent=function(te){var oe=document.createElement("form");oe.classList.add("vex-dialog-form");var q=document.createElement("div");q.classList.add("vex-dialog-message"),q.appendChild(te.message instanceof window.Node?te.message:n(te.message));var ue=document.createElement("div");return ue.classList.add("vex-dialog-input"),ue.appendChild(te.input instanceof window.Node?te.input:n(te.input)),oe.appendChild(q),oe.appendChild(ue),oe}(Te),_e=te.open(Te);""!==Te.yesText&&(Te.buttons[0].text=Te.yesText),""!==Te.noText&&(Te.buttons[1].text=Te.noText);var Pe=Te.beforeClose&&Te.beforeClose.bind(_e);if(_e.options.beforeClose=function(){var ve=!Pe||Pe();return ve&&Te.callback(this.value||!1),ve}.bind(_e),le.appendChild(D.call(_e,Te.buttons)),_e.form=le,le.addEventListener("submit",Te.onSubmit.bind(_e)),Te.focusFirstInput){var Ue=_e.contentEl.querySelector("button, input, select, textarea");Ue&&Ue.focus()}return _e},alert:function(q){return"string"==typeof q&&(q={message:q}),q=Object.assign({},u(this.defaultOptions),u(this.defaultAlertOptions),q),this.open(q)},confirm:function(q){if("object"!=typeof q||"function"!=typeof q.callback)throw new Error("dialog.confirm(options) requires options.callback.");return q=Object.assign({},u(this.defaultOptions),u(this.defaultConfirmOptions),q),this.open(q)},prompt:function(q){if("object"!=typeof q||"function"!=typeof q.callback)throw new Error("dialog.prompt(options) requires options.callback.");var ue=Object.assign({},u(this.defaultOptions),u(this.defaultPromptOptions)),Te={unsafeMessage:'<label for="vex">'+te._escapeHtml(q.label||ue.label)+"</label>",input:'<input name="vex" type="text" class="vex-dialog-prompt-input" placeholder="'+te._escapeHtml(q.placeholder||ue.placeholder)+'" value="'+te._escapeHtml(q.value||ue.value)+'" />'},le=(q=Object.assign(ue,Te,q)).callback;return q.callback=function(Pe){if("object"==typeof Pe){var Ue=Object.keys(Pe);Pe=Ue.length?Pe[Ue[0]]:""}le(Pe)},this.open(q)},buttons:{YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary",click:function(){this.value=!0}},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(){this.value=!1,this.close()}}}};return oe.defaultOptions={callback:function(){},afterOpen:function(){},message:"",input:"",yesText:"",noText:"",buttons:[oe.buttons.YES,oe.buttons.NO],showCloseButton:!1,onSubmit:function(ue){return ue.preventDefault(),this.options.input&&(this.value=a(this.form,{hash:!0})),this.close()},focusFirstInput:!0},oe.defaultAlertOptions={buttons:[oe.buttons.YES]},oe.defaultPromptOptions={label:"Prompt:",placeholder:"",value:""},oe.defaultConfirmOptions={},oe}},{"deep-clone-simple":1,domify:2,"form-serialize":3}]},{},[4])(4)},20532:B=>{B.exports=function m(t,e,n){function a(D,F){if(!e[D]){if(!t[D]){if(u)return u(D,!0);var te=new Error("Cannot find module '"+D+"'");throw te.code="MODULE_NOT_FOUND",te}var oe=e[D]={exports:{}};t[D][0].call(oe.exports,function(q){return a(t[D][1][q]||q)},oe,oe.exports,m,t,e,n)}return e[D].exports}for(var u=void 0,C=0;C<n.length;C++)a(n[C]);return a}({1:[function(m,t,e){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(n){"use strict";if("Element"in n){var a="classList",u="prototype",C=n.Element[u],D=Object,F=String[u].trim||function(){return this.replace(/^\s+|\s+$/g,"")},W=Array[u].indexOf||function(_e){for(var Pe=0,Ue=this.length;Pe<Ue;Pe++)if(Pe in this&&this[Pe]===_e)return Pe;return-1},te=function(_e,Pe){this.name=_e,this.code=DOMException[_e],this.message=Pe},oe=function(_e,Pe){if(""===Pe)throw new te("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(Pe))throw new te("INVALID_CHARACTER_ERR","String contains an invalid character");return W.call(_e,Pe)},q=function(_e){for(var Pe=F.call(_e.getAttribute("class")||""),Ue=Pe?Pe.split(/\s+/):[],Se=0,ve=Ue.length;Se<ve;Se++)this.push(Ue[Se]);this._updateClassName=function(){_e.setAttribute("class",this.toString())}},ue=q[u]=[],Te=function(){return new q(this)};if(te[u]=Error[u],ue.item=function(_e){return this[_e]||null},ue.contains=function(_e){return-1!==oe(this,_e+="")},ue.add=function(){var Se,_e=arguments,Pe=0,Ue=_e.length,ve=!1;do{-1===oe(this,Se=_e[Pe]+"")&&(this.push(Se),ve=!0)}while(++Pe<Ue);ve&&this._updateClassName()},ue.remove=function(){var Se,se,_e=arguments,Pe=0,Ue=_e.length,ve=!1;do{for(se=oe(this,Se=_e[Pe]+"");-1!==se;)this.splice(se,1),ve=!0,se=oe(this,Se)}while(++Pe<Ue);ve&&this._updateClassName()},ue.toggle=function(_e,Pe){var Ue=this.contains(_e+=""),Se=Ue?!0!==Pe&&"remove":!1!==Pe&&"add";return Se&&this[Se](_e),!0===Pe||!1===Pe?Pe:!Ue},ue.toString=function(){return this.join(" ")},D.defineProperty){var le={get:Te,enumerable:!0,configurable:!0};try{D.defineProperty(C,a,le)}catch(_e){(void 0===_e.number||-2146823252===_e.number)&&(le.enumerable=!1,D.defineProperty(C,a,le))}}else D[u].__defineGetter__&&C.__defineGetter__(a,Te)}}(window.self),function(){"use strict";var n=document.createElement("_");if(n.classList.add("c1","c2"),!n.classList.contains("c2")){var a=function(C){var D=DOMTokenList.prototype[C];DOMTokenList.prototype[C]=function(F){var W,te=arguments.length;for(W=0;W<te;W++)D.call(this,F=arguments[W])}};a("add"),a("remove")}if(n.classList.toggle("c3",!1),n.classList.contains("c3")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(C,D){return 1 in arguments&&!this.contains(C)==!D?D:u.call(this,C)}}n=null}())},{}],2:[function(m,t,e){t.exports=function C(D,F){if("string"!=typeof D)throw new TypeError("String expected");F||(F=document);var W=/<([\w:]+)/.exec(D);if(!W)return F.createTextNode(D);D=D.replace(/^\s+|\s+$/g,"");var te=W[1];if("body"==te)return(le=F.createElement("html")).innerHTML=D,le.removeChild(le.lastChild);var le,oe=u[te]||u._default,q=oe[0],ue=oe[1],Te=oe[2];for((le=F.createElement("div")).innerHTML=ue+D+Te;q--;)le=le.lastChild;if(le.firstChild==le.lastChild)return le.removeChild(le.firstChild);for(var _e=F.createDocumentFragment();le.firstChild;)_e.appendChild(le.removeChild(le.firstChild));return _e};var a,n=!1;"undefined"!=typeof document&&((a=document.createElement("div")).innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',n=!a.getElementsByTagName("link").length,a=void 0);var u={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:n?[1,"X<div>","</div>"]:[0,"",""]};u.td=u.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],u.option=u.optgroup=[1,'<select multiple="multiple">',"</select>"],u.thead=u.tbody=u.colgroup=u.caption=u.tfoot=[1,"<table>","</table>"],u.polyline=u.ellipse=u.polygon=u.circle=u.text=u.line=u.path=u.rect=u.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],3:[function(m,t,e){"use strict";function n(u,C){if(null==u)throw new TypeError("Cannot convert first argument to object");for(var D=Object(u),F=1;F<arguments.length;F++){var W=arguments[F];if(null!=W)for(var te=Object.keys(Object(W)),oe=0,q=te.length;oe<q;oe++){var ue=te[oe],Te=Object.getOwnPropertyDescriptor(W,ue);void 0!==Te&&Te.enumerable&&(D[ue]=W[ue])}}return D}t.exports={assign:n,polyfill:function a(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}}},{}],4:[function(m,t,e){m("classlist-polyfill"),m("es6-object-assign").polyfill();var n=m("domify"),a=function(ue){if(void 0!==ue){var Te=document.createElement("div");return Te.appendChild(document.createTextNode(ue)),Te.innerHTML}return""},u=function(ue,Te){if("string"==typeof Te&&0!==Te.length)for(var le=Te.split(" "),_e=0;_e<le.length;_e++){var Pe=le[_e];Pe.length&&ue.classList.add(Pe)}},C=function(){var ue=document.createElement("div"),Te={animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd"};for(var le in Te)if(void 0!==ue.style[le])return Te[le];return!1}(),D_vex="vex",D_content="vex-content",D_overlay="vex-overlay",D_close="vex-close",D_closing="vex-closing",D_open="vex-open",F={},W=1,te=!1,oe={open:function(ue){var Te=function(ce){console.warn('The "'+ce+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.'),console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};ue.css&&Te("css"),ue.overlayCSS&&Te("overlayCSS"),ue.contentCSS&&Te("contentCSS"),ue.closeCSS&&Te("closeCSS");var le={};le.id=W++,F[le.id]=le,le.isOpen=!0,le.close=function(){if(!this.isOpen)return!0;var ce=this.options;if(te&&!ce.escapeButtonCloses)return!1;if(!1===function(){return!ce.beforeClose||ce.beforeClose.call(this)}.bind(this)())return!1;this.isOpen=!1;var Ae=window.getComputedStyle(this.contentEl);function Ce(ot){return"none"!==Ae.getPropertyValue(ot+"animation-name")&&"0s"!==Ae.getPropertyValue(ot+"animation-duration")}var de=Ce("")||Ce("-webkit-")||Ce("-moz-")||Ce("-o-"),re=function ot(){!this.rootEl.parentNode||(this.rootEl.removeEventListener(C,ot),this.overlayEl.removeEventListener(C,ot),delete F[this.id],this.rootEl.parentNode.removeChild(this.rootEl),this.bodyEl.removeChild(this.overlayEl),ce.afterClose&&ce.afterClose.call(this),0===Object.keys(F).length&&document.body.classList.remove(D_open))}.bind(this);return C&&de?(this.rootEl.addEventListener(C,re),this.overlayEl.addEventListener(C,re),this.rootEl.classList.add(D_closing),this.overlayEl.classList.add(D_closing)):re(),!0},"string"==typeof ue&&(ue={content:ue}),ue.unsafeContent&&!ue.content?ue.content=ue.unsafeContent:ue.content&&(ue.content=a(ue.content));var _e=le.options=Object.assign({},oe.defaultOptions,ue),Pe=le.bodyEl=document.getElementsByTagName("body")[0],Ue=le.rootEl=document.createElement("div");Ue.classList.add(D_vex),u(Ue,_e.className);var Se=le.overlayEl=document.createElement("div");Se.classList.add(D_overlay),u(Se,_e.overlayClassName),_e.overlayClosesOnClick&&Ue.addEventListener("click",function(ce){ce.target===Ue&&le.close()}),Pe.appendChild(Se);var ve=le.contentEl=document.createElement("div");if(ve.classList.add(D_content),u(ve,_e.contentClassName),ve.appendChild(_e.content instanceof window.Node?_e.content:n(_e.content)),Ue.appendChild(ve),_e.showCloseButton){var se=le.closeEl=document.createElement("div");se.classList.add(D_close),u(se,_e.closeClassName),se.addEventListener("click",le.close.bind(le)),ve.appendChild(se)}return document.querySelector(_e.appendLocation).appendChild(Ue),_e.afterOpen&&_e.afterOpen.call(le),document.body.classList.add(D_open),le},close:function(ue){var Te;if(ue.id)Te=ue.id;else{if("string"!=typeof ue)throw new TypeError("close requires a vex object or id string");Te=ue}return!!F[Te]&&F[Te].close()},closeTop:function(){var ue=Object.keys(F);return!!ue.length&&F[ue[ue.length-1]].close()},closeAll:function(){for(var ue in F)this.close(ue);return!0},getAll:function(){return F},getById:function(ue){return F[ue]}};window.addEventListener("keyup",function(ue){27===ue.keyCode&&(te=!0,oe.closeTop(),te=!1)}),window.addEventListener("popstate",function(){oe.defaultOptions.closeAllOnPopState&&oe.closeAll()}),oe.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0},Object.defineProperty(oe,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:a}),oe.registerPlugin=function(ue,Te){var le=ue(oe),_e=Te||le.name;if(oe[_e])throw new Error("Plugin "+Te+" is already registered.");oe[_e]=le},t.exports=oe},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)},86942:(B,K,f)=>{"use strict";var E,m,t;f.r(K),f.d(K,{Synth:()=>E}),function(){var e=window.URL||window.webkitURL,n=window.Blob;if(!e||!n)throw new Error("This browser does not support AudioSynth");var a=!1,u=null,C=function(oe,q){return[new Uint8Array([q,q>>8]),new Uint8Array([q,q>>8,q>>16,q>>24])][oe]},D=function(oe,q,ue,Te){Object.defineProperty(this,oe,{value:q,writable:!!ue,enumerable:!!Te})},F=function(oe,q,ue){D.call(this,oe,q,ue,!0)};t=function(){this.__init__.apply(this,arguments)};var W=D.bind(t.prototype),te=F.bind(t.prototype);W("__init__",function(oe,q,ue){if(!a)throw new Error("AudioSynthInstrument can only be instantiated from the createInstrument method of the AudioSynth object.");D.call(this,"_parent",oe),F.call(this,"name",q),D.call(this,"_soundID",ue)}),te("play",function(oe,q,ue){return this._parent.play(this._soundID,oe,q,ue)}),te("generate",function(oe,q,ue){return this._parent.generate(this._soundID,oe,q,ue)}),W=D.bind((m=function oe(){return u instanceof oe?u:(this.__init__(),this)}).prototype),te=F.bind(m.prototype),W("_debug",!1,!0),W("_bitsPerSample",16),W("_channels",1),W("_sampleRate",44100,!0),te("setSampleRate",function(oe){return this._sampleRate=Math.max(Math.min(0|oe,44100),4e3),this._clearCache(),this._sampleRate}),te("getSampleRate",function(){return this._sampleRate}),W("_volume",32768,!0),te("setVolume",function(oe){return oe=parseFloat(oe),isNaN(oe)&&(oe=0),oe=Math.round(32768*oe),this._volume=Math.max(Math.min(0|oe,32768),0),this._clearCache(),this._volume}),te("getVolume",function(){return Math.round(this._volume/32768*1e4)/1e4}),W("_notes",{C:261.63,"C#":277.18,D:293.66,"D#":311.13,E:329.63,F:349.23,"F#":369.99,G:392,"G#":415.3,A:440,"A#":466.16,B:493.88}),W("_fileCache",[],!0),W("_temp",{},!0),W("_sounds",[],!0),W("_mod",[function(oe,q,ue,Te){return Math.sin(2*Math.PI*(oe/q)*ue+Te)}]),W("_resizeCache",function(){for(var oe=this._fileCache,q=this._sounds.length;oe.length<q;){for(var ue=[],Te=0;Te<8;Te++){var le={};for(var _e in this._notes)le[_e]={};ue.push(le)}oe.push(ue)}}),W("_clearCache",function(){this._fileCache=[],this._resizeCache()}),te("generate",function(oe,q,ue,Te){var le=this._sounds[oe];if(!le)for(var _e=0;_e<this._sounds.length;_e++)if(this._sounds[_e].name==oe){le=this._sounds[_e],oe=_e;break}if(!le)throw new Error("Invalid sound or sound ID: "+oe);var Pe=(new Date).valueOf();this._temp={},ue|=0,ue=Math.min(8,Math.max(1,ue));var Ue=Te?parseFloat(Te):2;if(void 0===this._notes[q])throw new Error(q+" is not a valid note.");if(void 0!==this._fileCache[oe][ue-1][q][Ue])return this._debug&&console.log((new Date).valueOf()-Pe,"ms to retrieve (cached)"),this._fileCache[oe][ue-1][q][Ue];var Se=this._notes[q]*Math.pow(2,ue-4),ve=this._sampleRate,se=this._volume,me=this._channels,ce=this._bitsPerSample,Ne=le.attack(ve,Se,se),Ae=le.dampen(ve,Se,se),Ce=le.wave,de={modulate:this._mod,vars:this._temp},re=0,ze=new Uint8Array(new ArrayBuffer(Math.ceil(ve*Ue*2))),De=ve*Ne|0,st=ve*Ue|0;for(_e=0;_e!==De;_e++)re=se*(_e/(ve*Ne))*Ce.call(de,_e,ve,Se,se),ze[_e<<1]=re,ze[1+(_e<<1)]=re>>8;for(;_e!==st;_e++)re=se*Math.pow(1-(_e-ve*Ne)/(ve*(Ue-Ne)),Ae)*Ce.call(de,_e,ve,Se,se),ze[_e<<1]=re,ze[1+(_e<<1)]=re>>8;var pt=["RIFF",C(1,52),"WAVE","fmt ",C(1,16),C(0,1),C(0,me),C(1,ve),C(1,ve*me*ce/8),C(0,me*ce/8),C(0,ce),"data",C(1,ze.length*me*ce/8),ze],dt=new n(pt,{type:"audio/wav"}),Ot=e.createObjectURL(dt);return this._fileCache[oe][ue-1][q][Ue]=Ot,this._debug&&console.log((new Date).valueOf()-Pe,"ms to generate"),Ot}),te("play",function(oe,q,ue,Te){var le=this.generate(oe,q,ue,Te);return new Audio(le).play(),!0}),te("debug",function(){this._debug=!0}),te("createInstrument",function(oe){var q=0,ue=!1;if("string"==typeof oe){for(var Te=0;Te<this._sounds.length;Te++)if(this._sounds[Te].name==oe){ue=!0,q=Te;break}}else this._sounds[oe]&&(oe=this._sounds[q=oe].name,ue=!0);if(!ue)throw new Error("Invalid sound or sound ID: "+oe);a=!0;var le=new t(this,oe,q);return a=!1,le}),te("listSounds",function(){for(var oe=[],q=0;q<this._sounds.length;q++)oe.push(this._sounds[q].name);return oe}),W("__init__",function(){this._resizeCache()}),te("loadSoundProfile",function(){for(var oe=0,q=arguments.length;oe<q;oe++){var ue=arguments[oe];if(!(ue instanceof Object))throw new Error("Invalid sound profile.");this._sounds.push(ue)}return this._resizeCache(),!0}),te("loadModulationFunction",function(){for(var oe=0,q=arguments.length;oe<q;oe++){var ue=arguments[oe];if("function"!=typeof ue)throw new Error("Invalid modulation function.");this._mod.push(ue)}return!0}),u=new m,E=u}(),E.loadModulationFunction(function(e,n,a,u){return 1*Math.sin(2*Math.PI*(e/n*a)+u)},function(e,n,a,u){return 1*Math.sin(4*Math.PI*(e/n*a)+u)},function(e,n,a,u){return 1*Math.sin(8*Math.PI*(e/n*a)+u)},function(e,n,a,u){return 1*Math.sin(.5*Math.PI*(e/n*a)+u)},function(e,n,a,u){return 1*Math.sin(.25*Math.PI*(e/n*a)+u)},function(e,n,a,u){return.5*Math.sin(2*Math.PI*(e/n*a)+u)},function(e,n,a,u){return.5*Math.sin(4*Math.PI*(e/n*a)+u)},function(e,n,a,u){return.5*Math.sin(8*Math.PI*(e/n*a)+u)},function(e,n,a,u){return.5*Math.sin(.5*Math.PI*(e/n*a)+u)},function(e,n,a,u){return.5*Math.sin(.25*Math.PI*(e/n*a)+u)}),E.loadSoundProfile({name:"piano",attack:function(){return.002},dampen:function(e,n,a){return Math.pow(.5*Math.log(n*a/e),2)},wave:function(e,n,a,u){var C=this.modulate[0];return this.modulate[1](e,n,a,Math.pow(C(e,n,a,0),2)+.75*C(e,n,a,.25)+.1*C(e,n,a,.5))}},{name:"organ",attack:function(){return.3},dampen:function(e,n){return 1+.01*n},wave:function(e,n,a){var u=this.modulate[0];return this.modulate[1](e,n,a,u(e,n,a,0)+.5*u(e,n,a,.25)+.25*u(e,n,a,.5))}},{name:"acoustic",attack:function(){return.002},dampen:function(){return 1},wave:function(e,n,a){var u=this.vars;u.valueTable=u.valueTable?u.valueTable:[],void 0===u.playVal&&(u.playVal=0),void 0===u.periodCount&&(u.periodCount=0);var C=u.valueTable,D=u.playVal,F=u.periodCount,W=n/a,te=Math.floor(100*(W-Math.floor(W))),oe=!1;if(C.length<=Math.ceil(W))return C.push(2*Math.round(Math.random())-1),C[C.length-1];C[D]=.5*(C[D>=C.length-1?0:D+1]+C[D]),D>=Math.floor(W)&&(D<Math.ceil(W)?F%100>=te&&(oe=!0,C[D+1]=.5*(C[0]+C[D+1]),u.periodCount++):oe=!0);var q=C[D];return oe?u.playVal=0:u.playVal++,q}},{name:"edm",attack:function(){return.002},dampen:function(){return 1},wave:function(e,n,a){var u=this.modulate[0],C=this.modulate.slice(1);return C[0](e,n,a,C[9](e,n,a,C[2](e,n,a,Math.pow(u(e,n,a,0),3)+Math.pow(u(e,n,a,.5),5)+Math.pow(u(e,n,a,1),7)))+C[8](e,n,a,u(e,n,a,1.75)))}})},66419:(B,K,f)=>{B.exports=f(96711)},77766:(B,K,f)=>{B.exports=f(86934)},72119:(B,K,f)=>{B.exports=f(48505)},20116:(B,K,f)=>{B.exports=f(12265)},94473:(B,K,f)=>{B.exports=f(81e3)},78580:(B,K,f)=>{B.exports=f(33866)},2991:(B,K,f)=>{B.exports=f(72016)},3649:(B,K,f)=>{B.exports=f(51387)},92762:(B,K,f)=>{B.exports=f(74607)},29828:(B,K,f)=>{B.exports=f(31137)},59340:(B,K,f)=>{B.exports=f(96354)},51942:(B,K,f)=>{B.exports=f(74230)},26295:(B,K,f)=>{B.exports=f(51589)},86902:(B,K,f)=>{B.exports=f(52298)},93476:(B,K,f)=>{B.exports=f(6870)},94435:(B,K,f)=>{B.exports=f(68372)},52424:(B,K,f)=>{B.exports=f(18362)},53592:(B,K,f)=>{B.exports=f(21162)},78363:(B,K,f)=>{B.exports=f(45750)},19996:(B,K,f)=>{B.exports=f(23850)},30699:(B,K,f)=>{B.exports=f(98961)},28834:(B,K,f)=>{B.exports=f(41629)},95683:(B,K,f)=>{B.exports=f(15923)},95238:(B,K,f)=>{B.exports=f(79769)},32752:(B,K,f)=>{B.exports=f(90878)},44341:(B,K,f)=>{B.exports=f(91390)},58377:(B,K,f)=>{B.exports=f(48562)},13038:(B,K,f)=>{B.exports=f(33935)},63263:(B,K,f)=>{B.exports=f(48775)},89356:(B,K,f)=>{B.exports=f(95988)},69798:(B,K,f)=>{B.exports=f(72851)},51446:(B,K,f)=>{B.exports=f(4106)},23882:(B,K,f)=>{B.exports=f(84074)},63109:(B,K,f)=>{B.exports=f(67854)},35987:(B,K,f)=>{"use strict";function C(Ae,Ce,de,re){return new(de||(de=Promise))(function(ze,De){function st(Ot){try{dt(re.next(Ot))}catch(kt){De(kt)}}function pt(Ot){try{dt(re.throw(Ot))}catch(kt){De(kt)}}function dt(Ot){Ot.done?ze(Ot.value):function ot(ze){return ze instanceof de?ze:new de(function(De){De(ze)})}(Ot.value).then(st,pt)}dt((re=re.apply(Ae,Ce||[])).next())})}function le(Ae){return this instanceof le?(this.v=Ae,this):new le(Ae)}function _e(Ae,Ce,de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ot,re=de.apply(Ae,Ce||[]),ze=[];return ot={},De("next"),De("throw"),De("return"),ot[Symbol.asyncIterator]=function(){return this},ot;function De(oi){re[oi]&&(ot[oi]=function(bi){return new Promise(function(ti,Rt){ze.push([oi,bi,ti,Rt])>1||st(oi,bi)})})}function st(oi,bi){try{!function pt(oi){oi.value instanceof le?Promise.resolve(oi.value.v).then(dt,Ot):kt(ze[0][2],oi)}(re[oi](bi))}catch(ti){kt(ze[0][3],ti)}}function dt(oi){st("next",oi)}function Ot(oi){st("throw",oi)}function kt(oi,bi){oi(bi),ze.shift(),ze.length&&st(ze[0][0],ze[0][1])}}function Ue(Ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var de,Ce=Ae[Symbol.asyncIterator];return Ce?Ce.call(Ae):(Ae=function te(Ae){var Ce="function"==typeof Symbol&&Symbol.iterator,de=Ce&&Ae[Ce],re=0;if(de)return de.call(Ae);if(Ae&&"number"==typeof Ae.length)return{next:function(){return Ae&&re>=Ae.length&&(Ae=void 0),{value:Ae&&Ae[re++],done:!Ae}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ae),de={},re("next"),re("throw"),re("return"),de[Symbol.asyncIterator]=function(){return this},de);function re(ze){de[ze]=Ae[ze]&&function(De){return new Promise(function(st,pt){!function ot(ze,De,st,pt){Promise.resolve(pt).then(function(dt){ze({value:dt,done:st})},De)}(st,pt,(De=Ae[ze](De)).done,De.value)})}}}f.d(K,{mG:()=>C,qq:()=>le,FC:()=>_e,KL:()=>Ue})},24654:()=>{},41777:(B,K,f)=>{"use strict";f.d(K,{l3:()=>t,_j:()=>E,LC:()=>m,ZN:()=>_e,jt:()=>n,pV:()=>oe,F4:()=>F,IO:()=>ue,vP:()=>u,SB:()=>D,oB:()=>C,eR:()=>W,X$:()=>e,ZE:()=>Pe,k1:()=>Ue});class E{}class m{}const t="*";function e(Se,ve){return{type:7,name:Se,definitions:ve,options:{}}}function n(Se,ve=null){return{type:4,styles:ve,timings:Se}}function u(Se,ve=null){return{type:2,steps:Se,options:ve}}function C(Se){return{type:6,styles:Se,offset:null}}function D(Se,ve,se){return{type:0,name:Se,styles:ve,options:se}}function F(Se){return{type:5,steps:Se}}function W(Se,ve,se=null){return{type:1,expr:Se,animation:ve,options:se}}function oe(Se=null){return{type:9,options:Se}}function ue(Se,ve,se=null){return{type:11,selector:Se,animation:ve,options:se}}function le(Se){Promise.resolve(null).then(Se)}class _e{constructor(ve=0,se=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=ve+se}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}onStart(ve){this._onStartFns.push(ve)}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(ve=>ve()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(ve){this._position=this.totalTime?ve*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(ve){const se="start"==ve?this._onStartFns:this._onDoneFns;se.forEach(me=>me()),se.length=0}}class Pe{constructor(ve){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=ve;let se=0,me=0,ce=0;const Ne=this.players.length;0==Ne?le(()=>this._onFinish()):this.players.forEach(Ae=>{Ae.onDone(()=>{++se==Ne&&this._onFinish()}),Ae.onDestroy(()=>{++me==Ne&&this._onDestroy()}),Ae.onStart(()=>{++ce==Ne&&this._onStart()})}),this.totalTime=this.players.reduce((Ae,Ce)=>Math.max(Ae,Ce.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(ve=>ve()),this._onDoneFns=[])}init(){this.players.forEach(ve=>ve.init())}onStart(ve){this._onStartFns.push(ve)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(ve=>ve()),this._onStartFns=[])}onDone(ve){this._onDoneFns.push(ve)}onDestroy(ve){this._onDestroyFns.push(ve)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(ve=>ve.play())}pause(){this.players.forEach(ve=>ve.pause())}restart(){this.players.forEach(ve=>ve.restart())}finish(){this._onFinish(),this.players.forEach(ve=>ve.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(ve=>ve.destroy()),this._onDestroyFns.forEach(ve=>ve()),this._onDestroyFns=[])}reset(){this.players.forEach(ve=>ve.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(ve){const se=ve*this.totalTime;this.players.forEach(me=>{const ce=me.totalTime?Math.min(1,se/me.totalTime):1;me.setPosition(ce)})}getPosition(){const ve=this.players.reduce((se,me)=>null===se||me.totalTime>se.totalTime?me:se,null);return null!=ve?ve.getPosition():0}beforeDestroy(){this.players.forEach(ve=>{ve.beforeDestroy&&ve.beforeDestroy()})}triggerCallback(ve){const se="start"==ve?this._onStartFns:this._onDoneFns;se.forEach(me=>me()),se.length=0}}const Ue="!"},15664:(B,K,f)=>{"use strict";f.d(K,{rt:()=>Tt,s1:()=>De,kH:()=>yi,Em:()=>st,tE:()=>_i,qV:()=>zt,qm:()=>ai,ic:()=>dt,Kd:()=>Di,X6:()=>vt,yG:()=>Et});var E=f(69808),m=f(5e3),t=f(77579),e=f(50727),n=f(61135),a=f(39646),u=f(91159),C=f(18505),D=f(78372),F=f(39300),W=f(54004),te=f(95698),oe=f(35684),q=f(71884),ue=f(82722),Te=f(63191),le=f(70925),_e=f(17144);class ze{constructor(Ee){this._items=Ee,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new t.x,this._typeaheadSubscription=e.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=Ve=>Ve.disabled,this._pressedLetters=[],this.tabOut=new t.x,this.change=new t.x,Ee instanceof m.n_E&&Ee.changes.subscribe(Ve=>{if(this._activeItem){const Ut=Ve.toArray().indexOf(this._activeItem);Ut>-1&&Ut!==this._activeItemIndex&&(this._activeItemIndex=Ut)}})}skipPredicate(Ee){return this._skipPredicateFn=Ee,this}withWrap(Ee=!0){return this._wrap=Ee,this}withVerticalOrientation(Ee=!0){return this._vertical=Ee,this}withHorizontalOrientation(Ee){return this._horizontal=Ee,this}withAllowedModifierKeys(Ee){return this._allowedModifierKeys=Ee,this}withTypeAhead(Ee=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,C.b)(Ve=>this._pressedLetters.push(Ve)),(0,D.b)(Ee),(0,F.h)(()=>this._pressedLetters.length>0),(0,W.U)(()=>this._pressedLetters.join(""))).subscribe(Ve=>{const gt=this._getItemsArray();for(let Ut=1;Ut<gt.length+1;Ut++){const Xi=(this._activeItemIndex+Ut)%gt.length,ln=gt[Xi];if(!this._skipPredicateFn(ln)&&0===ln.getLabel().toUpperCase().trim().indexOf(Ve)){this.setActiveItem(Xi);break}}this._pressedLetters=[]}),this}withHomeAndEnd(Ee=!0){return this._homeAndEnd=Ee,this}setActiveItem(Ee){const Ve=this._activeItem;this.updateActiveItem(Ee),this._activeItem!==Ve&&this.change.next(this._activeItemIndex)}onKeydown(Ee){const Ve=Ee.keyCode,Ut=["altKey","ctrlKey","metaKey","shiftKey"].every(Xi=>!Ee[Xi]||this._allowedModifierKeys.indexOf(Xi)>-1);switch(Ve){case u.Mf:return void this.tabOut.next();case u.JH:if(this._vertical&&Ut){this.setNextItemActive();break}return;case u.LH:if(this._vertical&&Ut){this.setPreviousItemActive();break}return;case u.SV:if(this._horizontal&&Ut){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case u.oh:if(this._horizontal&&Ut){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case u.Sd:if(this._homeAndEnd&&Ut){this.setFirstItemActive();break}return;case u.uR:if(this._homeAndEnd&&Ut){this.setLastItemActive();break}return;default:return void((Ut||(0,u.Vb)(Ee,"shiftKey"))&&(Ee.key&&1===Ee.key.length?this._letterKeyStream.next(Ee.key.toLocaleUpperCase()):(Ve>=u.A&&Ve<=u.Z||Ve>=u.xE&&Ve<=u.aO)&&this._letterKeyStream.next(String.fromCharCode(Ve))))}this._pressedLetters=[],Ee.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(Ee){const Ve=this._getItemsArray(),gt="number"==typeof Ee?Ee:Ve.indexOf(Ee),Ut=Ve[gt];this._activeItem=null==Ut?null:Ut,this._activeItemIndex=gt}_setActiveItemByDelta(Ee){this._wrap?this._setActiveInWrapMode(Ee):this._setActiveInDefaultMode(Ee)}_setActiveInWrapMode(Ee){const Ve=this._getItemsArray();for(let gt=1;gt<=Ve.length;gt++){const Ut=(this._activeItemIndex+Ee*gt+Ve.length)%Ve.length;if(!this._skipPredicateFn(Ve[Ut]))return void this.setActiveItem(Ut)}}_setActiveInDefaultMode(Ee){this._setActiveItemByIndex(this._activeItemIndex+Ee,Ee)}_setActiveItemByIndex(Ee,Ve){const gt=this._getItemsArray();if(gt[Ee]){for(;this._skipPredicateFn(gt[Ee]);)if(!gt[Ee+=Ve])return;this.setActiveItem(Ee)}}_getItemsArray(){return this._items instanceof m.n_E?this._items.toArray():this._items}}class De extends ze{setActiveItem(Ee){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(Ee),this.activeItem&&this.activeItem.setActiveStyles()}}class st extends ze{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(Ee){return this._origin=Ee,this}setActiveItem(Ee){super.setActiveItem(Ee),this.activeItem&&this.activeItem.focus(this._origin)}}let dt=(()=>{class He{constructor(Ve){this._platform=Ve}isDisabled(Ve){return Ve.hasAttribute("disabled")}isVisible(Ve){return function kt(He){return!!(He.offsetWidth||He.offsetHeight||"function"==typeof He.getClientRects&&He.getClientRects().length)}(Ve)&&"visible"===getComputedStyle(Ve).visibility}isTabbable(Ve){if(!this._platform.isBrowser)return!1;const gt=function Ot(He){try{return He.frameElement}catch(Ee){return null}}(function Re(He){return He.ownerDocument&&He.ownerDocument.defaultView||window}(Ve));if(gt&&(-1===Ye(gt)||!this.isVisible(gt)))return!1;let Ut=Ve.nodeName.toLowerCase(),Xi=Ye(Ve);return Ve.hasAttribute("contenteditable")?-1!==Xi:!("iframe"===Ut||"object"===Ut||this._platform.WEBKIT&&this._platform.IOS&&!function Je(He){let Ee=He.nodeName.toLowerCase(),Ve="input"===Ee&&He.type;return"text"===Ve||"password"===Ve||"select"===Ee||"textarea"===Ee}(Ve))&&("audio"===Ut?!!Ve.hasAttribute("controls")&&-1!==Xi:"video"===Ut?-1!==Xi&&(null!==Xi||this._platform.FIREFOX||Ve.hasAttribute("controls")):Ve.tabIndex>=0)}isFocusable(Ve,gt){return function ut(He){return!function bi(He){return function Rt(He){return"input"==He.nodeName.toLowerCase()}(He)&&"hidden"==He.type}(He)&&(function oi(He){let Ee=He.nodeName.toLowerCase();return"input"===Ee||"select"===Ee||"button"===Ee||"textarea"===Ee}(He)||function ti(He){return function ii(He){return"a"==He.nodeName.toLowerCase()}(He)&&He.hasAttribute("href")}(He)||He.hasAttribute("contenteditable")||mt(He))}(Ve)&&!this.isDisabled(Ve)&&((null==gt?void 0:gt.ignoreVisibility)||this.isVisible(Ve))}}return He.\u0275fac=function(Ve){return new(Ve||He)(m.LFG(le.t4))},He.\u0275prov=m.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function mt(He){if(!He.hasAttribute("tabindex")||void 0===He.tabIndex)return!1;let Ee=He.getAttribute("tabindex");return!(!Ee||isNaN(parseInt(Ee,10)))}function Ye(He){if(!mt(He))return null;const Ee=parseInt(He.getAttribute("tabindex")||"",10);return isNaN(Ee)?-1:Ee}class yt{constructor(Ee,Ve,gt,Ut,Xi=!1){this._element=Ee,this._checker=Ve,this._ngZone=gt,this._document=Ut,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Xi||this.attachAnchors()}get enabled(){return this._enabled}set enabled(Ee){this._enabled=Ee,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ee,this._startAnchor),this._toggleAnchorTabIndex(Ee,this._endAnchor))}destroy(){const Ee=this._startAnchor,Ve=this._endAnchor;Ee&&(Ee.removeEventListener("focus",this.startAnchorListener),Ee.remove()),Ve&&(Ve.removeEventListener("focus",this.endAnchorListener),Ve.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(Ee){return new Promise(Ve=>{this._executeOnStable(()=>Ve(this.focusInitialElement(Ee)))})}focusFirstTabbableElementWhenReady(Ee){return new Promise(Ve=>{this._executeOnStable(()=>Ve(this.focusFirstTabbableElement(Ee)))})}focusLastTabbableElementWhenReady(Ee){return new Promise(Ve=>{this._executeOnStable(()=>Ve(this.focusLastTabbableElement(Ee)))})}_getRegionBoundary(Ee){const Ve=this._element.querySelectorAll(`[cdk-focus-region-${Ee}], [cdkFocusRegion${Ee}], [cdk-focus-${Ee}]`);return"start"==Ee?Ve.length?Ve[0]:this._getFirstTabbableElement(this._element):Ve.length?Ve[Ve.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(Ee){const Ve=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(Ve){if(!this._checker.isFocusable(Ve)){const gt=this._getFirstTabbableElement(Ve);return null==gt||gt.focus(Ee),!!gt}return Ve.focus(Ee),!0}return this.focusFirstTabbableElement(Ee)}focusFirstTabbableElement(Ee){const Ve=this._getRegionBoundary("start");return Ve&&Ve.focus(Ee),!!Ve}focusLastTabbableElement(Ee){const Ve=this._getRegionBoundary("end");return Ve&&Ve.focus(Ee),!!Ve}hasAttached(){return this._hasAttached}_getFirstTabbableElement(Ee){if(this._checker.isFocusable(Ee)&&this._checker.isTabbable(Ee))return Ee;const Ve=Ee.children;for(let gt=0;gt<Ve.length;gt++){const Ut=Ve[gt].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(Ve[gt]):null;if(Ut)return Ut}return null}_getLastTabbableElement(Ee){if(this._checker.isFocusable(Ee)&&this._checker.isTabbable(Ee))return Ee;const Ve=Ee.children;for(let gt=Ve.length-1;gt>=0;gt--){const Ut=Ve[gt].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(Ve[gt]):null;if(Ut)return Ut}return null}_createAnchor(){const Ee=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,Ee),Ee.classList.add("cdk-visually-hidden"),Ee.classList.add("cdk-focus-trap-anchor"),Ee.setAttribute("aria-hidden","true"),Ee}_toggleAnchorTabIndex(Ee,Ve){Ee?Ve.setAttribute("tabindex","0"):Ve.removeAttribute("tabindex")}toggleAnchors(Ee){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(Ee,this._startAnchor),this._toggleAnchorTabIndex(Ee,this._endAnchor))}_executeOnStable(Ee){this._ngZone.isStable?Ee():this._ngZone.onStable.pipe((0,te.q)(1)).subscribe(Ee)}}let zt=(()=>{class He{constructor(Ve,gt,Ut){this._checker=Ve,this._ngZone=gt,this._document=Ut}create(Ve,gt=!1){return new yt(Ve,this._checker,this._ngZone,this._document,gt)}}return He.\u0275fac=function(Ve){return new(Ve||He)(m.LFG(dt),m.LFG(m.R0b),m.LFG(E.K0))},He.\u0275prov=m.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();function vt(He){return 0===He.offsetX&&0===He.offsetY}function Et(He){const Ee=He.touches&&He.touches[0]||He.changedTouches&&He.changedTouches[0];return!(!Ee||-1!==Ee.identifier||null!=Ee.radiusX&&1!==Ee.radiusX||null!=Ee.radiusY&&1!==Ee.radiusY)}const Ke=new m.OlP("cdk-input-modality-detector-options"),Ze={ignoreKeys:[u.zL,u.jx,u.b2,u.MW,u.JU]},Kt=(0,le.i$)({passive:!0,capture:!0});let Ei=(()=>{class He{constructor(Ve,gt,Ut,Xi){this._platform=Ve,this._mostRecentTarget=null,this._modality=new n.X(null),this._lastTouchMs=0,this._onKeydown=ln=>{var An,qn;(null===(qn=null===(An=this._options)||void 0===An?void 0:An.ignoreKeys)||void 0===qn?void 0:qn.some(si=>si===ln.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=(0,le.sA)(ln))},this._onMousedown=ln=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vt(ln)?"keyboard":"mouse"),this._mostRecentTarget=(0,le.sA)(ln))},this._onTouchstart=ln=>{Et(ln)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,le.sA)(ln))},this._options=Object.assign(Object.assign({},Ze),Xi),this.modalityDetected=this._modality.pipe((0,oe.T)(1)),this.modalityChanged=this.modalityDetected.pipe((0,q.x)()),Ve.isBrowser&&gt.runOutsideAngular(()=>{Ut.addEventListener("keydown",this._onKeydown,Kt),Ut.addEventListener("mousedown",this._onMousedown,Kt),Ut.addEventListener("touchstart",this._onTouchstart,Kt)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Kt),document.removeEventListener("mousedown",this._onMousedown,Kt),document.removeEventListener("touchstart",this._onTouchstart,Kt))}}return He.\u0275fac=function(Ve){return new(Ve||He)(m.LFG(le.t4),m.LFG(m.R0b),m.LFG(E.K0),m.LFG(Ke,8))},He.\u0275prov=m.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const vi=new m.OlP("liveAnnouncerElement",{providedIn:"root",factory:function pi(){return null}}),Gi=new m.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Di=(()=>{class He{constructor(Ve,gt,Ut,Xi){this._ngZone=gt,this._defaultOptions=Xi,this._document=Ut,this._liveElement=Ve||this._createLiveElement()}announce(Ve,...gt){const Ut=this._defaultOptions;let Xi,ln;return 1===gt.length&&"number"==typeof gt[0]?ln=gt[0]:[Xi,ln]=gt,this.clear(),clearTimeout(this._previousTimeout),Xi||(Xi=Ut&&Ut.politeness?Ut.politeness:"polite"),null==ln&&Ut&&(ln=Ut.duration),this._liveElement.setAttribute("aria-live",Xi),this._ngZone.runOutsideAngular(()=>new Promise(An=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=Ve,An(),"number"==typeof ln&&(this._previousTimeout=setTimeout(()=>this.clear(),ln))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var Ve;clearTimeout(this._previousTimeout),null===(Ve=this._liveElement)||void 0===Ve||Ve.remove(),this._liveElement=null}_createLiveElement(){const Ve="cdk-live-announcer-element",gt=this._document.getElementsByClassName(Ve),Ut=this._document.createElement("div");for(let Xi=0;Xi<gt.length;Xi++)gt[Xi].remove();return Ut.classList.add(Ve),Ut.classList.add("cdk-visually-hidden"),Ut.setAttribute("aria-atomic","true"),Ut.setAttribute("aria-live","polite"),this._document.body.appendChild(Ut),Ut}}return He.\u0275fac=function(Ve){return new(Ve||He)(m.LFG(vi,8),m.LFG(m.R0b),m.LFG(E.K0),m.LFG(Gi,8))},He.\u0275prov=m.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})();const _t=new m.OlP("cdk-focus-monitor-default-options"),Mt=(0,le.i$)({passive:!0,capture:!0});let _i=(()=>{class He{constructor(Ve,gt,Ut,Xi,ln){this._ngZone=Ve,this._platform=gt,this._inputModalityDetector=Ut,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new t.x,this._rootNodeFocusAndBlurListener=An=>{const qn=(0,le.sA)(An),si="focus"===An.type?this._onFocus:this._onBlur;for(let $t=qn;$t;$t=$t.parentElement)si.call(this,An,$t)},this._document=Xi,this._detectionMode=(null==ln?void 0:ln.detectionMode)||0}monitor(Ve,gt=!1){const Ut=(0,Te.fI)(Ve);if(!this._platform.isBrowser||1!==Ut.nodeType)return(0,a.of)(null);const Xi=(0,le.kV)(Ut)||this._getDocument(),ln=this._elementInfo.get(Ut);if(ln)return gt&&(ln.checkChildren=!0),ln.subject;const An={checkChildren:gt,subject:new t.x,rootNode:Xi};return this._elementInfo.set(Ut,An),this._registerGlobalListeners(An),An.subject}stopMonitoring(Ve){const gt=(0,Te.fI)(Ve),Ut=this._elementInfo.get(gt);Ut&&(Ut.subject.complete(),this._setClasses(gt),this._elementInfo.delete(gt),this._removeGlobalListeners(Ut))}focusVia(Ve,gt,Ut){const Xi=(0,Te.fI)(Ve);Xi===this._getDocument().activeElement?this._getClosestElementsInfo(Xi).forEach(([An,qn])=>this._originChanged(An,gt,qn)):(this._setOrigin(gt),"function"==typeof Xi.focus&&Xi.focus(Ut))}ngOnDestroy(){this._elementInfo.forEach((Ve,gt)=>this.stopMonitoring(gt))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(Ve){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(Ve)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(Ve){return 1===this._detectionMode||!!(null==Ve?void 0:Ve.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(Ve,gt){Ve.classList.toggle("cdk-focused",!!gt),Ve.classList.toggle("cdk-touch-focused","touch"===gt),Ve.classList.toggle("cdk-keyboard-focused","keyboard"===gt),Ve.classList.toggle("cdk-mouse-focused","mouse"===gt),Ve.classList.toggle("cdk-program-focused","program"===gt)}_setOrigin(Ve,gt=!1){this._ngZone.runOutsideAngular(()=>{this._origin=Ve,this._originFromTouchInteraction="touch"===Ve&&gt,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(Ve,gt){const Ut=this._elementInfo.get(gt),Xi=(0,le.sA)(Ve);!Ut||!Ut.checkChildren&&gt!==Xi||this._originChanged(gt,this._getFocusOrigin(Xi),Ut)}_onBlur(Ve,gt){const Ut=this._elementInfo.get(gt);!Ut||Ut.checkChildren&&Ve.relatedTarget instanceof Node&&gt.contains(Ve.relatedTarget)||(this._setClasses(gt),this._emitOrigin(Ut.subject,null))}_emitOrigin(Ve,gt){this._ngZone.run(()=>Ve.next(gt))}_registerGlobalListeners(Ve){if(!this._platform.isBrowser)return;const gt=Ve.rootNode,Ut=this._rootNodeFocusListenerCount.get(gt)||0;Ut||this._ngZone.runOutsideAngular(()=>{gt.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mt),gt.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mt)}),this._rootNodeFocusListenerCount.set(gt,Ut+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,ue.R)(this._stopInputModalityDetector)).subscribe(Xi=>{this._setOrigin(Xi,!0)}))}_removeGlobalListeners(Ve){const gt=Ve.rootNode;if(this._rootNodeFocusListenerCount.has(gt)){const Ut=this._rootNodeFocusListenerCount.get(gt);Ut>1?this._rootNodeFocusListenerCount.set(gt,Ut-1):(gt.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mt),gt.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mt),this._rootNodeFocusListenerCount.delete(gt))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(Ve,gt,Ut){this._setClasses(Ve,gt),this._emitOrigin(Ut.subject,gt),this._lastFocusOrigin=gt}_getClosestElementsInfo(Ve){const gt=[];return this._elementInfo.forEach((Ut,Xi)=>{(Xi===Ve||Ut.checkChildren&&Xi.contains(Ve))&&gt.push([Xi,Ut])}),gt}}return He.\u0275fac=function(Ve){return new(Ve||He)(m.LFG(m.R0b),m.LFG(le.t4),m.LFG(Ei),m.LFG(E.K0,8),m.LFG(_t,8))},He.\u0275prov=m.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),yi=(()=>{class He{constructor(Ve,gt){this._elementRef=Ve,this._focusMonitor=gt,this.cdkFocusChange=new m.vpe}ngAfterViewInit(){const Ve=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(Ve,1===Ve.nodeType&&Ve.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(gt=>this.cdkFocusChange.emit(gt))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return He.\u0275fac=function(Ve){return new(Ve||He)(m.Y36(m.SBq),m.Y36(_i))},He.\u0275dir=m.lG2({type:He,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),He})();const Fi="cdk-high-contrast-black-on-white",Pi="cdk-high-contrast-white-on-black",gn="cdk-high-contrast-active";let ai=(()=>{class He{constructor(Ve,gt){this._platform=Ve,this._document=gt}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const Ve=this._document.createElement("div");Ve.style.backgroundColor="rgb(1,2,3)",Ve.style.position="absolute",this._document.body.appendChild(Ve);const gt=this._document.defaultView||window,Ut=gt&&gt.getComputedStyle?gt.getComputedStyle(Ve):null,Xi=(Ut&&Ut.backgroundColor||"").replace(/ /g,"");switch(Ve.remove(),Xi){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const Ve=this._document.body.classList;Ve.remove(gn),Ve.remove(Fi),Ve.remove(Pi),this._hasCheckedHighContrastMode=!0;const gt=this.getHighContrastMode();1===gt?(Ve.add(gn),Ve.add(Fi)):2===gt&&(Ve.add(gn),Ve.add(Pi))}}}return He.\u0275fac=function(Ve){return new(Ve||He)(m.LFG(le.t4),m.LFG(E.K0))},He.\u0275prov=m.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})(),Tt=(()=>{class He{constructor(Ve){Ve._applyBodyHighContrastModeCssClasses()}}return He.\u0275fac=function(Ve){return new(Ve||He)(m.LFG(ai))},He.\u0275mod=m.oAB({type:He}),He.\u0275inj=m.cJS({imports:[[le.ud,_e.Q8]]}),He})()},50226:(B,K,f)=>{"use strict";f.d(K,{vT:()=>D,Is:()=>u});var E=f(5e3),m=f(69808);const t=new E.OlP("cdk-dir-doc",{providedIn:"root",factory:function e(){return(0,E.f3M)(m.K0)}}),n=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let u=(()=>{class F{constructor(te){if(this.value="ltr",this.change=new E.vpe,te){const q=te.documentElement?te.documentElement.dir:null;this.value=function a(F){const W=(null==F?void 0:F.toLowerCase())||"";return"auto"===W&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?n.test(navigator.language)?"rtl":"ltr":"rtl"===W?"rtl":"ltr"}((te.body?te.body.dir:null)||q||"ltr")}}ngOnDestroy(){this.change.complete()}}return F.\u0275fac=function(te){return new(te||F)(E.LFG(t,8))},F.\u0275prov=E.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),D=(()=>{class F{}return F.\u0275fac=function(te){return new(te||F)},F.\u0275mod=E.oAB({type:F}),F.\u0275inj=E.cJS({}),F})()},63191:(B,K,f)=>{"use strict";f.d(K,{Eq:()=>n,Ig:()=>m,HM:()=>a,fI:()=>u,su:()=>t,du:()=>C});var E=f(5e3);function m(D){return null!=D&&"false"!=`${D}`}function t(D,F=0){return function e(D){return!isNaN(parseFloat(D))&&!isNaN(Number(D))}(D)?Number(D):F}function n(D){return Array.isArray(D)?D:[D]}function a(D){return null==D?"":"string"==typeof D?D:`${D}px`}function u(D){return D instanceof E.SBq?D.nativeElement:D}function C(D,F=/\s+/){const W=[];if(null!=D){const te=Array.isArray(D)?D:`${D}`.split(F);for(const oe of te){const q=`${oe}`.trim();q&&W.push(q)}}return W}},91159:(B,K,f)=>{"use strict";f.d(K,{A:()=>oi,zL:()=>C,ZH:()=>m,jx:()=>u,yY:()=>me,JH:()=>Ue,uR:()=>ue,K5:()=>n,hY:()=>W,Sd:()=>Te,oh:()=>le,b2:()=>sr,MW:()=>pi,aO:()=>st,VM:()=>q,Ku:()=>oe,SV:()=>Pe,JU:()=>a,L_:()=>te,Mf:()=>t,LH:()=>_e,Z:()=>vi,xE:()=>ce,Vb:()=>Qn});const m=8,t=9,n=13,a=16,u=17,C=18,W=27,te=32,oe=33,q=34,ue=35,Te=36,le=37,_e=38,Pe=39,Ue=40,me=46,ce=48,st=57,oi=65,vi=90,pi=91,sr=224;function Qn(or,...Sn){return Sn.length?Sn.some(Qo=>or[Qo]):or.altKey||or.shiftKey||or.ctrlKey||or.metaKey}},95113:(B,K,f)=>{"use strict";f.d(K,{Yg:()=>Ue,u3:()=>ve});var E=f(5e3),m=f(63191),t=f(77579),e=f(39841),n=f(97272),a=f(68306),u=f(95698),C=f(35684),D=f(78372),F=f(54004),W=f(68675),te=f(82722),oe=f(70925);const ue=new Set;let Te,le=(()=>{class se{constructor(ce){this._platform=ce,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Pe}matchMedia(ce){return(this._platform.WEBKIT||this._platform.BLINK)&&function _e(se){if(!ue.has(se))try{Te||(Te=document.createElement("style"),Te.setAttribute("type","text/css"),document.head.appendChild(Te)),Te.sheet&&(Te.sheet.insertRule(`@media ${se} {body{ }}`,0),ue.add(se))}catch(me){console.error(me)}}(ce),this._matchMedia(ce)}}return se.\u0275fac=function(ce){return new(ce||se)(E.LFG(oe.t4))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();function Pe(se){return{matches:"all"===se||""===se,media:se,addListener:()=>{},removeListener:()=>{}}}let Ue=(()=>{class se{constructor(ce,Ne){this._mediaMatcher=ce,this._zone=Ne,this._queries=new Map,this._destroySubject=new t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(ce){return Se((0,m.Eq)(ce)).some(Ae=>this._registerQuery(Ae).mql.matches)}observe(ce){const Ae=Se((0,m.Eq)(ce)).map(de=>this._registerQuery(de).observable);let Ce=(0,e.a)(Ae);return Ce=(0,n.z)(Ce.pipe((0,u.q)(1)),Ce.pipe((0,C.T)(1),(0,D.b)(0))),Ce.pipe((0,F.U)(de=>{const re={matches:!1,breakpoints:{}};return de.forEach(({matches:ot,query:ze})=>{re.matches=re.matches||ot,re.breakpoints[ze]=ot}),re}))}_registerQuery(ce){if(this._queries.has(ce))return this._queries.get(ce);const Ne=this._mediaMatcher.matchMedia(ce),Ce={observable:new a.y(de=>{const re=ot=>this._zone.run(()=>de.next(ot));return Ne.addListener(re),()=>{Ne.removeListener(re)}}).pipe((0,W.O)(Ne),(0,F.U)(({matches:de})=>({query:ce,matches:de})),(0,te.R)(this._destroySubject)),mql:Ne};return this._queries.set(ce,Ce),Ce}}return se.\u0275fac=function(ce){return new(ce||se)(E.LFG(le),E.LFG(E.R0b))},se.\u0275prov=E.Yz7({token:se,factory:se.\u0275fac,providedIn:"root"}),se})();function Se(se){return se.map(me=>me.split(",")).reduce((me,ce)=>me.concat(ce)).map(me=>me.trim())}const ve={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},17144:(B,K,f)=>{"use strict";f.d(K,{wD:()=>C,Q8:()=>D});var E=f(63191),m=f(5e3),t=f(68306),e=f(77579),n=f(78372);let a=(()=>{class F{create(te){return"undefined"==typeof MutationObserver?null:new MutationObserver(te)}}return F.\u0275fac=function(te){return new(te||F)},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),u=(()=>{class F{constructor(te){this._mutationObserverFactory=te,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((te,oe)=>this._cleanupObserver(oe))}observe(te){const oe=(0,E.fI)(te);return new t.y(q=>{const Te=this._observeElement(oe).subscribe(q);return()=>{Te.unsubscribe(),this._unobserveElement(oe)}})}_observeElement(te){if(this._observedElements.has(te))this._observedElements.get(te).count++;else{const oe=new e.x,q=this._mutationObserverFactory.create(ue=>oe.next(ue));q&&q.observe(te,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(te,{observer:q,stream:oe,count:1})}return this._observedElements.get(te).stream}_unobserveElement(te){this._observedElements.has(te)&&(this._observedElements.get(te).count--,this._observedElements.get(te).count||this._cleanupObserver(te))}_cleanupObserver(te){if(this._observedElements.has(te)){const{observer:oe,stream:q}=this._observedElements.get(te);oe&&oe.disconnect(),q.complete(),this._observedElements.delete(te)}}}return F.\u0275fac=function(te){return new(te||F)(m.LFG(a))},F.\u0275prov=m.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})(),C=(()=>{class F{constructor(te,oe,q){this._contentObserver=te,this._elementRef=oe,this._ngZone=q,this.event=new m.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(te){this._disabled=(0,E.Ig)(te),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(te){this._debounce=(0,E.su)(te),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const te=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?te.pipe((0,n.b)(this.debounce)):te).subscribe(this.event)})}_unsubscribe(){var te;null===(te=this._currentSubscription)||void 0===te||te.unsubscribe()}}return F.\u0275fac=function(te){return new(te||F)(m.Y36(u),m.Y36(m.SBq),m.Y36(m.R0b))},F.\u0275dir=m.lG2({type:F,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),F})(),D=(()=>{class F{}return F.\u0275fac=function(te){return new(te||F)},F.\u0275mod=m.oAB({type:F}),F.\u0275inj=m.cJS({providers:[a]}),F})()},91314:(B,K,f)=>{"use strict";f.d(K,{aV:()=>ii,X_:()=>ve,Xj:()=>de,U8:()=>zt});var E=f(30495),m=f(69808),t=f(5e3),e=f(63191),n=f(70925),a=f(50226),u=f(47429),C=f(77579),D=f(50727),F=f(56451),W=f(95698),te=f(82722);const oe=(0,n.Mq)();class q{constructor(rt,tt){this._viewportRuler=rt,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=tt}attach(){}enable(){if(this._canBeEnabled()){const rt=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=rt.style.left||"",this._previousHTMLStyles.top=rt.style.top||"",rt.style.left=(0,e.HM)(-this._previousScrollPosition.left),rt.style.top=(0,e.HM)(-this._previousScrollPosition.top),rt.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const rt=this._document.documentElement,At=rt.style,lt=this._document.body.style,vt=At.scrollBehavior||"",Et=lt.scrollBehavior||"";this._isEnabled=!1,At.left=this._previousHTMLStyles.left,At.top=this._previousHTMLStyles.top,rt.classList.remove("cdk-global-scrollblock"),oe&&(At.scrollBehavior=lt.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),oe&&(At.scrollBehavior=vt,lt.scrollBehavior=Et)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const tt=this._document.body,At=this._viewportRuler.getViewportSize();return tt.scrollHeight>At.height||tt.scrollWidth>At.width}}class Te{constructor(rt,tt,At,lt){this._scrollDispatcher=rt,this._ngZone=tt,this._viewportRuler=At,this._config=lt,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(rt){this._overlayRef=rt}enable(){if(this._scrollSubscription)return;const rt=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=rt.subscribe(()=>{const tt=this._viewportRuler.getViewportScrollPosition().top;Math.abs(tt-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=rt.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class le{enable(){}disable(){}attach(){}}function _e(wt,rt){return rt.some(tt=>wt.bottom<tt.top||wt.top>tt.bottom||wt.right<tt.left||wt.left>tt.right)}function Pe(wt,rt){return rt.some(tt=>wt.top<tt.top||wt.bottom>tt.bottom||wt.left<tt.left||wt.right>tt.right)}class Ue{constructor(rt,tt,At,lt){this._scrollDispatcher=rt,this._viewportRuler=tt,this._ngZone=At,this._config=lt,this._scrollSubscription=null}attach(rt){this._overlayRef=rt}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const tt=this._overlayRef.overlayElement.getBoundingClientRect(),{width:At,height:lt}=this._viewportRuler.getViewportSize();_e(tt,[{width:At,height:lt,bottom:lt,right:At,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Se=(()=>{class wt{constructor(tt,At,lt,vt){this._scrollDispatcher=tt,this._viewportRuler=At,this._ngZone=lt,this.noop=()=>new le,this.close=Et=>new Te(this._scrollDispatcher,this._ngZone,this._viewportRuler,Et),this.block=()=>new q(this._viewportRuler,this._document),this.reposition=Et=>new Ue(this._scrollDispatcher,this._viewportRuler,this._ngZone,Et),this._document=vt}}return wt.\u0275fac=function(tt){return new(tt||wt)(t.LFG(E.mF),t.LFG(E.rL),t.LFG(t.R0b),t.LFG(m.K0))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();class ve{constructor(rt){if(this.scrollStrategy=new le,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,rt){const tt=Object.keys(rt);for(const At of tt)void 0!==rt[At]&&(this[At]=rt[At])}}}class ce{constructor(rt,tt){this.connectionPair=rt,this.scrollableViewProperties=tt}}class Ce{constructor(rt,tt,At,lt,vt,Et,Ke,Ze,Wt){this._portalOutlet=rt,this._host=tt,this._pane=At,this._config=lt,this._ngZone=vt,this._keyboardDispatcher=Et,this._document=Ke,this._location=Ze,this._outsideClickDispatcher=Wt,this._backdropElement=null,this._backdropClick=new C.x,this._attachments=new C.x,this._detachments=new C.x,this._locationChanges=D.w0.EMPTY,this._backdropClickHandler=Kt=>this._backdropClick.next(Kt),this._keydownEvents=new C.x,this._outsidePointerEvents=new C.x,lt.scrollStrategy&&(this._scrollStrategy=lt.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=lt.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(rt){let tt=this._portalOutlet.attach(rt);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,W.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),tt}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const rt=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),rt}dispose(){var rt;const tt=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null===(rt=this._host)||void 0===rt||rt.remove(),this._previousHostParent=this._pane=this._host=null,tt&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(rt){rt!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=rt,this.hasAttached()&&(rt.attach(this),this.updatePosition()))}updateSize(rt){this._config=Object.assign(Object.assign({},this._config),rt),this._updateElementSize()}setDirection(rt){this._config=Object.assign(Object.assign({},this._config),{direction:rt}),this._updateElementDirection()}addPanelClass(rt){this._pane&&this._toggleClasses(this._pane,rt,!0)}removePanelClass(rt){this._pane&&this._toggleClasses(this._pane,rt,!1)}getDirection(){const rt=this._config.direction;return rt?"string"==typeof rt?rt:rt.value:"ltr"}updateScrollStrategy(rt){rt!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=rt,this.hasAttached()&&(rt.attach(this),rt.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const rt=this._pane.style;rt.width=(0,e.HM)(this._config.width),rt.height=(0,e.HM)(this._config.height),rt.minWidth=(0,e.HM)(this._config.minWidth),rt.minHeight=(0,e.HM)(this._config.minHeight),rt.maxWidth=(0,e.HM)(this._config.maxWidth),rt.maxHeight=(0,e.HM)(this._config.maxHeight)}_togglePointerEvents(rt){this._pane.style.pointerEvents=rt?"":"none"}_attachBackdrop(){const rt="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(rt)})}):this._backdropElement.classList.add(rt)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const rt=this._backdropElement;if(!rt)return;let tt;const At=()=>{rt&&(rt.removeEventListener("click",this._backdropClickHandler),rt.removeEventListener("transitionend",At),this._disposeBackdrop(rt)),this._config.backdropClass&&this._toggleClasses(rt,this._config.backdropClass,!1),clearTimeout(tt)};rt.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{rt.addEventListener("transitionend",At)}),rt.style.pointerEvents="none",tt=this._ngZone.runOutsideAngular(()=>setTimeout(At,500))}_toggleClasses(rt,tt,At){const lt=(0,e.Eq)(tt||[]).filter(vt=>!!vt);lt.length&&(At?rt.classList.add(...lt):rt.classList.remove(...lt))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const rt=this._ngZone.onStable.pipe((0,te.R)((0,F.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),rt.unsubscribe())})})}_disposeScrollStrategy(){const rt=this._scrollStrategy;rt&&(rt.disable(),rt.detach&&rt.detach())}_disposeBackdrop(rt){rt&&(rt.remove(),this._backdropElement===rt&&(this._backdropElement=null))}}let de=(()=>{class wt{constructor(tt,At){this._platform=At,this._document=tt}ngOnDestroy(){var tt;null===(tt=this._containerElement)||void 0===tt||tt.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const tt="cdk-overlay-container";if(this._platform.isBrowser||(0,n.Oy)()){const lt=this._document.querySelectorAll(`.${tt}[platform="server"], .${tt}[platform="test"]`);for(let vt=0;vt<lt.length;vt++)lt[vt].remove()}const At=this._document.createElement("div");At.classList.add(tt),(0,n.Oy)()?At.setAttribute("platform","test"):this._platform.isBrowser||At.setAttribute("platform","server"),this._document.body.appendChild(At),this._containerElement=At}}return wt.\u0275fac=function(tt){return new(tt||wt)(t.LFG(m.K0),t.LFG(n.t4))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})();const re="cdk-overlay-connected-position-bounding-box",ot=/([A-Za-z%]+)$/;class ze{constructor(rt,tt,At,lt,vt){this._viewportRuler=tt,this._document=At,this._platform=lt,this._overlayContainer=vt,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new C.x,this._resizeSubscription=D.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(rt)}get positions(){return this._preferredPositions}attach(rt){this._validatePositions(),rt.hostElement.classList.add(re),this._overlayRef=rt,this._boundingBox=rt.hostElement,this._pane=rt.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const rt=this._originRect,tt=this._overlayRect,At=this._viewportRect,lt=[];let vt;for(let Et of this._preferredPositions){let Ke=this._getOriginPoint(rt,Et),Ze=this._getOverlayPoint(Ke,tt,Et),Wt=this._getOverlayFit(Ze,tt,At,Et);if(Wt.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(Et,Ke);this._canFitWithFlexibleDimensions(Wt,Ze,At)?lt.push({position:Et,origin:Ke,overlayRect:tt,boundingBoxRect:this._calculateBoundingBoxRect(Ke,Et)}):(!vt||vt.overlayFit.visibleArea<Wt.visibleArea)&&(vt={overlayFit:Wt,overlayPoint:Ze,originPoint:Ke,position:Et,overlayRect:tt})}if(lt.length){let Et=null,Ke=-1;for(const Ze of lt){const Wt=Ze.boundingBoxRect.width*Ze.boundingBoxRect.height*(Ze.position.weight||1);Wt>Ke&&(Ke=Wt,Et=Ze)}return this._isPushed=!1,void this._applyPosition(Et.position,Et.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(vt.position,vt.originPoint);this._applyPosition(vt.position,vt.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&De(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(re),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const rt=this._lastPosition||this._preferredPositions[0],tt=this._getOriginPoint(this._originRect,rt);this._applyPosition(rt,tt)}}withScrollableContainers(rt){return this._scrollables=rt,this}withPositions(rt){return this._preferredPositions=rt,-1===rt.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(rt){return this._viewportMargin=rt,this}withFlexibleDimensions(rt=!0){return this._hasFlexibleDimensions=rt,this}withGrowAfterOpen(rt=!0){return this._growAfterOpen=rt,this}withPush(rt=!0){return this._canPush=rt,this}withLockedPosition(rt=!0){return this._positionLocked=rt,this}setOrigin(rt){return this._origin=rt,this}withDefaultOffsetX(rt){return this._offsetX=rt,this}withDefaultOffsetY(rt){return this._offsetY=rt,this}withTransformOriginOn(rt){return this._transformOriginSelector=rt,this}_getOriginPoint(rt,tt){let At,lt;if("center"==tt.originX)At=rt.left+rt.width/2;else{const vt=this._isRtl()?rt.right:rt.left,Et=this._isRtl()?rt.left:rt.right;At="start"==tt.originX?vt:Et}return lt="center"==tt.originY?rt.top+rt.height/2:"top"==tt.originY?rt.top:rt.bottom,{x:At,y:lt}}_getOverlayPoint(rt,tt,At){let lt,vt;return lt="center"==At.overlayX?-tt.width/2:"start"===At.overlayX?this._isRtl()?-tt.width:0:this._isRtl()?0:-tt.width,vt="center"==At.overlayY?-tt.height/2:"top"==At.overlayY?0:-tt.height,{x:rt.x+lt,y:rt.y+vt}}_getOverlayFit(rt,tt,At,lt){const vt=pt(tt);let{x:Et,y:Ke}=rt,Ze=this._getOffset(lt,"x"),Wt=this._getOffset(lt,"y");Ze&&(Et+=Ze),Wt&&(Ke+=Wt);let vi=0-Ke,pi=Ke+vt.height-At.height,Gi=this._subtractOverflows(vt.width,0-Et,Et+vt.width-At.width),Di=this._subtractOverflows(vt.height,vi,pi),an=Gi*Di;return{visibleArea:an,isCompletelyWithinViewport:vt.width*vt.height===an,fitsInViewportVertically:Di===vt.height,fitsInViewportHorizontally:Gi==vt.width}}_canFitWithFlexibleDimensions(rt,tt,At){if(this._hasFlexibleDimensions){const lt=At.bottom-tt.y,vt=At.right-tt.x,Et=st(this._overlayRef.getConfig().minHeight),Ke=st(this._overlayRef.getConfig().minWidth),Wt=rt.fitsInViewportHorizontally||null!=Ke&&Ke<=vt;return(rt.fitsInViewportVertically||null!=Et&&Et<=lt)&&Wt}return!1}_pushOverlayOnScreen(rt,tt,At){if(this._previousPushAmount&&this._positionLocked)return{x:rt.x+this._previousPushAmount.x,y:rt.y+this._previousPushAmount.y};const lt=pt(tt),vt=this._viewportRect,Et=Math.max(rt.x+lt.width-vt.width,0),Ke=Math.max(rt.y+lt.height-vt.height,0),Ze=Math.max(vt.top-At.top-rt.y,0),Wt=Math.max(vt.left-At.left-rt.x,0);let Kt=0,Ei=0;return Kt=lt.width<=vt.width?Wt||-Et:rt.x<this._viewportMargin?vt.left-At.left-rt.x:0,Ei=lt.height<=vt.height?Ze||-Ke:rt.y<this._viewportMargin?vt.top-At.top-rt.y:0,this._previousPushAmount={x:Kt,y:Ei},{x:rt.x+Kt,y:rt.y+Ei}}_applyPosition(rt,tt){if(this._setTransformOrigin(rt),this._setOverlayElementStyles(tt,rt),this._setBoundingBoxStyles(tt,rt),rt.panelClass&&this._addPanelClasses(rt.panelClass),this._lastPosition=rt,this._positionChanges.observers.length){const At=this._getScrollVisibility(),lt=new ce(rt,At);this._positionChanges.next(lt)}this._isInitialRender=!1}_setTransformOrigin(rt){if(!this._transformOriginSelector)return;const tt=this._boundingBox.querySelectorAll(this._transformOriginSelector);let At,lt=rt.overlayY;At="center"===rt.overlayX?"center":this._isRtl()?"start"===rt.overlayX?"right":"left":"start"===rt.overlayX?"left":"right";for(let vt=0;vt<tt.length;vt++)tt[vt].style.transformOrigin=`${At} ${lt}`}_calculateBoundingBoxRect(rt,tt){const At=this._viewportRect,lt=this._isRtl();let vt,Et,Ke,Kt,Ei,vi;if("top"===tt.overlayY)Et=rt.y,vt=At.height-Et+this._viewportMargin;else if("bottom"===tt.overlayY)Ke=At.height-rt.y+2*this._viewportMargin,vt=At.height-Ke+this._viewportMargin;else{const pi=Math.min(At.bottom-rt.y+At.top,rt.y),Gi=this._lastBoundingBoxSize.height;vt=2*pi,Et=rt.y-pi,vt>Gi&&!this._isInitialRender&&!this._growAfterOpen&&(Et=rt.y-Gi/2)}if("end"===tt.overlayX&&!lt||"start"===tt.overlayX&&lt)vi=At.width-rt.x+this._viewportMargin,Kt=rt.x-this._viewportMargin;else if("start"===tt.overlayX&&!lt||"end"===tt.overlayX&&lt)Ei=rt.x,Kt=At.right-rt.x;else{const pi=Math.min(At.right-rt.x+At.left,rt.x),Gi=this._lastBoundingBoxSize.width;Kt=2*pi,Ei=rt.x-pi,Kt>Gi&&!this._isInitialRender&&!this._growAfterOpen&&(Ei=rt.x-Gi/2)}return{top:Et,left:Ei,bottom:Ke,right:vi,width:Kt,height:vt}}_setBoundingBoxStyles(rt,tt){const At=this._calculateBoundingBoxRect(rt,tt);!this._isInitialRender&&!this._growAfterOpen&&(At.height=Math.min(At.height,this._lastBoundingBoxSize.height),At.width=Math.min(At.width,this._lastBoundingBoxSize.width));const lt={};if(this._hasExactPosition())lt.top=lt.left="0",lt.bottom=lt.right=lt.maxHeight=lt.maxWidth="",lt.width=lt.height="100%";else{const vt=this._overlayRef.getConfig().maxHeight,Et=this._overlayRef.getConfig().maxWidth;lt.height=(0,e.HM)(At.height),lt.top=(0,e.HM)(At.top),lt.bottom=(0,e.HM)(At.bottom),lt.width=(0,e.HM)(At.width),lt.left=(0,e.HM)(At.left),lt.right=(0,e.HM)(At.right),lt.alignItems="center"===tt.overlayX?"center":"end"===tt.overlayX?"flex-end":"flex-start",lt.justifyContent="center"===tt.overlayY?"center":"bottom"===tt.overlayY?"flex-end":"flex-start",vt&&(lt.maxHeight=(0,e.HM)(vt)),Et&&(lt.maxWidth=(0,e.HM)(Et))}this._lastBoundingBoxSize=At,De(this._boundingBox.style,lt)}_resetBoundingBoxStyles(){De(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){De(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(rt,tt){const At={},lt=this._hasExactPosition(),vt=this._hasFlexibleDimensions,Et=this._overlayRef.getConfig();if(lt){const Kt=this._viewportRuler.getViewportScrollPosition();De(At,this._getExactOverlayY(tt,rt,Kt)),De(At,this._getExactOverlayX(tt,rt,Kt))}else At.position="static";let Ke="",Ze=this._getOffset(tt,"x"),Wt=this._getOffset(tt,"y");Ze&&(Ke+=`translateX(${Ze}px) `),Wt&&(Ke+=`translateY(${Wt}px)`),At.transform=Ke.trim(),Et.maxHeight&&(lt?At.maxHeight=(0,e.HM)(Et.maxHeight):vt&&(At.maxHeight="")),Et.maxWidth&&(lt?At.maxWidth=(0,e.HM)(Et.maxWidth):vt&&(At.maxWidth="")),De(this._pane.style,At)}_getExactOverlayY(rt,tt,At){let lt={top:"",bottom:""},vt=this._getOverlayPoint(tt,this._overlayRect,rt);this._isPushed&&(vt=this._pushOverlayOnScreen(vt,this._overlayRect,At));let Et=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return vt.y-=Et,"bottom"===rt.overlayY?lt.bottom=this._document.documentElement.clientHeight-(vt.y+this._overlayRect.height)+"px":lt.top=(0,e.HM)(vt.y),lt}_getExactOverlayX(rt,tt,At){let Et,lt={left:"",right:""},vt=this._getOverlayPoint(tt,this._overlayRect,rt);return this._isPushed&&(vt=this._pushOverlayOnScreen(vt,this._overlayRect,At)),Et=this._isRtl()?"end"===rt.overlayX?"left":"right":"end"===rt.overlayX?"right":"left","right"===Et?lt.right=this._document.documentElement.clientWidth-(vt.x+this._overlayRect.width)+"px":lt.left=(0,e.HM)(vt.x),lt}_getScrollVisibility(){const rt=this._getOriginRect(),tt=this._pane.getBoundingClientRect(),At=this._scrollables.map(lt=>lt.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Pe(rt,At),isOriginOutsideView:_e(rt,At),isOverlayClipped:Pe(tt,At),isOverlayOutsideView:_e(tt,At)}}_subtractOverflows(rt,...tt){return tt.reduce((At,lt)=>At-Math.max(lt,0),rt)}_getNarrowedViewportRect(){const rt=this._document.documentElement.clientWidth,tt=this._document.documentElement.clientHeight,At=this._viewportRuler.getViewportScrollPosition();return{top:At.top+this._viewportMargin,left:At.left+this._viewportMargin,right:At.left+rt-this._viewportMargin,bottom:At.top+tt-this._viewportMargin,width:rt-2*this._viewportMargin,height:tt-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(rt,tt){return"x"===tt?null==rt.offsetX?this._offsetX:rt.offsetX:null==rt.offsetY?this._offsetY:rt.offsetY}_validatePositions(){}_addPanelClasses(rt){this._pane&&(0,e.Eq)(rt).forEach(tt=>{""!==tt&&-1===this._appliedPanelClasses.indexOf(tt)&&(this._appliedPanelClasses.push(tt),this._pane.classList.add(tt))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(rt=>{this._pane.classList.remove(rt)}),this._appliedPanelClasses=[])}_getOriginRect(){const rt=this._origin;if(rt instanceof t.SBq)return rt.nativeElement.getBoundingClientRect();if(rt instanceof Element)return rt.getBoundingClientRect();const tt=rt.width||0,At=rt.height||0;return{top:rt.y,bottom:rt.y+At,left:rt.x,right:rt.x+tt,height:At,width:tt}}}function De(wt,rt){for(let tt in rt)rt.hasOwnProperty(tt)&&(wt[tt]=rt[tt]);return wt}function st(wt){if("number"!=typeof wt&&null!=wt){const[rt,tt]=wt.split(ot);return tt&&"px"!==tt?null:parseFloat(rt)}return wt||null}function pt(wt){return{top:Math.floor(wt.top),right:Math.floor(wt.right),bottom:Math.floor(wt.bottom),left:Math.floor(wt.left),width:Math.floor(wt.width),height:Math.floor(wt.height)}}const dt="cdk-global-overlay-wrapper";class Ot{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(rt){const tt=rt.getConfig();this._overlayRef=rt,this._width&&!tt.width&&rt.updateSize({width:this._width}),this._height&&!tt.height&&rt.updateSize({height:this._height}),rt.hostElement.classList.add(dt),this._isDisposed=!1}top(rt=""){return this._bottomOffset="",this._topOffset=rt,this._alignItems="flex-start",this}left(rt=""){return this._rightOffset="",this._leftOffset=rt,this._justifyContent="flex-start",this}bottom(rt=""){return this._topOffset="",this._bottomOffset=rt,this._alignItems="flex-end",this}right(rt=""){return this._leftOffset="",this._rightOffset=rt,this._justifyContent="flex-end",this}width(rt=""){return this._overlayRef?this._overlayRef.updateSize({width:rt}):this._width=rt,this}height(rt=""){return this._overlayRef?this._overlayRef.updateSize({height:rt}):this._height=rt,this}centerHorizontally(rt=""){return this.left(rt),this._justifyContent="center",this}centerVertically(rt=""){return this.top(rt),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const rt=this._overlayRef.overlayElement.style,tt=this._overlayRef.hostElement.style,At=this._overlayRef.getConfig(),{width:lt,height:vt,maxWidth:Et,maxHeight:Ke}=At,Ze=!("100%"!==lt&&"100vw"!==lt||Et&&"100%"!==Et&&"100vw"!==Et),Wt=!("100%"!==vt&&"100vh"!==vt||Ke&&"100%"!==Ke&&"100vh"!==Ke);rt.position=this._cssPosition,rt.marginLeft=Ze?"0":this._leftOffset,rt.marginTop=Wt?"0":this._topOffset,rt.marginBottom=this._bottomOffset,rt.marginRight=this._rightOffset,Ze?tt.justifyContent="flex-start":"center"===this._justifyContent?tt.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?tt.justifyContent="flex-end":"flex-end"===this._justifyContent&&(tt.justifyContent="flex-start"):tt.justifyContent=this._justifyContent,tt.alignItems=Wt?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const rt=this._overlayRef.overlayElement.style,tt=this._overlayRef.hostElement,At=tt.style;tt.classList.remove(dt),At.justifyContent=At.alignItems=rt.marginTop=rt.marginBottom=rt.marginLeft=rt.marginRight=rt.position="",this._overlayRef=null,this._isDisposed=!0}}let kt=(()=>{class wt{constructor(tt,At,lt,vt){this._viewportRuler=tt,this._document=At,this._platform=lt,this._overlayContainer=vt}global(){return new Ot}flexibleConnectedTo(tt){return new ze(tt,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return wt.\u0275fac=function(tt){return new(tt||wt)(t.LFG(E.rL),t.LFG(m.K0),t.LFG(n.t4),t.LFG(de))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),oi=(()=>{class wt{constructor(tt){this._attachedOverlays=[],this._document=tt}ngOnDestroy(){this.detach()}add(tt){this.remove(tt),this._attachedOverlays.push(tt)}remove(tt){const At=this._attachedOverlays.indexOf(tt);At>-1&&this._attachedOverlays.splice(At,1),0===this._attachedOverlays.length&&this.detach()}}return wt.\u0275fac=function(tt){return new(tt||wt)(t.LFG(m.K0))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),bi=(()=>{class wt extends oi{constructor(tt){super(tt),this._keydownListener=At=>{const lt=this._attachedOverlays;for(let vt=lt.length-1;vt>-1;vt--)if(lt[vt]._keydownEvents.observers.length>0){lt[vt]._keydownEvents.next(At);break}}}add(tt){super.add(tt),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return wt.\u0275fac=function(tt){return new(tt||wt)(t.LFG(m.K0))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),ti=(()=>{class wt extends oi{constructor(tt,At){super(tt),this._platform=At,this._cursorStyleIsSet=!1,this._pointerDownListener=lt=>{this._pointerDownEventTarget=(0,n.sA)(lt)},this._clickListener=lt=>{const vt=(0,n.sA)(lt),Et="click"===lt.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:vt;this._pointerDownEventTarget=null;const Ke=this._attachedOverlays.slice();for(let Ze=Ke.length-1;Ze>-1;Ze--){const Wt=Ke[Ze];if(!(Wt._outsidePointerEvents.observers.length<1)&&Wt.hasAttached()){if(Wt.overlayElement.contains(vt)||Wt.overlayElement.contains(Et))break;Wt._outsidePointerEvents.next(lt)}}}}add(tt){if(super.add(tt),!this._isAttached){const At=this._document.body;At.addEventListener("pointerdown",this._pointerDownListener,!0),At.addEventListener("click",this._clickListener,!0),At.addEventListener("auxclick",this._clickListener,!0),At.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=At.style.cursor,At.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const tt=this._document.body;tt.removeEventListener("pointerdown",this._pointerDownListener,!0),tt.removeEventListener("click",this._clickListener,!0),tt.removeEventListener("auxclick",this._clickListener,!0),tt.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(tt.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return wt.\u0275fac=function(tt){return new(tt||wt)(t.LFG(m.K0),t.LFG(n.t4))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac,providedIn:"root"}),wt})(),Rt=0,ii=(()=>{class wt{constructor(tt,At,lt,vt,Et,Ke,Ze,Wt,Kt,Ei,vi){this.scrollStrategies=tt,this._overlayContainer=At,this._componentFactoryResolver=lt,this._positionBuilder=vt,this._keyboardDispatcher=Et,this._injector=Ke,this._ngZone=Ze,this._document=Wt,this._directionality=Kt,this._location=Ei,this._outsideClickDispatcher=vi}create(tt){const At=this._createHostElement(),lt=this._createPaneElement(At),vt=this._createPortalOutlet(lt),Et=new ve(tt);return Et.direction=Et.direction||this._directionality.value,new Ce(vt,At,lt,Et,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(tt){const At=this._document.createElement("div");return At.id="cdk-overlay-"+Rt++,At.classList.add("cdk-overlay-pane"),tt.appendChild(At),At}_createHostElement(){const tt=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(tt),tt}_createPortalOutlet(tt){return this._appRef||(this._appRef=this._injector.get(t.z2F)),new u.u0(tt,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return wt.\u0275fac=function(tt){return new(tt||wt)(t.LFG(Se),t.LFG(de),t.LFG(t._Vd),t.LFG(kt),t.LFG(bi),t.LFG(t.zs3),t.LFG(t.R0b),t.LFG(m.K0),t.LFG(a.Is),t.LFG(m.Ye),t.LFG(ti))},wt.\u0275prov=t.Yz7({token:wt,factory:wt.\u0275fac}),wt})();const yt={provide:new t.OlP("cdk-connected-overlay-scroll-strategy"),deps:[ii],useFactory:function Re(wt){return()=>wt.scrollStrategies.reposition()}};let zt=(()=>{class wt{}return wt.\u0275fac=function(tt){return new(tt||wt)},wt.\u0275mod=t.oAB({type:wt}),wt.\u0275inj=t.cJS({providers:[ii,yt],imports:[[a.vT,u.eL,E.Cl],E.Cl]}),wt})()},70925:(B,K,f)=>{"use strict";f.d(K,{t4:()=>e,ud:()=>n,sA:()=>Ue,ht:()=>Pe,kV:()=>_e,Oy:()=>Se,_i:()=>ue,qK:()=>C,i$:()=>W,Mq:()=>q});var E=f(5e3),m=f(69808);let t;try{t="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(ve){t=!1}let a,e=(()=>{class ve{constructor(me){this._platformId=me,this.isBrowser=this._platformId?(0,m.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!t)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return ve.\u0275fac=function(me){return new(me||ve)(E.LFG(E.Lbi))},ve.\u0275prov=E.Yz7({token:ve,factory:ve.\u0275fac,providedIn:"root"}),ve})(),n=(()=>{class ve{}return ve.\u0275fac=function(me){return new(me||ve)},ve.\u0275mod=E.oAB({type:ve}),ve.\u0275inj=E.cJS({}),ve})();const u=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function C(){if(a)return a;if("object"!=typeof document||!document)return a=new Set(u),a;let ve=document.createElement("input");return a=new Set(u.filter(se=>(ve.setAttribute("type",se),ve.type===se))),a}let D,te,oe,Te;function W(ve){return function F(){if(null==D&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>D=!0}))}finally{D=D||!1}return D}()?ve:!!ve.capture}function q(){if(null==oe){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return oe=!1,oe;if("scrollBehavior"in document.documentElement.style)oe=!0;else{const ve=Element.prototype.scrollTo;oe=!!ve&&!/\{\s*\[native code\]\s*\}/.test(ve.toString())}}return oe}function ue(){if("object"!=typeof document||!document)return 0;if(null==te){const ve=document.createElement("div"),se=ve.style;ve.dir="rtl",se.width="1px",se.overflow="auto",se.visibility="hidden",se.pointerEvents="none",se.position="absolute";const me=document.createElement("div"),ce=me.style;ce.width="2px",ce.height="1px",ve.appendChild(me),document.body.appendChild(ve),te=0,0===ve.scrollLeft&&(ve.scrollLeft=1,te=0===ve.scrollLeft?1:2),ve.remove()}return te}function _e(ve){if(function le(){if(null==Te){const ve="undefined"!=typeof document?document.head:null;Te=!(!ve||!ve.createShadowRoot&&!ve.attachShadow)}return Te}()){const se=ve.getRootNode?ve.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&se instanceof ShadowRoot)return se}return null}function Pe(){let ve="undefined"!=typeof document&&document?document.activeElement:null;for(;ve&&ve.shadowRoot;){const se=ve.shadowRoot.activeElement;if(se===ve)break;ve=se}return ve}function Ue(ve){return ve.composedPath?ve.composedPath()[0]:ve.target}function Se(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}},47429:(B,K,f)=>{"use strict";f.d(K,{en:()=>oe,ig:()=>le,Pl:()=>Pe,C5:()=>F,u0:()=>ue,eL:()=>Se,UE:()=>W});var E=f(5e3),m=f(69808);class D{attach(me){return this._attachedHost=me,me.attach(this)}detach(){let me=this._attachedHost;null!=me&&(this._attachedHost=null,me.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(me){this._attachedHost=me}}class F extends D{constructor(me,ce,Ne,Ae){super(),this.component=me,this.viewContainerRef=ce,this.injector=Ne,this.componentFactoryResolver=Ae}}class W extends D{constructor(me,ce,Ne){super(),this.templateRef=me,this.viewContainerRef=ce,this.context=Ne}get origin(){return this.templateRef.elementRef}attach(me,ce=this.context){return this.context=ce,super.attach(me)}detach(){return this.context=void 0,super.detach()}}class te extends D{constructor(me){super(),this.element=me instanceof E.SBq?me.nativeElement:me}}class oe{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(me){return me instanceof F?(this._attachedPortal=me,this.attachComponentPortal(me)):me instanceof W?(this._attachedPortal=me,this.attachTemplatePortal(me)):this.attachDomPortal&&me instanceof te?(this._attachedPortal=me,this.attachDomPortal(me)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(me){this._disposeFn=me}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class ue extends oe{constructor(me,ce,Ne,Ae,Ce){super(),this.outletElement=me,this._componentFactoryResolver=ce,this._appRef=Ne,this._defaultInjector=Ae,this.attachDomPortal=de=>{const re=de.element,ot=this._document.createComment("dom-portal");re.parentNode.insertBefore(ot,re),this.outletElement.appendChild(re),this._attachedPortal=de,super.setDisposeFn(()=>{ot.parentNode&&ot.parentNode.replaceChild(re,ot)})},this._document=Ce}attachComponentPortal(me){const Ne=(me.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(me.component);let Ae;return me.viewContainerRef?(Ae=me.viewContainerRef.createComponent(Ne,me.viewContainerRef.length,me.injector||me.viewContainerRef.injector),this.setDisposeFn(()=>Ae.destroy())):(Ae=Ne.create(me.injector||this._defaultInjector),this._appRef.attachView(Ae.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ae.hostView),Ae.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(Ae)),this._attachedPortal=me,Ae}attachTemplatePortal(me){let ce=me.viewContainerRef,Ne=ce.createEmbeddedView(me.templateRef,me.context);return Ne.rootNodes.forEach(Ae=>this.outletElement.appendChild(Ae)),Ne.detectChanges(),this.setDisposeFn(()=>{let Ae=ce.indexOf(Ne);-1!==Ae&&ce.remove(Ae)}),this._attachedPortal=me,Ne}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(me){return me.hostView.rootNodes[0]}}let le=(()=>{class se extends W{constructor(ce,Ne){super(ce,Ne)}}return se.\u0275fac=function(ce){return new(ce||se)(E.Y36(E.Rgc),E.Y36(E.s_b))},se.\u0275dir=E.lG2({type:se,selectors:[["","cdkPortal",""]],exportAs:["cdkPortal"],features:[E.qOj]}),se})(),Pe=(()=>{class se extends oe{constructor(ce,Ne,Ae){super(),this._componentFactoryResolver=ce,this._viewContainerRef=Ne,this._isInitialized=!1,this.attached=new E.vpe,this.attachDomPortal=Ce=>{const de=Ce.element,re=this._document.createComment("dom-portal");Ce.setAttachedHost(this),de.parentNode.insertBefore(re,de),this._getRootNode().appendChild(de),this._attachedPortal=Ce,super.setDisposeFn(()=>{re.parentNode&&re.parentNode.replaceChild(de,re)})},this._document=Ae}get portal(){return this._attachedPortal}set portal(ce){this.hasAttached()&&!ce&&!this._isInitialized||(this.hasAttached()&&super.detach(),ce&&super.attach(ce),this._attachedPortal=ce)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(ce){ce.setAttachedHost(this);const Ne=null!=ce.viewContainerRef?ce.viewContainerRef:this._viewContainerRef,Ce=(ce.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(ce.component),de=Ne.createComponent(Ce,Ne.length,ce.injector||Ne.injector);return Ne!==this._viewContainerRef&&this._getRootNode().appendChild(de.hostView.rootNodes[0]),super.setDisposeFn(()=>de.destroy()),this._attachedPortal=ce,this._attachedRef=de,this.attached.emit(de),de}attachTemplatePortal(ce){ce.setAttachedHost(this);const Ne=this._viewContainerRef.createEmbeddedView(ce.templateRef,ce.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=ce,this._attachedRef=Ne,this.attached.emit(Ne),Ne}_getRootNode(){const ce=this._viewContainerRef.element.nativeElement;return ce.nodeType===ce.ELEMENT_NODE?ce:ce.parentNode}}return se.\u0275fac=function(ce){return new(ce||se)(E.Y36(E._Vd),E.Y36(E.s_b),E.Y36(m.K0))},se.\u0275dir=E.lG2({type:se,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[E.qOj]}),se})(),Se=(()=>{class se{}return se.\u0275fac=function(ce){return new(ce||se)},se.\u0275mod=E.oAB({type:se}),se.\u0275inj=E.cJS({}),se})()},30495:(B,K,f)=>{"use strict";f.d(K,{PQ:()=>dt,ZD:()=>mt,mF:()=>pt,Cl:()=>Ye,rL:()=>kt});var E=f(63191),m=f(5e3),t=f(84408),e=f(50727);const n={schedule(Je){let ut=requestAnimationFrame,Re=cancelAnimationFrame;const{delegate:yt}=n;yt&&(ut=yt.requestAnimationFrame,Re=yt.cancelAnimationFrame);const zt=ut(gi=>{Re=void 0,Je(gi)});return new e.w0(()=>null==Re?void 0:Re(zt))},requestAnimationFrame(...Je){const{delegate:ut}=n;return((null==ut?void 0:ut.requestAnimationFrame)||requestAnimationFrame)(...Je)},cancelAnimationFrame(...Je){const{delegate:ut}=n;return((null==ut?void 0:ut.cancelAnimationFrame)||cancelAnimationFrame)(...Je)},delegate:void 0};var u=f(97565);new class C extends u.v{flush(ut){this._active=!0,this._scheduled=void 0;const{actions:Re}=this;let yt,zt=-1;ut=ut||Re.shift();const gi=Re.length;do{if(yt=ut.execute(ut.state,ut.delay))break}while(++zt<gi&&(ut=Re.shift()));if(this._active=!1,yt){for(;++zt<gi&&(ut=Re.shift());)ut.unsubscribe();throw yt}}}(class a extends t.o{constructor(ut,Re){super(ut,Re),this.scheduler=ut,this.work=Re}requestAsyncId(ut,Re,yt=0){return null!==yt&&yt>0?super.requestAsyncId(ut,Re,yt):(ut.actions.push(this),ut._scheduled||(ut._scheduled=n.requestAnimationFrame(()=>ut.flush(void 0))))}recycleAsyncId(ut,Re,yt=0){if(null!=yt&&yt>0||null==yt&&this.delay>0)return super.recycleAsyncId(ut,Re,yt);0===ut.actions.length&&(n.cancelAnimationFrame(Re),ut._scheduled=void 0)}});var W=f(77579),te=f(39646),oe=f(68306),q=f(54968),Te=(f(53101),f(34986)),le=f(54482),_e=f(38421),Pe=f(25403),Se=f(5963);function ve(Je,ut=Te.P){return function Ue(Je){return(0,le.e)((ut,Re)=>{let yt=!1,zt=null,gi=null,wt=!1;const rt=()=>{if(null==gi||gi.unsubscribe(),gi=null,yt){yt=!1;const At=zt;zt=null,Re.next(At)}wt&&Re.complete()},tt=()=>{gi=null,wt&&Re.complete()};ut.subscribe(new Pe.Q(Re,At=>{yt=!0,zt=At,gi||(0,_e.Xf)(Je(At)).subscribe(gi=new Pe.Q(Re,rt,tt))},()=>{wt=!0,(!yt||!gi||gi.closed)&&Re.complete()}))})}(()=>(0,Se.H)(Je,ut))}var se=f(39300),me=f(82722),ce=f(69808),Ne=f(70925),Ae=f(50226);let pt=(()=>{class Je{constructor(Re,yt,zt){this._ngZone=Re,this._platform=yt,this._scrolled=new W.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=zt}register(Re){this.scrollContainers.has(Re)||this.scrollContainers.set(Re,Re.elementScrolled().subscribe(()=>this._scrolled.next(Re)))}deregister(Re){const yt=this.scrollContainers.get(Re);yt&&(yt.unsubscribe(),this.scrollContainers.delete(Re))}scrolled(Re=20){return this._platform.isBrowser?new oe.y(yt=>{this._globalSubscription||this._addGlobalListener();const zt=Re>0?this._scrolled.pipe(ve(Re)).subscribe(yt):this._scrolled.subscribe(yt);return this._scrolledCount++,()=>{zt.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,te.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((Re,yt)=>this.deregister(yt)),this._scrolled.complete()}ancestorScrolled(Re,yt){const zt=this.getAncestorScrollContainers(Re);return this.scrolled(yt).pipe((0,se.h)(gi=>!gi||zt.indexOf(gi)>-1))}getAncestorScrollContainers(Re){const yt=[];return this.scrollContainers.forEach((zt,gi)=>{this._scrollableContainsElement(gi,Re)&&yt.push(gi)}),yt}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(Re,yt){let zt=(0,E.fI)(yt),gi=Re.getElementRef().nativeElement;do{if(zt==gi)return!0}while(zt=zt.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const Re=this._getWindow();return(0,q.R)(Re.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return Je.\u0275fac=function(Re){return new(Re||Je)(m.LFG(m.R0b),m.LFG(Ne.t4),m.LFG(ce.K0,8))},Je.\u0275prov=m.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})(),dt=(()=>{class Je{constructor(Re,yt,zt,gi){this.elementRef=Re,this.scrollDispatcher=yt,this.ngZone=zt,this.dir=gi,this._destroyed=new W.x,this._elementScrolled=new oe.y(wt=>this.ngZone.runOutsideAngular(()=>(0,q.R)(this.elementRef.nativeElement,"scroll").pipe((0,me.R)(this._destroyed)).subscribe(wt)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(Re){const yt=this.elementRef.nativeElement,zt=this.dir&&"rtl"==this.dir.value;null==Re.left&&(Re.left=zt?Re.end:Re.start),null==Re.right&&(Re.right=zt?Re.start:Re.end),null!=Re.bottom&&(Re.top=yt.scrollHeight-yt.clientHeight-Re.bottom),zt&&0!=(0,Ne._i)()?(null!=Re.left&&(Re.right=yt.scrollWidth-yt.clientWidth-Re.left),2==(0,Ne._i)()?Re.left=Re.right:1==(0,Ne._i)()&&(Re.left=Re.right?-Re.right:Re.right)):null!=Re.right&&(Re.left=yt.scrollWidth-yt.clientWidth-Re.right),this._applyScrollToOptions(Re)}_applyScrollToOptions(Re){const yt=this.elementRef.nativeElement;(0,Ne.Mq)()?yt.scrollTo(Re):(null!=Re.top&&(yt.scrollTop=Re.top),null!=Re.left&&(yt.scrollLeft=Re.left))}measureScrollOffset(Re){const yt="left",gi=this.elementRef.nativeElement;if("top"==Re)return gi.scrollTop;if("bottom"==Re)return gi.scrollHeight-gi.clientHeight-gi.scrollTop;const wt=this.dir&&"rtl"==this.dir.value;return"start"==Re?Re=wt?"right":yt:"end"==Re&&(Re=wt?yt:"right"),wt&&2==(0,Ne._i)()?Re==yt?gi.scrollWidth-gi.clientWidth-gi.scrollLeft:gi.scrollLeft:wt&&1==(0,Ne._i)()?Re==yt?gi.scrollLeft+gi.scrollWidth-gi.clientWidth:-gi.scrollLeft:Re==yt?gi.scrollLeft:gi.scrollWidth-gi.clientWidth-gi.scrollLeft}}return Je.\u0275fac=function(Re){return new(Re||Je)(m.Y36(m.SBq),m.Y36(pt),m.Y36(m.R0b),m.Y36(Ae.Is,8))},Je.\u0275dir=m.lG2({type:Je,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),Je})(),kt=(()=>{class Je{constructor(Re,yt,zt){this._platform=Re,this._change=new W.x,this._changeListener=gi=>{this._change.next(gi)},this._document=zt,yt.runOutsideAngular(()=>{if(Re.isBrowser){const gi=this._getWindow();gi.addEventListener("resize",this._changeListener),gi.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const Re=this._getWindow();Re.removeEventListener("resize",this._changeListener),Re.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const Re={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),Re}getViewportRect(){const Re=this.getViewportScrollPosition(),{width:yt,height:zt}=this.getViewportSize();return{top:Re.top,left:Re.left,bottom:Re.top+zt,right:Re.left+yt,height:zt,width:yt}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const Re=this._document,yt=this._getWindow(),zt=Re.documentElement,gi=zt.getBoundingClientRect();return{top:-gi.top||Re.body.scrollTop||yt.scrollY||zt.scrollTop||0,left:-gi.left||Re.body.scrollLeft||yt.scrollX||zt.scrollLeft||0}}change(Re=20){return Re>0?this._change.pipe(ve(Re)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const Re=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:Re.innerWidth,height:Re.innerHeight}:{width:0,height:0}}}return Je.\u0275fac=function(Re){return new(Re||Je)(m.LFG(Ne.t4),m.LFG(m.R0b),m.LFG(ce.K0,8))},Je.\u0275prov=m.Yz7({token:Je,factory:Je.\u0275fac,providedIn:"root"}),Je})(),mt=(()=>{class Je{}return Je.\u0275fac=function(Re){return new(Re||Je)},Je.\u0275mod=m.oAB({type:Je}),Je.\u0275inj=m.cJS({}),Je})(),Ye=(()=>{class Je{}return Je.\u0275fac=function(Re){return new(Re||Je)},Je.\u0275mod=m.oAB({type:Je}),Je.\u0275inj=m.cJS({imports:[[Ae.vT,Ne.ud,mt],Ae.vT,mt]}),Je})()},69808:(B,K,f)=>{"use strict";f.d(K,{mr:()=>Pe,Ov:()=>pl,ez:()=>Do,K0:()=>u,Do:()=>Se,V_:()=>F,Ye:()=>ve,S$:()=>le,mk:()=>at,sg:()=>Yi,O5:()=>Qn,PC:()=>no,RF:()=>uo,n9:()=>io,b0:()=>Ue,lw:()=>C,EM:()=>qo,JF:()=>oa,NF:()=>Es,w_:()=>a,bD:()=>Mo,q:()=>t,Mx:()=>Ln,HT:()=>n});var E=f(5e3);let m=null;function t(){return m}function n(ke){m||(m=ke)}class a{}const u=new E.OlP("DocumentToken");let C=(()=>{class ke{historyGo(V){throw new Error("Not implemented")}}return ke.\u0275fac=function(V){return new(V||ke)},ke.\u0275prov=E.Yz7({token:ke,factory:function(){return function D(){return(0,E.LFG)(W)}()},providedIn:"platform"}),ke})();const F=new E.OlP("Location Initialized");let W=(()=>{class ke extends C{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return t().getBaseHref(this._doc)}onPopState(V){const j=t().getGlobalEventTarget(this._doc,"window");return j.addEventListener("popstate",V,!1),()=>j.removeEventListener("popstate",V)}onHashChange(V){const j=t().getGlobalEventTarget(this._doc,"window");return j.addEventListener("hashchange",V,!1),()=>j.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,j,Ie){te()?this._history.pushState(V,j,Ie):this.location.hash=Ie}replaceState(V,j,Ie){te()?this._history.replaceState(V,j,Ie):this.location.hash=Ie}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return ke.\u0275fac=function(V){return new(V||ke)(E.LFG(u))},ke.\u0275prov=E.Yz7({token:ke,factory:function(){return function oe(){return new W((0,E.LFG)(u))}()},providedIn:"platform"}),ke})();function te(){return!!window.history.pushState}function q(ke,Z){if(0==ke.length)return Z;if(0==Z.length)return ke;let V=0;return ke.endsWith("/")&&V++,Z.startsWith("/")&&V++,2==V?ke+Z.substring(1):1==V?ke+Z:ke+"/"+Z}function ue(ke){const Z=ke.match(/#|\?|$/),V=Z&&Z.index||ke.length;return ke.slice(0,V-("/"===ke[V-1]?1:0))+ke.slice(V)}function Te(ke){return ke&&"?"!==ke[0]?"?"+ke:ke}let le=(()=>{class ke{historyGo(V){throw new Error("Not implemented")}}return ke.\u0275fac=function(V){return new(V||ke)},ke.\u0275prov=E.Yz7({token:ke,factory:function(){return function _e(ke){const Z=(0,E.LFG)(u).location;return new Ue((0,E.LFG)(C),Z&&Z.origin||"")}()},providedIn:"root"}),ke})();const Pe=new E.OlP("appBaseHref");let Ue=(()=>{class ke extends le{constructor(V,j){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==j&&(j=this._platformLocation.getBaseHrefFromDOM()),null==j)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=j}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return q(this._baseHref,V)}path(V=!1){const j=this._platformLocation.pathname+Te(this._platformLocation.search),Ie=this._platformLocation.hash;return Ie&&V?`${j}${Ie}`:j}pushState(V,j,Ie,Bt){const Ti=this.prepareExternalUrl(Ie+Te(Bt));this._platformLocation.pushState(V,j,Ti)}replaceState(V,j,Ie,Bt){const Ti=this.prepareExternalUrl(Ie+Te(Bt));this._platformLocation.replaceState(V,j,Ti)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var j,Ie;null===(Ie=(j=this._platformLocation).historyGo)||void 0===Ie||Ie.call(j,V)}}return ke.\u0275fac=function(V){return new(V||ke)(E.LFG(C),E.LFG(Pe,8))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),Se=(()=>{class ke extends le{constructor(V,j){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=j&&(this._baseHref=j)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let j=this._platformLocation.hash;return null==j&&(j="#"),j.length>0?j.substring(1):j}prepareExternalUrl(V){const j=q(this._baseHref,V);return j.length>0?"#"+j:j}pushState(V,j,Ie,Bt){let Ti=this.prepareExternalUrl(Ie+Te(Bt));0==Ti.length&&(Ti=this._platformLocation.pathname),this._platformLocation.pushState(V,j,Ti)}replaceState(V,j,Ie,Bt){let Ti=this.prepareExternalUrl(Ie+Te(Bt));0==Ti.length&&(Ti=this._platformLocation.pathname),this._platformLocation.replaceState(V,j,Ti)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var j,Ie;null===(Ie=(j=this._platformLocation).historyGo)||void 0===Ie||Ie.call(j,V)}}return ke.\u0275fac=function(V){return new(V||ke)(E.LFG(C),E.LFG(Pe,8))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})(),ve=(()=>{class ke{constructor(V,j){this._subject=new E.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const Ie=this._platformStrategy.getBaseHref();this._platformLocation=j,this._baseHref=ue(ce(Ie)),this._platformStrategy.onPopState(Bt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Bt.state,type:Bt.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,j=""){return this.path()==this.normalize(V+Te(j))}normalize(V){return ke.stripTrailingSlash(function me(ke,Z){return ke&&Z.startsWith(ke)?Z.substring(ke.length):Z}(this._baseHref,ce(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,j="",Ie=null){this._platformStrategy.pushState(Ie,"",V,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Te(j)),Ie)}replaceState(V,j="",Ie=null){this._platformStrategy.replaceState(Ie,"",V,j),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+Te(j)),Ie)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var j,Ie;null===(Ie=(j=this._platformStrategy).historyGo)||void 0===Ie||Ie.call(j,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(j=>{this._notifyUrlChangeListeners(j.url,j.state)}))}_notifyUrlChangeListeners(V="",j){this._urlChangeListeners.forEach(Ie=>Ie(V,j))}subscribe(V,j,Ie){return this._subject.subscribe({next:V,error:j,complete:Ie})}}return ke.normalizeQueryParams=Te,ke.joinWithSlash=q,ke.stripTrailingSlash=ue,ke.\u0275fac=function(V){return new(V||ke)(E.LFG(le),E.LFG(C))},ke.\u0275prov=E.Yz7({token:ke,factory:function(){return function se(){return new ve((0,E.LFG)(le),(0,E.LFG)(C))}()},providedIn:"root"}),ke})();function ce(ke){return ke.replace(/\/index.html$/,"")}var Ce=(()=>((Ce=Ce||{})[Ce.Zero=0]="Zero",Ce[Ce.One=1]="One",Ce[Ce.Two=2]="Two",Ce[Ce.Few=3]="Few",Ce[Ce.Many=4]="Many",Ce[Ce.Other=5]="Other",Ce))();const zt=E.kL8;class Zr{}let Bi=(()=>{class ke extends Zr{constructor(V){super(),this.locale=V}getPluralCategory(V,j){switch(zt(j||this.locale)(V)){case Ce.Zero:return"zero";case Ce.One:return"one";case Ce.Two:return"two";case Ce.Few:return"few";case Ce.Many:return"many";default:return"other"}}}return ke.\u0275fac=function(V){return new(V||ke)(E.LFG(E.soG))},ke.\u0275prov=E.Yz7({token:ke,factory:ke.\u0275fac}),ke})();function Ln(ke,Z){Z=encodeURIComponent(Z);for(const V of ke.split(";")){const j=V.indexOf("="),[Ie,Bt]=-1==j?[V,""]:[V.slice(0,j),V.slice(j+1)];if(Ie.trim()===Z)return decodeURIComponent(Bt)}return null}let at=(()=>{class ke{constructor(V,j,Ie,Bt){this._iterableDiffers=V,this._keyValueDiffers=j,this._ngEl=Ie,this._renderer=Bt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,E.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(j=>this._toggleClass(j.key,j.currentValue)),V.forEachChangedItem(j=>this._toggleClass(j.key,j.currentValue)),V.forEachRemovedItem(j=>{j.previousValue&&this._toggleClass(j.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(j=>{if("string"!=typeof j.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,E.AaK)(j.item)}`);this._toggleClass(j.item,!0)}),V.forEachRemovedItem(j=>this._toggleClass(j.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(j=>this._toggleClass(j,!0)):Object.keys(V).forEach(j=>this._toggleClass(j,!!V[j])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(j=>this._toggleClass(j,!1)):Object.keys(V).forEach(j=>this._toggleClass(j,!1)))}_toggleClass(V,j){(V=V.trim())&&V.split(/\s+/g).forEach(Ie=>{j?this._renderer.addClass(this._ngEl.nativeElement,Ie):this._renderer.removeClass(this._ngEl.nativeElement,Ie)})}}return ke.\u0275fac=function(V){return new(V||ke)(E.Y36(E.ZZ4),E.Y36(E.aQg),E.Y36(E.SBq),E.Y36(E.Qsj))},ke.\u0275dir=E.lG2({type:ke,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),ke})();class Ai{constructor(Z,V,j,Ie){this.$implicit=Z,this.ngForOf=V,this.index=j,this.count=Ie}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yi=(()=>{class ke{constructor(V,j,Ie){this._viewContainer=V,this._template=j,this._differs=Ie,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const j=this._viewContainer;V.forEachOperation((Ie,Bt,Ti)=>{if(null==Ie.previousIndex)j.createEmbeddedView(this._template,new Ai(Ie.item,this._ngForOf,-1,-1),null===Ti?void 0:Ti);else if(null==Ti)j.remove(null===Bt?void 0:Bt);else if(null!==Bt){const dn=j.get(Bt);j.move(dn,Ti),Ji(dn,Ie)}});for(let Ie=0,Bt=j.length;Ie<Bt;Ie++){const dn=j.get(Ie).context;dn.index=Ie,dn.count=Bt,dn.ngForOf=this._ngForOf}V.forEachIdentityChange(Ie=>{Ji(j.get(Ie.currentIndex),Ie)})}static ngTemplateContextGuard(V,j){return!0}}return ke.\u0275fac=function(V){return new(V||ke)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(E.ZZ4))},ke.\u0275dir=E.lG2({type:ke,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),ke})();function Ji(ke,Z){ke.context.$implicit=Z.item}let Qn=(()=>{class ke{constructor(V,j){this._viewContainer=V,this._context=new or,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=j}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Sn("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Sn("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,j){return!0}}return ke.\u0275fac=function(V){return new(V||ke)(E.Y36(E.s_b),E.Y36(E.Rgc))},ke.\u0275dir=E.lG2({type:ke,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),ke})();class or{constructor(){this.$implicit=null,this.ngIf=null}}function Sn(ke,Z){if(Z&&!Z.createEmbeddedView)throw new Error(`${ke} must be a TemplateRef, but received '${(0,E.AaK)(Z)}'.`)}class Qo{constructor(Z,V){this._viewContainerRef=Z,this._templateRef=V,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(Z){Z&&!this._created?this.create():!Z&&this._created&&this.destroy()}}let uo=(()=>{class ke{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(V){this._ngSwitch=V,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(V){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(V)}_matchCase(V){const j=V==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||j,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),j}_updateDefaultCases(V){if(this._defaultViews&&V!==this._defaultUsed){this._defaultUsed=V;for(let j=0;j<this._defaultViews.length;j++)this._defaultViews[j].enforceState(V)}}}return ke.\u0275fac=function(V){return new(V||ke)},ke.\u0275dir=E.lG2({type:ke,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),ke})(),io=(()=>{class ke{constructor(V,j,Ie){this.ngSwitch=Ie,Ie._addCase(),this._view=new Qo(V,j)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return ke.\u0275fac=function(V){return new(V||ke)(E.Y36(E.s_b),E.Y36(E.Rgc),E.Y36(uo,9))},ke.\u0275dir=E.lG2({type:ke,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),ke})(),no=(()=>{class ke{constructor(V,j,Ie){this._ngEl=V,this._differs=j,this._renderer=Ie,this._ngStyle=null,this._differ=null}set ngStyle(V){this._ngStyle=V,!this._differ&&V&&(this._differ=this._differs.find(V).create())}ngDoCheck(){if(this._differ){const V=this._differ.diff(this._ngStyle);V&&this._applyChanges(V)}}_setStyle(V,j){const[Ie,Bt]=V.split(".");null!=(j=null!=j&&Bt?`${j}${Bt}`:j)?this._renderer.setStyle(this._ngEl.nativeElement,Ie,j):this._renderer.removeStyle(this._ngEl.nativeElement,Ie)}_applyChanges(V){V.forEachRemovedItem(j=>this._setStyle(j.key,null)),V.forEachAddedItem(j=>this._setStyle(j.key,j.currentValue)),V.forEachChangedItem(j=>this._setStyle(j.key,j.currentValue))}}return ke.\u0275fac=function(V){return new(V||ke)(E.Y36(E.SBq),E.Y36(E.aQg),E.Y36(E.Qsj))},ke.\u0275dir=E.lG2({type:ke,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),ke})();class hs{createSubscription(Z,V){return Z.subscribe({next:V,error:j=>{throw j}})}dispose(Z){Z.unsubscribe()}onDestroy(Z){Z.unsubscribe()}}class ia{createSubscription(Z,V){return Z.then(V,j=>{throw j})}dispose(Z){}onDestroy(Z){}}const Gr=new ia,Ia=new hs;let pl=(()=>{class ke{constructor(V){this._ref=V,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(V){return this._obj?V!==this._obj?(this._dispose(),this.transform(V)):this._latestValue:(V&&this._subscribe(V),this._latestValue)}_subscribe(V){this._obj=V,this._strategy=this._selectStrategy(V),this._subscription=this._strategy.createSubscription(V,j=>this._updateLatestValue(V,j))}_selectStrategy(V){if((0,E.QGY)(V))return Gr;if((0,E.F4k)(V))return Ia;throw function So(ke,Z){return Error(`InvalidPipeArgument: '${Z}' for pipe '${(0,E.AaK)(ke)}'`)}(ke,V)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(V,j){V===this._obj&&(this._latestValue=j,this._ref.markForCheck())}}return ke.\u0275fac=function(V){return new(V||ke)(E.Y36(E.sBO,16))},ke.\u0275pipe=E.Yjl({name:"async",type:ke,pure:!1}),ke})(),Do=(()=>{class ke{}return ke.\u0275fac=function(V){return new(V||ke)},ke.\u0275mod=E.oAB({type:ke}),ke.\u0275inj=E.cJS({providers:[{provide:Zr,useClass:Bi}]}),ke})();const Mo="browser";function Es(ke){return ke===Mo}let qo=(()=>{class ke{}return ke.\u0275prov=(0,E.Yz7)({token:ke,providedIn:"root",factory:()=>new js((0,E.LFG)(u),window)}),ke})();class js{constructor(Z,V){this.document=Z,this.window=V,this.offset=()=>[0,0]}setOffset(Z){this.offset=Array.isArray(Z)?()=>Z:Z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Z){this.supportsScrolling()&&this.window.scrollTo(Z[0],Z[1])}scrollToAnchor(Z){if(!this.supportsScrolling())return;const V=function Nr(ke,Z){const V=ke.getElementById(Z)||ke.getElementsByName(Z)[0];if(V)return V;if("function"==typeof ke.createTreeWalker&&ke.body&&(ke.body.createShadowRoot||ke.body.attachShadow)){const j=ke.createTreeWalker(ke.body,NodeFilter.SHOW_ELEMENT);let Ie=j.currentNode;for(;Ie;){const Bt=Ie.shadowRoot;if(Bt){const Ti=Bt.getElementById(Z)||Bt.querySelector(`[name="${Z}"]`);if(Ti)return Ti}Ie=j.nextNode()}}return null}(this.document,Z);V&&(this.scrollToElement(V),this.attemptFocus(V))}setHistoryScrollRestoration(Z){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=Z)}}scrollToElement(Z){const V=Z.getBoundingClientRect(),j=V.left+this.window.pageXOffset,Ie=V.top+this.window.pageYOffset,Bt=this.offset();this.window.scrollTo(j-Bt[0],Ie-Bt[1])}attemptFocus(Z){return Z.focus(),this.document.activeElement===Z}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Z=fl(this.window.history)||fl(Object.getPrototypeOf(this.window.history));return!(!Z||!Z.writable&&!Z.set)}catch(Z){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(Z){return!1}}}function fl(ke){return Object.getOwnPropertyDescriptor(ke,"scrollRestoration")}class oa{}},40520:(B,K,f)=>{"use strict";f.d(K,{eN:()=>ze,JF:()=>At});var E=f(69808),m=f(5e3),t=f(39646),e=f(68306),n=f(24351),a=f(39300),u=f(54004);class C{}class D{}class F{constructor(Ke){this.normalizedNames=new Map,this.lazyUpdate=null,Ke?this.lazyInit="string"==typeof Ke?()=>{this.headers=new Map,Ke.split("\n").forEach(Ze=>{const Wt=Ze.indexOf(":");if(Wt>0){const Kt=Ze.slice(0,Wt),Ei=Kt.toLowerCase(),vi=Ze.slice(Wt+1).trim();this.maybeSetNormalizedName(Kt,Ei),this.headers.has(Ei)?this.headers.get(Ei).push(vi):this.headers.set(Ei,[vi])}})}:()=>{this.headers=new Map,Object.keys(Ke).forEach(Ze=>{let Wt=Ke[Ze];const Kt=Ze.toLowerCase();"string"==typeof Wt&&(Wt=[Wt]),Wt.length>0&&(this.headers.set(Kt,Wt),this.maybeSetNormalizedName(Ze,Kt))})}:this.headers=new Map}has(Ke){return this.init(),this.headers.has(Ke.toLowerCase())}get(Ke){this.init();const Ze=this.headers.get(Ke.toLowerCase());return Ze&&Ze.length>0?Ze[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Ke){return this.init(),this.headers.get(Ke.toLowerCase())||null}append(Ke,Ze){return this.clone({name:Ke,value:Ze,op:"a"})}set(Ke,Ze){return this.clone({name:Ke,value:Ze,op:"s"})}delete(Ke,Ze){return this.clone({name:Ke,value:Ze,op:"d"})}maybeSetNormalizedName(Ke,Ze){this.normalizedNames.has(Ze)||this.normalizedNames.set(Ze,Ke)}init(){this.lazyInit&&(this.lazyInit instanceof F?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Ke=>this.applyUpdate(Ke)),this.lazyUpdate=null))}copyFrom(Ke){Ke.init(),Array.from(Ke.headers.keys()).forEach(Ze=>{this.headers.set(Ze,Ke.headers.get(Ze)),this.normalizedNames.set(Ze,Ke.normalizedNames.get(Ze))})}clone(Ke){const Ze=new F;return Ze.lazyInit=this.lazyInit&&this.lazyInit instanceof F?this.lazyInit:this,Ze.lazyUpdate=(this.lazyUpdate||[]).concat([Ke]),Ze}applyUpdate(Ke){const Ze=Ke.name.toLowerCase();switch(Ke.op){case"a":case"s":let Wt=Ke.value;if("string"==typeof Wt&&(Wt=[Wt]),0===Wt.length)return;this.maybeSetNormalizedName(Ke.name,Ze);const Kt=("a"===Ke.op?this.headers.get(Ze):void 0)||[];Kt.push(...Wt),this.headers.set(Ze,Kt);break;case"d":const Ei=Ke.value;if(Ei){let vi=this.headers.get(Ze);if(!vi)return;vi=vi.filter(pi=>-1===Ei.indexOf(pi)),0===vi.length?(this.headers.delete(Ze),this.normalizedNames.delete(Ze)):this.headers.set(Ze,vi)}else this.headers.delete(Ze),this.normalizedNames.delete(Ze)}}forEach(Ke){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ze=>Ke(this.normalizedNames.get(Ze),this.headers.get(Ze)))}}class W{encodeKey(Ke){return ue(Ke)}encodeValue(Ke){return ue(Ke)}decodeKey(Ke){return decodeURIComponent(Ke)}decodeValue(Ke){return decodeURIComponent(Ke)}}const oe=/%(\d[a-f0-9])/gi,q={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ue(Et){return encodeURIComponent(Et).replace(oe,(Ke,Ze)=>{var Wt;return null!==(Wt=q[Ze])&&void 0!==Wt?Wt:Ke})}function Te(Et){return`${Et}`}class le{constructor(Ke={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Ke.encoder||new W,Ke.fromString){if(Ke.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function te(Et,Ke){const Ze=new Map;return Et.length>0&&Et.replace(/^\?/,"").split("&").forEach(Kt=>{const Ei=Kt.indexOf("="),[vi,pi]=-1==Ei?[Ke.decodeKey(Kt),""]:[Ke.decodeKey(Kt.slice(0,Ei)),Ke.decodeValue(Kt.slice(Ei+1))],Gi=Ze.get(vi)||[];Gi.push(pi),Ze.set(vi,Gi)}),Ze}(Ke.fromString,this.encoder)}else Ke.fromObject?(this.map=new Map,Object.keys(Ke.fromObject).forEach(Ze=>{const Wt=Ke.fromObject[Ze];this.map.set(Ze,Array.isArray(Wt)?Wt:[Wt])})):this.map=null}has(Ke){return this.init(),this.map.has(Ke)}get(Ke){this.init();const Ze=this.map.get(Ke);return Ze?Ze[0]:null}getAll(Ke){return this.init(),this.map.get(Ke)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Ke,Ze){return this.clone({param:Ke,value:Ze,op:"a"})}appendAll(Ke){const Ze=[];return Object.keys(Ke).forEach(Wt=>{const Kt=Ke[Wt];Array.isArray(Kt)?Kt.forEach(Ei=>{Ze.push({param:Wt,value:Ei,op:"a"})}):Ze.push({param:Wt,value:Kt,op:"a"})}),this.clone(Ze)}set(Ke,Ze){return this.clone({param:Ke,value:Ze,op:"s"})}delete(Ke,Ze){return this.clone({param:Ke,value:Ze,op:"d"})}toString(){return this.init(),this.keys().map(Ke=>{const Ze=this.encoder.encodeKey(Ke);return this.map.get(Ke).map(Wt=>Ze+"="+this.encoder.encodeValue(Wt)).join("&")}).filter(Ke=>""!==Ke).join("&")}clone(Ke){const Ze=new le({encoder:this.encoder});return Ze.cloneFrom=this.cloneFrom||this,Ze.updates=(this.updates||[]).concat(Ke),Ze}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Ke=>this.map.set(Ke,this.cloneFrom.map.get(Ke))),this.updates.forEach(Ke=>{switch(Ke.op){case"a":case"s":const Ze=("a"===Ke.op?this.map.get(Ke.param):void 0)||[];Ze.push(Te(Ke.value)),this.map.set(Ke.param,Ze);break;case"d":if(void 0===Ke.value){this.map.delete(Ke.param);break}{let Wt=this.map.get(Ke.param)||[];const Kt=Wt.indexOf(Te(Ke.value));-1!==Kt&&Wt.splice(Kt,1),Wt.length>0?this.map.set(Ke.param,Wt):this.map.delete(Ke.param)}}}),this.cloneFrom=this.updates=null)}}class Pe{constructor(){this.map=new Map}set(Ke,Ze){return this.map.set(Ke,Ze),this}get(Ke){return this.map.has(Ke)||this.map.set(Ke,Ke.defaultValue()),this.map.get(Ke)}delete(Ke){return this.map.delete(Ke),this}has(Ke){return this.map.has(Ke)}keys(){return this.map.keys()}}function Se(Et){return"undefined"!=typeof ArrayBuffer&&Et instanceof ArrayBuffer}function ve(Et){return"undefined"!=typeof Blob&&Et instanceof Blob}function se(Et){return"undefined"!=typeof FormData&&Et instanceof FormData}class ce{constructor(Ke,Ze,Wt,Kt){let Ei;if(this.url=Ze,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Ke.toUpperCase(),function Ue(Et){switch(Et){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Kt?(this.body=void 0!==Wt?Wt:null,Ei=Kt):Ei=Wt,Ei&&(this.reportProgress=!!Ei.reportProgress,this.withCredentials=!!Ei.withCredentials,Ei.responseType&&(this.responseType=Ei.responseType),Ei.headers&&(this.headers=Ei.headers),Ei.context&&(this.context=Ei.context),Ei.params&&(this.params=Ei.params)),this.headers||(this.headers=new F),this.context||(this.context=new Pe),this.params){const vi=this.params.toString();if(0===vi.length)this.urlWithParams=Ze;else{const pi=Ze.indexOf("?");this.urlWithParams=Ze+(-1===pi?"?":pi<Ze.length-1?"&":"")+vi}}else this.params=new le,this.urlWithParams=Ze}serializeBody(){return null===this.body?null:Se(this.body)||ve(this.body)||se(this.body)||function me(Et){return"undefined"!=typeof URLSearchParams&&Et instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||se(this.body)?null:ve(this.body)?this.body.type||null:Se(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Ke={}){var Ze;const Wt=Ke.method||this.method,Kt=Ke.url||this.url,Ei=Ke.responseType||this.responseType,vi=void 0!==Ke.body?Ke.body:this.body,pi=void 0!==Ke.withCredentials?Ke.withCredentials:this.withCredentials,Gi=void 0!==Ke.reportProgress?Ke.reportProgress:this.reportProgress;let Di=Ke.headers||this.headers,an=Ke.params||this.params;const _t=null!==(Ze=Ke.context)&&void 0!==Ze?Ze:this.context;return void 0!==Ke.setHeaders&&(Di=Object.keys(Ke.setHeaders).reduce((Mt,_i)=>Mt.set(_i,Ke.setHeaders[_i]),Di)),Ke.setParams&&(an=Object.keys(Ke.setParams).reduce((Mt,_i)=>Mt.set(_i,Ke.setParams[_i]),an)),new ce(Wt,Kt,vi,{params:an,headers:Di,context:_t,reportProgress:Gi,responseType:Ei,withCredentials:pi})}}var Ne=(()=>((Ne=Ne||{})[Ne.Sent=0]="Sent",Ne[Ne.UploadProgress=1]="UploadProgress",Ne[Ne.ResponseHeader=2]="ResponseHeader",Ne[Ne.DownloadProgress=3]="DownloadProgress",Ne[Ne.Response=4]="Response",Ne[Ne.User=5]="User",Ne))();class Ae{constructor(Ke,Ze=200,Wt="OK"){this.headers=Ke.headers||new F,this.status=void 0!==Ke.status?Ke.status:Ze,this.statusText=Ke.statusText||Wt,this.url=Ke.url||null,this.ok=this.status>=200&&this.status<300}}class Ce extends Ae{constructor(Ke={}){super(Ke),this.type=Ne.ResponseHeader}clone(Ke={}){return new Ce({headers:Ke.headers||this.headers,status:void 0!==Ke.status?Ke.status:this.status,statusText:Ke.statusText||this.statusText,url:Ke.url||this.url||void 0})}}class de extends Ae{constructor(Ke={}){super(Ke),this.type=Ne.Response,this.body=void 0!==Ke.body?Ke.body:null}clone(Ke={}){return new de({body:void 0!==Ke.body?Ke.body:this.body,headers:Ke.headers||this.headers,status:void 0!==Ke.status?Ke.status:this.status,statusText:Ke.statusText||this.statusText,url:Ke.url||this.url||void 0})}}class re extends Ae{constructor(Ke){super(Ke,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Ke.url||"(unknown url)"}`:`Http failure response for ${Ke.url||"(unknown url)"}: ${Ke.status} ${Ke.statusText}`,this.error=Ke.error||null}}function ot(Et,Ke){return{body:Ke,headers:Et.headers,context:Et.context,observe:Et.observe,params:Et.params,reportProgress:Et.reportProgress,responseType:Et.responseType,withCredentials:Et.withCredentials}}let ze=(()=>{class Et{constructor(Ze){this.handler=Ze}request(Ze,Wt,Kt={}){let Ei;if(Ze instanceof ce)Ei=Ze;else{let Gi,Di;Gi=Kt.headers instanceof F?Kt.headers:new F(Kt.headers),Kt.params&&(Di=Kt.params instanceof le?Kt.params:new le({fromObject:Kt.params})),Ei=new ce(Ze,Wt,void 0!==Kt.body?Kt.body:null,{headers:Gi,context:Kt.context,params:Di,reportProgress:Kt.reportProgress,responseType:Kt.responseType||"json",withCredentials:Kt.withCredentials})}const vi=(0,t.of)(Ei).pipe((0,n.b)(Gi=>this.handler.handle(Gi)));if(Ze instanceof ce||"events"===Kt.observe)return vi;const pi=vi.pipe((0,a.h)(Gi=>Gi instanceof de));switch(Kt.observe||"body"){case"body":switch(Ei.responseType){case"arraybuffer":return pi.pipe((0,u.U)(Gi=>{if(null!==Gi.body&&!(Gi.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Gi.body}));case"blob":return pi.pipe((0,u.U)(Gi=>{if(null!==Gi.body&&!(Gi.body instanceof Blob))throw new Error("Response is not a Blob.");return Gi.body}));case"text":return pi.pipe((0,u.U)(Gi=>{if(null!==Gi.body&&"string"!=typeof Gi.body)throw new Error("Response is not a string.");return Gi.body}));default:return pi.pipe((0,u.U)(Gi=>Gi.body))}case"response":return pi;default:throw new Error(`Unreachable: unhandled observe type ${Kt.observe}}`)}}delete(Ze,Wt={}){return this.request("DELETE",Ze,Wt)}get(Ze,Wt={}){return this.request("GET",Ze,Wt)}head(Ze,Wt={}){return this.request("HEAD",Ze,Wt)}jsonp(Ze,Wt){return this.request("JSONP",Ze,{params:(new le).append(Wt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ze,Wt={}){return this.request("OPTIONS",Ze,Wt)}patch(Ze,Wt,Kt={}){return this.request("PATCH",Ze,ot(Kt,Wt))}post(Ze,Wt,Kt={}){return this.request("POST",Ze,ot(Kt,Wt))}put(Ze,Wt,Kt={}){return this.request("PUT",Ze,ot(Kt,Wt))}}return Et.\u0275fac=function(Ze){return new(Ze||Et)(m.LFG(C))},Et.\u0275prov=m.Yz7({token:Et,factory:Et.\u0275fac}),Et})();class De{constructor(Ke,Ze){this.next=Ke,this.interceptor=Ze}handle(Ke){return this.interceptor.intercept(Ke,this.next)}}const st=new m.OlP("HTTP_INTERCEPTORS");let pt=(()=>{class Et{intercept(Ze,Wt){return Wt.handle(Ze)}}return Et.\u0275fac=function(Ze){return new(Ze||Et)},Et.\u0275prov=m.Yz7({token:Et,factory:Et.\u0275fac}),Et})();const ii=/^\)\]\}',?\n/;let Ye=(()=>{class Et{constructor(Ze){this.xhrFactory=Ze}handle(Ze){if("JSONP"===Ze.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new e.y(Wt=>{const Kt=this.xhrFactory.build();if(Kt.open(Ze.method,Ze.urlWithParams),Ze.withCredentials&&(Kt.withCredentials=!0),Ze.headers.forEach((_i,yi)=>Kt.setRequestHeader(_i,yi.join(","))),Ze.headers.has("Accept")||Kt.setRequestHeader("Accept","application/json, text/plain, */*"),!Ze.headers.has("Content-Type")){const _i=Ze.detectContentTypeHeader();null!==_i&&Kt.setRequestHeader("Content-Type",_i)}if(Ze.responseType){const _i=Ze.responseType.toLowerCase();Kt.responseType="json"!==_i?_i:"text"}const Ei=Ze.serializeBody();let vi=null;const pi=()=>{if(null!==vi)return vi;const _i=1223===Kt.status?204:Kt.status,yi=Kt.statusText||"OK",Fi=new F(Kt.getAllResponseHeaders()),Pi=function mt(Et){return"responseURL"in Et&&Et.responseURL?Et.responseURL:/^X-Request-URL:/m.test(Et.getAllResponseHeaders())?Et.getResponseHeader("X-Request-URL"):null}(Kt)||Ze.url;return vi=new Ce({headers:Fi,status:_i,statusText:yi,url:Pi}),vi},Gi=()=>{let{headers:_i,status:yi,statusText:Fi,url:Pi}=pi(),gn=null;204!==yi&&(gn=void 0===Kt.response?Kt.responseText:Kt.response),0===yi&&(yi=gn?200:0);let ai=yi>=200&&yi<300;if("json"===Ze.responseType&&"string"==typeof gn){const Tt=gn;gn=gn.replace(ii,"");try{gn=""!==gn?JSON.parse(gn):null}catch(He){gn=Tt,ai&&(ai=!1,gn={error:He,text:gn})}}ai?(Wt.next(new de({body:gn,headers:_i,status:yi,statusText:Fi,url:Pi||void 0})),Wt.complete()):Wt.error(new re({error:gn,headers:_i,status:yi,statusText:Fi,url:Pi||void 0}))},Di=_i=>{const{url:yi}=pi(),Fi=new re({error:_i,status:Kt.status||0,statusText:Kt.statusText||"Unknown Error",url:yi||void 0});Wt.error(Fi)};let an=!1;const _t=_i=>{an||(Wt.next(pi()),an=!0);let yi={type:Ne.DownloadProgress,loaded:_i.loaded};_i.lengthComputable&&(yi.total=_i.total),"text"===Ze.responseType&&!!Kt.responseText&&(yi.partialText=Kt.responseText),Wt.next(yi)},Mt=_i=>{let yi={type:Ne.UploadProgress,loaded:_i.loaded};_i.lengthComputable&&(yi.total=_i.total),Wt.next(yi)};return Kt.addEventListener("load",Gi),Kt.addEventListener("error",Di),Kt.addEventListener("timeout",Di),Kt.addEventListener("abort",Di),Ze.reportProgress&&(Kt.addEventListener("progress",_t),null!==Ei&&Kt.upload&&Kt.upload.addEventListener("progress",Mt)),Kt.send(Ei),Wt.next({type:Ne.Sent}),()=>{Kt.removeEventListener("error",Di),Kt.removeEventListener("abort",Di),Kt.removeEventListener("load",Gi),Kt.removeEventListener("timeout",Di),Ze.reportProgress&&(Kt.removeEventListener("progress",_t),null!==Ei&&Kt.upload&&Kt.upload.removeEventListener("progress",Mt)),Kt.readyState!==Kt.DONE&&Kt.abort()}})}}return Et.\u0275fac=function(Ze){return new(Ze||Et)(m.LFG(E.JF))},Et.\u0275prov=m.Yz7({token:Et,factory:Et.\u0275fac}),Et})();const Je=new m.OlP("XSRF_COOKIE_NAME"),ut=new m.OlP("XSRF_HEADER_NAME");class Re{}let yt=(()=>{class Et{constructor(Ze,Wt,Kt){this.doc=Ze,this.platform=Wt,this.cookieName=Kt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ze=this.doc.cookie||"";return Ze!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,E.Mx)(Ze,this.cookieName),this.lastCookieString=Ze),this.lastToken}}return Et.\u0275fac=function(Ze){return new(Ze||Et)(m.LFG(E.K0),m.LFG(m.Lbi),m.LFG(Je))},Et.\u0275prov=m.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),zt=(()=>{class Et{constructor(Ze,Wt){this.tokenService=Ze,this.headerName=Wt}intercept(Ze,Wt){const Kt=Ze.url.toLowerCase();if("GET"===Ze.method||"HEAD"===Ze.method||Kt.startsWith("http://")||Kt.startsWith("https://"))return Wt.handle(Ze);const Ei=this.tokenService.getToken();return null!==Ei&&!Ze.headers.has(this.headerName)&&(Ze=Ze.clone({headers:Ze.headers.set(this.headerName,Ei)})),Wt.handle(Ze)}}return Et.\u0275fac=function(Ze){return new(Ze||Et)(m.LFG(Re),m.LFG(ut))},Et.\u0275prov=m.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),gi=(()=>{class Et{constructor(Ze,Wt){this.backend=Ze,this.injector=Wt,this.chain=null}handle(Ze){if(null===this.chain){const Wt=this.injector.get(st,[]);this.chain=Wt.reduceRight((Kt,Ei)=>new De(Kt,Ei),this.backend)}return this.chain.handle(Ze)}}return Et.\u0275fac=function(Ze){return new(Ze||Et)(m.LFG(D),m.LFG(m.zs3))},Et.\u0275prov=m.Yz7({token:Et,factory:Et.\u0275fac}),Et})(),tt=(()=>{class Et{static disable(){return{ngModule:Et,providers:[{provide:zt,useClass:pt}]}}static withOptions(Ze={}){return{ngModule:Et,providers:[Ze.cookieName?{provide:Je,useValue:Ze.cookieName}:[],Ze.headerName?{provide:ut,useValue:Ze.headerName}:[]]}}}return Et.\u0275fac=function(Ze){return new(Ze||Et)},Et.\u0275mod=m.oAB({type:Et}),Et.\u0275inj=m.cJS({providers:[zt,{provide:st,useExisting:zt,multi:!0},{provide:Re,useClass:yt},{provide:Je,useValue:"XSRF-TOKEN"},{provide:ut,useValue:"X-XSRF-TOKEN"}]}),Et})(),At=(()=>{class Et{}return Et.\u0275fac=function(Ze){return new(Ze||Et)},Et.\u0275mod=m.oAB({type:Et}),Et.\u0275inj=m.cJS({providers:[ze,{provide:C,useClass:gi},Ye,{provide:D,useExisting:Ye}],imports:[[tt.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Et})()},5e3:(B,K,f)=>{"use strict";f.d(K,{deG:()=>rd,tb:()=>Cy,AFp:()=>yy,ip1:()=>fm,CZH:()=>ep,hGG:()=>e0,z2F:()=>Gp,sBO:()=>RT,Sil:()=>mm,_Vd:()=>Pp,EJc:()=>wy,SBq:()=>Np,qLn:()=>Fc,vpe:()=>Td,tBr:()=>xa,XFs:()=>tt,OlP:()=>vo,zs3:()=>iu,ZZ4:()=>Gf,aQg:()=>Wf,soG:()=>Vf,YKP:()=>Av,h0i:()=>Zh,PXZ:()=>CT,R0b:()=>Cu,FiY:()=>yl,Lbi:()=>Ey,g9A:()=>by,n_E:()=>Lf,Qsj:()=>sC,FYo:()=>Dv,JOm:()=>Me,q3G:()=>ms,tp0:()=>kl,Rgc:()=>Vp,dDg:()=>My,GfV:()=>Mv,s_b:()=>Nf,ifc:()=>vi,eFA:()=>Ay,G48:()=>xT,Gpc:()=>W,f3M:()=>Ha,_c5:()=>XT,VLi:()=>yT,c2e:()=>Ty,zSh:()=>Wh,wAp:()=>wr,vHH:()=>ue,EiD:()=>Jc,mCW:()=>po,qzn:()=>Dt,JVY:()=>ui,pB0:()=>Ii,eBb:()=>li,L6k:()=>Zt,LAX:()=>Oi,cg1:()=>Yg,kL8:()=>J_,yhl:()=>Ht,dqk:()=>_t,sIi:()=>Fe,CqO:()=>s_,QGY:()=>Og,F4k:()=>o_,RDi:()=>qo,AaK:()=>C,z3N:()=>et,qOj:()=>g,TTD:()=>Ho,_Bn:()=>Tv,xp6:()=>Ld,uIk:()=>vn,Gre:()=>V_,ekj:()=>Hg,Suo:()=>Zv,Xpm:()=>gt,lG2:()=>Pt,Yz7:()=>Rt,cJS:()=>mt,oAB:()=>qn,Yjl:()=>di,Y36:()=>Rp,_UZ:()=>i_,GkF:()=>n_,BQk:()=>Ig,ynx:()=>Ag,qZA:()=>Rg,TgZ:()=>xg,EpF:()=>r_,n5z:()=>Dl,Ikx:()=>jg,LFG:()=>Xo,$8M:()=>Gc,$Z:()=>t_,NdJ:()=>kg,CRH:()=>Qv,kcU:()=>$s,O4$:()=>Ts,oxw:()=>c_,ALo:()=>Gv,lcZ:()=>Wv,Hsn:()=>d_,F$t:()=>u_,Q6J:()=>Dg,s9C:()=>Ng,DdM:()=>Lv,VKq:()=>Pv,WLB:()=>Nv,iGM:()=>$v,MAs:()=>Tl,CHM:()=>it,LSH:()=>Zc,Udp:()=>Bg,WFA:()=>Lg,d8E:()=>zg,YNc:()=>lc,W1O:()=>iy,_uU:()=>k_,Oqu:()=>Ug,hij:()=>Mf,AsE:()=>Gg,lnq:()=>Wg,Gf:()=>Jv});var E=f(77579),m=f(50727),t=f(68306),e=f(56451),n=f(13099);function a(c){for(let d in c)if(c[d]===a)return d;throw Error("Could not find renamed property on target object.")}function u(c,d){for(const _ in d)d.hasOwnProperty(_)&&!c.hasOwnProperty(_)&&(c[_]=d[_])}function C(c){if("string"==typeof c)return c;if(Array.isArray(c))return"["+c.map(C).join(", ")+"]";if(null==c)return""+c;if(c.overriddenName)return`${c.overriddenName}`;if(c.name)return`${c.name}`;const d=c.toString();if(null==d)return""+d;const _=d.indexOf("\n");return-1===_?d:d.substring(0,_)}function D(c,d){return null==c||""===c?null===d?"":d:null==d||""===d?c:c+" "+d}const F=a({__forward_ref__:a});function W(c){return c.__forward_ref__=W,c.toString=function(){return C(this())},c}function te(c){return oe(c)?c():c}function oe(c){return"function"==typeof c&&c.hasOwnProperty(F)&&c.__forward_ref__===W}class ue extends Error{constructor(d,_){super(function le(c,d){return`${c?`NG0${c}: `:""}${d}`}(d,_)),this.code=d}}function _e(c){return"string"==typeof c?c:null==c?"":String(c)}function Pe(c){return"function"==typeof c?c.name||c.toString():"object"==typeof c&&null!=c&&"function"==typeof c.type?c.type.name||c.type.toString():_e(c)}function se(c,d){const _=d?` in ${d}`:"";throw new ue("201",`No provider for ${Pe(c)} found${_}`)}function Ot(c,d){null==c&&function kt(c,d,_,w){throw new Error(`ASSERTION ERROR: ${c}`+(null==w?"":` [Expected=> ${_} ${w} ${d} <=Actual]`))}(d,c,null,"!=")}function Rt(c){return{token:c.token,providedIn:c.providedIn||null,factory:c.factory,value:void 0}}function mt(c){return{providers:c.providers||[],imports:c.imports||[]}}function Ye(c){return Je(c,zt)||Je(c,wt)}function Je(c,d){return c.hasOwnProperty(d)?c[d]:null}function yt(c){return c&&(c.hasOwnProperty(gi)||c.hasOwnProperty(rt))?c[gi]:null}const zt=a({\u0275prov:a}),gi=a({\u0275inj:a}),wt=a({ngInjectableDef:a}),rt=a({ngInjectorDef:a});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let At;function vt(c){const d=At;return At=c,d}function Et(c,d,_){const w=Ye(c);return w&&"root"==w.providedIn?void 0===w.value?w.value=w.factory():w.value:_&tt.Optional?null:void 0!==d?d:void se(C(c),"Injector")}function Ze(c){return{toString:c}.toString()}var Wt=(()=>((Wt=Wt||{})[Wt.OnPush=0]="OnPush",Wt[Wt.Default=1]="Default",Wt))(),vi=(()=>{return(c=vi||(vi={}))[c.Emulated=0]="Emulated",c[c.None=2]="None",c[c.ShadowDom=3]="ShadowDom",vi;var c})();const pi="undefined"!=typeof globalThis&&globalThis,Gi="undefined"!=typeof window&&window,Di="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_t=pi||"undefined"!=typeof global&&global||Gi||Di,yi={},Fi=[],Pi=a({\u0275cmp:a}),gn=a({\u0275dir:a}),ai=a({\u0275pipe:a}),Tt=a({\u0275mod:a}),He=a({\u0275fac:a}),Ee=a({__NG_ELEMENT_ID__:a});let Ve=0;function gt(c){return Ze(()=>{const _={},w={type:c.type,providersResolver:null,decls:c.decls,vars:c.vars,factory:null,template:c.template||null,consts:c.consts||null,ngContentSelectors:c.ngContentSelectors,hostBindings:c.hostBindings||null,hostVars:c.hostVars||0,hostAttrs:c.hostAttrs||null,contentQueries:c.contentQueries||null,declaredInputs:_,inputs:null,outputs:null,exportAs:c.exportAs||null,onPush:c.changeDetection===Wt.OnPush,directiveDefs:null,pipeDefs:null,selectors:c.selectors||Fi,viewQuery:c.viewQuery||null,features:c.features||null,data:c.data||{},encapsulation:c.encapsulation||vi.Emulated,id:"c",styles:c.styles||Fi,_:null,setInput:null,schemas:c.schemas||null,tView:null},R=c.directives,P=c.features,$=c.pipes;return w.id+=Ve++,w.inputs=$t(c.inputs,_),w.outputs=$t(c.outputs),P&&P.forEach(ae=>ae(w)),w.directiveDefs=R?()=>("function"==typeof R?R():R).map(Xi):null,w.pipeDefs=$?()=>("function"==typeof $?$():$).map(ln):null,w})}function Xi(c){return Ri(c)||function fn(c){return c[gn]||null}(c)}function ln(c){return function kn(c){return c[ai]||null}(c)}const An={};function qn(c){return Ze(()=>{const d={type:c.type,bootstrap:c.bootstrap||Fi,declarations:c.declarations||Fi,imports:c.imports||Fi,exports:c.exports||Fi,transitiveCompileScopes:null,schemas:c.schemas||null,id:c.id||null};return null!=c.id&&(An[c.id]=c.type),d})}function $t(c,d){if(null==c)return yi;const _={};for(const w in c)if(c.hasOwnProperty(w)){let R=c[w],P=R;Array.isArray(R)&&(P=R[1],R=R[0]),_[R]=w,d&&(d[R]=P)}return _}const Pt=gt;function di(c){return{type:c.type,name:c.name,factory:null,pure:!1!==c.pure,onDestroy:c.type.prototype.ngOnDestroy||null}}function Ri(c){return c[Pi]||null}function rr(c,d){const _=c[Tt]||null;if(!_&&!0===d)throw new Error(`Type ${C(c)} does not have '\u0275mod' property.`);return _}function io(c){return Array.isArray(c)&&"object"==typeof c[1]}function Io(c){return Array.isArray(c)&&!0===c[1]}function lr(c){return 0!=(8&c.flags)}function Gs(c){return 2==(2&c.flags)}function jo(c){return 1==(1&c.flags)}function no(c){return null!==c.template}function Eo(c){return 0!=(512&c[2])}function Bo(c,d){return c.hasOwnProperty(He)?c[He]:null}class ra{constructor(d,_,w){this.previousValue=d,this.currentValue=_,this.firstChange=w}isFirstChange(){return this.firstChange}}function Ho(){return fa}function fa(c){return c.type.prototype.ngOnChanges&&(c.setInput=Do),Vo}function Vo(){const c=ro(this),d=null==c?void 0:c.current;if(d){const _=c.previous;if(_===yi)c.previous=d;else for(let w in d)_[w]=d[w];c.current=null,this.ngOnChanges(d)}}function Do(c,d,_,w){const R=ro(c)||function ks(c,d){return c[Mo]=d}(c,{previous:yi,current:null}),P=R.current||(R.current={}),$=R.previous,ae=this.declaredInputs[_],we=$[ae];P[ae]=new ra(we&&we.currentValue,d,$===yi),c[w]=d}Ho.ngInherit=!0;const Mo="__ngSimpleChanges__";function ro(c){return c[Mo]||null}const Ta="http://www.w3.org/2000/svg";let ps;function qo(c){ps=c}function Nr(c){return!!c.listen}const Hn={createRenderer:(c,d)=>function js(){return void 0!==ps?ps:"undefined"!=typeof document?document:void 0}()};function ke(c){for(;Array.isArray(c);)c=c[0];return c}function j(c,d){return ke(d[c])}function Ie(c,d){return ke(d[c.index])}function Ti(c,d){return c.data[d]}function dn(c,d){return c[d]}function Un(c,d){const _=d[c];return io(_)?_:_[0]}function Ir(c){return 4==(4&c[2])}function Wr(c){return 128==(128&c[2])}function qr(c,d){return null==d?null:c[d]}function hr(c){c[18]=0}function ko(c,d){c[5]+=d;let _=c,w=c[3];for(;null!==w&&(1===d&&1===_[5]||-1===d&&0===_[5]);)w[5]+=d,_=w,w=w[3]}const $n={lFrame:lo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ls(){return $n.bindingsEnabled}function $i(){return $n.lFrame.lView}function Fr(){return $n.lFrame.tView}function it(c){return $n.lFrame.contextLView=c,c[8]}function G(){let c=X();for(;null!==c&&64===c.type;)c=c.parent;return c}function X(){return $n.lFrame.currentTNode}function qe(c,d){const _=$n.lFrame;_.currentTNode=c,_.isParent=d}function bt(){return $n.lFrame.isParent}function Xt(){$n.lFrame.isParent=!1}function Hi(){return $n.isInCheckNoChangesMode}function hn(c){$n.isInCheckNoChangesMode=c}function bn(){const c=$n.lFrame;let d=c.bindingRootIndex;return-1===d&&(d=c.bindingRootIndex=c.tView.bindingStartIndex),d}function Jn(){return $n.lFrame.bindingIndex}function Gn(){return $n.lFrame.bindingIndex++}function Yn(c){const d=$n.lFrame,_=d.bindingIndex;return d.bindingIndex=d.bindingIndex+c,_}function _o(c,d){const _=$n.lFrame;_.bindingIndex=_.bindingRootIndex=c,Lo(d)}function Lo(c){$n.lFrame.currentDirectiveIndex=c}function sa(c){const d=$n.lFrame.currentDirectiveIndex;return-1===d?null:c[d]}function fs(){return $n.lFrame.currentQueryIndex}function Co(c){$n.lFrame.currentQueryIndex=c}function Ps(c){const d=c[1];return 2===d.type?d.declTNode:1===d.type?c[6]:null}function Ys(c,d,_){if(_&tt.SkipSelf){let R=d,P=c;for(;!(R=R.parent,null!==R||_&tt.Host||(R=Ps(P),null===R||(P=P[15],10&R.type))););if(null===R)return!1;d=R,c=P}const w=$n.lFrame=ka();return w.currentTNode=d,w.lView=c,!0}function Xs(c){const d=ka(),_=c[1];$n.lFrame=d,d.currentTNode=_.firstChild,d.lView=c,d.tView=_,d.contextLView=c,d.bindingIndex=_.bindingStartIndex,d.inI18n=!1}function ka(){const c=$n.lFrame,d=null===c?null:c.child;return null===d?lo(c):d}function lo(c){const d={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:c,child:null,inI18n:!1};return null!==c&&(c.child=d),d}function Cs(){const c=$n.lFrame;return $n.lFrame=c.parent,c.currentTNode=null,c.lView=null,c}const ol=Cs;function os(){const c=Cs();c.isParent=!0,c.tView=null,c.selectedIndex=-1,c.contextLView=null,c.elementDepthCount=0,c.currentDirectiveIndex=-1,c.currentNamespace=null,c.bindingRootIndex=-1,c.bindingIndex=-1,c.currentQueryIndex=0}function Nn(){return $n.lFrame.selectedIndex}function _r(c){$n.lFrame.selectedIndex=c}function vr(){const c=$n.lFrame;return Ti(c.tView,c.selectedIndex)}function Ts(){$n.lFrame.currentNamespace=Ta}function $s(){!function oo(){$n.lFrame.currentNamespace=null}()}function ws(c,d){for(let _=d.directiveStart,w=d.directiveEnd;_<w;_++){const P=c.data[_].type.prototype,{ngAfterContentInit:$,ngAfterContentChecked:ae,ngAfterViewInit:we,ngAfterViewChecked:je,ngOnDestroy:ht}=P;$&&(c.contentHooks||(c.contentHooks=[])).push(-_,$),ae&&((c.contentHooks||(c.contentHooks=[])).push(_,ae),(c.contentCheckHooks||(c.contentCheckHooks=[])).push(_,ae)),we&&(c.viewHooks||(c.viewHooks=[])).push(-_,we),je&&((c.viewHooks||(c.viewHooks=[])).push(_,je),(c.viewCheckHooks||(c.viewCheckHooks=[])).push(_,je)),null!=ht&&(c.destroyHooks||(c.destroyHooks=[])).push(_,ht)}}function Sa(c,d,_){ql(c,d,3,_)}function Yo(c,d,_,w){(3&c[2])===_&&ql(c,d,_,w)}function Ns(c,d){let _=c[2];(3&_)===d&&(_&=2047,_+=1,c[2]=_)}function ql(c,d,_,w){const P=null!=w?w:-1,$=d.length-1;let ae=0;for(let we=void 0!==w?65535&c[18]:0;we<$;we++)if("number"==typeof d[we+1]){if(ae=d[we],null!=w&&ae>=w)break}else d[we]<0&&(c[18]+=65536),(ae<P||-1==P)&&(sl(c,_,d,we),c[18]=(4294901760&c[18])+we+2),we++}function sl(c,d,_,w){const R=_[w]<0,P=_[w+1],ae=c[R?-_[w]:_[w]];if(R){if(c[2]>>11<c[18]>>16&&(3&c[2])===d){c[2]+=2048;try{P.call(ae)}finally{}}}else try{P.call(ae)}finally{}}class ts{constructor(d,_,w){this.factory=d,this.resolving=!1,this.canSeeViewProviders=_,this.injectImpl=w}}function ml(c,d,_){const w=Nr(c);let R=0;for(;R<_.length;){const P=_[R];if("number"==typeof P){if(0!==P)break;R++;const $=_[R++],ae=_[R++],we=_[R++];w?c.setAttribute(d,ae,we,$):d.setAttributeNS($,ae,we)}else{const $=P,ae=_[++R];ma($)?w&&c.setProperty(d,$,ae):w?c.setAttribute(d,$,ae):d.setAttribute($,ae),R++}}return R}function Vc(c){return 3===c||4===c||6===c}function ma(c){return 64===c.charCodeAt(0)}function cc(c,d){if(null!==d&&0!==d.length)if(null===c||0===c.length)c=d.slice();else{let _=-1;for(let w=0;w<d.length;w++){const R=d[w];"number"==typeof R?_=R:0===_||Pa(c,_,R,null,-1===_||2===_?d[++w]:null)}}return c}function Pa(c,d,_,w,R){let P=0,$=c.length;if(-1===d)$=-1;else for(;P<c.length;){const ae=c[P++];if("number"==typeof ae){if(ae===d){$=-1;break}if(ae>d){$=P-1;break}}}for(;P<c.length;){const ae=c[P];if("number"==typeof ae)break;if(ae===_){if(null===w)return void(null!==R&&(c[P+1]=R));if(w===c[P+1])return void(c[P+2]=R)}P++,null!==w&&P++,null!==R&&P++}-1!==$&&(c.splice($,0,d),P=$+1),c.splice(P++,0,_),null!==w&&c.splice(P++,0,w),null!==R&&c.splice(P++,0,R)}function Js(c){return-1!==c}function Ka(c){return 32767&c}function _a(c,d){let _=function Zs(c){return c>>16}(c),w=d;for(;_>0;)w=w[15],_--;return w}let wl=!0;function Wl(c){const d=wl;return wl=c,d}let fe=0;function Q(c,d){const _=Ge(c,d);if(-1!==_)return _;const w=d[1];w.firstCreatePass&&(c.injectorIndex=d.length,Oe(w.data,c),Oe(d,null),Oe(w.blueprint,null));const R=ft(c,d),P=c.injectorIndex;if(Js(R)){const $=Ka(R),ae=_a(R,d),we=ae[1].data;for(let je=0;je<8;je++)d[P+je]=ae[$+je]|we[$+je]}return d[P+8]=R,P}function Oe(c,d){c.push(0,0,0,0,0,0,0,0,d)}function Ge(c,d){return-1===c.injectorIndex||c.parent&&c.parent.injectorIndex===c.injectorIndex||null===d[c.injectorIndex+8]?-1:c.injectorIndex}function ft(c,d){if(c.parent&&-1!==c.parent.injectorIndex)return c.parent.injectorIndex;let _=0,w=null,R=d;for(;null!==R;){const P=R[1],$=P.type;if(w=2===$?P.declTNode:1===$?R[6]:null,null===w)return-1;if(_++,R=R[15],-1!==w.injectorIndex)return w.injectorIndex|_<<16}return-1}function Vt(c,d,_){!function ne(c,d,_){let w;"string"==typeof _?w=_.charCodeAt(0)||0:_.hasOwnProperty(Ee)&&(w=_[Ee]),null==w&&(w=_[Ee]=fe++);const R=255&w;d.data[c+(R>>5)]|=1<<R}(c,d,_)}function Li(c,d,_){if(_&tt.Optional)return c;se(d,"NodeInjector")}function Mn(c,d,_,w){if(_&tt.Optional&&void 0===w&&(w=null),0==(_&(tt.Self|tt.Host))){const R=c[9],P=vt(void 0);try{return R?R.get(d,w,_&tt.Optional):Et(d,w,_&tt.Optional)}finally{vt(P)}}return Li(w,d,_)}function yr(c,d,_,w=tt.Default,R){if(null!==c){const P=function Ss(c){if("string"==typeof c)return c.charCodeAt(0)||0;const d=c.hasOwnProperty(Ee)?c[Ee]:void 0;return"number"==typeof d?d>=0?255&d:$r:d}(_);if("function"==typeof P){if(!Ys(d,c,w))return w&tt.Host?Li(R,_,w):Mn(d,_,w,R);try{const $=P(w);if(null!=$||w&tt.Optional)return $;se(_)}finally{ol()}}else if("number"==typeof P){let $=null,ae=Ge(c,d),we=-1,je=w&tt.Host?d[16][6]:null;for((-1===ae||w&tt.SkipSelf)&&(we=-1===ae?ft(c,d):d[ae+8],-1!==we&&Da(w,!1)?($=d[1],ae=Ka(we),d=_a(we,d)):ae=-1);-1!==ae;){const ht=d[1];if(Qs(P,ae,ht.data)){const Nt=co(ae,d,_,$,w,je);if(Nt!==Kn)return Nt}we=d[ae+8],-1!==we&&Da(w,d[1].data[ae+8]===je)&&Qs(P,ae,d)?($=ht,ae=Ka(we),d=_a(we,d)):ae=-1}}}return Mn(d,_,w,R)}const Kn={};function $r(){return new as(G(),$i())}function co(c,d,_,w,R,P){const $=d[1],ae=$.data[c+8],ht=Sl(ae,$,_,null==w?Gs(ae)&&wl:w!=$&&0!=(3&ae.type),R&tt.Host&&P===ae);return null!==ht?Bs(d,$,ht,ae):Kn}function Sl(c,d,_,w,R){const P=c.providerIndexes,$=d.data,ae=1048575&P,we=c.directiveStart,ht=P>>20,ni=R?ae+ht:c.directiveEnd;for(let wi=w?ae:ae+ht;wi<ni;wi++){const Zi=$[wi];if(wi<we&&_===Zi||wi>=we&&Zi.type===_)return wi}if(R){const wi=$[we];if(wi&&no(wi)&&wi.type===_)return we}return null}function Bs(c,d,_,w){let R=c[_];const P=d.data;if(function ga(c){return c instanceof ts}(R)){const $=R;$.resolving&&function Ue(c,d){const _=d?`. Dependency path: ${d.join(" > ")} > ${c}`:"";throw new ue("200",`Circular dependency in DI detected for ${c}${_}`)}(Pe(P[_]));const ae=Wl($.canSeeViewProviders);$.resolving=!0;const we=$.injectImpl?vt($.injectImpl):null;Ys(c,w,tt.Default);try{R=c[_]=$.factory(void 0,P,c,w),d.firstCreatePass&&_>=w.directiveStart&&function ss(c,d,_){const{ngOnChanges:w,ngOnInit:R,ngDoCheck:P}=d.type.prototype;if(w){const $=fa(d);(_.preOrderHooks||(_.preOrderHooks=[])).push(c,$),(_.preOrderCheckHooks||(_.preOrderCheckHooks=[])).push(c,$)}R&&(_.preOrderHooks||(_.preOrderHooks=[])).push(0-c,R),P&&((_.preOrderHooks||(_.preOrderHooks=[])).push(c,P),(_.preOrderCheckHooks||(_.preOrderCheckHooks=[])).push(c,P))}(_,P[_],d)}finally{null!==we&&vt(we),Wl(ae),$.resolving=!1,ol()}}return R}function Qs(c,d,_){return!!(_[d+(c>>5)]&1<<c)}function Da(c,d){return!(c&tt.Self||c&tt.Host&&d)}class as{constructor(d,_){this._tNode=d,this._lView=_}get(d,_,w){return yr(this._tNode,this._lView,d,w,_)}}function Dl(c){return Ze(()=>{const d=c.prototype.constructor,_=d[He]||$a(d),w=Object.prototype;let R=Object.getPrototypeOf(c.prototype).constructor;for(;R&&R!==w;){const P=R[He]||$a(R);if(P&&P!==_)return P;R=Object.getPrototypeOf(R)}return P=>new P})}function $a(c){return oe(c)?()=>{const d=$a(te(c));return d&&d()}:Bo(c)}function Gc(c){return function qt(c,d){if("class"===d)return c.classes;if("style"===d)return c.styles;const _=c.attrs;if(_){const w=_.length;let R=0;for(;R<w;){const P=_[R];if(Vc(P))break;if(0===P)R+=2;else if("number"==typeof P)for(R++;R<w&&"string"==typeof _[R];)R++;else{if(P===d)return _[R+1];R+=2}}}return null}(G(),c)}const jl="__parameters__";function eo(c,d,_){return Ze(()=>{const w=function xo(c){return function(..._){if(c){const w=c(..._);for(const R in w)this[R]=w[R]}}}(d);function R(...P){if(this instanceof R)return w.apply(this,P),this;const $=new R(...P);return ae.annotation=$,ae;function ae(we,je,ht){const Nt=we.hasOwnProperty(jl)?we[jl]:Object.defineProperty(we,jl,{value:[]})[jl];for(;Nt.length<=ht;)Nt.push(null);return(Nt[ht]=Nt[ht]||[]).push($),we}}return _&&(R.prototype=Object.create(_.prototype)),R.prototype.ngMetadataName=c,R.annotationCls=R,R})}class vo{constructor(d,_){this._desc=d,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof _?this.__NG_ELEMENT_ID__=_:void 0!==_&&(this.\u0275prov=Rt({token:this,providedIn:_.providedIn||"root",factory:_.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rd=new vo("AnalyzeForEntryComponents");function Ds(c,d){void 0===d&&(d=c);for(let _=0;_<c.length;_++){let w=c[_];Array.isArray(w)?(d===c&&(d=c.slice(0,_)),Ds(w,d)):d!==c&&d.push(w)}return d}function aa(c,d){c.forEach(_=>Array.isArray(_)?aa(_,d):d(_))}function Ja(c,d,_){d>=c.length?c.push(_):c.splice(d,0,_)}function Ma(c,d){return d>=c.length-1?c.pop():c.splice(d,1)[0]}function Wc(c,d){const _=[];for(let w=0;w<c;w++)_.push(d);return _}function Ms(c,d,_){let w=ll(c,d);return w>=0?c[1|w]=_:(w=~w,function Br(c,d,_,w){let R=c.length;if(R==d)c.push(_,w);else if(1===R)c.push(w,c[0]),c[0]=_;else{for(R--,c.push(c[R-1],c[R]);R>d;)c[R]=c[R-2],R--;c[d]=_,c[d+1]=w}}(c,w,d,_)),w}function Xl(c,d){const _=ll(c,d);if(_>=0)return c[1|_]}function ll(c,d){return function xl(c,d,_){let w=0,R=c.length>>_;for(;R!==w;){const P=w+(R-w>>1),$=c[P<<_];if(d===$)return P<<_;$>d?R=P:w=P+1}return~(R<<_)}(c,d,1)}const Rl={},su="__NG_DI_FLAG__",Ro="ngTempTokenPath",nc=/\n/gm,Al="__source",Za=a({provide:String,useValue:a});let Ba;function rc(c){const d=Ba;return Ba=c,d}function ul(c,d=tt.Default){if(void 0===Ba)throw new Error("inject() must be called from an injection context");return null===Ba?Et(c,void 0,d):Ba.get(c,d&tt.Optional?null:void 0,d)}function Xo(c,d=tt.Default){return(function lt(){return At}()||ul)(te(c),d)}const Ha=Xo;function Ol(c){const d=[];for(let _=0;_<c.length;_++){const w=te(c[_]);if(Array.isArray(w)){if(0===w.length)throw new Error("Arguments array must have arguments.");let R,P=tt.Default;for(let $=0;$<w.length;$++){const ae=w[$],we=ad(ae);"number"==typeof we?-1===we?R=ae.token:P|=we:R=ae}d.push(Xo(R,P))}else d.push(Xo(w))}return d}function Dc(c,d){return c[su]=d,c.prototype[su]=d,c}function ad(c){return c[su]}const xa=Dc(eo("Inject",c=>({token:c})),-1),yl=Dc(eo("Optional"),8),kl=Dc(eo("SkipSelf"),4);let Nl;function Qa(c){var d;return(null===(d=function Fl(){if(void 0===Nl&&(Nl=null,_t.trustedTypes))try{Nl=_t.trustedTypes.createPolicy("angular",{createHTML:c=>c,createScript:c=>c,createScriptURL:c=>c})}catch(c){}return Nl}())||void 0===d?void 0:d.createHTML(c))||c}class Bl{constructor(d){this.changingThisBreaksApplicationSecurity=d}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Au extends Bl{getTypeName(){return"HTML"}}class xs extends Bl{getTypeName(){return"Style"}}class gc extends Bl{getTypeName(){return"Script"}}class be extends Bl{getTypeName(){return"URL"}}class xe extends Bl{getTypeName(){return"ResourceURL"}}function et(c){return c instanceof Bl?c.changingThisBreaksApplicationSecurity:c}function Dt(c,d){const _=Ht(c);if(null!=_&&_!==d){if("ResourceURL"===_&&"URL"===d)return!0;throw new Error(`Required a safe ${d}, got a ${_} (see https://g.co/ng/security#xss)`)}return _===d}function Ht(c){return c instanceof Bl&&c.getTypeName()||null}function ui(c){return new Au(c)}function Zt(c){return new xs(c)}function li(c){return new gc(c)}function Oi(c){return new be(c)}function Ii(c){return new xe(c)}class er{constructor(d){this.inertDocumentHelper=d}getInertBodyElement(d){d="<body><remove></remove>"+d;try{const _=(new window.DOMParser).parseFromString(Qa(d),"text/html").body;return null===_?this.inertDocumentHelper.getInertBodyElement(d):(_.removeChild(_.firstChild),_)}catch(_){return null}}}class zn{constructor(d){if(this.defaultDoc=d,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const _=this.inertDocument.createElement("html");this.inertDocument.appendChild(_);const w=this.inertDocument.createElement("body");_.appendChild(w)}}getInertBodyElement(d){const _=this.inertDocument.createElement("template");if("content"in _)return _.innerHTML=Qa(d),_;const w=this.inertDocument.createElement("body");return w.innerHTML=Qa(d),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(w),w}stripCustomNsAttrs(d){const _=d.attributes;for(let R=_.length-1;0<R;R--){const $=_.item(R).name;("xmlns:ns1"===$||0===$.indexOf("ns1:"))&&d.removeAttribute($)}let w=d.firstChild;for(;w;)w.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(w),w=w.nextSibling}}const Uo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,zr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function po(c){return(c=String(c)).match(Uo)||c.match(zr)?c:"unsafe:"+c}function fo(c){const d={};for(const _ of c.split(","))d[_]=!0;return d}function ua(...c){const d={};for(const _ of c)for(const w in _)_.hasOwnProperty(w)&&(d[w]=!0);return d}const cs=fo("area,br,col,hr,img,wbr"),qs=fo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hl=fo("rp,rt"),Ic=ua(cs,ua(qs,fo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ua(hl,fo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ua(hl,qs)),Yu=fo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ou=fo("srcset"),Xu=ua(Yu,Ou,fo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),fo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ku=fo("script,style,template");class ld{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(d){let _=d.firstChild,w=!0;for(;_;)if(_.nodeType===Node.ELEMENT_NODE?w=this.startElement(_):_.nodeType===Node.TEXT_NODE?this.chars(_.nodeValue):this.sanitizedSomething=!0,w&&_.firstChild)_=_.firstChild;else for(;_;){_.nodeType===Node.ELEMENT_NODE&&this.endElement(_);let R=this.checkClobberedElement(_,_.nextSibling);if(R){_=R;break}_=this.checkClobberedElement(_,_.parentNode)}return this.buf.join("")}startElement(d){const _=d.nodeName.toLowerCase();if(!Ic.hasOwnProperty(_))return this.sanitizedSomething=!0,!ku.hasOwnProperty(_);this.buf.push("<"),this.buf.push(_);const w=d.attributes;for(let R=0;R<w.length;R++){const P=w.item(R),$=P.name,ae=$.toLowerCase();if(!Xu.hasOwnProperty(ae)){this.sanitizedSomething=!0;continue}let we=P.value;Yu[ae]&&(we=po(we)),Ou[ae]&&(c=we,we=(c=String(c)).split(",").map(d=>po(d.trim())).join(", ")),this.buf.push(" ",$,'="',uu(we),'"')}var c;return this.buf.push(">"),!0}endElement(d){const _=d.nodeName.toLowerCase();Ic.hasOwnProperty(_)&&!cs.hasOwnProperty(_)&&(this.buf.push("</"),this.buf.push(_),this.buf.push(">"))}chars(d){this.buf.push(uu(d))}checkClobberedElement(d,_){if(_&&(d.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${d.outerHTML}`);return _}}const Ku=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cd=/([^\#-~ |!])/g;function uu(c){return c.replace(/&/g,"&amp;").replace(Ku,function(d){return"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";"}).replace(cd,function(d){return"&#"+d.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Oc;function Jc(c,d){let _=null;try{Oc=Oc||function Ui(c){const d=new zn(c);return function ur(){try{return!!(new window.DOMParser).parseFromString(Qa(""),"text/html")}catch(c){return!1}}()?new er(d):d}(c);let w=d?String(d):"";_=Oc.getInertBodyElement(w);let R=5,P=w;do{if(0===R)throw new Error("Failed to sanitize html because the input is unstable");R--,w=P,P=_.innerHTML,_=Oc.getInertBodyElement(w)}while(w!==P);return Qa((new ld).sanitizeChildren($u(_)||_))}finally{if(_){const w=$u(_)||_;for(;w.firstChild;)w.removeChild(w.firstChild)}}}function $u(c){return"content"in c&&function wd(c){return c.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===c.nodeName}(c)?c.content:null}var ms=(()=>((ms=ms||{})[ms.NONE=0]="NONE",ms[ms.HTML=1]="HTML",ms[ms.STYLE=2]="STYLE",ms[ms.SCRIPT=3]="SCRIPT",ms[ms.URL=4]="URL",ms[ms.RESOURCE_URL=5]="RESOURCE_URL",ms))();function Zc(c){const d=function kc(){const c=$i();return c&&c[12]}();return d?d.sanitize(ms.URL,c)||"":Dt(c,"URL")?et(c):po(_e(c))}const Ju="__ngContext__";function da(c,d){c[Ju]=d}function Qc(c){const d=function Hl(c){return c[Ju]||null}(c);return d?Array.isArray(d)?d:d.lView:null}function vc(c){return c.ngOriginalError}function _u(c,...d){c.error(...d)}class Fc{constructor(){this._console=console}handleError(d){const _=this._findOriginalError(d),w=function mu(c){return c&&c.ngErrorLogger||_u}(d);w(this._console,"ERROR",d),_&&w(this._console,"ORIGINAL ERROR",_)}_findOriginalError(d){let _=d&&vc(d);for(;_&&vc(_);)_=vc(_);return _||null}}const fd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_t))();function x(c){return c instanceof Function?c():c}var Me=(()=>((Me=Me||{})[Me.Important=1]="Important",Me[Me.DashCase=2]="DashCase",Me))();function $e(c,d){return undefined(c,d)}function fi(c){const d=c[3];return Io(d)?d[3]:d}function zi(c){return _n(c[13])}function cn(c){return _n(c[4])}function _n(c){for(;null!==c&&!Io(c);)c=c[4];return c}function pn(c,d,_,w,R){if(null!=w){let P,$=!1;Io(w)?P=w:io(w)&&($=!0,w=w[0]);const ae=ke(w);0===c&&null!==_?null==R?Xe(d,_,ae):We(d,_,ae,R||null,!0):1===c&&null!==_?We(d,_,ae,R||null,!0):2===c?function Cr(c,d,_){const w=xt(c,d);w&&function St(c,d,_,w){Nr(c)?c.removeChild(d,_,w):d.removeChild(_)}(c,w,d,_)}(d,ae,$):3===c&&d.destroyNode(ae),null!=P&&function As(c,d,_,w,R){const P=_[7];P!==ke(_)&&pn(d,c,w,P,R);for(let ae=10;ae<_.length;ae++){const we=_[ae];Ao(we[1],we,c,d,w,P)}}(d,c,P,_,R)}}function Tr(c,d,_){return Nr(c)?c.createElement(d,_):null===_?c.createElement(d):c.createElementNS(_,d)}function Yr(c,d){const _=c[9],w=_.indexOf(d),R=d[3];1024&d[2]&&(d[2]&=-1025,ko(R,-1)),_.splice(w,1)}function us(c,d){if(c.length<=10)return;const _=10+d,w=c[_];if(w){const R=w[17];null!==R&&R!==c&&Yr(R,w),d>0&&(c[_-1][4]=w[4]);const P=Ma(c,10+d);!function go(c,d){Ao(c,d,d[11],2,null,null),d[0]=null,d[6]=null}(w[1],w);const $=P[19];null!==$&&$.detachView(P[1]),w[3]=null,w[4]=null,w[2]&=-129}return w}function Rs(c,d){if(!(256&d[2])){const _=d[11];Nr(_)&&_.destroyNode&&Ao(c,d,_,3,null,null),function Aa(c){let d=c[13];if(!d)return T(c[1],c);for(;d;){let _=null;if(io(d))_=d[13];else{const w=d[10];w&&(_=w)}if(!_){for(;d&&!d[4]&&d!==c;)io(d)&&T(d[1],d),d=d[3];null===d&&(d=c),io(d)&&T(d[1],d),_=d&&d[4]}d=_}}(d)}}function T(c,d){if(!(256&d[2])){d[2]&=-129,d[2]|=256,function z(c,d){let _;if(null!=c&&null!=(_=c.destroyHooks))for(let w=0;w<_.length;w+=2){const R=d[_[w]];if(!(R instanceof ts)){const P=_[w+1];if(Array.isArray(P))for(let $=0;$<P.length;$+=2){const ae=R[P[$]],we=P[$+1];try{we.call(ae)}finally{}}else try{P.call(R)}finally{}}}}(c,d),function H(c,d){const _=c.cleanup,w=d[7];let R=-1;if(null!==_)for(let P=0;P<_.length-1;P+=2)if("string"==typeof _[P]){const $=_[P+1],ae="function"==typeof $?$(d):ke(d[$]),we=w[R=_[P+2]],je=_[P+3];"boolean"==typeof je?ae.removeEventListener(_[P],we,je):je>=0?w[R=je]():w[R=-je].unsubscribe(),P+=2}else{const $=w[R=_[P+1]];_[P].call($)}if(null!==w){for(let P=R+1;P<w.length;P++)w[P]();d[7]=null}}(c,d),1===d[1].type&&Nr(d[11])&&d[11].destroy();const _=d[17];if(null!==_&&Io(d[3])){_!==d[3]&&Yr(_,d);const w=d[19];null!==w&&w.detachView(c)}}}function ie(c,d,_){return function ge(c,d,_){let w=d;for(;null!==w&&40&w.type;)w=(d=w).parent;if(null===w)return _[0];if(2&w.flags){const R=c.data[w.directiveStart].encapsulation;if(R===vi.None||R===vi.Emulated)return null}return Ie(w,_)}(c,d.parent,_)}function We(c,d,_,w,R){Nr(c)?c.insertBefore(d,_,w,R):d.insertBefore(_,w,R)}function Xe(c,d,_){Nr(c)?c.appendChild(d,_):d.appendChild(_)}function ct(c,d,_,w,R){null!==w?We(c,d,_,w,R):Xe(c,d,_)}function xt(c,d){return Nr(c)?c.parentNode(d):d.parentNode}function ri(c,d,_){return Si(c,d,_)}let Si=function hi(c,d,_){return 40&c.type?Ie(c,_):null};function un(c,d,_,w){const R=ie(c,w,d),P=d[11],ae=ri(w.parent||d[6],w,d);if(null!=R)if(Array.isArray(_))for(let we=0;we<_.length;we++)ct(P,R,_[we],ae,!1);else ct(P,R,_,ae,!1)}function On(c,d){if(null!==d){const _=d.type;if(3&_)return Ie(d,c);if(4&_)return Er(-1,c[d.index]);if(8&_){const w=d.child;if(null!==w)return On(c,w);{const R=c[d.index];return Io(R)?Er(-1,R):ke(R)}}if(32&_)return $e(d,c)()||ke(c[d.index]);{const w=rn(c,d);return null!==w?Array.isArray(w)?w[0]:On(fi(c[16]),w):On(c,d.next)}}return null}function rn(c,d){return null!==d?c[16][6].projection[d.projection]:null}function Er(c,d){const _=10+c+1;if(_<d.length){const w=d[_],R=w[1].firstChild;if(null!==R)return On(w,R)}return d[7]}function is(c,d,_,w,R,P,$){for(;null!=_;){const ae=w[_.index],we=_.type;if($&&0===d&&(ae&&da(ke(ae),w),_.flags|=4),64!=(64&_.flags))if(8&we)is(c,d,_.child,w,R,P,!1),pn(d,c,R,ae,P);else if(32&we){const je=$e(_,w);let ht;for(;ht=je();)pn(d,c,R,ht,P);pn(d,c,R,ae,P)}else 16&we?ea(c,d,w,_,R,P):pn(d,c,R,ae,P);_=$?_.projectionNext:_.next}}function Ao(c,d,_,w,R,P){is(_,w,c.firstChild,d,R,P,!1)}function ea(c,d,_,w,R,P){const $=_[16],we=$[6].projection[w.projection];if(Array.isArray(we))for(let je=0;je<we.length;je++)pn(d,c,R,we[je],P);else is(c,d,we,$[3],R,P,!0)}function Is(c,d,_){Nr(c)?c.setAttribute(d,"style",_):d.style.cssText=_}function Xr(c,d,_){Nr(c)?""===_?c.removeAttribute(d,"class"):c.setAttribute(d,"class",_):d.className=_}function ys(c,d,_){let w=c.length;for(;;){const R=c.indexOf(d,_);if(-1===R)return R;if(0===R||c.charCodeAt(R-1)<=32){const P=d.length;if(R+P===w||c.charCodeAt(R+P)<=32)return R}_=R+1}}const sc="ng-template";function yc(c,d,_){let w=0;for(;w<c.length;){let R=c[w++];if(_&&"class"===R){if(R=c[w],-1!==ys(R.toLowerCase(),d,0))return!0}else if(1===R){for(;w<c.length&&"string"==typeof(R=c[w++]);)if(R.toLowerCase()===d)return!0;return!1}}return!1}function Zu(c){return 4===c.type&&c.value!==sc}function Xd(c,d,_){return d===(4!==c.type||_?c.value:sc)}function sh(c,d,_){let w=4;const R=c.attrs||[],P=function lh(c){for(let d=0;d<c.length;d++)if(Vc(c[d]))return d;return c.length}(R);let $=!1;for(let ae=0;ae<d.length;ae++){const we=d[ae];if("number"!=typeof we){if(!$)if(4&w){if(w=2|1&w,""!==we&&!Xd(c,we,_)||""===we&&1===d.length){if(Ql(w))return!1;$=!0}}else{const je=8&w?we:d[++ae];if(8&w&&null!==c.attrs){if(!yc(c.attrs,je,_)){if(Ql(w))return!1;$=!0}continue}const Nt=ah(8&w?"class":we,R,Zu(c),_);if(-1===Nt){if(Ql(w))return!1;$=!0;continue}if(""!==je){let ni;ni=Nt>P?"":R[Nt+1].toLowerCase();const wi=8&w?ni:null;if(wi&&-1!==ys(wi,je,0)||2&w&&je!==ni){if(Ql(w))return!1;$=!0}}}}else{if(!$&&!Ql(w)&&!Ql(we))return!1;if($&&Ql(we))continue;$=!1,w=we|1&w}}return Ql(w)||$}function Ql(c){return 0==(1&c)}function ah(c,d,_,w){if(null===d)return-1;let R=0;if(w||!_){let P=!1;for(;R<d.length;){const $=d[R];if($===c)return R;if(3===$||6===$)P=!0;else{if(1===$||2===$){let ae=d[++R];for(;"string"==typeof ae;)ae=d[++R];continue}if(4===$)break;if(0===$){R+=4;continue}}R+=P?1:2}return-1}return function tp(c,d){let _=c.indexOf(4);if(_>-1)for(_++;_<c.length;){const w=c[_];if("number"==typeof w)return-1;if(w===d)return _;_++}return-1}(d,c)}function Dh(c,d,_=!1){for(let w=0;w<d.length;w++)if(sh(c,d[w],_))return!0;return!1}function Kd(c,d){e:for(let _=0;_<d.length;_++){const w=d[_];if(c.length===w.length){for(let R=0;R<c.length;R++)if(c[R]!==w[R])continue e;return!0}}return!1}function kd(c,d){return c?":not("+d.trim()+")":d}function $d(c){let d=c[0],_=1,w=2,R="",P=!1;for(;_<c.length;){let $=c[_];if("string"==typeof $)if(2&w){const ae=c[++_];R+="["+$+(ae.length>0?'="'+ae+'"':"")+"]"}else 8&w?R+="."+$:4&w&&(R+=" "+$);else""!==R&&!Ql($)&&(d+=kd(P,R),R=""),w=$,P=P||!Ql(w);_++}return""!==R&&(d+=kd(P,R)),d}const Hr={};function Ld(c){Pd(Fr(),$i(),Nn()+c,Hi())}function Pd(c,d,_,w){if(!w)if(3==(3&d[2])){const P=c.preOrderCheckHooks;null!==P&&Sa(d,P,_)}else{const P=c.preOrderHooks;null!==P&&Yo(d,P,0,_)}_r(_)}function uh(c,d){return c<<17|d<<2}function Bc(c){return c>>17&32767}function dh(c){return 2|c}function yu(c){return(131068&c)>>2}function hh(c,d){return-131069&c|d<<2}function Zd(c){return 1|c}function Fh(c,d){const _=c.contentQueries;if(null!==_)for(let w=0;w<_.length;w+=2){const R=_[w],P=_[w+1];if(-1!==P){const $=c.data[P];Co(R),$.contentQueries(2,d[P],P)}}}function Gd(c,d,_,w,R,P,$,ae,we,je){const ht=d.blueprint.slice();return ht[0]=R,ht[2]=140|w,hr(ht),ht[3]=ht[15]=c,ht[8]=_,ht[10]=$||c&&c[10],ht[11]=ae||c&&c[11],ht[12]=we||c&&c[12]||null,ht[9]=je||c&&c[9]||null,ht[6]=P,ht[16]=2==d.type?c[16]:ht,ht}function _d(c,d,_,w,R){let P=c.data[d];if(null===P)P=function Bh(c,d,_,w,R){const P=X(),$=bt(),we=c.data[d]=function Jt(c,d,_,w,R,P){return{type:_,index:w,insertBeforeIndex:null,injectorIndex:d?d.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:R,attrs:P,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:d,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,$?P:P&&P.parent,_,d,w,R);return null===c.firstChild&&(c.firstChild=we),null!==P&&($?null==P.child&&null!==we.parent&&(P.child=we):null===P.next&&(P.next=we)),we}(c,d,_,w,R),function nr(){return $n.lFrame.inI18n}()&&(P.flags|=64);else if(64&P.type){P.type=_,P.value=w,P.attrs=R;const $=function ye(){const c=$n.lFrame,d=c.currentTNode;return c.isParent?d:d.parent}();P.injectorIndex=null===$?-1:$.injectorIndex}return qe(P,!0),P}function vd(c,d,_,w){if(0===_)return-1;const R=d.length;for(let P=0;P<_;P++)d.push(w),c.blueprint.push(w),c.data.push(null);return R}function th(c,d,_){Xs(d);try{const w=c.viewQuery;null!==w&&bp(1,w,_);const R=c.template;null!==R&&yh(c,d,R,1,_),c.firstCreatePass&&(c.firstCreatePass=!1),c.staticContentQueries&&Fh(c,d),c.staticViewQueries&&bp(2,c.viewQuery,_);const P=c.components;null!==P&&function vh(c,d){for(let _=0;_<d.length;_++)tg(c,d[_])}(d,P)}catch(w){throw c.firstCreatePass&&(c.incompleteFirstPass=!0,c.firstCreatePass=!1),w}finally{d[2]&=-5,os()}}function Wd(c,d,_,w){const R=d[2];if(256==(256&R))return;Xs(d);const P=Hi();try{hr(d),function cr(c){return $n.lFrame.bindingIndex=c}(c.bindingStartIndex),null!==_&&yh(c,d,_,2,w);const $=3==(3&R);if(!P)if($){const je=c.preOrderCheckHooks;null!==je&&Sa(d,je,null)}else{const je=c.preOrderHooks;null!==je&&Yo(d,je,0,null),Ns(d,0)}if(function qf(c){for(let d=zi(c);null!==d;d=cn(d)){if(!d[2])continue;const _=d[9];for(let w=0;w<_.length;w++){const R=_[w],P=R[3];0==(1024&R[2])&&ko(P,1),R[2]|=1024}}}(d),function Vh(c){for(let d=zi(c);null!==d;d=cn(d))for(let _=10;_<d.length;_++){const w=d[_],R=w[1];Wr(w)&&Wd(R,w,R.template,w[8])}}(d),null!==c.contentQueries&&Fh(c,d),!P)if($){const je=c.contentCheckHooks;null!==je&&Sa(d,je)}else{const je=c.contentHooks;null!==je&&Yo(d,je,1),Ns(d,1)}!function dp(c,d){const _=c.hostBindingOpCodes;if(null!==_)try{for(let w=0;w<_.length;w++){const R=_[w];if(R<0)_r(~R);else{const P=R,$=_[++w],ae=_[++w];_o($,P),ae(2,d[P])}}}finally{_r(-1)}}(c,d);const ae=c.components;null!==ae&&function hp(c,d){for(let _=0;_<d.length;_++)eg(c,d[_])}(d,ae);const we=c.viewQuery;if(null!==we&&bp(2,we,w),!P)if($){const je=c.viewCheckHooks;null!==je&&Sa(d,je)}else{const je=c.viewHooks;null!==je&&Yo(d,je,2),Ns(d,2)}!0===c.firstUpdatePass&&(c.firstUpdatePass=!1),P||(d[2]&=-73),1024&d[2]&&(d[2]&=-1025,ko(d[3],-1))}finally{os()}}function Kp(c,d,_,w){const R=d[10],P=!Hi(),$=Ir(d);try{P&&!$&&R.begin&&R.begin(),$&&th(c,d,w),Wd(c,d,_,w)}finally{P&&!$&&R.end&&R.end()}}function yh(c,d,_,w,R){const P=Nn(),$=2&w;try{_r(-1),$&&d.length>20&&Pd(c,d,20,Hi()),_(w,R)}finally{_r(P)}}function ih(c,d,_){if(lr(d)){const R=d.directiveEnd;for(let P=d.directiveStart;P<R;P++){const $=c.data[P];$.contentQueries&&$.contentQueries(1,_[P],P)}}}function bh(c,d,_){!Ls()||(function $p(c,d,_,w){const R=_.directiveStart,P=_.directiveEnd;c.firstCreatePass||Q(_,d),da(w,d);const $=_.initialInputs;for(let ae=R;ae<P;ae++){const we=c.data[ae],je=no(we);je&&Jf(d,_,we);const ht=Bs(d,c,ae,_);da(ht,d),null!==$&&Zf(0,ae-R,ht,we,0,$),je&&(Un(_.index,d)[8]=ht)}}(c,d,_,Ie(_,d)),128==(128&_.flags)&&function Yf(c,d,_){const w=_.directiveStart,R=_.directiveEnd,$=_.index,ae=function zo(){return $n.lFrame.currentDirectiveIndex}();try{_r($);for(let we=w;we<R;we++){const je=c.data[we],ht=d[we];Lo(we),(null!==je.hostBindings||0!==je.hostVars||null!==je.hostAttrs)&&Jp(je,ht)}}finally{_r(-1),Lo(ae)}}(c,d,_))}function Eh(c,d,_=Ie){const w=d.localNames;if(null!==w){let R=d.index+1;for(let P=0;P<w.length;P+=2){const $=w[P+1],ae=-1===$?_(d,c):c[$];c[R++]=ae}}}function pp(c){const d=c.tView;return null===d||d.incompleteFirstPass?c.tView=k(1,null,c.template,c.decls,c.vars,c.directiveDefs,c.pipeDefs,c.viewQuery,c.schemas,c.consts):d}function k(c,d,_,w,R,P,$,ae,we,je){const ht=20+w,Nt=ht+R,ni=function U(c,d){const _=[];for(let w=0;w<d;w++)_.push(w<c?null:Hr);return _}(ht,Nt),wi="function"==typeof je?je():je;return ni[1]={type:c,blueprint:ni,template:_,queries:null,viewQuery:ae,declTNode:d,data:ni.slice().fill(null,ht),bindingStartIndex:ht,expandoStartIndex:Nt,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof P?P():P,pipeRegistry:"function"==typeof $?$():$,firstChild:null,schemas:we,consts:wi,incompleteFirstPass:!1}}function Le(c,d,_,w){const R=nf(d);null===_?R.push(w):(R.push(_),c.firstCreatePass&&rf(c).push(w,R.length-1))}function Mi(c,d,_){for(let w in c)if(c.hasOwnProperty(w)){const R=c[w];(_=null===_?{}:_).hasOwnProperty(w)?_[w].push(d,R):_[w]=[d,R]}return _}function en(c,d,_,w,R,P,$,ae){const we=Ie(d,_);let ht,je=d.inputs;!ae&&null!=je&&(ht=je[w])?(lf(c,_,ht,w,R),Gs(d)&&function kr(c,d){const _=Un(d,c);16&_[2]||(_[2]|=64)}(_,d.index)):3&d.type&&(w=function Fn(c){return"class"===c?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c}(w),R=null!=$?$(R,d.value||"",w):R,Nr(P)?P.setProperty(we,w,R):ma(w)||(we.setProperty?we.setProperty(w,R):we[w]=R))}function Hh(c,d,_,w){let R=!1;if(Ls()){const P=function Xf(c,d,_){const w=c.directiveRegistry;let R=null;if(w)for(let P=0;P<w.length;P++){const $=w[P];Dh(_,$.selectors,!1)&&(R||(R=[]),Vt(Q(_,d),c,$.type),no($)?(jd(c,_),R.unshift($)):R.push($))}return R}(c,d,_),$=null===w?null:{"":-1};if(null!==P){R=!0,Zp(_,c.data.length,P.length);for(let ht=0;ht<P.length;ht++){const Nt=P[ht];Nt.providersResolver&&Nt.providersResolver(Nt)}let ae=!1,we=!1,je=vd(c,d,P.length,null);for(let ht=0;ht<P.length;ht++){const Nt=P[ht];_.mergedAttrs=cc(_.mergedAttrs,Nt.hostAttrs),Qp(c,_,d,je,Nt),$f(je,Nt,$),null!==Nt.contentQueries&&(_.flags|=8),(null!==Nt.hostBindings||null!==Nt.hostAttrs||0!==Nt.hostVars)&&(_.flags|=128);const ni=Nt.type.prototype;!ae&&(ni.ngOnChanges||ni.ngOnInit||ni.ngDoCheck)&&((c.preOrderHooks||(c.preOrderHooks=[])).push(_.index),ae=!0),!we&&(ni.ngOnChanges||ni.ngDoCheck)&&((c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(_.index),we=!0),je++}!function Qi(c,d){const w=d.directiveEnd,R=c.data,P=d.attrs,$=[];let ae=null,we=null;for(let je=d.directiveStart;je<w;je++){const ht=R[je],Nt=ht.inputs,ni=null===P||Zu(d)?null:Qf(Nt,P);$.push(ni),ae=Mi(Nt,je,ae),we=Mi(ht.outputs,je,we)}null!==ae&&(ae.hasOwnProperty("class")&&(d.flags|=16),ae.hasOwnProperty("style")&&(d.flags|=32)),d.initialInputs=$,d.inputs=ae,d.outputs=we}(c,_)}$&&function Kf(c,d,_){if(d){const w=c.localNames=[];for(let R=0;R<d.length;R+=2){const P=_[d[R+1]];if(null==P)throw new ue("301",`Export of name '${d[R+1]}' not found!`);w.push(d[R],P)}}}(_,w,$)}return _.mergedAttrs=cc(_.mergedAttrs,_.attrs),R}function rh(c,d,_,w,R,P){const $=P.hostBindings;if($){let ae=c.hostBindingOpCodes;null===ae&&(ae=c.hostBindingOpCodes=[]);const we=~d.index;(function fp(c){let d=c.length;for(;d>0;){const _=c[--d];if("number"==typeof _&&_<0)return _}return 0})(ae)!=we&&ae.push(we),ae.push(w,R,$)}}function Jp(c,d){null!==c.hostBindings&&c.hostBindings(1,d)}function jd(c,d){d.flags|=2,(c.components||(c.components=[])).push(d.index)}function $f(c,d,_){if(_){if(d.exportAs)for(let w=0;w<d.exportAs.length;w++)_[d.exportAs[w]]=c;no(d)&&(_[""]=c)}}function Zp(c,d,_){c.flags|=1,c.directiveStart=d,c.directiveEnd=d+_,c.providerIndexes=d}function Qp(c,d,_,w,R){c.data[w]=R;const P=R.factory||(R.factory=Bo(R.type)),$=new ts(P,no(R),null);c.blueprint[w]=$,_[w]=$,rh(c,d,0,w,vd(c,_,R.hostVars,Hr),R)}function Jf(c,d,_){const w=Ie(d,c),R=pp(_),P=c[10],$=Uh(c,Gd(c,R,null,_.onPush?64:16,w,d,P,P.createRenderer(w,_),null,null));c[d.index]=$}function Uu(c,d,_,w,R,P){const $=Ie(c,d);!function gp(c,d,_,w,R,P,$){if(null==P)Nr(c)?c.removeAttribute(d,R,_):d.removeAttribute(R);else{const ae=null==$?_e(P):$(P,w||"",R);Nr(c)?c.setAttribute(d,R,ae,_):_?d.setAttributeNS(_,R,ae):d.setAttribute(R,ae)}}(d[11],$,P,c.value,_,w,R)}function Zf(c,d,_,w,R,P){const $=P[d];if(null!==$){const ae=w.setInput;for(let we=0;we<$.length;){const je=$[we++],ht=$[we++],Nt=$[we++];null!==ae?w.setInput(_,Nt,je,ht):_[ht]=Nt}}}function Qf(c,d){let _=null,w=0;for(;w<d.length;){const R=d[w];if(0!==R)if(5!==R){if("number"==typeof R)break;c.hasOwnProperty(R)&&(null===_&&(_=[]),_.push(R,c[R],d[w+1])),w+=2}else w+=2;else w+=4}return _}function qp(c,d,_,w){return new Array(c,!0,!1,d,null,0,w,_,null,null)}function eg(c,d){const _=Un(d,c);if(Wr(_)){const w=_[1];80&_[2]?Wd(w,_,w.template,_[8]):_[5]>0&&mp(_)}}function mp(c){for(let w=zi(c);null!==w;w=cn(w))for(let R=10;R<w.length;R++){const P=w[R];if(1024&P[2]){const $=P[1];Wd($,P,$.template,P[8])}else P[5]>0&&mp(P)}const _=c[1].components;if(null!==_)for(let w=0;w<_.length;w++){const R=Un(_[w],c);Wr(R)&&R[5]>0&&mp(R)}}function tg(c,d){const _=Un(d,c),w=_[1];(function ig(c,d){for(let _=d.length;_<c.blueprint.length;_++)d.push(c.blueprint[_])})(w,_),th(w,_,_[8])}function Uh(c,d){return c[13]?c[14][4]=d:c[13]=d,c[14]=d,d}function _p(c){for(;c;){c[2]|=64;const d=fi(c);if(Eo(c)&&!d)return c;c=d}return null}function yp(c,d,_){const w=d[10];w.begin&&w.begin();try{Wd(c,d,c.template,_)}catch(R){throw af(d,R),R}finally{w.end&&w.end()}}function ef(c){!function vp(c){for(let d=0;d<c.components.length;d++){const _=c.components[d],w=Qc(_),R=w[1];Kp(R,w,R.template,_)}}(c[8])}function bp(c,d,_){Co(0),d(c,_)}const Ep=(()=>Promise.resolve(null))();function nf(c){return c[7]||(c[7]=[])}function rf(c){return c.cleanup||(c.cleanup=[])}function sf(c,d,_){return(null===c||no(c))&&(_=function Z(c){for(;Array.isArray(c);){if("object"==typeof c[1])return c;c=c[0]}return null}(_[d.index])),_[11]}function af(c,d){const _=c[9],w=_?_.get(Fc,null):null;w&&w.handleError(d)}function lf(c,d,_,w,R){for(let P=0;P<_.length;){const $=_[P++],ae=_[P++],we=d[$],je=c.data[$];null!==je.setInput?je.setInput(we,R,w,ae):we[ae]=R}}function qu(c,d,_){const w=j(d,c);!function ir(c,d,_){Nr(c)?c.setValue(d,_):d.textContent=_}(c[11],w,_)}function Gh(c,d,_){let w=_?c.styles:null,R=_?c.classes:null,P=0;if(null!==d)for(let $=0;$<d.length;$++){const ae=d[$];"number"==typeof ae?P=ae:1==P?R=D(R,ae):2==P&&(w=D(w,ae+": "+d[++$]+";"))}_?c.styles=w:c.stylesWithoutHost=w,_?c.classes=R:c.classesWithoutHost=R}const Cp=new vo("INJECTOR",-1);class cf{get(d,_=Rl){if(_===Rl){const w=new Error(`NullInjectorError: No provider for ${C(d)}!`);throw w.name="NullInjectorError",w}return _}}const Wh=new vo("Set Injector scope."),yd={},ag={};let Tp;function uf(){return void 0===Tp&&(Tp=new cf),Tp}function df(c,d=null,_=null,w){const R=hf(c,d,_,w);return R._resolveInjectorDefTypes(),R}function hf(c,d=null,_=null,w){return new lg(c,_,d||uf(),w)}class lg{constructor(d,_,w,R=null){this.parent=w,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const P=[];_&&aa(_,ae=>this.processProvider(ae,d,_)),aa([d],ae=>this.processInjectorType(ae,[],P)),this.records.set(Cp,oh(void 0,this));const $=this.records.get(Wh);this.scope=null!=$?$.value:null,this.source=R||("object"==typeof d?null:C(d))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(d=>d.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(d,_=Rl,w=tt.Default){this.assertNotDestroyed();const R=rc(this),P=vt(void 0);try{if(!(w&tt.SkipSelf)){let ae=this.records.get(d);if(void 0===ae){const we=function gg(c){return"function"==typeof c||"object"==typeof c&&c instanceof vo}(d)&&Ye(d);ae=we&&this.injectableDefInScope(we)?oh(wp(d),yd):null,this.records.set(d,ae)}if(null!=ae)return this.hydrate(d,ae)}return(w&tt.Self?uf():this.parent).get(d,_=w&tt.Optional&&_===Rl?null:_)}catch($){if("NullInjectorError"===$.name){if(($[Ro]=$[Ro]||[]).unshift(C(d)),R)throw $;return function xu(c,d,_,w){const R=c[Ro];throw d[Al]&&R.unshift(d[Al]),c.message=function ca(c,d,_,w=null){c=c&&"\n"===c.charAt(0)&&"\u0275"==c.charAt(1)?c.substr(2):c;let R=C(d);if(Array.isArray(d))R=d.map(C).join(" -> ");else if("object"==typeof d){let P=[];for(let $ in d)if(d.hasOwnProperty($)){let ae=d[$];P.push($+":"+("string"==typeof ae?JSON.stringify(ae):C(ae)))}R=`{${P.join(", ")}}`}return`${_}${w?"("+w+")":""}[${R}]: ${c.replace(nc,"\n  ")}`}("\n"+c.message,R,_,w),c.ngTokenPath=R,c[Ro]=null,c}($,d,"R3InjectorError",this.source)}throw $}finally{vt(P),rc(R)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(d=>this.get(d))}toString(){const d=[];return this.records.forEach((w,R)=>d.push(C(R))),`R3Injector[${d.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(d,_,w){if(!(d=te(d)))return!1;let R=yt(d);const P=null==R&&d.ngModule||void 0,$=void 0===P?d:P,ae=-1!==w.indexOf($);if(void 0!==P&&(R=yt(P)),null==R)return!1;if(null!=R.imports&&!ae){let ht;w.push($);try{aa(R.imports,Nt=>{this.processInjectorType(Nt,_,w)&&(void 0===ht&&(ht=[]),ht.push(Nt))})}finally{}if(void 0!==ht)for(let Nt=0;Nt<ht.length;Nt++){const{ngModule:ni,providers:wi}=ht[Nt];aa(wi,Zi=>this.processProvider(Zi,ni,wi||Fi))}}this.injectorDefTypes.add($);const we=Bo($)||(()=>new $);this.records.set($,oh(we,yd));const je=R.providers;if(null!=je&&!ae){const ht=d;aa(je,Nt=>this.processProvider(Nt,ht,je))}return void 0!==P&&void 0!==d.providers}processProvider(d,_,w){let R=zd(d=te(d))?d:te(d&&d.provide);const P=function ug(c,d,_){return ff(c)?oh(void 0,c.useValue):oh(pf(c),yd)}(d);if(zd(d)||!0!==d.multi)this.records.get(R);else{let $=this.records.get(R);$||($=oh(void 0,yd,!0),$.factory=()=>Ol($.multi),this.records.set(R,$)),R=d,$.multi.push(d)}this.records.set(R,P)}hydrate(d,_){return _.value===yd&&(_.value=ag,_.value=_.factory()),"object"==typeof _.value&&_.value&&function fg(c){return null!==c&&"object"==typeof c&&"function"==typeof c.ngOnDestroy}(_.value)&&this.onDestroy.add(_.value),_.value}injectableDefInScope(d){if(!d.providedIn)return!1;const _=te(d.providedIn);return"string"==typeof _?"any"===_||_===this.scope:this.injectorDefTypes.has(_)}}function wp(c){const d=Ye(c),_=null!==d?d.factory:Bo(c);if(null!==_)return _;if(c instanceof vo)throw new Error(`Token ${C(c)} is missing a \u0275prov definition.`);if(c instanceof Function)return function cg(c){const d=c.length;if(d>0){const w=Wc(d,"?");throw new Error(`Can't resolve all parameters for ${C(c)}: (${w.join(", ")}).`)}const _=function ut(c){const d=c&&(c[zt]||c[wt]);if(d){const _=function Re(c){if(c.hasOwnProperty("name"))return c.name;const d=(""+c).match(/^function\s*([^\s(]+)/);return null===d?"":d[1]}(c);return console.warn(`DEPRECATED: DI is instantiating a token "${_}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${_}" class.`),d}return null}(c);return null!==_?()=>_.factory(c):()=>new c}(c);throw new Error("unreachable")}function pf(c,d,_){let w;if(zd(c)){const R=te(c);return Bo(R)||wp(R)}if(ff(c))w=()=>te(c.useValue);else if(function dg(c){return!(!c||!c.useFactory)}(c))w=()=>c.useFactory(...Ol(c.deps||[]));else if(function jh(c){return!(!c||!c.useExisting)}(c))w=()=>Xo(te(c.useExisting));else{const R=te(c&&(c.useClass||c.provide));if(!function pg(c){return!!c.deps}(c))return Bo(R)||wp(R);w=()=>new R(...Ol(c.deps))}return w}function oh(c,d,_=!1){return{factory:c,value:d,multi:_?[]:void 0}}function ff(c){return null!==c&&"object"==typeof c&&Za in c}function zd(c){return"function"==typeof c}let iu=(()=>{class c{static create(_,w){var R;if(Array.isArray(_))return df({name:""},w,_,"");{const P=null!==(R=_.name)&&void 0!==R?R:"";return df({name:P},_.parent,_.providers,P)}}}return c.THROW_IF_NOT_FOUND=Rl,c.NULL=new cf,c.\u0275prov=Rt({token:c,providedIn:"any",factory:()=>Xo(Cp)}),c.__NG_ELEMENT_ID__=-1,c})();function xp(c,d){ws(Qc(c)[1],G())}function g(c){let d=function wf(c){return Object.getPrototypeOf(c.prototype).constructor}(c.type),_=!0;const w=[c];for(;d;){let R;if(no(c))R=d.\u0275cmp||d.\u0275dir;else{if(d.\u0275cmp)throw new Error("Directives cannot inherit Components");R=d.\u0275dir}if(R){if(_){w.push(R);const $=c;$.inputs=r(c.inputs),$.declaredInputs=r(c.declaredInputs),$.outputs=r(c.outputs);const ae=R.hostBindings;ae&&p(c,ae);const we=R.viewQuery,je=R.contentQueries;if(we&&o(c,we),je&&l(c,je),u(c.inputs,R.inputs),u(c.declaredInputs,R.declaredInputs),u(c.outputs,R.outputs),no(R)&&R.data.animation){const ht=c.data;ht.animation=(ht.animation||[]).concat(R.data.animation)}}const P=R.features;if(P)for(let $=0;$<P.length;$++){const ae=P[$];ae&&ae.ngInherit&&ae(c),ae===g&&(_=!1)}}d=Object.getPrototypeOf(d)}!function s(c){let d=0,_=null;for(let w=c.length-1;w>=0;w--){const R=c[w];R.hostVars=d+=R.hostVars,R.hostAttrs=cc(R.hostAttrs,_=cc(_,R.hostAttrs))}}(w)}function r(c){return c===yi?{}:c===Fi?[]:c}function o(c,d){const _=c.viewQuery;c.viewQuery=_?(w,R)=>{d(w,R),_(w,R)}:d}function l(c,d){const _=c.contentQueries;c.contentQueries=_?(w,R,P)=>{d(w,R,P),_(w,R,P)}:d}function p(c,d){const _=c.hostBindings;c.hostBindings=_?(w,R)=>{d(w,R),_(w,R)}:d}let N=null;function J(){if(!N){const c=_t.Symbol;if(c&&c.iterator)N=c.iterator;else{const d=Object.getOwnPropertyNames(Map.prototype);for(let _=0;_<d.length;++_){const w=d[_];"entries"!==w&&"size"!==w&&Map.prototype[w]===Map.prototype.entries&&(N=w)}}}return N}function Fe(c){return!!Lt(c)&&(Array.isArray(c)||!(c instanceof Map)&&J()in c)}function Lt(c){return null!==c&&("function"==typeof c||"object"==typeof c)}function Gt(c,d,_){return c[d]=_}function Ci(c,d,_){return!Object.is(c[d],_)&&(c[d]=_,!0)}function on(c,d,_,w){const R=Ci(c,d,_);return Ci(c,d+1,w)||R}function vn(c,d,_,w){const R=$i();return Ci(R,Gn(),d)&&(Fr(),Uu(vr(),R,c,d,_,w)),vn}function Rn(c,d,_,w){return Ci(c,Gn(),_)?d+_e(_)+w:Hr}function Tn(c,d,_,w,R,P,$,ae){const je=function Ki(c,d,_,w,R){const P=on(c,d,_,w);return Ci(c,d+2,R)||P}(c,Jn(),_,R,$);return Yn(3),je?d+_e(_)+w+_e(R)+P+_e($)+ae:Hr}function lc(c,d,_,w,R,P,$,ae){const we=$i(),je=Fr(),ht=c+20,Nt=je.firstCreatePass?function el(c,d,_,w,R,P,$,ae,we){const je=d.consts,ht=_d(d,c,4,$||null,qr(je,ae));Hh(d,_,ht,qr(je,we)),ws(d,ht);const Nt=ht.tViews=k(2,ht,w,R,P,d.directiveRegistry,d.pipeRegistry,null,d.schemas,je);return null!==d.queries&&(d.queries.template(d,ht),Nt.queries=d.queries.embeddedTView(ht)),ht}(ht,je,we,d,_,w,R,P,$):je.data[ht];qe(Nt,!1);const ni=we[11].createComment("");un(je,we,ni,Nt),da(ni,we),Uh(we,we[ht]=qp(ni,we,ni,Nt)),jo(Nt)&&bh(je,we,Nt),null!=$&&Eh(we,Nt,ae)}function Tl(c){return dn(function mi(){return $n.lFrame.contextLView}(),20+c)}function Rp(c,d=tt.Default){const _=$i();return null===_?Xo(c,d):yr(G(),_,te(c),d)}function t_(){throw new Error("invalid")}function Dg(c,d,_){const w=$i();return Ci(w,Gn(),d)&&en(Fr(),vr(),w,c,d,w[11],_,!1),Dg}function Mg(c,d,_,w,R){const $=R?"class":"style";lf(c,_,d.inputs[$],$,w)}function xg(c,d,_,w){const R=$i(),P=Fr(),$=20+c,ae=R[11],we=R[$]=Tr(ae,d,function Po(){return $n.lFrame.currentNamespace}()),je=P.firstCreatePass?function gb(c,d,_,w,R,P,$){const ae=d.consts,je=_d(d,c,2,R,qr(ae,P));return Hh(d,_,je,qr(ae,$)),null!==je.attrs&&Gh(je,je.attrs,!1),null!==je.mergedAttrs&&Gh(je,je.mergedAttrs,!0),null!==d.queries&&d.queries.elementStart(d,je),je}($,P,R,0,d,_,w):P.data[$];qe(je,!0);const ht=je.mergedAttrs;null!==ht&&ml(ae,we,ht);const Nt=je.classes;null!==Nt&&Xr(ae,we,Nt);const ni=je.styles;null!==ni&&Is(ae,we,ni),64!=(64&je.flags)&&un(P,R,we,je),0===function rl(){return $n.lFrame.elementDepthCount}()&&da(we,R),function es(){$n.lFrame.elementDepthCount++}(),jo(je)&&(bh(P,R,je),ih(P,je,R)),null!==w&&Eh(R,je)}function Rg(){let c=G();bt()?Xt():(c=c.parent,qe(c,!1));const d=c;!function za(){$n.lFrame.elementDepthCount--}();const _=Fr();_.firstCreatePass&&(ws(_,c),lr(c)&&_.queries.elementEnd(c)),null!=d.classesWithoutHost&&function al(c){return 0!=(16&c.flags)}(d)&&Mg(_,d,$i(),d.classesWithoutHost,!0),null!=d.stylesWithoutHost&&function Gl(c){return 0!=(32&c.flags)}(d)&&Mg(_,d,$i(),d.stylesWithoutHost,!1)}function i_(c,d,_,w){xg(c,d,_,w),Rg()}function Ag(c,d,_){const w=$i(),R=Fr(),P=c+20,$=R.firstCreatePass?function mb(c,d,_,w,R){const P=d.consts,$=qr(P,w),ae=_d(d,c,8,"ng-container",$);return null!==$&&Gh(ae,$,!0),Hh(d,_,ae,qr(P,R)),null!==d.queries&&d.queries.elementStart(d,ae),ae}(P,R,w,d,_):R.data[P];qe($,!0);const ae=w[P]=w[11].createComment("");un(R,w,ae,$),da(ae,w),jo($)&&(bh(R,w,$),ih(R,$,w)),null!=_&&Eh(w,$)}function Ig(){let c=G();const d=Fr();bt()?Xt():(c=c.parent,qe(c,!1)),d.firstCreatePass&&(ws(d,c),lr(c)&&d.queries.elementEnd(c))}function n_(c,d,_){Ag(c,d,_),Ig()}function r_(){return $i()}function Og(c){return!!c&&"function"==typeof c.then}function o_(c){return!!c&&"function"==typeof c.subscribe}const s_=o_;function kg(c,d,_,w){const R=$i(),P=Fr(),$=G();return a_(P,R,R[11],$,c,d,!!_,w),kg}function Lg(c,d){const _=G(),w=$i(),R=Fr();return a_(R,w,sf(sa(R.data),_,w),_,c,d,!1),Lg}function a_(c,d,_,w,R,P,$,ae){const we=jo(w),ht=c.firstCreatePass&&rf(c),Nt=d[8],ni=nf(d);let wi=!0;if(3&w.type||ae){const Pn=Ie(w,d),tr=ae?ae(Pn):Pn,sn=ni.length,br=ae?wo=>ae(ke(wo[w.index])):w.index;if(Nr(_)){let wo=null;if(!ae&&we&&(wo=function _b(c,d,_,w){const R=c.cleanup;if(null!=R)for(let P=0;P<R.length-1;P+=2){const $=R[P];if($===_&&R[P+1]===w){const ae=d[7],we=R[P+2];return ae.length>we?ae[we]:null}"string"==typeof $&&(P+=2)}return null}(c,d,R,w.index)),null!==wo)(wo.__ngLastListenerFn__||wo).__ngNextListenerFn__=P,wo.__ngLastListenerFn__=P,wi=!1;else{P=Pg(w,d,Nt,P,!1);const bs=_.listen(tr,R,P);ni.push(P,bs),ht&&ht.push(R,br,sn,sn+1)}}else P=Pg(w,d,Nt,P,!0),tr.addEventListener(R,P,$),ni.push(P),ht&&ht.push(R,br,sn,$)}else P=Pg(w,d,Nt,P,!1);const Zi=w.outputs;let Cn;if(wi&&null!==Zi&&(Cn=Zi[R])){const Pn=Cn.length;if(Pn)for(let tr=0;tr<Pn;tr+=2){const Tu=d[Cn[tr]][Cn[tr+1]].subscribe(P),Sh=ni.length;ni.push(P,Tu),ht&&ht.push(R,w.index,Sh,-(Sh+1))}}}function l_(c,d,_,w){try{return!1!==_(w)}catch(R){return af(c,R),!1}}function Pg(c,d,_,w,R){return function P($){if($===Function)return w;const ae=2&c.flags?Un(c.index,d):d;0==(32&d[2])&&_p(ae);let we=l_(d,0,w,$),je=P.__ngNextListenerFn__;for(;je;)we=l_(d,0,je,$)&&we,je=je.__ngNextListenerFn__;return R&&!1===we&&($.preventDefault(),$.returnValue=!1),we}}function c_(c=1){return function wn(c){return($n.lFrame.contextLView=function Xn(c,d){for(;c>0;)d=d[15],c--;return d}(c,$n.lFrame.contextLView))[8]}(c)}function vb(c,d){let _=null;const w=function Cl(c){const d=c.attrs;if(null!=d){const _=d.indexOf(5);if(0==(1&_))return d[_+1]}return null}(c);for(let R=0;R<d.length;R++){const P=d[R];if("*"!==P){if(null===w?Dh(c,P,!0):Kd(w,P))return R}else _=R}return _}function u_(c){const d=$i()[16][6];if(!d.projection){const w=d.projection=Wc(c?c.length:1,null),R=w.slice();let P=d.child;for(;null!==P;){const $=c?vb(P,c):0;null!==$&&(R[$]?R[$].projectionNext=P:w[$]=P,R[$]=P),P=P.next}}}function d_(c,d=0,_){const w=$i(),R=Fr(),P=_d(R,20+c,16,null,_||null);null===P.projection&&(P.projection=d),Xt(),64!=(64&P.flags)&&function nt(c,d,_){ea(d[11],0,d,_,ie(c,_,d),ri(_.parent||d[6],_,d))}(R,w,P)}function Ng(c,d,_){return Fg(c,"",d,"",_),Ng}function Fg(c,d,_,w,R){const P=$i(),$=Rn(P,d,_,w);return $!==Hr&&en(Fr(),vr(),P,c,$,P[11],R,!1),Fg}function b_(c,d,_,w,R){const P=c[_+1],$=null===d;let ae=w?Bc(P):yu(P),we=!1;for(;0!==ae&&(!1===we||$);){const ht=c[ae+1];Eb(c[ae],d)&&(we=!0,c[ae+1]=w?Zd(ht):dh(ht)),ae=w?Bc(ht):yu(ht)}we&&(c[_+1]=w?dh(P):Zd(P))}function Eb(c,d){return null===c||null==d||(Array.isArray(c)?c[1]:c)===d||!(!Array.isArray(c)||"string"!=typeof d)&&ll(c,d)>=0}const Ul={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function E_(c){return c.substring(Ul.key,Ul.keyEnd)}function C_(c,d){const _=Ul.textEnd;return _===d?-1:(d=Ul.keyEnd=function Sb(c,d,_){for(;d<_&&c.charCodeAt(d)>32;)d++;return d}(c,Ul.key=d,_),Xh(c,d,_))}function Xh(c,d,_){for(;d<_&&c.charCodeAt(d)<=32;)d++;return d}function Bg(c,d,_){return td(c,d,_,!1),Bg}function Hg(c,d){return td(c,d,null,!0),Hg}function Cd(c,d){for(let _=function Tb(c){return function w_(c){Ul.key=0,Ul.keyEnd=0,Ul.value=0,Ul.valueEnd=0,Ul.textEnd=c.length}(c),C_(c,Xh(c,0,Ul.textEnd))}(d);_>=0;_=C_(d,_))Ms(c,E_(d),!0)}function td(c,d,_,w){const R=$i(),P=Fr(),$=Yn(2);P.firstUpdatePass&&x_(P,c,$,w),d!==Hr&&Ci(R,$,d)&&A_(P,P.data[Nn()],R,R[11],c,R[$+1]=function Nb(c,d){return null==c||("string"==typeof d?c+=d:"object"==typeof c&&(c=C(et(c)))),c}(d,_),w,$)}function M_(c,d){return d>=c.expandoStartIndex}function x_(c,d,_,w){const R=c.data;if(null===R[_+1]){const P=R[Nn()],$=M_(c,_);O_(P,w)&&null===d&&!$&&(d=!1),d=function Ab(c,d,_,w){const R=sa(c);let P=w?d.residualClasses:d.residualStyles;if(null===R)0===(w?d.classBindings:d.styleBindings)&&(_=Ap(_=Vg(null,c,d,_,w),d.attrs,w),P=null);else{const $=d.directiveStylingLast;if(-1===$||c[$]!==R)if(_=Vg(R,c,d,_,w),null===P){let we=function Ib(c,d,_){const w=_?d.classBindings:d.styleBindings;if(0!==yu(w))return c[Bc(w)]}(c,d,w);void 0!==we&&Array.isArray(we)&&(we=Vg(null,c,d,we[1],w),we=Ap(we,d.attrs,w),function Ob(c,d,_,w){c[Bc(_?d.classBindings:d.styleBindings)]=w}(c,d,w,we))}else P=function kb(c,d,_){let w;const R=d.directiveEnd;for(let P=1+d.directiveStylingLast;P<R;P++)w=Ap(w,c[P].hostAttrs,_);return Ap(w,d.attrs,_)}(c,d,w)}return void 0!==P&&(w?d.residualClasses=P:d.residualStyles=P),_}(R,P,d,w),function yb(c,d,_,w,R,P){let $=P?d.classBindings:d.styleBindings,ae=Bc($),we=yu($);c[w]=_;let ht,je=!1;if(Array.isArray(_)){const Nt=_;ht=Nt[1],(null===ht||ll(Nt,ht)>0)&&(je=!0)}else ht=_;if(R)if(0!==we){const ni=Bc(c[ae+1]);c[w+1]=uh(ni,ae),0!==ni&&(c[ni+1]=hh(c[ni+1],w)),c[ae+1]=function ip(c,d){return 131071&c|d<<17}(c[ae+1],w)}else c[w+1]=uh(ae,0),0!==ae&&(c[ae+1]=hh(c[ae+1],w)),ae=w;else c[w+1]=uh(we,0),0===ae?ae=w:c[we+1]=hh(c[we+1],w),we=w;je&&(c[w+1]=dh(c[w+1])),b_(c,ht,w,!0),b_(c,ht,w,!1),function bb(c,d,_,w,R){const P=R?c.residualClasses:c.residualStyles;null!=P&&"string"==typeof d&&ll(P,d)>=0&&(_[w+1]=Zd(_[w+1]))}(d,ht,c,w,P),$=uh(ae,we),P?d.classBindings=$:d.styleBindings=$}(R,P,d,_,$,w)}}function Vg(c,d,_,w,R){let P=null;const $=_.directiveEnd;let ae=_.directiveStylingLast;for(-1===ae?ae=_.directiveStart:ae++;ae<$&&(P=d[ae],w=Ap(w,P.hostAttrs,R),P!==c);)ae++;return null!==c&&(_.directiveStylingLast=ae),w}function Ap(c,d,_){const w=_?1:2;let R=-1;if(null!==d)for(let P=0;P<d.length;P++){const $=d[P];"number"==typeof $?R=$:R===w&&(Array.isArray(c)||(c=void 0===c?[]:["",c]),Ms(c,$,!!_||d[++P]))}return void 0===c?null:c}function A_(c,d,_,w,R,P,$,ae){if(!(3&d.type))return;const we=c.data,je=we[ae+1];Df(function xh(c){return 1==(1&c)}(je)?I_(we,d,_,R,yu(je),$):void 0)||(Df(P)||function Mh(c){return 2==(2&c)}(je)&&(P=I_(we,null,_,R,ae,$)),function ds(c,d,_,w,R){const P=Nr(c);if(d)R?P?c.addClass(_,w):_.classList.add(w):P?c.removeClass(_,w):_.classList.remove(w);else{let $=-1===w.indexOf("-")?void 0:Me.DashCase;if(null==R)P?c.removeStyle(_,w,$):_.style.removeProperty(w);else{const ae="string"==typeof R&&R.endsWith("!important");ae&&(R=R.slice(0,-10),$|=Me.Important),P?c.setStyle(_,w,R,$):_.style.setProperty(w,R,ae?"important":"")}}}(w,$,j(Nn(),_),R,P))}function I_(c,d,_,w,R,P){const $=null===d;let ae;for(;R>0;){const we=c[R],je=Array.isArray(we),ht=je?we[1]:we,Nt=null===ht;let ni=_[R+1];ni===Hr&&(ni=Nt?Fi:void 0);let wi=Nt?Xl(ni,w):ht===w?ni:void 0;if(je&&!Df(wi)&&(wi=Xl(we,w)),Df(wi)&&(ae=wi,$))return ae;const Zi=c[R+1];R=$?Bc(Zi):yu(Zi)}if(null!==d){let we=P?d.residualClasses:d.residualStyles;null!=we&&(ae=Xl(we,w))}return ae}function Df(c){return void 0!==c}function O_(c,d){return 0!=(c.flags&(d?16:32))}function k_(c,d=""){const _=$i(),w=Fr(),R=c+20,P=w.firstCreatePass?_d(w,R,1,d,null):w.data[R],$=_[R]=function In(c,d){return Nr(c)?c.createText(d):c.createTextNode(d)}(_[11],d);un(w,_,$,P),qe(P,!1)}function Ug(c){return Mf("",c,""),Ug}function Mf(c,d,_){const w=$i(),R=Rn(w,c,d,_);return R!==Hr&&qu(w,Nn(),R),Mf}function Gg(c,d,_,w,R){const P=$i(),$=function Vn(c,d,_,w,R,P){const ae=on(c,Jn(),_,R);return Yn(2),ae?d+_e(_)+w+_e(R)+P:Hr}(P,c,d,_,w,R);return $!==Hr&&qu(P,Nn(),$),Gg}function Wg(c,d,_,w,R,P,$){const ae=$i(),we=Tn(ae,c,d,_,w,R,P,$);return we!==Hr&&qu(ae,Nn(),we),Wg}function V_(c,d,_){!function id(c,d,_,w){const R=Fr(),P=Yn(2);R.firstUpdatePass&&x_(R,null,P,w);const $=$i();if(_!==Hr&&Ci($,P,_)){const ae=R.data[Nn()];if(O_(ae,w)&&!M_(R,P)){let we=w?ae.classesWithoutHost:ae.stylesWithoutHost;null!==we&&(_=D(we,_||"")),Mg(R,ae,$,_,w)}else!function Pb(c,d,_,w,R,P,$,ae){R===Hr&&(R=Fi);let we=0,je=0,ht=0<R.length?R[0]:null,Nt=0<P.length?P[0]:null;for(;null!==ht||null!==Nt;){const ni=we<R.length?R[we+1]:void 0,wi=je<P.length?P[je+1]:void 0;let Cn,Zi=null;ht===Nt?(we+=2,je+=2,ni!==wi&&(Zi=Nt,Cn=wi)):null===Nt||null!==ht&&ht<Nt?(we+=2,Zi=ht):(je+=2,Zi=Nt,Cn=wi),null!==Zi&&A_(c,d,_,w,Zi,Cn,$,ae),ht=we<R.length?R[we]:null,Nt=je<P.length?P[je]:null}}(R,ae,$,$[11],$[P+1],$[P+1]=function Lb(c,d,_){if(null==_||""===_)return Fi;const w=[],R=et(_);if(Array.isArray(R))for(let P=0;P<R.length;P++)c(w,R[P],!0);else if("object"==typeof R)for(const P in R)R.hasOwnProperty(P)&&c(w,P,R[P]);else"string"==typeof R&&d(w,R);return w}(c,d,_),w,P)}}(Ms,Cd,Rn($i(),c,d,_),!0)}function jg(c,d,_){const w=$i();return Ci(w,Gn(),d)&&en(Fr(),vr(),w,c,d,w[11],_,!0),jg}function zg(c,d,_){const w=$i();if(Ci(w,Gn(),d)){const P=Fr(),$=vr();en(P,$,w,c,d,sf(sa(P.data),$,w),_,!0)}return zg}const Th=void 0;var tE=["en",[["a","p"],["AM","PM"],Th],[["AM","PM"],Th,Th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Th,"{1} 'at' {0}",Th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function eE(c){const _=Math.floor(Math.abs(c)),w=c.toString().replace(/^[^.]*\.?/,"").length;return 1===_&&0===w?1:5}];let Kh={};function Yg(c){const d=function iE(c){return c.toLowerCase().replace(/_/g,"-")}(c);let _=Z_(d);if(_)return _;const w=d.split("-")[0];if(_=Z_(w),_)return _;if("en"===w)return tE;throw new Error(`Missing locale data for the locale "${c}".`)}function J_(c){return Yg(c)[wr.PluralCase]}function Z_(c){return c in Kh||(Kh[c]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[c]),Kh[c]}var wr=(()=>((wr=wr||{})[wr.LocaleId=0]="LocaleId",wr[wr.DayPeriodsFormat=1]="DayPeriodsFormat",wr[wr.DayPeriodsStandalone=2]="DayPeriodsStandalone",wr[wr.DaysFormat=3]="DaysFormat",wr[wr.DaysStandalone=4]="DaysStandalone",wr[wr.MonthsFormat=5]="MonthsFormat",wr[wr.MonthsStandalone=6]="MonthsStandalone",wr[wr.Eras=7]="Eras",wr[wr.FirstDayOfWeek=8]="FirstDayOfWeek",wr[wr.WeekendRange=9]="WeekendRange",wr[wr.DateFormat=10]="DateFormat",wr[wr.TimeFormat=11]="TimeFormat",wr[wr.DateTimeFormat=12]="DateTimeFormat",wr[wr.NumberSymbols=13]="NumberSymbols",wr[wr.NumberFormats=14]="NumberFormats",wr[wr.CurrencyCode=15]="CurrencyCode",wr[wr.CurrencySymbol=16]="CurrencySymbol",wr[wr.CurrencyName=17]="CurrencyName",wr[wr.Currencies=18]="Currencies",wr[wr.Directionality=19]="Directionality",wr[wr.PluralCase=20]="PluralCase",wr[wr.ExtraData=21]="ExtraData",wr))();const xf="en-US";let Q_=xf;function $g(c,d,_,w,R){if(c=te(c),Array.isArray(c))for(let P=0;P<c.length;P++)$g(c[P],d,_,w,R);else{const P=Fr(),$=$i();let ae=zd(c)?c:te(c.provide),we=pf(c);const je=G(),ht=1048575&je.providerIndexes,Nt=je.directiveStart,ni=je.providerIndexes>>20;if(zd(c)||!c.multi){const wi=new ts(we,R,Rp),Zi=Zg(ae,d,R?ht:ht+ni,Nt);-1===Zi?(Vt(Q(je,$),P,ae),Jg(P,c,d.length),d.push(ae),je.directiveStart++,je.directiveEnd++,R&&(je.providerIndexes+=1048576),_.push(wi),$.push(wi)):(_[Zi]=wi,$[Zi]=wi)}else{const wi=Zg(ae,d,ht+ni,Nt),Zi=Zg(ae,d,ht,ht+ni),Cn=wi>=0&&_[wi],Pn=Zi>=0&&_[Zi];if(R&&!Pn||!R&&!Cn){Vt(Q(je,$),P,ae);const tr=function eC(c,d,_,w,R){const P=new ts(c,_,Rp);return P.multi=[],P.index=d,P.componentProviders=0,Cv(P,R,w&&!_),P}(R?qE:QE,_.length,R,w,we);!R&&Pn&&(_[Zi].providerFactory=tr),Jg(P,c,d.length,0),d.push(ae),je.directiveStart++,je.directiveEnd++,R&&(je.providerIndexes+=1048576),_.push(tr),$.push(tr)}else Jg(P,c,wi>-1?wi:Zi,Cv(_[R?Zi:wi],we,!R&&w));!R&&w&&Pn&&_[Zi].componentProviders++}}}function Jg(c,d,_,w){const R=zd(d),P=function hg(c){return!!c.useClass}(d);if(R||P){const we=(P?te(d.useClass):d).prototype.ngOnDestroy;if(we){const je=c.destroyHooks||(c.destroyHooks=[]);if(!R&&d.multi){const ht=je.indexOf(_);-1===ht?je.push(_,[w,we]):je[ht+1].push(w,we)}else je.push(_,we)}}}function Cv(c,d,_){return _&&c.componentProviders++,c.multi.push(d)-1}function Zg(c,d,_,w){for(let R=_;R<w;R++)if(d[R]===c)return R;return-1}function QE(c,d,_,w){return Qg(this.multi,[])}function qE(c,d,_,w){const R=this.multi;let P;if(this.providerFactory){const $=this.providerFactory.componentProviders,ae=Bs(_,_[1],this.providerFactory.index,w);P=ae.slice(0,$),Qg(R,P);for(let we=$;we<ae.length;we++)P.push(ae[we])}else P=[],Qg(R,P);return P}function Qg(c,d){for(let _=0;_<c.length;_++)d.push((0,c[_])());return d}function Tv(c,d=[]){return _=>{_.providersResolver=(w,R)=>function ZE(c,d,_){const w=Fr();if(w.firstCreatePass){const R=no(c);$g(_,w.data,w.blueprint,R,!0),$g(d,w.data,w.blueprint,R,!1)}}(w,R?R(c):c,d)}}class wv{}class nC{resolveComponentFactory(d){throw function iC(c){const d=Error(`No component factory found for ${C(c)}. Did you add it to @NgModule.entryComponents?`);return d.ngComponent=c,d}(d)}}let Pp=(()=>{class c{}return c.NULL=new nC,c})();function rC(){return Jh(G(),$i())}function Jh(c,d){return new Np(Ie(c,d))}let Np=(()=>{class c{constructor(_){this.nativeElement=_}}return c.__NG_ELEMENT_ID__=rC,c})();function oC(c){return c instanceof Np?c.nativeElement:c}class Dv{}let sC=(()=>{class c{}return c.__NG_ELEMENT_ID__=()=>function lC(){const c=$i(),_=Un(G().index,c);return function aC(c){return c[11]}(io(_)?_:c)}(),c})(),cC=(()=>{class c{}return c.\u0275prov=Rt({token:c,providedIn:"root",factory:()=>null}),c})();class Mv{constructor(d){this.full=d,this.major=d.split(".")[0],this.minor=d.split(".")[1],this.patch=d.split(".").slice(2).join(".")}}const uC=new Mv("13.1.0"),qg={};function kf(c,d,_,w,R=!1){for(;null!==_;){const P=d[_.index];if(null!==P&&w.push(ke(P)),Io(P))for(let ae=10;ae<P.length;ae++){const we=P[ae],je=we[1].firstChild;null!==je&&kf(we[1],we,je,w)}const $=_.type;if(8&$)kf(c,d,_.child,w);else if(32&$){const ae=$e(_,d);let we;for(;we=ae();)w.push(we)}else if(16&$){const ae=rn(d,_);if(Array.isArray(ae))w.push(...ae);else{const we=fi(d[16]);kf(we[1],we,ae,w,!0)}}_=R?_.projectionNext:_.next}return w}class Fp{constructor(d,_){this._lView=d,this._cdRefInjectingView=_,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const d=this._lView,_=d[1];return kf(_,d,_.firstChild,[])}get context(){return this._lView[8]}set context(d){this._lView[8]=d}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const d=this._lView[3];if(Io(d)){const _=d[8],w=_?_.indexOf(this):-1;w>-1&&(us(d,w),Ma(_,w))}this._attachedToViewContainer=!1}Rs(this._lView[1],this._lView)}onDestroy(d){Le(this._lView[1],this._lView,null,d)}markForCheck(){_p(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function rg(c,d,_){hn(!0);try{yp(c,d,_)}finally{hn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ko(c,d){Ao(c,d,d[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(d){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=d}}class dC extends Fp{constructor(d){super(d),this._view=d}detectChanges(){ef(this._view)}checkNoChanges(){!function tf(c){hn(!0);try{ef(c)}finally{hn(!1)}}(this._view)}get context(){return null}}class xv extends Pp{constructor(d){super(),this.ngModule=d}resolveComponentFactory(d){const _=Ri(d);return new em(_,this.ngModule)}}function Rv(c){const d=[];for(let _ in c)c.hasOwnProperty(_)&&d.push({propName:c[_],templateName:_});return d}const pC=new vo("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fd});class em extends wv{constructor(d,_){super(),this.componentDef=d,this.ngModule=_,this.componentType=d.type,this.selector=function Jd(c){return c.map($d).join(",")}(d.selectors),this.ngContentSelectors=d.ngContentSelectors?d.ngContentSelectors:[],this.isBoundToModule=!!_}get inputs(){return Rv(this.componentDef.inputs)}get outputs(){return Rv(this.componentDef.outputs)}create(d,_,w,R){const P=(R=R||this.ngModule)?function fC(c,d){return{get:(_,w,R)=>{const P=c.get(_,qg,R);return P!==qg||w===qg?P:d.get(_,w,R)}}}(d,R.injector):d,$=P.get(Dv,Hn),ae=P.get(cC,null),we=$.createRenderer(null,this.componentDef),je=this.componentDef.selectors[0][0]||"div",ht=w?function ee(c,d,_){if(Nr(c))return c.selectRootElement(d,_===vi.ShadowDom);let w="string"==typeof d?c.querySelector(d):d;return w.textContent="",w}(we,w,this.componentDef.encapsulation):Tr($.createRenderer(null,this.componentDef),je,function hC(c){const d=c.toLowerCase();return"svg"===d?Ta:"math"===d?"http://www.w3.org/1998/MathML/":null}(je)),Nt=this.componentDef.onPush?576:528,ni=function Tf(c,d){return{components:[],scheduler:c||fd,clean:Ep,playerHandler:d||null,flags:0}}(),wi=k(0,null,null,1,0,null,null,null,null,null),Zi=Gd(null,wi,ni,Nt,null,null,$,we,ae,P);let Cn,Pn;Xs(Zi);try{const tr=function Ef(c,d,_,w,R,P){const $=_[1];_[20]=c;const we=_d($,20,2,"#host",null),je=we.mergedAttrs=d.hostAttrs;null!==je&&(Gh(we,je,!0),null!==c&&(ml(R,c,je),null!==we.classes&&Xr(R,c,we.classes),null!==we.styles&&Is(R,c,we.styles)));const ht=w.createRenderer(c,d),Nt=Gd(_,pp(d),null,d.onPush?64:16,_[20],we,w,ht,P||null,null);return $.firstCreatePass&&(Vt(Q(we,_),$,d.type),jd($,we),Zp(we,_.length,1)),Uh(_,Nt),_[20]=Nt}(ht,this.componentDef,Zi,$,we);if(ht)if(w)ml(we,ht,["ng-version",uC.full]);else{const{attrs:sn,classes:br}=function Wp(c){const d=[],_=[];let w=1,R=2;for(;w<c.length;){let P=c[w];if("string"==typeof P)2===R?""!==P&&d.push(P,c[++w]):8===R&&_.push(P);else{if(!Ql(R))break;R=P}w++}return{attrs:d,classes:_}}(this.componentDef.selectors[0]);sn&&ml(we,ht,sn),br&&br.length>0&&Xr(we,ht,br.join(" "))}if(Pn=Ti(wi,20),void 0!==_){const sn=Pn.projection=[];for(let br=0;br<this.ngContentSelectors.length;br++){const wo=_[br];sn.push(null!=wo?Array.from(wo):null)}}Cn=function Cf(c,d,_,w,R){const P=_[1],$=function Ch(c,d,_){const w=G();c.firstCreatePass&&(_.providersResolver&&_.providersResolver(_),Qp(c,w,d,vd(c,d,1,null),_));const R=Bs(d,c,w.directiveStart,w);da(R,d);const P=Ie(w,d);return P&&da(P,d),R}(P,_,d);if(w.components.push($),c[8]=$,R&&R.forEach(we=>we($,d)),d.contentQueries){const we=G();d.contentQueries(1,$,we.directiveStart)}const ae=G();return!P.firstCreatePass||null===d.hostBindings&&null===d.hostAttrs||(_r(ae.index),rh(_[1],ae,0,ae.directiveStart,ae.directiveEnd,d),Jp(d,$)),$}(tr,this.componentDef,Zi,ni,[xp]),th(wi,Zi,null)}finally{os()}return new mC(this.componentType,Cn,Jh(Pn,Zi),Zi,Pn)}}class mC extends class tC{}{constructor(d,_,w,R,P){super(),this.location=w,this._rootLView=R,this._tNode=P,this.instance=_,this.hostView=this.changeDetectorRef=new dC(R),this.componentType=d}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(d){this.hostView.onDestroy(d)}}class Zh{}class Av{}const Qh=new Map;class kv extends Zh{constructor(d,_){super(),this._parent=_,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xv(this);const w=rr(d);this._bootstrapComponents=x(w.bootstrap),this._r3Injector=hf(d,_,[{provide:Zh,useValue:this},{provide:Pp,useValue:this.componentFactoryResolver}],C(d)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(d)}get(d,_=iu.THROW_IF_NOT_FOUND,w=tt.Default){return d===iu||d===Zh||d===Cp?this:this._r3Injector.get(d,_,w)}destroy(){const d=this._r3Injector;!d.destroyed&&d.destroy(),this.destroyCbs.forEach(_=>_()),this.destroyCbs=null}onDestroy(d){this.destroyCbs.push(d)}}class tm extends Av{constructor(d){super(),this.moduleType=d,null!==rr(d)&&function vC(c){const d=new Set;!function _(w){const R=rr(w,!0),P=R.id;null!==P&&(function Iv(c,d,_){if(d&&d!==_)throw new Error(`Duplicate module registered for ${c} - ${C(d)} vs ${C(d.name)}`)}(P,Qh.get(P),w),Qh.set(P,w));const $=x(R.imports);for(const ae of $)d.has(ae)||(d.add(ae),_(ae))}(c)}(d)}create(d){return new kv(this.moduleType,d)}}function Lv(c,d,_){const w=bn()+c,R=$i();return R[w]===Hr?Gt(R,w,_?d.call(_):d()):function Yt(c,d){return c[d]}(R,w)}function Pv(c,d,_,w){return Fv($i(),bn(),c,d,_,w)}function Nv(c,d,_,w,R){return function Bv(c,d,_,w,R,P,$){const ae=d+_;return on(c,ae,R,P)?Gt(c,ae+2,$?w.call($,R,P):w(R,P)):Bp(c,ae+2)}($i(),bn(),c,d,_,w,R)}function Bp(c,d){const _=c[d];return _===Hr?void 0:_}function Fv(c,d,_,w,R,P){const $=d+_;return Ci(c,$,R)?Gt(c,$+1,P?w.call(P,R):w(R)):Bp(c,$+1)}function Gv(c,d){const _=Fr();let w;const R=c+20;_.firstCreatePass?(w=function DC(c,d){if(d)for(let _=d.length-1;_>=0;_--){const w=d[_];if(c===w.name)return w}}(d,_.pipeRegistry),_.data[R]=w,w.onDestroy&&(_.destroyHooks||(_.destroyHooks=[])).push(R,w.onDestroy)):w=_.data[R];const P=w.factory||(w.factory=Bo(w.type)),$=vt(Rp);try{const ae=Wl(!1),we=P();return Wl(ae),function ed(c,d,_,w){_>=c.data.length&&(c.data[_]=null,c.blueprint[_]=null),d[_]=w}(_,$i(),R,we),we}finally{vt($)}}function Wv(c,d,_){const w=c+20,R=$i(),P=dn(R,w);return function Hp(c,d){return c[1].data[d].pure}(R,w)?Fv(R,bn(),d,P.transform,_,P):P.transform(_)}function im(c){return d=>{setTimeout(c,void 0,d)}}const Td=class IC extends E.x{constructor(d=!1){super(),this.__isAsync=d}emit(d){super.next(d)}subscribe(d,_,w){var R,P,$;let ae=d,we=_||(()=>null),je=w;if(d&&"object"==typeof d){const Nt=d;ae=null===(R=Nt.next)||void 0===R?void 0:R.bind(Nt),we=null===(P=Nt.error)||void 0===P?void 0:P.bind(Nt),je=null===($=Nt.complete)||void 0===$?void 0:$.bind(Nt)}this.__isAsync&&(we=im(we),ae&&(ae=im(ae)),je&&(je=im(je)));const ht=super.subscribe({next:ae,error:we,complete:je});return d instanceof m.w0&&d.add(ht),ht}};function OC(){return this._results[J()]()}class Lf{constructor(d=!1){this._emitDistinctChangesOnly=d,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const _=J(),w=Lf.prototype;w[_]||(w[_]=OC)}get changes(){return this._changes||(this._changes=new Td)}get(d){return this._results[d]}map(d){return this._results.map(d)}filter(d){return this._results.filter(d)}find(d){return this._results.find(d)}reduce(d,_){return this._results.reduce(d,_)}forEach(d){this._results.forEach(d)}some(d){return this._results.some(d)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(d,_){const w=this;w.dirty=!1;const R=Ds(d);(this._changesDetected=!function _l(c,d,_){if(c.length!==d.length)return!1;for(let w=0;w<c.length;w++){let R=c[w],P=d[w];if(_&&(R=_(R),P=_(P)),P!==R)return!1}return!0}(w._results,R,_))&&(w._results=R,w.length=R.length,w.last=R[this.length-1],w.first=R[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Vp=(()=>{class c{}return c.__NG_ELEMENT_ID__=PC,c})();const kC=Vp,LC=class extends kC{constructor(d,_,w){super(),this._declarationLView=d,this._declarationTContainer=_,this.elementRef=w}createEmbeddedView(d){const _=this._declarationTContainer.tViews,w=Gd(this._declarationLView,_,d,16,null,_.declTNode,null,null,null,null);w[17]=this._declarationLView[this._declarationTContainer.index];const P=this._declarationLView[19];return null!==P&&(w[19]=P.createEmbeddedView(_)),th(_,w,d),new Fp(w)}};function PC(){return Pf(G(),$i())}function Pf(c,d){return 4&c.type?new LC(d,c,Jh(c,d)):null}let Nf=(()=>{class c{}return c.__NG_ELEMENT_ID__=NC,c})();function NC(){return Yv(G(),$i())}const FC=Nf,jv=class extends FC{constructor(d,_,w){super(),this._lContainer=d,this._hostTNode=_,this._hostLView=w}get element(){return Jh(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const d=ft(this._hostTNode,this._hostLView);if(Js(d)){const _=_a(d,this._hostLView),w=Ka(d);return new as(_[1].data[w+8],_)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(d){const _=zv(this._lContainer);return null!==_&&_[d]||null}get length(){return this._lContainer.length-10}createEmbeddedView(d,_,w){const R=d.createEmbeddedView(_||{});return this.insert(R,w),R}createComponent(d,_,w,R,P){const $=d&&!function tc(c){return"function"==typeof c}(d);let ae;if($)ae=_;else{const Nt=_||{};ae=Nt.index,w=Nt.injector,R=Nt.projectableNodes,P=Nt.ngModuleRef}const we=$?d:new em(Ri(d)),je=w||this.parentInjector;if(!P&&null==we.ngModule&&je){const Nt=je.get(Zh,null);Nt&&(P=Nt)}const ht=we.create(je,R,void 0,P);return this.insert(ht.hostView,ae),ht}insert(d,_){const w=d._lView,R=w[1];if(function Or(c){return Io(c[3])}(w)){const ht=this.indexOf(d);if(-1!==ht)this.detach(ht);else{const Nt=w[3],ni=new jv(Nt,Nt[6],Nt[3]);ni.detach(ni.indexOf(d))}}const P=this._adjustIndex(_),$=this._lContainer;!function Ca(c,d,_,w){const R=10+w,P=_.length;w>0&&(_[R-1][4]=d),w<P-10?(d[4]=_[R],Ja(_,10+w,d)):(_.push(d),d[4]=null),d[3]=_;const $=d[17];null!==$&&_!==$&&function vs(c,d){const _=c[9];d[16]!==d[3][3][16]&&(c[2]=!0),null===_?c[9]=[d]:_.push(d)}($,d);const ae=d[19];null!==ae&&ae.insertView(c),d[2]|=128}(R,w,$,P);const ae=Er(P,$),we=w[11],je=xt(we,$[7]);return null!==je&&function Hs(c,d,_,w,R,P){w[0]=R,w[6]=d,Ao(c,w,_,1,R,P)}(R,$[6],we,w,je,ae),d.attachToViewContainerRef(),Ja(nm($),P,d),d}move(d,_){return this.insert(d,_)}indexOf(d){const _=zv(this._lContainer);return null!==_?_.indexOf(d):-1}remove(d){const _=this._adjustIndex(d,-1),w=us(this._lContainer,_);w&&(Ma(nm(this._lContainer),_),Rs(w[1],w))}detach(d){const _=this._adjustIndex(d,-1),w=us(this._lContainer,_);return w&&null!=Ma(nm(this._lContainer),_)?new Fp(w):null}_adjustIndex(d,_=0){return null==d?this.length+_:d}};function zv(c){return c[8]}function nm(c){return c[8]||(c[8]=[])}function Yv(c,d){let _;const w=d[c.index];if(Io(w))_=w;else{let R;if(8&c.type)R=ke(w);else{const P=d[11];R=P.createComment("");const $=Ie(c,d);We(P,xt(P,$),R,function ei(c,d){return Nr(c)?c.nextSibling(d):d.nextSibling}(P,$),!1)}d[c.index]=_=qp(w,d,R,c),Uh(d,_)}return new jv(_,c,d)}class rm{constructor(d){this.queryList=d,this.matches=null}clone(){return new rm(this.queryList)}setDirty(){this.queryList.setDirty()}}class om{constructor(d=[]){this.queries=d}createEmbeddedView(d){const _=d.queries;if(null!==_){const w=null!==d.contentQueries?d.contentQueries[0]:_.length,R=[];for(let P=0;P<w;P++){const $=_.getByIndex(P);R.push(this.queries[$.indexInDeclarationView].clone())}return new om(R)}return null}insertView(d){this.dirtyQueriesWithMatches(d)}detachView(d){this.dirtyQueriesWithMatches(d)}dirtyQueriesWithMatches(d){for(let _=0;_<this.queries.length;_++)null!==ty(d,_).matches&&this.queries[_].setDirty()}}class Xv{constructor(d,_,w=null){this.predicate=d,this.flags=_,this.read=w}}class sm{constructor(d=[]){this.queries=d}elementStart(d,_){for(let w=0;w<this.queries.length;w++)this.queries[w].elementStart(d,_)}elementEnd(d){for(let _=0;_<this.queries.length;_++)this.queries[_].elementEnd(d)}embeddedTView(d){let _=null;for(let w=0;w<this.length;w++){const R=null!==_?_.length:0,P=this.getByIndex(w).embeddedTView(d,R);P&&(P.indexInDeclarationView=w,null!==_?_.push(P):_=[P])}return null!==_?new sm(_):null}template(d,_){for(let w=0;w<this.queries.length;w++)this.queries[w].template(d,_)}getByIndex(d){return this.queries[d]}get length(){return this.queries.length}track(d){this.queries.push(d)}}class am{constructor(d,_=-1){this.metadata=d,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=_}elementStart(d,_){this.isApplyingToNode(_)&&this.matchTNode(d,_)}elementEnd(d){this._declarationNodeIndex===d.index&&(this._appliesToNextNode=!1)}template(d,_){this.elementStart(d,_)}embeddedTView(d,_){return this.isApplyingToNode(d)?(this.crossesNgTemplate=!0,this.addMatch(-d.index,_),new am(this.metadata)):null}isApplyingToNode(d){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const _=this._declarationNodeIndex;let w=d.parent;for(;null!==w&&8&w.type&&w.index!==_;)w=w.parent;return _===(null!==w?w.index:-1)}return this._appliesToNextNode}matchTNode(d,_){const w=this.metadata.predicate;if(Array.isArray(w))for(let R=0;R<w.length;R++){const P=w[R];this.matchTNodeWithReadOption(d,_,VC(_,P)),this.matchTNodeWithReadOption(d,_,Sl(_,d,P,!1,!1))}else w===Vp?4&_.type&&this.matchTNodeWithReadOption(d,_,-1):this.matchTNodeWithReadOption(d,_,Sl(_,d,w,!1,!1))}matchTNodeWithReadOption(d,_,w){if(null!==w){const R=this.metadata.read;if(null!==R)if(R===Np||R===Nf||R===Vp&&4&_.type)this.addMatch(_.index,-2);else{const P=Sl(_,d,R,!1,!1);null!==P&&this.addMatch(_.index,P)}else this.addMatch(_.index,w)}}addMatch(d,_){null===this.matches?this.matches=[d,_]:this.matches.push(d,_)}}function VC(c,d){const _=c.localNames;if(null!==_)for(let w=0;w<_.length;w+=2)if(_[w]===d)return _[w+1];return null}function GC(c,d,_,w){return-1===_?function UC(c,d){return 11&c.type?Jh(c,d):4&c.type?Pf(c,d):null}(d,c):-2===_?function WC(c,d,_){return _===Np?Jh(d,c):_===Vp?Pf(d,c):_===Nf?Yv(d,c):void 0}(c,d,w):Bs(c,c[1],_,d)}function Kv(c,d,_,w){const R=d[19].queries[w];if(null===R.matches){const P=c.data,$=_.matches,ae=[];for(let we=0;we<$.length;we+=2){const je=$[we];ae.push(je<0?null:GC(d,P[je],$[we+1],_.metadata.read))}R.matches=ae}return R.matches}function lm(c,d,_,w){const R=c.queries.getByIndex(_),P=R.matches;if(null!==P){const $=Kv(c,d,R,_);for(let ae=0;ae<P.length;ae+=2){const we=P[ae];if(we>0)w.push($[ae/2]);else{const je=P[ae+1],ht=d[-we];for(let Nt=10;Nt<ht.length;Nt++){const ni=ht[Nt];ni[17]===ni[3]&&lm(ni[1],ni,je,w)}if(null!==ht[9]){const Nt=ht[9];for(let ni=0;ni<Nt.length;ni++){const wi=Nt[ni];lm(wi[1],wi,je,w)}}}}}return w}function $v(c){const d=$i(),_=Fr(),w=fs();Co(w+1);const R=ty(_,w);if(c.dirty&&Ir(d)===(2==(2&R.metadata.flags))){if(null===R.matches)c.reset([]);else{const P=R.crossesNgTemplate?lm(_,d,w,[]):Kv(_,d,R,w);c.reset(P,oC),c.notifyOnChanges()}return!0}return!1}function Jv(c,d,_){const w=Fr();w.firstCreatePass&&(ey(w,new Xv(c,d,_),-1),2==(2&d)&&(w.staticViewQueries=!0)),qv(w,$i(),d)}function Zv(c,d,_,w){const R=Fr();if(R.firstCreatePass){const P=G();ey(R,new Xv(d,_,w),P.index),function zC(c,d){const _=c.contentQueries||(c.contentQueries=[]);d!==(_.length?_[_.length-1]:-1)&&_.push(c.queries.length-1,d)}(R,c),2==(2&_)&&(R.staticContentQueries=!0)}qv(R,$i(),_)}function Qv(){return function jC(c,d){return c[19].queries[d].queryList}($i(),fs())}function qv(c,d,_){const w=new Lf(4==(4&_));Le(c,d,w,w.destroy),null===d[19]&&(d[19]=new om),d[19].queries.push(new rm(w))}function ey(c,d,_){null===c.queries&&(c.queries=new sm),c.queries.track(new am(d,_))}function ty(c,d){return c.queries.getByIndex(d)}function iy(c,d){return Pf(c,d)}function Hf(...c){}const fm=new vo("Application Initializer");let ep=(()=>{class c{constructor(_){this.appInits=_,this.resolve=Hf,this.reject=Hf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((w,R)=>{this.resolve=w,this.reject=R})}runInitializers(){if(this.initialized)return;const _=[],w=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let R=0;R<this.appInits.length;R++){const P=this.appInits[R]();if(Og(P))_.push(P);else if(s_(P)){const $=new Promise((ae,we)=>{P.subscribe({complete:ae,error:we})});_.push($)}}Promise.all(_).then(()=>{w()}).catch(R=>{this.reject(R)}),0===_.length&&w(),this.initialized=!0}}return c.\u0275fac=function(_){return new(_||c)(Xo(fm,8))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();const yy=new vo("AppId"),cT={provide:yy,useFactory:function lT(){return`${gm()}${gm()}${gm()}`},deps:[]};function gm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const by=new vo("Platform Initializer"),Ey=new vo("Platform ID"),Cy=new vo("appBootstrapListener");let Ty=(()=>{class c{log(_){console.log(_)}warn(_){console.warn(_)}}return c.\u0275fac=function(_){return new(_||c)},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();const Vf=new vo("LocaleId"),wy=new vo("DefaultCurrencyCode");class uT{constructor(d,_){this.ngModuleFactory=d,this.componentFactories=_}}let mm=(()=>{class c{compileModuleSync(_){return new tm(_)}compileModuleAsync(_){return Promise.resolve(this.compileModuleSync(_))}compileModuleAndAllComponentsSync(_){const w=this.compileModuleSync(_),P=x(rr(_).declarations).reduce(($,ae)=>{const we=Ri(ae);return we&&$.push(new em(we)),$},[]);return new uT(w,P)}compileModuleAndAllComponentsAsync(_){return Promise.resolve(this.compileModuleAndAllComponentsSync(_))}clearCache(){}clearCacheFor(_){}getModuleId(_){}}return c.\u0275fac=function(_){return new(_||c)},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();const hT=(()=>Promise.resolve(0))();function _m(c){"undefined"==typeof Zone?hT.then(()=>{c&&c.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",c)}class Cu{constructor({enableLongStackTrace:d=!1,shouldCoalesceEventChangeDetection:_=!1,shouldCoalesceRunChangeDetection:w=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Td(!1),this.onMicrotaskEmpty=new Td(!1),this.onStable=new Td(!1),this.onError=new Td(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const R=this;R._nesting=0,R._outer=R._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(R._inner=R._inner.fork(new Zone.TaskTrackingZoneSpec)),d&&Zone.longStackTraceZoneSpec&&(R._inner=R._inner.fork(Zone.longStackTraceZoneSpec)),R.shouldCoalesceEventChangeDetection=!w&&_,R.shouldCoalesceRunChangeDetection=w,R.lastRequestAnimationFrameId=-1,R.nativeRequestAnimationFrame=function pT(){let c=_t.requestAnimationFrame,d=_t.cancelAnimationFrame;if("undefined"!=typeof Zone&&c&&d){const _=c[Zone.__symbol__("OriginalDelegate")];_&&(c=_);const w=d[Zone.__symbol__("OriginalDelegate")];w&&(d=w)}return{nativeRequestAnimationFrame:c,nativeCancelAnimationFrame:d}}().nativeRequestAnimationFrame,function mT(c){const d=()=>{!function gT(c){c.isCheckStableRunning||-1!==c.lastRequestAnimationFrameId||(c.lastRequestAnimationFrameId=c.nativeRequestAnimationFrame.call(_t,()=>{c.fakeTopEventTask||(c.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{c.lastRequestAnimationFrameId=-1,ym(c),c.isCheckStableRunning=!0,vm(c),c.isCheckStableRunning=!1},void 0,()=>{},()=>{})),c.fakeTopEventTask.invoke()}),ym(c))}(c)};c._inner=c._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(_,w,R,P,$,ae)=>{try{return Sy(c),_.invokeTask(R,P,$,ae)}finally{(c.shouldCoalesceEventChangeDetection&&"eventTask"===P.type||c.shouldCoalesceRunChangeDetection)&&d(),Dy(c)}},onInvoke:(_,w,R,P,$,ae,we)=>{try{return Sy(c),_.invoke(R,P,$,ae,we)}finally{c.shouldCoalesceRunChangeDetection&&d(),Dy(c)}},onHasTask:(_,w,R,P)=>{_.hasTask(R,P),w===R&&("microTask"==P.change?(c._hasPendingMicrotasks=P.microTask,ym(c),vm(c)):"macroTask"==P.change&&(c.hasPendingMacrotasks=P.macroTask))},onHandleError:(_,w,R,P)=>(_.handleError(R,P),c.runOutsideAngular(()=>c.onError.emit(P)),!1)})}(R)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Cu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Cu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(d,_,w){return this._inner.run(d,_,w)}runTask(d,_,w,R){const P=this._inner,$=P.scheduleEventTask("NgZoneEvent: "+R,d,fT,Hf,Hf);try{return P.runTask($,_,w)}finally{P.cancelTask($)}}runGuarded(d,_,w){return this._inner.runGuarded(d,_,w)}runOutsideAngular(d){return this._outer.run(d)}}const fT={};function vm(c){if(0==c._nesting&&!c.hasPendingMicrotasks&&!c.isStable)try{c._nesting++,c.onMicrotaskEmpty.emit(null)}finally{if(c._nesting--,!c.hasPendingMicrotasks)try{c.runOutsideAngular(()=>c.onStable.emit(null))}finally{c.isStable=!0}}}function ym(c){c.hasPendingMicrotasks=!!(c._hasPendingMicrotasks||(c.shouldCoalesceEventChangeDetection||c.shouldCoalesceRunChangeDetection)&&-1!==c.lastRequestAnimationFrameId)}function Sy(c){c._nesting++,c.isStable&&(c.isStable=!1,c.onUnstable.emit(null))}function Dy(c){c._nesting--,vm(c)}class _T{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Td,this.onMicrotaskEmpty=new Td,this.onStable=new Td,this.onError=new Td}run(d,_,w){return d.apply(_,w)}runGuarded(d,_,w){return d.apply(_,w)}runOutsideAngular(d){return d()}runTask(d,_,w,R){return d.apply(_,w)}}let My=(()=>{class c{constructor(_){this._ngZone=_,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),_.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Cu.assertNotInAngularZone(),_m(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_m(()=>{for(;0!==this._callbacks.length;){let _=this._callbacks.pop();clearTimeout(_.timeoutId),_.doneCb(this._didWork)}this._didWork=!1});else{let _=this.getPendingTasks();this._callbacks=this._callbacks.filter(w=>!w.updateCb||!w.updateCb(_)||(clearTimeout(w.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(_=>({source:_.source,creationLocation:_.creationLocation,data:_.data})):[]}addCallback(_,w,R){let P=-1;w&&w>0&&(P=setTimeout(()=>{this._callbacks=this._callbacks.filter($=>$.timeoutId!==P),_(this._didWork,this.getPendingTasks())},w)),this._callbacks.push({doneCb:_,timeoutId:P,updateCb:R})}whenStable(_,w,R){if(R&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(_,w,R),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(_,w,R){return[]}}return c.\u0275fac=function(_){return new(_||c)(Xo(Cu))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})(),xy=(()=>{class c{constructor(){this._applications=new Map,bm.addToWindow(this)}registerApplication(_,w){this._applications.set(_,w)}unregisterApplication(_){this._applications.delete(_)}unregisterAllApplications(){this._applications.clear()}getTestability(_){return this._applications.get(_)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(_,w=!0){return bm.findTestabilityInTree(this,_,w)}}return c.\u0275fac=function(_){return new(_||c)},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();class vT{addToWindow(d){}findTestabilityInTree(d,_,w){return null}}function yT(c){bm=c}let nd,bm=new vT;const Ry=new vo("AllowMultipleToken");class CT{constructor(d,_){this.name=d,this.token=_}}function Ay(c,d,_=[]){const w=`Platform: ${d}`,R=new vo(w);return(P=[])=>{let $=Iy();if(!$||$.injector.get(Ry,!1))if(c)c(_.concat(P).concat({provide:R,useValue:!0}));else{const ae=_.concat(P).concat({provide:R,useValue:!0},{provide:Wh,useValue:"platform"});!function TT(c){if(nd&&!nd.destroyed&&!nd.injector.get(Ry,!1))throw new ue("400","");nd=c.get(Oy);const d=c.get(by,null);d&&d.forEach(_=>_())}(iu.create({providers:ae,name:w}))}return function wT(c){const d=Iy();if(!d)throw new ue("401","");return d}()}}function Iy(){return nd&&!nd.destroyed?nd:null}let Oy=(()=>{class c{constructor(_){this._injector=_,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(_,w){const ae=function ST(c,d){let _;return _="noop"===c?new _T:("zone.js"===c?void 0:c)||new Cu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==d?void 0:d.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==d?void 0:d.ngZoneRunCoalescing)}),_}(w?w.ngZone:void 0,{ngZoneEventCoalescing:w&&w.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:w&&w.ngZoneRunCoalescing||!1}),we=[{provide:Cu,useValue:ae}];return ae.run(()=>{const je=iu.create({providers:we,parent:this.injector,name:_.moduleType.name}),ht=_.create(je),Nt=ht.injector.get(Fc,null);if(!Nt)throw new ue("402","");return ae.runOutsideAngular(()=>{const ni=ae.onError.subscribe({next:wi=>{Nt.handleError(wi)}});ht.onDestroy(()=>{Em(this._modules,ht),ni.unsubscribe()})}),function DT(c,d,_){try{const w=_();return Og(w)?w.catch(R=>{throw d.runOutsideAngular(()=>c.handleError(R)),R}):w}catch(w){throw d.runOutsideAngular(()=>c.handleError(w)),w}}(Nt,ae,()=>{const ni=ht.injector.get(ep);return ni.runInitializers(),ni.donePromise.then(()=>(function sE(c){Ot(c,"Expected localeId to be defined"),"string"==typeof c&&(Q_=c.toLowerCase().replace(/_/g,"-"))}(ht.injector.get(Vf,xf)||xf),this._moduleDoBootstrap(ht),ht))})})}bootstrapModule(_,w=[]){const R=ky({},w);return function bT(c,d,_){const w=new tm(_);return Promise.resolve(w)}(0,0,_).then(P=>this.bootstrapModuleFactory(P,R))}_moduleDoBootstrap(_){const w=_.injector.get(Gp);if(_._bootstrapComponents.length>0)_._bootstrapComponents.forEach(R=>w.bootstrap(R));else{if(!_.instance.ngDoBootstrap)throw new ue("403","");_.instance.ngDoBootstrap(w)}this._modules.push(_)}onDestroy(_){this._destroyListeners.push(_)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue("404","");this._modules.slice().forEach(_=>_.destroy()),this._destroyListeners.forEach(_=>_()),this._destroyed=!0}get destroyed(){return this._destroyed}}return c.\u0275fac=function(_){return new(_||c)(Xo(iu))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();function ky(c,d){return Array.isArray(d)?d.reduce(ky,c):Object.assign(Object.assign({},c),d)}let Gp=(()=>{class c{constructor(_,w,R,P,$){this._zone=_,this._injector=w,this._exceptionHandler=R,this._componentFactoryResolver=P,this._initStatus=$,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const ae=new t.y(je=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{je.next(this._stable),je.complete()})}),we=new t.y(je=>{let ht;this._zone.runOutsideAngular(()=>{ht=this._zone.onStable.subscribe(()=>{Cu.assertNotInAngularZone(),_m(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,je.next(!0))})})});const Nt=this._zone.onUnstable.subscribe(()=>{Cu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{je.next(!1)}))});return()=>{ht.unsubscribe(),Nt.unsubscribe()}});this.isStable=(0,e.T)(ae,we.pipe((0,n.B)()))}bootstrap(_,w){if(!this._initStatus.done)throw new ue("405","");let R;R=_ instanceof wv?_:this._componentFactoryResolver.resolveComponentFactory(_),this.componentTypes.push(R.componentType);const P=function ET(c){return c.isBoundToModule}(R)?void 0:this._injector.get(Zh),ae=R.create(iu.NULL,[],w||R.selector,P),we=ae.location.nativeElement,je=ae.injector.get(My,null),ht=je&&ae.injector.get(xy);return je&&ht&&ht.registerApplication(we,je),ae.onDestroy(()=>{this.detachView(ae.hostView),Em(this.components,ae),ht&&ht.unregisterApplication(we)}),this._loadComponent(ae),ae}tick(){if(this._runningTick)throw new ue("101","");try{this._runningTick=!0;for(let _ of this._views)_.detectChanges()}catch(_){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(_))}finally{this._runningTick=!1}}attachView(_){const w=_;this._views.push(w),w.attachToAppRef(this)}detachView(_){const w=_;Em(this._views,w),w.detachFromAppRef()}_loadComponent(_){this.attachView(_.hostView),this.tick(),this.components.push(_),this._injector.get(Cy,[]).concat(this._bootstrapListeners).forEach(R=>R(_))}ngOnDestroy(){this._views.slice().forEach(_=>_.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return c.\u0275fac=function(_){return new(_||c)(Xo(Cu),Xo(iu),Xo(Fc),Xo(Pp),Xo(ep))},c.\u0275prov=Rt({token:c,factory:c.\u0275fac}),c})();function Em(c,d){const _=c.indexOf(d);_>-1&&c.splice(_,1)}let Py=!0;function xT(){Py=!1}let RT=(()=>{class c{}return c.__NG_ELEMENT_ID__=AT,c})();function AT(c){return function IT(c,d,_){if(Gs(c)&&!_){const w=Un(c.index,d);return new Fp(w,w)}return 47&c.type?new Fp(d[16],d):null}(G(),$i(),16==(16&c))}class Gy{constructor(){}supports(d){return Fe(d)}create(d){return new FT(d)}}const NT=(c,d)=>d;class FT{constructor(d){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=d||NT}forEachItem(d){let _;for(_=this._itHead;null!==_;_=_._next)d(_)}forEachOperation(d){let _=this._itHead,w=this._removalsHead,R=0,P=null;for(;_||w;){const $=!w||_&&_.currentIndex<jy(w,R,P)?_:w,ae=jy($,R,P),we=$.currentIndex;if($===w)R--,w=w._nextRemoved;else if(_=_._next,null==$.previousIndex)R++;else{P||(P=[]);const je=ae-R,ht=we-R;if(je!=ht){for(let ni=0;ni<je;ni++){const wi=ni<P.length?P[ni]:P[ni]=0,Zi=wi+ni;ht<=Zi&&Zi<je&&(P[ni]=wi+1)}P[$.previousIndex]=ht-je}}ae!==we&&d($,ae,we)}}forEachPreviousItem(d){let _;for(_=this._previousItHead;null!==_;_=_._nextPrevious)d(_)}forEachAddedItem(d){let _;for(_=this._additionsHead;null!==_;_=_._nextAdded)d(_)}forEachMovedItem(d){let _;for(_=this._movesHead;null!==_;_=_._nextMoved)d(_)}forEachRemovedItem(d){let _;for(_=this._removalsHead;null!==_;_=_._nextRemoved)d(_)}forEachIdentityChange(d){let _;for(_=this._identityChangesHead;null!==_;_=_._nextIdentityChange)d(_)}diff(d){if(null==d&&(d=[]),!Fe(d))throw new Error(`Error trying to diff '${C(d)}'. Only arrays and iterables are allowed`);return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let R,P,$,_=this._itHead,w=!1;if(Array.isArray(d)){this.length=d.length;for(let ae=0;ae<this.length;ae++)P=d[ae],$=this._trackByFn(ae,P),null!==_&&Object.is(_.trackById,$)?(w&&(_=this._verifyReinsertion(_,P,$,ae)),Object.is(_.item,P)||this._addIdentityChange(_,P)):(_=this._mismatch(_,P,$,ae),w=!0),_=_._next}else R=0,function Ct(c,d){if(Array.isArray(c))for(let _=0;_<c.length;_++)d(c[_]);else{const _=c[J()]();let w;for(;!(w=_.next()).done;)d(w.value)}}(d,ae=>{$=this._trackByFn(R,ae),null!==_&&Object.is(_.trackById,$)?(w&&(_=this._verifyReinsertion(_,ae,$,R)),Object.is(_.item,ae)||this._addIdentityChange(_,ae)):(_=this._mismatch(_,ae,$,R),w=!0),_=_._next,R++}),this.length=R;return this._truncate(_),this.collection=d,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let d;for(d=this._previousItHead=this._itHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._additionsHead;null!==d;d=d._nextAdded)d.previousIndex=d.currentIndex;for(this._additionsHead=this._additionsTail=null,d=this._movesHead;null!==d;d=d._nextMoved)d.previousIndex=d.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(d,_,w,R){let P;return null===d?P=this._itTail:(P=d._prev,this._remove(d)),null!==(d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(w,null))?(Object.is(d.item,_)||this._addIdentityChange(d,_),this._reinsertAfter(d,P,R)):null!==(d=null===this._linkedRecords?null:this._linkedRecords.get(w,R))?(Object.is(d.item,_)||this._addIdentityChange(d,_),this._moveAfter(d,P,R)):d=this._addAfter(new BT(_,w),P,R),d}_verifyReinsertion(d,_,w,R){let P=null===this._unlinkedRecords?null:this._unlinkedRecords.get(w,null);return null!==P?d=this._reinsertAfter(P,d._prev,R):d.currentIndex!=R&&(d.currentIndex=R,this._addToMoves(d,R)),d}_truncate(d){for(;null!==d;){const _=d._next;this._addToRemovals(this._unlink(d)),d=_}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(d,_,w){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(d);const R=d._prevRemoved,P=d._nextRemoved;return null===R?this._removalsHead=P:R._nextRemoved=P,null===P?this._removalsTail=R:P._prevRemoved=R,this._insertAfter(d,_,w),this._addToMoves(d,w),d}_moveAfter(d,_,w){return this._unlink(d),this._insertAfter(d,_,w),this._addToMoves(d,w),d}_addAfter(d,_,w){return this._insertAfter(d,_,w),this._additionsTail=null===this._additionsTail?this._additionsHead=d:this._additionsTail._nextAdded=d,d}_insertAfter(d,_,w){const R=null===_?this._itHead:_._next;return d._next=R,d._prev=_,null===R?this._itTail=d:R._prev=d,null===_?this._itHead=d:_._next=d,null===this._linkedRecords&&(this._linkedRecords=new Wy),this._linkedRecords.put(d),d.currentIndex=w,d}_remove(d){return this._addToRemovals(this._unlink(d))}_unlink(d){null!==this._linkedRecords&&this._linkedRecords.remove(d);const _=d._prev,w=d._next;return null===_?this._itHead=w:_._next=w,null===w?this._itTail=_:w._prev=_,d}_addToMoves(d,_){return d.previousIndex===_||(this._movesTail=null===this._movesTail?this._movesHead=d:this._movesTail._nextMoved=d),d}_addToRemovals(d){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wy),this._unlinkedRecords.put(d),d.currentIndex=null,d._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=d,d._prevRemoved=null):(d._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=d),d}_addIdentityChange(d,_){return d.item=_,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=d:this._identityChangesTail._nextIdentityChange=d,d}}class BT{constructor(d,_){this.item=d,this.trackById=_,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class HT{constructor(){this._head=null,this._tail=null}add(d){null===this._head?(this._head=this._tail=d,d._nextDup=null,d._prevDup=null):(this._tail._nextDup=d,d._prevDup=this._tail,d._nextDup=null,this._tail=d)}get(d,_){let w;for(w=this._head;null!==w;w=w._nextDup)if((null===_||_<=w.currentIndex)&&Object.is(w.trackById,d))return w;return null}remove(d){const _=d._prevDup,w=d._nextDup;return null===_?this._head=w:_._nextDup=w,null===w?this._tail=_:w._prevDup=_,null===this._head}}class Wy{constructor(){this.map=new Map}put(d){const _=d.trackById;let w=this.map.get(_);w||(w=new HT,this.map.set(_,w)),w.add(d)}get(d,_){const R=this.map.get(d);return R?R.get(d,_):null}remove(d){const _=d.trackById;return this.map.get(_).remove(d)&&this.map.delete(_),d}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jy(c,d,_){const w=c.previousIndex;if(null===w)return w;let R=0;return _&&w<_.length&&(R=_[w]),w+d+R}class zy{constructor(){}supports(d){return d instanceof Map||Lt(d)}create(){return new VT}}class VT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(d){let _;for(_=this._mapHead;null!==_;_=_._next)d(_)}forEachPreviousItem(d){let _;for(_=this._previousMapHead;null!==_;_=_._nextPrevious)d(_)}forEachChangedItem(d){let _;for(_=this._changesHead;null!==_;_=_._nextChanged)d(_)}forEachAddedItem(d){let _;for(_=this._additionsHead;null!==_;_=_._nextAdded)d(_)}forEachRemovedItem(d){let _;for(_=this._removalsHead;null!==_;_=_._nextRemoved)d(_)}diff(d){if(d){if(!(d instanceof Map||Lt(d)))throw new Error(`Error trying to diff '${C(d)}'. Only maps and objects are allowed`)}else d=new Map;return this.check(d)?this:null}onDestroy(){}check(d){this._reset();let _=this._mapHead;if(this._appendAfter=null,this._forEach(d,(w,R)=>{if(_&&_.key===R)this._maybeAddToChanges(_,w),this._appendAfter=_,_=_._next;else{const P=this._getOrCreateRecordForKey(R,w);_=this._insertBeforeOrAppend(_,P)}}),_){_._prev&&(_._prev._next=null),this._removalsHead=_;for(let w=_;null!==w;w=w._nextRemoved)w===this._mapHead&&(this._mapHead=null),this._records.delete(w.key),w._nextRemoved=w._next,w.previousValue=w.currentValue,w.currentValue=null,w._prev=null,w._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(d,_){if(d){const w=d._prev;return _._next=d,_._prev=w,d._prev=_,w&&(w._next=_),d===this._mapHead&&(this._mapHead=_),this._appendAfter=d,d}return this._appendAfter?(this._appendAfter._next=_,_._prev=this._appendAfter):this._mapHead=_,this._appendAfter=_,null}_getOrCreateRecordForKey(d,_){if(this._records.has(d)){const R=this._records.get(d);this._maybeAddToChanges(R,_);const P=R._prev,$=R._next;return P&&(P._next=$),$&&($._prev=P),R._next=null,R._prev=null,R}const w=new UT(d);return this._records.set(d,w),w.currentValue=_,this._addToAdditions(w),w}_reset(){if(this.isDirty){let d;for(this._previousMapHead=this._mapHead,d=this._previousMapHead;null!==d;d=d._next)d._nextPrevious=d._next;for(d=this._changesHead;null!==d;d=d._nextChanged)d.previousValue=d.currentValue;for(d=this._additionsHead;null!=d;d=d._nextAdded)d.previousValue=d.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(d,_){Object.is(_,d.currentValue)||(d.previousValue=d.currentValue,d.currentValue=_,this._addToChanges(d))}_addToAdditions(d){null===this._additionsHead?this._additionsHead=this._additionsTail=d:(this._additionsTail._nextAdded=d,this._additionsTail=d)}_addToChanges(d){null===this._changesHead?this._changesHead=this._changesTail=d:(this._changesTail._nextChanged=d,this._changesTail=d)}_forEach(d,_){d instanceof Map?d.forEach(_):Object.keys(d).forEach(w=>_(d[w],w))}}class UT{constructor(d){this.key=d,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Yy(){return new Gf([new Gy])}let Gf=(()=>{class c{constructor(_){this.factories=_}static create(_,w){if(null!=w){const R=w.factories.slice();_=_.concat(R)}return new c(_)}static extend(_){return{provide:c,useFactory:w=>c.create(_,w||Yy()),deps:[[c,new kl,new yl]]}}find(_){const w=this.factories.find(R=>R.supports(_));if(null!=w)return w;throw new Error(`Cannot find a differ supporting object '${_}' of type '${function GT(c){return c.name||typeof c}(_)}'`)}}return c.\u0275prov=Rt({token:c,providedIn:"root",factory:Yy}),c})();function Xy(){return new Wf([new zy])}let Wf=(()=>{class c{constructor(_){this.factories=_}static create(_,w){if(w){const R=w.factories.slice();_=_.concat(R)}return new c(_)}static extend(_){return{provide:c,useFactory:w=>c.create(_,w||Xy()),deps:[[c,new kl,new yl]]}}find(_){const w=this.factories.find(R=>R.supports(_));if(w)return w;throw new Error(`Cannot find a differ supporting object '${_}'`)}}return c.\u0275prov=Rt({token:c,providedIn:"root",factory:Xy}),c})();const WT=[new zy],zT=new Gf([new Gy]),YT=new Wf(WT),XT=Ay(null,"core",[{provide:Ey,useValue:"unknown"},{provide:Oy,deps:[iu]},{provide:xy,deps:[]},{provide:Ty,deps:[]}]),QT=[{provide:Gp,useClass:Gp,deps:[Cu,iu,Fc,Pp,ep]},{provide:pC,deps:[Cu],useFactory:function qT(c){let d=[];return c.onStable.subscribe(()=>{for(;d.length;)d.pop()()}),function(_){d.push(_)}}},{provide:ep,useClass:ep,deps:[[new yl,fm]]},{provide:mm,useClass:mm,deps:[]},cT,{provide:Gf,useFactory:function KT(){return zT},deps:[]},{provide:Wf,useFactory:function $T(){return YT},deps:[]},{provide:Vf,useFactory:function JT(c){return c||function ZT(){return"undefined"!=typeof $localize&&$localize.locale||xf}()},deps:[[new xa(Vf),new yl,new kl]]},{provide:wy,useValue:"USD"}];let e0=(()=>{class c{constructor(_){}}return c.\u0275fac=function(_){return new(_||c)(Xo(Gp))},c.\u0275mod=qn({type:c}),c.\u0275inj=mt({providers:QT}),c})()},93075:(B,K,f)=>{"use strict";f.d(K,{Zs:()=>Vo,Fj:()=>q,NI:()=>Dr,oH:()=>lr,sg:()=>jo,u5:()=>fl,Cf:()=>le,JU:()=>C,a5:()=>Re,JJ:()=>rt,JL:()=>tt,F:()=>jn,On:()=>at,UX:()=>Nr,kI:()=>Ue,_Y:()=>Ft});var E=f(5e3),m=f(69808),t=f(32076),e=f(4128),n=f(54004);let a=(()=>{class Z{constructor(j,Ie){this._renderer=j,this._elementRef=Ie,this.onChange=Bt=>{},this.onTouched=()=>{}}setProperty(j,Ie){this._renderer.setProperty(this._elementRef.nativeElement,j,Ie)}registerOnTouched(j){this.onTouched=j}registerOnChange(j){this.onChange=j}setDisabledState(j){this.setProperty("disabled",j)}}return Z.\u0275fac=function(j){return new(j||Z)(E.Y36(E.Qsj),E.Y36(E.SBq))},Z.\u0275dir=E.lG2({type:Z}),Z})(),u=(()=>{class Z extends a{}return Z.\u0275fac=function(){let V;return function(Ie){return(V||(V=E.n5z(Z)))(Ie||Z)}}(),Z.\u0275dir=E.lG2({type:Z,features:[E.qOj]}),Z})();const C=new E.OlP("NgValueAccessor"),W={provide:C,useExisting:(0,E.Gpc)(()=>q),multi:!0},oe=new E.OlP("CompositionEventMode");let q=(()=>{class Z extends a{constructor(j,Ie,Bt){super(j,Ie),this._compositionMode=Bt,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function te(){const Z=(0,m.q)()?(0,m.q)().getUserAgent():"";return/android (\d+)/.test(Z.toLowerCase())}())}writeValue(j){this.setProperty("value",null==j?"":j)}_handleInput(j){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(j)}_compositionStart(){this._composing=!0}_compositionEnd(j){this._composing=!1,this._compositionMode&&this.onChange(j)}}return Z.\u0275fac=function(j){return new(j||Z)(E.Y36(E.Qsj),E.Y36(E.SBq),E.Y36(oe,8))},Z.\u0275dir=E.lG2({type:Z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(j,Ie){1&j&&E.NdJ("input",function(Ti){return Ie._handleInput(Ti.target.value)})("blur",function(){return Ie.onTouched()})("compositionstart",function(){return Ie._compositionStart()})("compositionend",function(Ti){return Ie._compositionEnd(Ti.target.value)})},features:[E._Bn([W]),E.qOj]}),Z})();function ue(Z){return null==Z||0===Z.length}function Te(Z){return null!=Z&&"number"==typeof Z.length}const le=new E.OlP("NgValidators"),_e=new E.OlP("NgAsyncValidators"),Pe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ue{static min(V){return function Se(Z){return V=>{if(ue(V.value)||ue(Z))return null;const j=parseFloat(V.value);return!isNaN(j)&&j<Z?{min:{min:Z,actual:V.value}}:null}}(V)}static max(V){return function ve(Z){return V=>{if(ue(V.value)||ue(Z))return null;const j=parseFloat(V.value);return!isNaN(j)&&j>Z?{max:{max:Z,actual:V.value}}:null}}(V)}static required(V){return se(V)}static requiredTrue(V){return me(V)}static email(V){return function ce(Z){return ue(Z.value)||Pe.test(Z.value)?null:{email:!0}}(V)}static minLength(V){return function Ne(Z){return V=>ue(V.value)||!Te(V.value)?null:V.value.length<Z?{minlength:{requiredLength:Z,actualLength:V.value.length}}:null}(V)}static maxLength(V){return function Ae(Z){return V=>Te(V.value)&&V.value.length>Z?{maxlength:{requiredLength:Z,actualLength:V.value.length}}:null}(V)}static pattern(V){return function Ce(Z){if(!Z)return de;let V,j;return"string"==typeof Z?(j="","^"!==Z.charAt(0)&&(j+="^"),j+=Z,"$"!==Z.charAt(Z.length-1)&&(j+="$"),V=new RegExp(j)):(j=Z.toString(),V=Z),Ie=>{if(ue(Ie.value))return null;const Bt=Ie.value;return V.test(Bt)?null:{pattern:{requiredPattern:j,actualValue:Bt}}}}(V)}static nullValidator(V){return null}static compose(V){return dt(V)}static composeAsync(V){return kt(V)}}function se(Z){return ue(Z.value)?{required:!0}:null}function me(Z){return!0===Z.value?null:{required:!0}}function de(Z){return null}function re(Z){return null!=Z}function ot(Z){const V=(0,E.QGY)(Z)?(0,t.D)(Z):Z;return(0,E.CqO)(V),V}function ze(Z){let V={};return Z.forEach(j=>{V=null!=j?Object.assign(Object.assign({},V),j):V}),0===Object.keys(V).length?null:V}function De(Z,V){return V.map(j=>j(Z))}function pt(Z){return Z.map(V=>function st(Z){return!Z.validate}(V)?V:j=>V.validate(j))}function dt(Z){if(!Z)return null;const V=Z.filter(re);return 0==V.length?null:function(j){return ze(De(j,V))}}function Ot(Z){return null!=Z?dt(pt(Z)):null}function kt(Z){if(!Z)return null;const V=Z.filter(re);return 0==V.length?null:function(j){const Ie=De(j,V).map(ot);return(0,e.D)(Ie).pipe((0,n.U)(ze))}}function oi(Z){return null!=Z?kt(pt(Z)):null}function bi(Z,V){return null===Z?[V]:Array.isArray(Z)?[...Z,V]:[Z,V]}function ti(Z){return Z._rawValidators}function Rt(Z){return Z._rawAsyncValidators}function ii(Z){return Z?Array.isArray(Z)?Z:[Z]:[]}function mt(Z,V){return Array.isArray(Z)?Z.includes(V):Z===V}function Ye(Z,V){const j=ii(V);return ii(Z).forEach(Bt=>{mt(j,Bt)||j.push(Bt)}),j}function Je(Z,V){return ii(V).filter(j=>!mt(Z,j))}class ut{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Ot(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=oi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V){this.control&&this.control.reset(V)}hasError(V,j){return!!this.control&&this.control.hasError(V,j)}getError(V,j){return this.control?this.control.getError(V,j):null}}class Re extends ut{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class yt extends ut{get formDirective(){return null}get path(){return null}}class zt{constructor(V){this._cd=V}is(V){var j,Ie,Bt;return"submitted"===V?!!(null===(j=this._cd)||void 0===j?void 0:j.submitted):!!(null===(Bt=null===(Ie=this._cd)||void 0===Ie?void 0:Ie.control)||void 0===Bt?void 0:Bt[V])}}let rt=(()=>{class Z extends zt{constructor(j){super(j)}}return Z.\u0275fac=function(j){return new(j||Z)(E.Y36(Re,2))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(j,Ie){2&j&&E.ekj("ng-untouched",Ie.is("untouched"))("ng-touched",Ie.is("touched"))("ng-pristine",Ie.is("pristine"))("ng-dirty",Ie.is("dirty"))("ng-valid",Ie.is("valid"))("ng-invalid",Ie.is("invalid"))("ng-pending",Ie.is("pending"))},features:[E.qOj]}),Z})(),tt=(()=>{class Z extends zt{constructor(j){super(j)}}return Z.\u0275fac=function(j){return new(j||Z)(E.Y36(yt,10))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(j,Ie){2&j&&E.ekj("ng-untouched",Ie.is("untouched"))("ng-touched",Ie.is("touched"))("ng-pristine",Ie.is("pristine"))("ng-dirty",Ie.is("dirty"))("ng-valid",Ie.is("valid"))("ng-invalid",Ie.is("invalid"))("ng-pending",Ie.is("pending"))("ng-submitted",Ie.is("submitted"))},features:[E.qOj]}),Z})();function an(Z,V){yi(Z,V),V.valueAccessor.writeValue(Z.value),function Pi(Z,V){V.valueAccessor.registerOnChange(j=>{Z._pendingValue=j,Z._pendingChange=!0,Z._pendingDirty=!0,"change"===Z.updateOn&&ai(Z,V)})}(Z,V),function Tt(Z,V){const j=(Ie,Bt)=>{V.valueAccessor.writeValue(Ie),Bt&&V.viewToModelUpdate(Ie)};Z.registerOnChange(j),V._registerOnDestroy(()=>{Z._unregisterOnChange(j)})}(Z,V),function gn(Z,V){V.valueAccessor.registerOnTouched(()=>{Z._pendingTouched=!0,"blur"===Z.updateOn&&Z._pendingChange&&ai(Z,V),"submit"!==Z.updateOn&&Z.markAsTouched()})}(Z,V),function _i(Z,V){if(V.valueAccessor.setDisabledState){const j=Ie=>{V.valueAccessor.setDisabledState(Ie)};Z.registerOnDisabledChange(j),V._registerOnDestroy(()=>{Z._unregisterOnDisabledChange(j)})}}(Z,V)}function _t(Z,V,j=!0){const Ie=()=>{};V.valueAccessor&&(V.valueAccessor.registerOnChange(Ie),V.valueAccessor.registerOnTouched(Ie)),Fi(Z,V),Z&&(V._invokeOnDestroyCallbacks(),Z._registerOnCollectionChange(()=>{}))}function Mt(Z,V){Z.forEach(j=>{j.registerOnValidatorChange&&j.registerOnValidatorChange(V)})}function yi(Z,V){const j=ti(Z);null!==V.validator?Z.setValidators(bi(j,V.validator)):"function"==typeof j&&Z.setValidators([j]);const Ie=Rt(Z);null!==V.asyncValidator?Z.setAsyncValidators(bi(Ie,V.asyncValidator)):"function"==typeof Ie&&Z.setAsyncValidators([Ie]);const Bt=()=>Z.updateValueAndValidity();Mt(V._rawValidators,Bt),Mt(V._rawAsyncValidators,Bt)}function Fi(Z,V){let j=!1;if(null!==Z){if(null!==V.validator){const Bt=ti(Z);if(Array.isArray(Bt)&&Bt.length>0){const Ti=Bt.filter(dn=>dn!==V.validator);Ti.length!==Bt.length&&(j=!0,Z.setValidators(Ti))}}if(null!==V.asyncValidator){const Bt=Rt(Z);if(Array.isArray(Bt)&&Bt.length>0){const Ti=Bt.filter(dn=>dn!==V.asyncValidator);Ti.length!==Bt.length&&(j=!0,Z.setAsyncValidators(Ti))}}}const Ie=()=>{};return Mt(V._rawValidators,Ie),Mt(V._rawAsyncValidators,Ie),j}function ai(Z,V){Z._pendingDirty&&Z.markAsDirty(),Z.setValue(Z._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1}function He(Z,V){yi(Z,V)}function Ut(Z,V){if(!Z.hasOwnProperty("model"))return!1;const j=Z.model;return!!j.isFirstChange()||!Object.is(V,j.currentValue)}function ln(Z,V){Z._syncPendingControls(),V.forEach(j=>{const Ie=j.control;"submit"===Ie.updateOn&&Ie._pendingChange&&(j.viewToModelUpdate(Ie._pendingValue),Ie._pendingChange=!1)})}function An(Z,V){if(!V)return null;let j,Ie,Bt;return Array.isArray(V),V.forEach(Ti=>{Ti.constructor===q?j=Ti:function Xi(Z){return Object.getPrototypeOf(Z.constructor)===u}(Ti)?Ie=Ti:Bt=Ti}),Bt||Ie||j||null}function qn(Z,V){const j=Z.indexOf(V);j>-1&&Z.splice(j,1)}const $t="VALID",Pt="INVALID",di="PENDING",Ri="DISABLED";function kn(Z){return(Qr(Z)?Z.validators:Z)||null}function rr(Z){return Array.isArray(Z)?Ot(Z):Z||null}function Sr(Z,V){return(Qr(V)?V.asyncValidators:Z)||null}function Jr(Z){return Array.isArray(Z)?oi(Z):Z||null}function Qr(Z){return null!=Z&&!Array.isArray(Z)&&"object"==typeof Z}class bo{constructor(V,j){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=V,this._rawAsyncValidators=j,this._composedValidatorFn=rr(this._rawValidators),this._composedAsyncValidatorFn=Jr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get valid(){return this.status===$t}get invalid(){return this.status===Pt}get pending(){return this.status==di}get disabled(){return this.status===Ri}get enabled(){return this.status!==Ri}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._rawValidators=V,this._composedValidatorFn=rr(V)}setAsyncValidators(V){this._rawAsyncValidators=V,this._composedAsyncValidatorFn=Jr(V)}addValidators(V){this.setValidators(Ye(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(Ye(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(Je(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(Je(V,this._rawAsyncValidators))}hasValidator(V){return mt(this._rawValidators,V)}hasAsyncValidator(V){return mt(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){this.touched=!0,this._parent&&!V.onlySelf&&this._parent.markAsTouched(V)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(V=>V.markAllAsTouched())}markAsUntouched(V={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(j=>{j.markAsUntouched({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}markAsDirty(V={}){this.pristine=!1,this._parent&&!V.onlySelf&&this._parent.markAsDirty(V)}markAsPristine(V={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(j=>{j.markAsPristine({onlySelf:!0})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}markAsPending(V={}){this.status=di,!1!==V.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!V.onlySelf&&this._parent.markAsPending(V)}disable(V={}){const j=this._parentMarkedDirty(V.onlySelf);this.status=Ri,this.errors=null,this._forEachChild(Ie=>{Ie.disable(Object.assign(Object.assign({},V),{onlySelf:!0}))}),this._updateValue(),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},V),{skipPristineCheck:j})),this._onDisabledChange.forEach(Ie=>Ie(!0))}enable(V={}){const j=this._parentMarkedDirty(V.onlySelf);this.status=$t,this._forEachChild(Ie=>{Ie.enable(Object.assign(Object.assign({},V),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},V),{skipPristineCheck:j})),this._onDisabledChange.forEach(Ie=>Ie(!1))}_updateAncestors(V){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(V){this._parent=V}updateValueAndValidity(V={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===$t||this.status===di)&&this._runAsyncValidator(V.emitEvent)),!1!==V.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity(V)}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(j=>j._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ri:$t}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V){if(this.asyncValidator){this.status=di,this._hasOwnPendingAsyncValidator=!0;const j=ot(this.asyncValidator(this));this._asyncValidationSubscription=j.subscribe(Ie=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Ie,{emitEvent:V})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(V,j={}){this.errors=V,this._updateControlsErrors(!1!==j.emitEvent)}get(V){return function fn(Z,V,j){if(null==V||(Array.isArray(V)||(V=V.split(j)),Array.isArray(V)&&0===V.length))return null;let Ie=Z;return V.forEach(Bt=>{Ie=Ie instanceof dr?Ie.controls.hasOwnProperty(Bt)?Ie.controls[Bt]:null:Ie instanceof Zo&&Ie.at(Bt)||null}),Ie}(this,V,".")}getError(V,j){const Ie=j?this.get(j):this;return Ie&&Ie.errors?Ie.errors[V]:null}hasError(V,j){return!!this.getError(V,j)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(V)}_initObservables(){this.valueChanges=new E.vpe,this.statusChanges=new E.vpe}_calculateStatus(){return this._allControlsDisabled()?Ri:this.errors?Pt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(di)?di:this._anyControlsHaveStatus(Pt)?Pt:$t}_anyControlsHaveStatus(V){return this._anyControls(j=>j.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V={}){this.pristine=!this._anyControlsDirty(),this._parent&&!V.onlySelf&&this._parent._updatePristine(V)}_updateTouched(V={}){this.touched=this._anyControlsTouched(),this._parent&&!V.onlySelf&&this._parent._updateTouched(V)}_isBoxedValue(V){return"object"==typeof V&&null!==V&&2===Object.keys(V).length&&"value"in V&&"disabled"in V}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){Qr(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Dr extends bo{constructor(V=null,j,Ie){super(kn(j),Sr(Ie,j)),this._onChange=[],this._applyFormState(V),this._setUpdateStrategy(j),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(V,j={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==j.emitModelToViewChange&&this._onChange.forEach(Ie=>Ie(this.value,!1!==j.emitViewToModelChange)),this.updateValueAndValidity(j)}patchValue(V,j={}){this.setValue(V,j)}reset(V=null,j={}){this._applyFormState(V),this.markAsPristine(j),this.markAsUntouched(j),this.setValue(this.value,j),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){qn(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){qn(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){this._isBoxedValue(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}}class dr extends bo{constructor(V,j,Ie){super(kn(j),Sr(Ie,j)),this.controls=V,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,j){return this.controls[V]?this.controls[V]:(this.controls[V]=j,j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange),j)}addControl(V,j,Ie={}){this.registerControl(V,j),this.updateValueAndValidity({emitEvent:Ie.emitEvent}),this._onCollectionChange()}removeControl(V,j={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}setControl(V,j,Ie={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],j&&this.registerControl(V,j),this.updateValueAndValidity({emitEvent:Ie.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,j={}){this._checkAllValuesPresent(V),Object.keys(V).forEach(Ie=>{this._throwIfControlMissing(Ie),this.controls[Ie].setValue(V[Ie],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(V,j={}){null!=V&&(Object.keys(V).forEach(Ie=>{this.controls[Ie]&&this.controls[Ie].patchValue(V[Ie],{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(V={},j={}){this._forEachChild((Ie,Bt)=>{Ie.reset(V[Bt],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this._reduceChildren({},(V,j,Ie)=>(V[Ie]=j instanceof Dr?j.value:j.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(j,Ie)=>!!Ie._syncPendingControls()||j);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_throwIfControlMissing(V){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[V])throw new Error(`Cannot find form control with name: ${V}.`)}_forEachChild(V){Object.keys(this.controls).forEach(j=>{const Ie=this.controls[j];Ie&&V(Ie,j)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const j of Object.keys(this.controls)){const Ie=this.controls[j];if(this.contains(j)&&V(Ie))return!0}return!1}_reduceValue(){return this._reduceChildren({},(V,j,Ie)=>((j.enabled||this.disabled)&&(V[Ie]=j.value),V))}_reduceChildren(V,j){let Ie=V;return this._forEachChild((Bt,Ti)=>{Ie=j(Ie,Bt,Ti)}),Ie}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(V){this._forEachChild((j,Ie)=>{if(void 0===V[Ie])throw new Error(`Must supply a value for form control with name: '${Ie}'.`)})}}class Zo extends bo{constructor(V,j,Ie){super(kn(j),Sr(Ie,j)),this.controls=V,this._initObservables(),this._setUpdateStrategy(j),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(V){return this.controls[V]}push(V,j={}){this.controls.push(V),this._registerControl(V),this.updateValueAndValidity({emitEvent:j.emitEvent}),this._onCollectionChange()}insert(V,j,Ie={}){this.controls.splice(V,0,j),this._registerControl(j),this.updateValueAndValidity({emitEvent:Ie.emitEvent})}removeAt(V,j={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),this.updateValueAndValidity({emitEvent:j.emitEvent})}setControl(V,j,Ie={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),this.controls.splice(V,1),j&&(this.controls.splice(V,0,j),this._registerControl(j)),this.updateValueAndValidity({emitEvent:Ie.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(V,j={}){this._checkAllValuesPresent(V),V.forEach((Ie,Bt)=>{this._throwIfControlMissing(Bt),this.at(Bt).setValue(Ie,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j)}patchValue(V,j={}){null!=V&&(V.forEach((Ie,Bt)=>{this.at(Bt)&&this.at(Bt).patchValue(Ie,{onlySelf:!0,emitEvent:j.emitEvent})}),this.updateValueAndValidity(j))}reset(V=[],j={}){this._forEachChild((Ie,Bt)=>{Ie.reset(V[Bt],{onlySelf:!0,emitEvent:j.emitEvent})}),this._updatePristine(j),this._updateTouched(j),this.updateValueAndValidity(j)}getRawValue(){return this.controls.map(V=>V instanceof Dr?V.value:V.getRawValue())}clear(V={}){this.controls.length<1||(this._forEachChild(j=>j._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:V.emitEvent}))}_syncPendingControls(){let V=this.controls.reduce((j,Ie)=>!!Ie._syncPendingControls()||j,!1);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_throwIfControlMissing(V){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(V))throw new Error(`Cannot find form control at index ${V}`)}_forEachChild(V){this.controls.forEach((j,Ie)=>{V(j,Ie)})}_updateValue(){this.value=this.controls.filter(V=>V.enabled||this.disabled).map(V=>V.value)}_anyControls(V){return this.controls.some(j=>j.enabled&&V(j))}_setUpControls(){this._forEachChild(V=>this._registerControl(V))}_checkAllValuesPresent(V){this._forEachChild((j,Ie)=>{if(void 0===V[Ie])throw new Error(`Must supply a value for form control at index: ${Ie}.`)})}_allControlsDisabled(){for(const V of this.controls)if(V.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(V){V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)}}const ar={provide:yt,useExisting:(0,E.Gpc)(()=>jn)},xi=(()=>Promise.resolve(null))();let jn=(()=>{class Z extends yt{constructor(j,Ie){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new E.vpe,this.form=new dr({},Ot(j),oi(Ie))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(j){xi.then(()=>{const Ie=this._findContainer(j.path);j.control=Ie.registerControl(j.name,j.control),an(j.control,j),j.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(j)})}getControl(j){return this.form.get(j.path)}removeControl(j){xi.then(()=>{const Ie=this._findContainer(j.path);Ie&&Ie.removeControl(j.name),qn(this._directives,j)})}addFormGroup(j){xi.then(()=>{const Ie=this._findContainer(j.path),Bt=new dr({});He(Bt,j),Ie.registerControl(j.name,Bt),Bt.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(j){xi.then(()=>{const Ie=this._findContainer(j.path);Ie&&Ie.removeControl(j.name)})}getFormGroup(j){return this.form.get(j.path)}updateModel(j,Ie){xi.then(()=>{this.form.get(j.path).setValue(Ie)})}setValue(j){this.control.setValue(j)}onSubmit(j){return this.submitted=!0,ln(this.form,this._directives),this.ngSubmit.emit(j),!1}onReset(){this.resetForm()}resetForm(j){this.form.reset(j),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(j){return j.pop(),j.length?this.form.get(j):this.form}}return Z.\u0275fac=function(j){return new(j||Z)(E.Y36(le,10),E.Y36(_e,10))},Z.\u0275dir=E.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(j,Ie){1&j&&E.NdJ("submit",function(Ti){return Ie.onSubmit(Ti)})("reset",function(){return Ie.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([ar]),E.qOj]}),Z})();const Bn={provide:Re,useExisting:(0,E.Gpc)(()=>at)},Ln=(()=>Promise.resolve(null))();let at=(()=>{class Z extends Re{constructor(j,Ie,Bt,Ti){super(),this.control=new Dr,this._registered=!1,this.update=new E.vpe,this._parent=j,this._setValidators(Ie),this._setAsyncValidators(Bt),this.valueAccessor=An(0,Ti)}ngOnChanges(j){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in j&&this._updateDisabled(j),Ut(j,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function Di(Z,V){return[...V.path,Z]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){an(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(j){Ln.then(()=>{this.control.setValue(j,{emitViewToModelChange:!1})})}_updateDisabled(j){const Ie=j.isDisabled.currentValue,Bt=""===Ie||Ie&&"false"!==Ie;Ln.then(()=>{Bt&&!this.control.disabled?this.control.disable():!Bt&&this.control.disabled&&this.control.enable()})}}return Z.\u0275fac=function(j){return new(j||Z)(E.Y36(yt,9),E.Y36(le,10),E.Y36(_e,10),E.Y36(C,10))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[E._Bn([Bn]),E.qOj,E.TTD]}),Z})(),Ft=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275dir=E.lG2({type:Z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),Z})(),Qn=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({}),Z})();const io=new E.OlP("NgModelWithFormControlWarning"),Io={provide:Re,useExisting:(0,E.Gpc)(()=>lr)};let lr=(()=>{class Z extends Re{constructor(j,Ie,Bt,Ti){super(),this._ngModelWarningConfig=Ti,this.update=new E.vpe,this._ngModelWarningSent=!1,this._setValidators(j),this._setAsyncValidators(Ie),this.valueAccessor=An(0,Bt)}set isDisabled(j){}ngOnChanges(j){if(this._isControlChanged(j)){const Ie=j.form.previousValue;Ie&&_t(Ie,this,!1),an(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Ut(j,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&_t(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(j){this.viewModel=j,this.update.emit(j)}_isControlChanged(j){return j.hasOwnProperty("form")}}return Z._ngModelWarningSentOnce=!1,Z.\u0275fac=function(j){return new(j||Z)(E.Y36(le,10),E.Y36(_e,10),E.Y36(C,10),E.Y36(io,8))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[E._Bn([Io]),E.qOj,E.TTD]}),Z})();const Gs={provide:yt,useExisting:(0,E.Gpc)(()=>jo)};let jo=(()=>{class Z extends yt{constructor(j,Ie){super(),this.validators=j,this.asyncValidators=Ie,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new E.vpe,this._setValidators(j),this._setAsyncValidators(Ie)}ngOnChanges(j){this._checkFormPresent(),j.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fi(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(j){const Ie=this.form.get(j.path);return an(Ie,j),Ie.updateValueAndValidity({emitEvent:!1}),this.directives.push(j),Ie}getControl(j){return this.form.get(j.path)}removeControl(j){_t(j.control||null,j,!1),qn(this.directives,j)}addFormGroup(j){this._setUpFormContainer(j)}removeFormGroup(j){this._cleanUpFormContainer(j)}getFormGroup(j){return this.form.get(j.path)}addFormArray(j){this._setUpFormContainer(j)}removeFormArray(j){this._cleanUpFormContainer(j)}getFormArray(j){return this.form.get(j.path)}updateModel(j,Ie){this.form.get(j.path).setValue(Ie)}onSubmit(j){return this.submitted=!0,ln(this.form,this.directives),this.ngSubmit.emit(j),!1}onReset(){this.resetForm()}resetForm(j){this.form.reset(j),this.submitted=!1}_updateDomValue(){this.directives.forEach(j=>{const Ie=j.control,Bt=this.form.get(j.path);Ie!==Bt&&(_t(Ie||null,j),Bt instanceof Dr&&(an(Bt,j),j.control=Bt))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(j){const Ie=this.form.get(j.path);He(Ie,j),Ie.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(j){if(this.form){const Ie=this.form.get(j.path);Ie&&function Ee(Z,V){return Fi(Z,V)}(Ie,j)&&Ie.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){yi(this.form,this),this._oldForm&&Fi(this._oldForm,this)}_checkFormPresent(){}}return Z.\u0275fac=function(j){return new(j||Z)(E.Y36(le,10),E.Y36(_e,10))},Z.\u0275dir=E.lG2({type:Z,selectors:[["","formGroup",""]],hostBindings:function(j,Ie){1&j&&E.NdJ("submit",function(Ti){return Ie.onSubmit(Ti)})("reset",function(){return Ie.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[E._Bn([Gs]),E.qOj,E.TTD]}),Z})();const ra={provide:le,useExisting:(0,E.Gpc)(()=>fa),multi:!0},Ho={provide:le,useExisting:(0,E.Gpc)(()=>Vo),multi:!0};let fa=(()=>{class Z{constructor(){this._required=!1}get required(){return this._required}set required(j){this._required=null!=j&&!1!==j&&"false"!=`${j}`,this._onChange&&this._onChange()}validate(j){return this.required?se(j):null}registerOnValidatorChange(j){this._onChange=j}}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275dir=E.lG2({type:Z,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(j,Ie){2&j&&E.uIk("required",Ie.required?"":null)},inputs:{required:"required"},features:[E._Bn([ra])]}),Z})(),Vo=(()=>{class Z extends fa{validate(j){return this.required?me(j):null}}return Z.\u0275fac=function(){let V;return function(Ie){return(V||(V=E.n5z(Z)))(Ie||Z)}}(),Z.\u0275dir=E.lG2({type:Z,selectors:[["input","type","checkbox","required","","formControlName",""],["input","type","checkbox","required","","formControl",""],["input","type","checkbox","required","","ngModel",""]],hostVars:1,hostBindings:function(j,Ie){2&j&&E.uIk("required",Ie.required?"":null)},features:[E._Bn([Ho]),E.qOj]}),Z})(),js=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({imports:[[Qn]]}),Z})(),fl=(()=>{class Z{}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({imports:[js]}),Z})(),Nr=(()=>{class Z{static withConfig(j){return{ngModule:Z,providers:[{provide:io,useValue:j.warnOnNgModelWithFormControl}]}}}return Z.\u0275fac=function(j){return new(j||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({imports:[js]}),Z})()},91079:(B,K,f)=>{"use strict";f.d(K,{XC:()=>pt,Bb:()=>Ye,ZL:()=>Rt});var E=f(15664),m=f(63191),t=f(5e3),e=f(90508),n=f(50727),a=f(77579),u=f(49770),C=f(56451),D=f(39646),F=f(54968),W=f(70925),te=f(69808),oe=f(91314),q=f(30495),ue=f(91159),Te=f(47429),le=f(93075),_e=f(67322),Pe=f(95698),Ue=f(63900),Se=f(39300),ve=f(54004),se=f(18505),me=f(91005),ce=f(50226);const Ne=["panel"];function Ae(Je,ut){if(1&Je&&(t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA()),2&Je){const Re=ut.id,yt=t.oxw();t.Q6J("id",yt.id)("ngClass",yt._classList),t.uIk("aria-label",yt.ariaLabel||null)("aria-labelledby",yt._getPanelAriaLabelledby(Re))}}const Ce=["*"];let de=0;class re{constructor(ut,Re){this.source=ut,this.option=Re}}const ot=(0,e.Kr)(class{}),ze=new t.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function De(){return{autoActiveFirstOption:!1}}});let st=(()=>{class Je extends ot{constructor(Re,yt,zt,gi){super(),this._changeDetectorRef=Re,this._elementRef=yt,this._activeOptionChanges=n.w0.EMPTY,this.showPanel=!1,this._isOpen=!1,this.displayWith=null,this.optionSelected=new t.vpe,this.opened=new t.vpe,this.closed=new t.vpe,this.optionActivated=new t.vpe,this._classList={},this.id="mat-autocomplete-"+de++,this.inertGroups=(null==gi?void 0:gi.SAFARI)||!1,this._autoActiveFirstOption=!!zt.autoActiveFirstOption}get isOpen(){return this._isOpen&&this.showPanel}get autoActiveFirstOption(){return this._autoActiveFirstOption}set autoActiveFirstOption(Re){this._autoActiveFirstOption=(0,m.Ig)(Re)}set classList(Re){this._classList=Re&&Re.length?(0,m.du)(Re).reduce((yt,zt)=>(yt[zt]=!0,yt),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}ngAfterContentInit(){this._keyManager=new E.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(Re=>{this.isOpen&&this.optionActivated.emit({source:this,option:this.options.toArray()[Re]||null})}),this._setVisibility()}ngOnDestroy(){this._activeOptionChanges.unsubscribe()}_setScrollTop(Re){this.panel&&(this.panel.nativeElement.scrollTop=Re)}_getScrollTop(){return this.panel?this.panel.nativeElement.scrollTop:0}_setVisibility(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}_emitSelectEvent(Re){const yt=new re(this,Re);this.optionSelected.emit(yt)}_getPanelAriaLabelledby(Re){return this.ariaLabel?null:this.ariaLabelledby?(Re?Re+" ":"")+this.ariaLabelledby:Re}_setVisibilityClasses(Re){Re[this._visibleClass]=this.showPanel,Re[this._hiddenClass]=!this.showPanel}}return Je.\u0275fac=function(Re){return new(Re||Je)(t.Y36(t.sBO),t.Y36(t.SBq),t.Y36(ze),t.Y36(W.t4))},Je.\u0275dir=t.lG2({type:Je,viewQuery:function(Re,yt){if(1&Re&&(t.Gf(t.Rgc,7),t.Gf(Ne,5)),2&Re){let zt;t.iGM(zt=t.CRH())&&(yt.template=zt.first),t.iGM(zt=t.CRH())&&(yt.panel=zt.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",panelWidth:"panelWidth",classList:["class","classList"]},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[t.qOj]}),Je})(),pt=(()=>{class Je extends st{constructor(){super(...arguments),this._visibleClass="mat-autocomplete-visible",this._hiddenClass="mat-autocomplete-hidden"}}return Je.\u0275fac=function(){let ut;return function(yt){return(ut||(ut=t.n5z(Je)))(yt||Je)}}(),Je.\u0275cmp=t.Xpm({type:Je,selectors:[["mat-autocomplete"]],contentQueries:function(Re,yt,zt){if(1&Re&&(t.Suo(zt,e.K7,5),t.Suo(zt,e.ey,5)),2&Re){let gi;t.iGM(gi=t.CRH())&&(yt.optionGroups=gi),t.iGM(gi=t.CRH())&&(yt.options=gi)}},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[t._Bn([{provide:e.HF,useExisting:Je}]),t.qOj],ngContentSelectors:Ce,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(Re,yt){1&Re&&(t.F$t(),t.YNc(0,Ae,3,4,"ng-template"))},directives:[te.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),Je})();const dt=new t.OlP("mat-autocomplete-scroll-strategy"),kt={provide:dt,deps:[oe.aV],useFactory:function Ot(Je){return()=>Je.scrollStrategies.reposition()}},oi={provide:le.JU,useExisting:(0,t.Gpc)(()=>Rt),multi:!0};let ti=(()=>{class Je{constructor(Re,yt,zt,gi,wt,rt,tt,At,lt,vt,Et){this._element=Re,this._overlay=yt,this._viewContainerRef=zt,this._zone=gi,this._changeDetectorRef=wt,this._dir=tt,this._formField=At,this._document=lt,this._viewportRuler=vt,this._defaults=Et,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=n.w0.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new a.x,this._windowBlurHandler=()=>{this._canOpenOnNextFocus=this._document.activeElement!==this._element.nativeElement||this.panelOpen},this._onChange=()=>{},this._onTouched=()=>{},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,u.P)(()=>this.autocomplete&&this.autocomplete.options?(0,C.T)(...this.autocomplete.options.map(Ke=>Ke.onSelectionChange)):this._zone.onStable.pipe((0,Pe.q)(1),(0,Ue.w)(()=>this.optionSelections))),this._scrollStrategy=rt}get autocompleteDisabled(){return this._autocompleteDisabled}set autocompleteDisabled(Re){this._autocompleteDisabled=(0,m.Ig)(Re)}ngAfterViewInit(){const Re=this._getWindow();void 0!==Re&&this._zone.runOutsideAngular(()=>Re.addEventListener("blur",this._windowBlurHandler))}ngOnChanges(Re){Re.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}ngOnDestroy(){const Re=this._getWindow();void 0!==Re&&Re.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}get panelOpen(){return this._overlayAttached&&this.autocomplete.showPanel}openPanel(){this._attachOverlay(),this._floatLabel()}closePanel(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}updatePosition(){this._overlayAttached&&this._overlayRef.updatePosition()}get panelClosingActions(){return(0,C.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,Se.h)(()=>this._overlayAttached)),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,Se.h)(()=>this._overlayAttached)):(0,D.of)()).pipe((0,ve.U)(Re=>Re instanceof e.rN?Re:null))}get activeOption(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}_getOutsideClickStream(){return(0,C.T)((0,F.R)(this._document,"click"),(0,F.R)(this._document,"auxclick"),(0,F.R)(this._document,"touchend")).pipe((0,Se.h)(Re=>{const yt=(0,W.sA)(Re),zt=this._formField?this._formField._elementRef.nativeElement:null,gi=this.connectedTo?this.connectedTo.elementRef.nativeElement:null;return this._overlayAttached&&yt!==this._element.nativeElement&&(!zt||!zt.contains(yt))&&(!gi||!gi.contains(yt))&&!!this._overlayRef&&!this._overlayRef.overlayElement.contains(yt)}))}writeValue(Re){Promise.resolve(null).then(()=>this._setTriggerValue(Re))}registerOnChange(Re){this._onChange=Re}registerOnTouched(Re){this._onTouched=Re}setDisabledState(Re){this._element.nativeElement.disabled=Re}_handleKeydown(Re){const yt=Re.keyCode;if(yt===ue.hY&&!(0,ue.Vb)(Re)&&Re.preventDefault(),this.activeOption&&yt===ue.K5&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),Re.preventDefault();else if(this.autocomplete){const zt=this.autocomplete._keyManager.activeItem,gi=yt===ue.LH||yt===ue.JH;this.panelOpen||yt===ue.Mf?this.autocomplete._keyManager.onKeydown(Re):gi&&this._canOpen()&&this.openPanel(),(gi||this.autocomplete._keyManager.activeItem!==zt)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}_handleInput(Re){let yt=Re.target,zt=yt.value;"number"===yt.type&&(zt=""==zt?null:parseFloat(zt)),this._previousValue!==zt&&(this._previousValue=zt,this._onChange(zt),this._canOpen()&&this._document.activeElement===Re.target&&this.openPanel())}_handleFocus(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}_floatLabel(Re=!1){this._formField&&"auto"===this._formField.floatLabel&&(Re?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}_resetLabel(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}_subscribeToClosingActions(){const Re=this._zone.onStable.pipe((0,Pe.q)(1)),yt=this.autocomplete.options.changes.pipe((0,se.b)(()=>this._positionStrategy.reapplyLastPosition()),(0,me.g)(0));return(0,C.T)(Re,yt).pipe((0,Ue.w)(()=>{const zt=this.panelOpen;return this._resetActiveItem(),this.autocomplete._setVisibility(),this.panelOpen&&(this._overlayRef.updatePosition(),zt!==this.panelOpen&&this.autocomplete.opened.emit()),this.panelClosingActions}),(0,Pe.q)(1)).subscribe(zt=>this._setValueAndClose(zt))}_destroyPanel(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}_setTriggerValue(Re){const yt=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(Re):Re,zt=null!=yt?yt:"";this._formField?this._formField._control.value=zt:this._element.nativeElement.value=zt,this._previousValue=zt}_setValueAndClose(Re){Re&&Re.source&&(this._clearPreviousSelectedOption(Re.source),this._setTriggerValue(Re.source.value),this._onChange(Re.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(Re.source)),this.closePanel()}_clearPreviousSelectedOption(Re){this.autocomplete.options.forEach(yt=>{yt!==Re&&yt.selected&&yt.deselect()})}_attachOverlay(){var Re;let yt=this._overlayRef;yt?(this._positionStrategy.setOrigin(this._getConnectedElement()),yt.updateSize({width:this._getPanelWidth()})):(this._portal=new Te.UE(this.autocomplete.template,this._viewContainerRef,{id:null===(Re=this._formField)||void 0===Re?void 0:Re.getLabelId()}),yt=this._overlay.create(this._getOverlayConfig()),this._overlayRef=yt,yt.keydownEvents().subscribe(gi=>{(gi.keyCode===ue.hY&&!(0,ue.Vb)(gi)||gi.keyCode===ue.LH&&(0,ue.Vb)(gi,"altKey"))&&(this._closeKeyEventStream.next(),this._resetActiveItem(),gi.stopPropagation(),gi.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(()=>{this.panelOpen&&yt&&yt.updateSize({width:this._getPanelWidth()})})),yt&&!yt.hasAttached()&&(yt.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());const zt=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&zt!==this.panelOpen&&this.autocomplete.opened.emit()}_getOverlayConfig(){var Re;return new oe.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(Re=this._defaults)||void 0===Re?void 0:Re.overlayPanelClass})}_getOverlayPosition(){const Re=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(Re),this._positionStrategy=Re,Re}_setStrategyPositions(Re){const yt=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],zt=this._aboveClass,gi=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:zt},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:zt}];let wt;wt="above"===this.position?gi:"below"===this.position?yt:[...yt,...gi],Re.withPositions(wt)}_getConnectedElement(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}_getPanelWidth(){return this.autocomplete.panelWidth||this._getHostWidth()}_getHostWidth(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}_resetActiveItem(){const Re=this.autocomplete;Re.autoActiveFirstOption?Re._keyManager.setFirstItemActive():Re._keyManager.setActiveItem(-1)}_canOpen(){const Re=this._element.nativeElement;return!Re.readOnly&&!Re.disabled&&!this._autocompleteDisabled}_getWindow(){var Re;return(null===(Re=this._document)||void 0===Re?void 0:Re.defaultView)||window}_scrollToOption(Re){const yt=this.autocomplete,zt=(0,e.CB)(Re,yt.options,yt.optionGroups);if(0===Re&&1===zt)yt._setScrollTop(0);else if(yt.panel){const gi=yt.options.toArray()[Re];if(gi){const wt=gi._getHostElement(),rt=(0,e.jH)(wt.offsetTop,wt.offsetHeight,yt._getScrollTop(),yt.panel.nativeElement.offsetHeight);yt._setScrollTop(rt)}}}}return Je.\u0275fac=function(Re){return new(Re||Je)(t.Y36(t.SBq),t.Y36(oe.aV),t.Y36(t.s_b),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(dt),t.Y36(ce.Is,8),t.Y36(_e.G_,9),t.Y36(te.K0,8),t.Y36(q.rL),t.Y36(ze,8))},Je.\u0275dir=t.lG2({type:Je,inputs:{autocomplete:["matAutocomplete","autocomplete"],position:["matAutocompletePosition","position"],connectedTo:["matAutocompleteConnectedTo","connectedTo"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"]},features:[t.TTD]}),Je})(),Rt=(()=>{class Je extends ti{constructor(){super(...arguments),this._aboveClass="mat-autocomplete-panel-above"}}return Je.\u0275fac=function(){let ut;return function(yt){return(ut||(ut=t.n5z(Je)))(yt||Je)}}(),Je.\u0275dir=t.lG2({type:Je,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(Re,yt){1&Re&&t.NdJ("focusin",function(){return yt._handleFocus()})("blur",function(){return yt._onTouched()})("input",function(gi){return yt._handleInput(gi)})("keydown",function(gi){return yt._handleKeydown(gi)}),2&Re&&t.uIk("autocomplete",yt.autocompleteAttribute)("role",yt.autocompleteDisabled?null:"combobox")("aria-autocomplete",yt.autocompleteDisabled?null:"list")("aria-activedescendant",yt.panelOpen&&yt.activeOption?yt.activeOption.id:null)("aria-expanded",yt.autocompleteDisabled?null:yt.panelOpen.toString())("aria-owns",yt.autocompleteDisabled||!yt.panelOpen||null==yt.autocomplete?null:yt.autocomplete.id)("aria-haspopup",!yt.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[t._Bn([oi]),t.qOj]}),Je})(),Ye=(()=>{class Je{}return Je.\u0275fac=function(Re){return new(Re||Je)},Je.\u0275mod=t.oAB({type:Je}),Je.\u0275inj=t.cJS({providers:[kt],imports:[[oe.U8,e.Ng,e.BQ,te.ez],q.ZD,e.Ng,e.BQ]}),Je})()},47423:(B,K,f)=>{"use strict";f.d(K,{zs:()=>te,lW:()=>W,ot:()=>oe});var E=f(5e3),m=f(90508),t=f(76360),e=f(15664);const n=["mat-button",""],a=["*"],D=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],F=(0,m.pj)((0,m.Id)((0,m.Kr)(class{constructor(q){this._elementRef=q}})));let W=(()=>{class q extends F{constructor(Te,le,_e){super(Te),this._focusMonitor=le,this._animationMode=_e,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const Pe of D)this._hasHostAttributes(Pe)&&this._getHostElement().classList.add(Pe);Te.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(Te,le){Te?this._focusMonitor.focusVia(this._getHostElement(),Te,le):this._getHostElement().focus(le)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...Te){return Te.some(le=>this._getHostElement().hasAttribute(le))}}return q.\u0275fac=function(Te){return new(Te||q)(E.Y36(E.SBq),E.Y36(e.tE),E.Y36(t.Qb,8))},q.\u0275cmp=E.Xpm({type:q,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(Te,le){if(1&Te&&E.Gf(m.wG,5),2&Te){let _e;E.iGM(_e=E.CRH())&&(le.ripple=_e.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(Te,le){2&Te&&(E.uIk("disabled",le.disabled||null),E.ekj("_mat-animation-noopable","NoopAnimations"===le._animationMode)("mat-button-disabled",le.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[E.qOj],attrs:n,ngContentSelectors:a,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Te,le){1&Te&&(E.F$t(),E.TgZ(0,"span",0),E.Hsn(1),E.qZA(),E._UZ(2,"span",1),E._UZ(3,"span",2)),2&Te&&(E.xp6(2),E.ekj("mat-button-ripple-round",le.isRoundButton||le.isIconButton),E.Q6J("matRippleDisabled",le._isRippleDisabled())("matRippleCentered",le.isIconButton)("matRippleTrigger",le._getHostElement()))},directives:[m.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),q})(),te=(()=>{class q extends W{constructor(Te,le,_e){super(le,Te,_e)}_haltDisabledEvents(Te){this.disabled&&(Te.preventDefault(),Te.stopImmediatePropagation())}}return q.\u0275fac=function(Te){return new(Te||q)(E.Y36(e.tE),E.Y36(E.SBq),E.Y36(t.Qb,8))},q.\u0275cmp=E.Xpm({type:q,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(Te,le){1&Te&&E.NdJ("click",function(Pe){return le._haltDisabledEvents(Pe)}),2&Te&&(E.uIk("tabindex",le.disabled?-1:le.tabIndex||0)("disabled",le.disabled||null)("aria-disabled",le.disabled.toString()),E.ekj("_mat-animation-noopable","NoopAnimations"===le._animationMode)("mat-button-disabled",le.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[E.qOj],attrs:n,ngContentSelectors:a,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(Te,le){1&Te&&(E.F$t(),E.TgZ(0,"span",0),E.Hsn(1),E.qZA(),E._UZ(2,"span",1),E._UZ(3,"span",2)),2&Te&&(E.xp6(2),E.ekj("mat-button-ripple-round",le.isRoundButton||le.isIconButton),E.Q6J("matRippleDisabled",le._isRippleDisabled())("matRippleCentered",le.isIconButton)("matRippleTrigger",le._getHostElement()))},directives:[m.wG],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),q})(),oe=(()=>{class q{}return q.\u0275fac=function(Te){return new(Te||q)},q.\u0275mod=E.oAB({type:q}),q.\u0275inj=E.cJS({imports:[[m.si,m.BQ],m.BQ]}),q})()},90508:(B,K,f)=>{"use strict";f.d(K,{yN:()=>_e,mZ:()=>Pe,_A:()=>pt,rD:()=>mt,sG:()=>dt,K7:()=>Di,HF:()=>Ei,Y2:()=>Et,BQ:()=>se,X2:()=>Ye,uc:()=>Re,XK:()=>Rt,ey:()=>yi,Ng:()=>gn,rN:()=>Mt,nP:()=>Wt,us:()=>Kt,wG:()=>Ke,si:()=>Ze,IR:()=>At,CB:()=>Fi,jH:()=>Pi,pj:()=>Ce,Kr:()=>de,Id:()=>Ae,FD:()=>ot,sb:()=>re,E0:()=>Je});var E=f(5e3),m=f(50226),e=f(69808),n=f(70925),a=f(15664),u=f(63191),C=f(77579),D=f(68675),F=f(76360),W=f(91159);function q(ai,Tt){if(1&ai&&E._UZ(0,"mat-pseudo-checkbox",4),2&ai){const He=E.oxw();E.Q6J("state",He.selected?"checked":"unchecked")("disabled",He.disabled)}}function ue(ai,Tt){if(1&ai&&(E.TgZ(0,"span",5),E._uU(1),E.qZA()),2&ai){const He=E.oxw();E.xp6(1),E.hij("(",He.group.label,")")}}const Te=["*"];let _e=(()=>{class ai{}return ai.STANDARD_CURVE="cubic-bezier(0.4,0.0,0.2,1)",ai.DECELERATION_CURVE="cubic-bezier(0.0,0.0,0.2,1)",ai.ACCELERATION_CURVE="cubic-bezier(0.4,0.0,1,1)",ai.SHARP_CURVE="cubic-bezier(0.4,0.0,0.6,1)",ai})(),Pe=(()=>{class ai{}return ai.COMPLEX="375ms",ai.ENTERING="225ms",ai.EXITING="195ms",ai})();const ve=new E.OlP("mat-sanity-checks",{providedIn:"root",factory:function Se(){return!0}});let se=(()=>{class ai{constructor(He,Ee,Ve){this._sanityChecks=Ee,this._document=Ve,this._hasDoneGlobalChecks=!1,He._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(He){return!(0,n.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[He])}}return ai.\u0275fac=function(He){return new(He||ai)(E.LFG(a.qm),E.LFG(ve,8),E.LFG(e.K0))},ai.\u0275mod=E.oAB({type:ai}),ai.\u0275inj=E.cJS({imports:[[m.vT],m.vT]}),ai})();function Ae(ai){return class extends ai{constructor(...Tt){super(...Tt),this._disabled=!1}get disabled(){return this._disabled}set disabled(Tt){this._disabled=(0,u.Ig)(Tt)}}}function Ce(ai,Tt){return class extends ai{constructor(...He){super(...He),this.defaultColor=Tt,this.color=Tt}get color(){return this._color}set color(He){const Ee=He||this.defaultColor;Ee!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),Ee&&this._elementRef.nativeElement.classList.add(`mat-${Ee}`),this._color=Ee)}}}function de(ai){return class extends ai{constructor(...Tt){super(...Tt),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Tt){this._disableRipple=(0,u.Ig)(Tt)}}}function re(ai,Tt=0){return class extends ai{constructor(...He){super(...He),this._tabIndex=Tt,this.defaultTabIndex=Tt}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(He){this._tabIndex=null!=He?(0,u.su)(He):this.defaultTabIndex}}}function ot(ai){return class extends ai{constructor(...Tt){super(...Tt),this.stateChanges=new C.x,this.errorState=!1}updateErrorState(){const Tt=this.errorState,gt=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);gt!==Tt&&(this.errorState=gt,this.stateChanges.next())}}}const De=new E.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function st(){return(0,E.f3M)(E.soG)}});class pt{constructor(){this._localeChanges=new C.x,this.localeChanges=this._localeChanges}getValidDateOrNull(Tt){return this.isDateInstance(Tt)&&this.isValid(Tt)?Tt:null}deserialize(Tt){return null==Tt||this.isDateInstance(Tt)&&this.isValid(Tt)?Tt:this.invalid()}setLocale(Tt){this.locale=Tt,this._localeChanges.next()}compareDate(Tt,He){return this.getYear(Tt)-this.getYear(He)||this.getMonth(Tt)-this.getMonth(He)||this.getDate(Tt)-this.getDate(He)}sameDate(Tt,He){if(Tt&&He){let Ee=this.isValid(Tt),Ve=this.isValid(He);return Ee&&Ve?!this.compareDate(Tt,He):Ee==Ve}return Tt==He}clampDate(Tt,He,Ee){return He&&this.compareDate(Tt,He)<0?He:Ee&&this.compareDate(Tt,Ee)>0?Ee:Tt}}const dt=new E.OlP("mat-date-formats"),Ot=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function kt(ai,Tt){const He=Array(ai);for(let Ee=0;Ee<ai;Ee++)He[Ee]=Tt(Ee);return He}let oi=(()=>{class ai extends pt{constructor(He,Ee){super(),this.useUtcForDisplay=!1,super.setLocale(He)}getYear(He){return He.getFullYear()}getMonth(He){return He.getMonth()}getDate(He){return He.getDate()}getDayOfWeek(He){return He.getDay()}getMonthNames(He){const Ee=new Intl.DateTimeFormat(this.locale,{month:He,timeZone:"utc"});return kt(12,Ve=>this._format(Ee,new Date(2017,Ve,1)))}getDateNames(){const He=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return kt(31,Ee=>this._format(He,new Date(2017,0,Ee+1)))}getDayOfWeekNames(He){const Ee=new Intl.DateTimeFormat(this.locale,{weekday:He,timeZone:"utc"});return kt(7,Ve=>this._format(Ee,new Date(2017,0,Ve+1)))}getYearName(He){const Ee=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(Ee,He)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(He){return this.getDate(this._createDateWithOverflow(this.getYear(He),this.getMonth(He)+1,0))}clone(He){return new Date(He.getTime())}createDate(He,Ee,Ve){let gt=this._createDateWithOverflow(He,Ee,Ve);return gt.getMonth(),gt}today(){return new Date}parse(He){return"number"==typeof He?new Date(He):He?new Date(Date.parse(He)):null}format(He,Ee){if(!this.isValid(He))throw Error("NativeDateAdapter: Cannot format invalid date.");const Ve=new Intl.DateTimeFormat(this.locale,Object.assign(Object.assign({},Ee),{timeZone:"utc"}));return this._format(Ve,He)}addCalendarYears(He,Ee){return this.addCalendarMonths(He,12*Ee)}addCalendarMonths(He,Ee){let Ve=this._createDateWithOverflow(this.getYear(He),this.getMonth(He)+Ee,this.getDate(He));return this.getMonth(Ve)!=((this.getMonth(He)+Ee)%12+12)%12&&(Ve=this._createDateWithOverflow(this.getYear(Ve),this.getMonth(Ve),0)),Ve}addCalendarDays(He,Ee){return this._createDateWithOverflow(this.getYear(He),this.getMonth(He),this.getDate(He)+Ee)}toIso8601(He){return[He.getUTCFullYear(),this._2digit(He.getUTCMonth()+1),this._2digit(He.getUTCDate())].join("-")}deserialize(He){if("string"==typeof He){if(!He)return null;if(Ot.test(He)){let Ee=new Date(He);if(this.isValid(Ee))return Ee}}return super.deserialize(He)}isDateInstance(He){return He instanceof Date}isValid(He){return!isNaN(He.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(He,Ee,Ve){const gt=new Date;return gt.setFullYear(He,Ee,Ve),gt.setHours(0,0,0,0),gt}_2digit(He){return("00"+He).slice(-2)}_format(He,Ee){const Ve=new Date;return Ve.setUTCFullYear(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()),Ve.setUTCHours(Ee.getHours(),Ee.getMinutes(),Ee.getSeconds(),Ee.getMilliseconds()),He.format(Ve)}}return ai.\u0275fac=function(He){return new(He||ai)(E.LFG(De,8),E.LFG(n.t4))},ai.\u0275prov=E.Yz7({token:ai,factory:ai.\u0275fac}),ai})();const bi={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ti=(()=>{class ai{}return ai.\u0275fac=function(He){return new(He||ai)},ai.\u0275mod=E.oAB({type:ai}),ai.\u0275inj=E.cJS({providers:[{provide:pt,useClass:oi}],imports:[[n.ud]]}),ai})(),Rt=(()=>{class ai{}return ai.\u0275fac=function(He){return new(He||ai)},ai.\u0275mod=E.oAB({type:ai}),ai.\u0275inj=E.cJS({providers:[{provide:dt,useValue:bi}],imports:[[ti]]}),ai})(),mt=(()=>{class ai{isErrorState(He,Ee){return!!(He&&He.invalid&&(He.touched||Ee&&Ee.submitted))}}return ai.\u0275fac=function(He){return new(He||ai)},ai.\u0275prov=E.Yz7({token:ai,factory:ai.\u0275fac,providedIn:"root"}),ai})(),Ye=(()=>{class ai{}return ai.\u0275fac=function(He){return new(He||ai)},ai.\u0275dir=E.lG2({type:ai,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),ai})();function Je(ai,Tt,He="mat"){ai.changes.pipe((0,D.O)(ai)).subscribe(({length:Ee})=>{ut(Tt,`${He}-2-line`,!1),ut(Tt,`${He}-3-line`,!1),ut(Tt,`${He}-multi-line`,!1),2===Ee||3===Ee?ut(Tt,`${He}-${Ee}-line`,!0):Ee>3&&ut(Tt,`${He}-multi-line`,!0)})}function ut(ai,Tt,He){ai.nativeElement.classList.toggle(Tt,He)}let Re=(()=>{class ai{}return ai.\u0275fac=function(He){return new(He||ai)},ai.\u0275mod=E.oAB({type:ai}),ai.\u0275inj=E.cJS({imports:[[se],se]}),ai})();class yt{constructor(Tt,He,Ee){this._renderer=Tt,this.element=He,this.config=Ee,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const zt={enterDuration:225,exitDuration:150},wt=(0,n.i$)({passive:!0}),rt=["mousedown","touchstart"],tt=["mouseup","mouseleave","touchend","touchcancel"];class At{constructor(Tt,He,Ee,Ve){this._target=Tt,this._ngZone=He,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,Ve.isBrowser&&(this._containerElement=(0,u.fI)(Ee))}fadeInRipple(Tt,He,Ee={}){const Ve=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),gt=Object.assign(Object.assign({},zt),Ee.animation);Ee.centered&&(Tt=Ve.left+Ve.width/2,He=Ve.top+Ve.height/2);const Ut=Ee.radius||function vt(ai,Tt,He){const Ee=Math.max(Math.abs(ai-He.left),Math.abs(ai-He.right)),Ve=Math.max(Math.abs(Tt-He.top),Math.abs(Tt-He.bottom));return Math.sqrt(Ee*Ee+Ve*Ve)}(Tt,He,Ve),Xi=Tt-Ve.left,ln=He-Ve.top,An=gt.enterDuration,qn=document.createElement("div");qn.classList.add("mat-ripple-element"),qn.style.left=Xi-Ut+"px",qn.style.top=ln-Ut+"px",qn.style.height=2*Ut+"px",qn.style.width=2*Ut+"px",null!=Ee.color&&(qn.style.backgroundColor=Ee.color),qn.style.transitionDuration=`${An}ms`,this._containerElement.appendChild(qn),function lt(ai){window.getComputedStyle(ai).getPropertyValue("opacity")}(qn),qn.style.transform="scale(1)";const si=new yt(this,qn,Ee);return si.state=0,this._activeRipples.add(si),Ee.persistent||(this._mostRecentTransientRipple=si),this._runTimeoutOutsideZone(()=>{const $t=si===this._mostRecentTransientRipple;si.state=1,!Ee.persistent&&(!$t||!this._isPointerDown)&&si.fadeOut()},An),si}fadeOutRipple(Tt){const He=this._activeRipples.delete(Tt);if(Tt===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!He)return;const Ee=Tt.element,Ve=Object.assign(Object.assign({},zt),Tt.config.animation);Ee.style.transitionDuration=`${Ve.exitDuration}ms`,Ee.style.opacity="0",Tt.state=2,this._runTimeoutOutsideZone(()=>{Tt.state=3,Ee.remove()},Ve.exitDuration)}fadeOutAll(){this._activeRipples.forEach(Tt=>Tt.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(Tt=>{Tt.config.persistent||Tt.fadeOut()})}setupTriggerEvents(Tt){const He=(0,u.fI)(Tt);!He||He===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=He,this._registerEvents(rt))}handleEvent(Tt){"mousedown"===Tt.type?this._onMousedown(Tt):"touchstart"===Tt.type?this._onTouchStart(Tt):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(tt),this._pointerUpEventsRegistered=!0)}_onMousedown(Tt){const He=(0,a.X6)(Tt),Ee=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!He&&!Ee&&(this._isPointerDown=!0,this.fadeInRipple(Tt.clientX,Tt.clientY,this._target.rippleConfig))}_onTouchStart(Tt){if(!this._target.rippleDisabled&&!(0,a.yG)(Tt)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const He=Tt.changedTouches;for(let Ee=0;Ee<He.length;Ee++)this.fadeInRipple(He[Ee].clientX,He[Ee].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(Tt=>{!Tt.config.persistent&&(1===Tt.state||Tt.config.terminateOnPointerUp&&0===Tt.state)&&Tt.fadeOut()}))}_runTimeoutOutsideZone(Tt,He=0){this._ngZone.runOutsideAngular(()=>setTimeout(Tt,He))}_registerEvents(Tt){this._ngZone.runOutsideAngular(()=>{Tt.forEach(He=>{this._triggerElement.addEventListener(He,this,wt)})})}_removeTriggerEvents(){this._triggerElement&&(rt.forEach(Tt=>{this._triggerElement.removeEventListener(Tt,this,wt)}),this._pointerUpEventsRegistered&&tt.forEach(Tt=>{this._triggerElement.removeEventListener(Tt,this,wt)}))}}const Et=new E.OlP("mat-ripple-global-options");let Ke=(()=>{class ai{constructor(He,Ee,Ve,gt,Ut){this._elementRef=He,this._animationMode=Ut,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=gt||{},this._rippleRenderer=new At(this,Ee,He,Ve)}get disabled(){return this._disabled}set disabled(He){He&&this.fadeOutAllNonPersistent(),this._disabled=He,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(He){this._trigger=He,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(He,Ee=0,Ve){return"number"==typeof He?this._rippleRenderer.fadeInRipple(He,Ee,Object.assign(Object.assign({},this.rippleConfig),Ve)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),He))}}return ai.\u0275fac=function(He){return new(He||ai)(E.Y36(E.SBq),E.Y36(E.R0b),E.Y36(n.t4),E.Y36(Et,8),E.Y36(F.Qb,8))},ai.\u0275dir=E.lG2({type:ai,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(He,Ee){2&He&&E.ekj("mat-ripple-unbounded",Ee.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),ai})(),Ze=(()=>{class ai{}return ai.\u0275fac=function(He){return new(He||ai)},ai.\u0275mod=E.oAB({type:ai}),ai.\u0275inj=E.cJS({imports:[[se,n.ud],se]}),ai})(),Wt=(()=>{class ai{constructor(He){this._animationMode=He,this.state="unchecked",this.disabled=!1}}return ai.\u0275fac=function(He){return new(He||ai)(E.Y36(F.Qb,8))},ai.\u0275cmp=E.Xpm({type:ai,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(He,Ee){2&He&&E.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===Ee.state)("mat-pseudo-checkbox-checked","checked"===Ee.state)("mat-pseudo-checkbox-disabled",Ee.disabled)("_mat-animation-noopable","NoopAnimations"===Ee._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(He,Ee){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),ai})(),Kt=(()=>{class ai{}return ai.\u0275fac=function(He){return new(He||ai)},ai.\u0275mod=E.oAB({type:ai}),ai.\u0275inj=E.cJS({imports:[[se]]}),ai})();const Ei=new E.OlP("MAT_OPTION_PARENT_COMPONENT"),Di=new E.OlP("MatOptgroup");let _t=0;class Mt{constructor(Tt,He=!1){this.source=Tt,this.isUserInput=He}}let _i=(()=>{class ai{constructor(He,Ee,Ve,gt){this._element=He,this._changeDetectorRef=Ee,this._parent=Ve,this.group=gt,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+_t++,this.onSelectionChange=new E.vpe,this._stateChanges=new C.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(He){this._disabled=(0,u.Ig)(He)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(He,Ee){const Ve=this._getHostElement();"function"==typeof Ve.focus&&Ve.focus(Ee)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(He){(He.keyCode===W.K5||He.keyCode===W.L_)&&!(0,W.Vb)(He)&&(this._selectViaInteraction(),He.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const He=this.viewValue;He!==this._mostRecentViewValue&&(this._mostRecentViewValue=He,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(He=!1){this.onSelectionChange.emit(new Mt(this,He))}}return ai.\u0275fac=function(He){E.$Z()},ai.\u0275dir=E.lG2({type:ai,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),ai})(),yi=(()=>{class ai extends _i{constructor(He,Ee,Ve,gt){super(He,Ee,Ve,gt)}}return ai.\u0275fac=function(He){return new(He||ai)(E.Y36(E.SBq),E.Y36(E.sBO),E.Y36(Ei,8),E.Y36(Di,8))},ai.\u0275cmp=E.Xpm({type:ai,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(He,Ee){1&He&&E.NdJ("click",function(){return Ee._selectViaInteraction()})("keydown",function(gt){return Ee._handleKeydown(gt)}),2&He&&(E.Ikx("id",Ee.id),E.uIk("tabindex",Ee._getTabIndex())("aria-selected",Ee._getAriaSelected())("aria-disabled",Ee.disabled.toString()),E.ekj("mat-selected",Ee.selected)("mat-option-multiple",Ee.multiple)("mat-active",Ee.active)("mat-option-disabled",Ee.disabled))},exportAs:["matOption"],features:[E.qOj],ngContentSelectors:Te,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(He,Ee){1&He&&(E.F$t(),E.YNc(0,q,1,2,"mat-pseudo-checkbox",0),E.TgZ(1,"span",1),E.Hsn(2),E.qZA(),E.YNc(3,ue,2,1,"span",2),E._UZ(4,"div",3)),2&He&&(E.Q6J("ngIf",Ee.multiple),E.xp6(3),E.Q6J("ngIf",Ee.group&&Ee.group._inert),E.xp6(1),E.Q6J("matRippleTrigger",Ee._getHostElement())("matRippleDisabled",Ee.disabled||Ee.disableRipple))},directives:[e.O5,Ke,Wt],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),ai})();function Fi(ai,Tt,He){if(He.length){let Ee=Tt.toArray(),Ve=He.toArray(),gt=0;for(let Ut=0;Ut<ai+1;Ut++)Ee[Ut].group&&Ee[Ut].group===Ve[gt]&&gt++;return gt}return 0}function Pi(ai,Tt,He,Ee){return ai<He?ai:ai+Tt>He+Ee?Math.max(0,ai-Ee+Tt):He}let gn=(()=>{class ai{}return ai.\u0275fac=function(He){return new(He||ai)},ai.\u0275mod=E.oAB({type:ai}),ai.\u0275inj=E.cJS({imports:[[Ze,e.ez,se,Kt]]}),ai})()},48966:(B,K,f)=>{"use strict";f.d(K,{uw:()=>pt,Is:()=>ii,so:()=>Ne});var E=f(91314),m=f(47429),t=f(5e3),e=f(90508),n=f(50226),a=f(77579),u=f(49770),C=f(50727),D=f(39646),F=f(39300),W=f(95698),te=f(68675),oe=f(70925),q=f(69808),ue=f(41777),Te=f(15664),le=f(91159),_e=f(76360);function Pe(mt,Ye){}class Ue{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const Se={dialogContainer:(0,ue.X$)("dialogContainer",[(0,ue.SB)("void, exit",(0,ue.oB)({opacity:0,transform:"scale(0.7)"})),(0,ue.SB)("enter",(0,ue.oB)({transform:"none"})),(0,ue.eR)("* => enter",(0,ue.jt)("150ms cubic-bezier(0, 0, 0.2, 1)",(0,ue.oB)({transform:"none",opacity:1}))),(0,ue.eR)("* => void, * => exit",(0,ue.jt)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",(0,ue.oB)({opacity:0})))])};let se=(()=>{class mt extends m.en{constructor(Je,ut,Re,yt,zt,gi,wt,rt){super(),this._elementRef=Je,this._focusTrapFactory=ut,this._changeDetectorRef=Re,this._config=zt,this._interactivityChecker=gi,this._ngZone=wt,this._focusMonitor=rt,this._animationStateChanged=new t.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=tt=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(tt)),this._ariaLabelledBy=zt.ariaLabelledBy||null,this._document=yt}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(Je){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(Je)}attachTemplatePortal(Je){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(Je)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(Je,ut){this._interactivityChecker.isFocusable(Je)||(Je.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{Je.addEventListener("blur",()=>Je.removeAttribute("tabindex")),Je.addEventListener("mousedown",()=>Je.removeAttribute("tabindex"))})),Je.focus(ut)}_focusByCssSelector(Je,ut){let Re=this._elementRef.nativeElement.querySelector(Je);Re&&this._forceFocus(Re,ut)}_trapFocus(){const Je=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||Je.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(ut=>{ut||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const Je=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&Je&&"function"==typeof Je.focus){const ut=(0,oe.ht)(),Re=this._elementRef.nativeElement;(!ut||ut===this._document.body||ut===Re||Re.contains(ut))&&(this._focusMonitor?(this._focusMonitor.focusVia(Je,this._closeInteractionType),this._closeInteractionType=null):Je.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,oe.ht)())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const Je=this._elementRef.nativeElement,ut=(0,oe.ht)();return Je===ut||Je.contains(ut)}}return mt.\u0275fac=function(Je){return new(Je||mt)(t.Y36(t.SBq),t.Y36(Te.qV),t.Y36(t.sBO),t.Y36(q.K0,8),t.Y36(Ue),t.Y36(Te.ic),t.Y36(t.R0b),t.Y36(Te.tE))},mt.\u0275dir=t.lG2({type:mt,viewQuery:function(Je,ut){if(1&Je&&t.Gf(m.Pl,7),2&Je){let Re;t.iGM(Re=t.CRH())&&(ut._portalOutlet=Re.first)}},features:[t.qOj]}),mt})(),me=(()=>{class mt extends se{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:Je,totalTime:ut}){"enter"===Je?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:ut})):"exit"===Je&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:ut}))}_onAnimationStart({toState:Je,totalTime:ut}){"enter"===Je?this._animationStateChanged.next({state:"opening",totalTime:ut}):("exit"===Je||"void"===Je)&&this._animationStateChanged.next({state:"closing",totalTime:ut})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return mt.\u0275fac=function(){let Ye;return function(ut){return(Ye||(Ye=t.n5z(mt)))(ut||mt)}}(),mt.\u0275cmp=t.Xpm({type:mt,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(Je,ut){1&Je&&t.WFA("@dialogContainer.start",function(yt){return ut._onAnimationStart(yt)})("@dialogContainer.done",function(yt){return ut._onAnimationDone(yt)}),2&Je&&(t.Ikx("id",ut._id),t.uIk("role",ut._config.role)("aria-labelledby",ut._config.ariaLabel?null:ut._ariaLabelledBy)("aria-label",ut._config.ariaLabel)("aria-describedby",ut._config.ariaDescribedBy||null),t.d8E("@dialogContainer",ut._state))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(Je,ut){1&Je&&t.YNc(0,Pe,0,0,"ng-template",0)},directives:[m.Pl],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Se.dialogContainer]}}),mt})(),ce=0;class Ne{constructor(Ye,Je,ut="mat-dialog-"+ce++){this._overlayRef=Ye,this._containerInstance=Je,this.id=ut,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new a.x,this._afterClosed=new a.x,this._beforeClosed=new a.x,this._state=0,Je._id=ut,Je._animationStateChanged.pipe((0,F.h)(Re=>"opened"===Re.state),(0,W.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),Je._animationStateChanged.pipe((0,F.h)(Re=>"closed"===Re.state),(0,W.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),Ye.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),Ye.keydownEvents().pipe((0,F.h)(Re=>Re.keyCode===le.hY&&!this.disableClose&&!(0,le.Vb)(Re))).subscribe(Re=>{Re.preventDefault(),Ae(this,"keyboard")}),Ye.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Ae(this,"mouse")})}close(Ye){this._result=Ye,this._containerInstance._animationStateChanged.pipe((0,F.h)(Je=>"closing"===Je.state),(0,W.q)(1)).subscribe(Je=>{this._beforeClosed.next(Ye),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),Je.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(Ye){let Je=this._getPositionStrategy();return Ye&&(Ye.left||Ye.right)?Ye.left?Je.left(Ye.left):Je.right(Ye.right):Je.centerHorizontally(),Ye&&(Ye.top||Ye.bottom)?Ye.top?Je.top(Ye.top):Je.bottom(Ye.bottom):Je.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(Ye="",Je=""){return this._overlayRef.updateSize({width:Ye,height:Je}),this._overlayRef.updatePosition(),this}addPanelClass(Ye){return this._overlayRef.addPanelClass(Ye),this}removePanelClass(Ye){return this._overlayRef.removePanelClass(Ye),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Ae(mt,Ye,Je){return void 0!==mt._containerInstance&&(mt._containerInstance._closeInteractionType=Ye),mt.close(Je)}const Ce=new t.OlP("MatDialogData"),de=new t.OlP("mat-dialog-default-options"),re=new t.OlP("mat-dialog-scroll-strategy"),De={provide:re,deps:[E.aV],useFactory:function ze(mt){return()=>mt.scrollStrategies.block()}};let st=(()=>{class mt{constructor(Je,ut,Re,yt,zt,gi,wt,rt,tt,At){this._overlay=Je,this._injector=ut,this._defaultOptions=Re,this._parentDialog=yt,this._overlayContainer=zt,this._dialogRefConstructor=wt,this._dialogContainerType=rt,this._dialogDataToken=tt,this._animationMode=At,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new a.x,this._afterOpenedAtThisLevel=new a.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=(0,u.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,te.O)(void 0))),this._scrollStrategy=gi}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const Je=this._parentDialog;return Je?Je._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(Je,ut){if(ut=function dt(mt,Ye){return Object.assign(Object.assign({},Ye),mt)}(ut,this._defaultOptions||new Ue),ut.id&&this.getDialogById(ut.id),this._dialogAnimatingOpen)return this._lastDialogRef;const Re=this._createOverlay(ut),yt=this._attachDialogContainer(Re,ut);if("NoopAnimations"!==this._animationMode){const gi=yt._animationStateChanged.subscribe(wt=>{"opening"===wt.state&&(this._dialogAnimatingOpen=!0),"opened"===wt.state&&(this._dialogAnimatingOpen=!1,gi.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new C.w0),this._animationStateSubscriptions.add(gi)}const zt=this._attachDialogContent(Je,yt,Re,ut);return this._lastDialogRef=zt,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(zt),zt.afterClosed().subscribe(()=>this._removeOpenDialog(zt)),this.afterOpened.next(zt),yt._initializeWithAttachedContent(),zt}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(Je){return this.openDialogs.find(ut=>ut.id===Je)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(Je){const ut=this._getOverlayConfig(Je);return this._overlay.create(ut)}_getOverlayConfig(Je){const ut=new E.X_({positionStrategy:this._overlay.position().global(),scrollStrategy:Je.scrollStrategy||this._scrollStrategy(),panelClass:Je.panelClass,hasBackdrop:Je.hasBackdrop,direction:Je.direction,minWidth:Je.minWidth,minHeight:Je.minHeight,maxWidth:Je.maxWidth,maxHeight:Je.maxHeight,disposeOnNavigation:Je.closeOnNavigation});return Je.backdropClass&&(ut.backdropClass=Je.backdropClass),ut}_attachDialogContainer(Je,ut){const yt=t.zs3.create({parent:ut&&ut.viewContainerRef&&ut.viewContainerRef.injector||this._injector,providers:[{provide:Ue,useValue:ut}]}),zt=new m.C5(this._dialogContainerType,ut.viewContainerRef,yt,ut.componentFactoryResolver);return Je.attach(zt).instance}_attachDialogContent(Je,ut,Re,yt){const zt=new this._dialogRefConstructor(Re,ut,yt.id);if(Je instanceof t.Rgc)ut.attachTemplatePortal(new m.UE(Je,null,{$implicit:yt.data,dialogRef:zt}));else{const gi=this._createInjector(yt,zt,ut),wt=ut.attachComponentPortal(new m.C5(Je,yt.viewContainerRef,gi));zt.componentInstance=wt.instance}return zt.updateSize(yt.width,yt.height).updatePosition(yt.position),zt}_createInjector(Je,ut,Re){const yt=Je&&Je.viewContainerRef&&Je.viewContainerRef.injector,zt=[{provide:this._dialogContainerType,useValue:Re},{provide:this._dialogDataToken,useValue:Je.data},{provide:this._dialogRefConstructor,useValue:ut}];return Je.direction&&(!yt||!yt.get(n.Is,null,t.XFs.Optional))&&zt.push({provide:n.Is,useValue:{value:Je.direction,change:(0,D.of)()}}),t.zs3.create({parent:yt||this._injector,providers:zt})}_removeOpenDialog(Je){const ut=this.openDialogs.indexOf(Je);ut>-1&&(this.openDialogs.splice(ut,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((Re,yt)=>{Re?yt.setAttribute("aria-hidden",Re):yt.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const Je=this._overlayContainer.getContainerElement();if(Je.parentElement){const ut=Je.parentElement.children;for(let Re=ut.length-1;Re>-1;Re--){let yt=ut[Re];yt!==Je&&"SCRIPT"!==yt.nodeName&&"STYLE"!==yt.nodeName&&!yt.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(yt,yt.getAttribute("aria-hidden")),yt.setAttribute("aria-hidden","true"))}}}_closeDialogs(Je){let ut=Je.length;for(;ut--;)Je[ut].close()}}return mt.\u0275fac=function(Je){t.$Z()},mt.\u0275dir=t.lG2({type:mt}),mt})(),pt=(()=>{class mt extends st{constructor(Je,ut,Re,yt,zt,gi,wt,rt){super(Je,ut,yt,gi,wt,zt,Ne,me,Ce,rt)}}return mt.\u0275fac=function(Je){return new(Je||mt)(t.LFG(E.aV),t.LFG(t.zs3),t.LFG(q.Ye,8),t.LFG(de,8),t.LFG(re),t.LFG(mt,12),t.LFG(E.Xj),t.LFG(_e.Qb,8))},mt.\u0275prov=t.Yz7({token:mt,factory:mt.\u0275fac}),mt})(),ii=(()=>{class mt{}return mt.\u0275fac=function(Je){return new(Je||mt)},mt.\u0275mod=t.oAB({type:mt}),mt.\u0275inj=t.cJS({providers:[pt,De],imports:[[E.U8,m.eL,e.BQ],e.BQ]}),mt})()},4834:(B,K,f)=>{"use strict";f.d(K,{d:()=>e,t:()=>n});var E=f(5e3),m=f(63191),t=f(90508);let e=(()=>{class a{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(C){this._vertical=(0,m.Ig)(C)}get inset(){return this._inset}set inset(C){this._inset=(0,m.Ig)(C)}}return a.\u0275fac=function(C){return new(C||a)},a.\u0275cmp=E.Xpm({type:a,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(C,D){2&C&&(E.uIk("aria-orientation",D.vertical?"vertical":"horizontal"),E.ekj("mat-divider-vertical",D.vertical)("mat-divider-horizontal",!D.vertical)("mat-divider-inset",D.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(C,D){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),a})(),n=(()=>{class a{}return a.\u0275fac=function(C){return new(C||a)},a.\u0275mod=E.oAB({type:a}),a.\u0275inj=E.cJS({imports:[[t.BQ],t.BQ]}),a})()},67322:(B,K,f)=>{"use strict";f.d(K,{G_:()=>tt,KE:()=>At,Eo:()=>dt,lN:()=>lt,hX:()=>ii});var E=f(17144),m=f(69808),t=f(5e3),e=f(90508),n=f(63191),a=f(77579),u=f(56451),C=f(54968),D=f(68675),F=f(82722),W=f(95698),te=f(41777),oe=f(76360),q=f(50226),ue=f(70925);const Te=["connectionContainer"],le=["inputContainer"],_e=["label"];function Pe(vt,Et){1&vt&&(t.ynx(0),t.TgZ(1,"div",14),t._UZ(2,"div",15),t._UZ(3,"div",16),t._UZ(4,"div",17),t.qZA(),t.TgZ(5,"div",18),t._UZ(6,"div",15),t._UZ(7,"div",16),t._UZ(8,"div",17),t.qZA(),t.BQk())}function Ue(vt,Et){if(1&vt){const Ke=t.EpF();t.TgZ(0,"div",19),t.NdJ("cdkObserveContent",function(){return t.CHM(Ke),t.oxw().updateOutlineGap()}),t.Hsn(1,1),t.qZA()}if(2&vt){const Ke=t.oxw();t.Q6J("cdkObserveContentDisabled","outline"!=Ke.appearance)}}function Se(vt,Et){if(1&vt&&(t.ynx(0),t.Hsn(1,2),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.BQk()),2&vt){const Ke=t.oxw(2);t.xp6(3),t.Oqu(Ke._control.placeholder)}}function ve(vt,Et){1&vt&&t.Hsn(0,3,["*ngSwitchCase","true"])}function se(vt,Et){1&vt&&(t.TgZ(0,"span",23),t._uU(1," *"),t.qZA())}function me(vt,Et){if(1&vt){const Ke=t.EpF();t.TgZ(0,"label",20,21),t.NdJ("cdkObserveContent",function(){return t.CHM(Ke),t.oxw().updateOutlineGap()}),t.YNc(2,Se,4,1,"ng-container",12),t.YNc(3,ve,1,0,"ng-content",12),t.YNc(4,se,2,0,"span",22),t.qZA()}if(2&vt){const Ke=t.oxw();t.ekj("mat-empty",Ke._control.empty&&!Ke._shouldAlwaysFloat())("mat-form-field-empty",Ke._control.empty&&!Ke._shouldAlwaysFloat())("mat-accent","accent"==Ke.color)("mat-warn","warn"==Ke.color),t.Q6J("cdkObserveContentDisabled","outline"!=Ke.appearance)("id",Ke._labelId)("ngSwitch",Ke._hasLabel()),t.uIk("for",Ke._control.id)("aria-owns",Ke._control.id),t.xp6(2),t.Q6J("ngSwitchCase",!1),t.xp6(1),t.Q6J("ngSwitchCase",!0),t.xp6(1),t.Q6J("ngIf",!Ke.hideRequiredMarker&&Ke._control.required&&!Ke._control.disabled)}}function ce(vt,Et){1&vt&&(t.TgZ(0,"div",24),t.Hsn(1,4),t.qZA())}function Ne(vt,Et){if(1&vt&&(t.TgZ(0,"div",25),t._UZ(1,"span",26),t.qZA()),2&vt){const Ke=t.oxw();t.xp6(1),t.ekj("mat-accent","accent"==Ke.color)("mat-warn","warn"==Ke.color)}}function Ae(vt,Et){if(1&vt&&(t.TgZ(0,"div"),t.Hsn(1,5),t.qZA()),2&vt){const Ke=t.oxw();t.Q6J("@transitionMessages",Ke._subscriptAnimationState)}}function Ce(vt,Et){if(1&vt&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&vt){const Ke=t.oxw(2);t.Q6J("id",Ke._hintLabelId),t.xp6(1),t.Oqu(Ke.hintLabel)}}function de(vt,Et){if(1&vt&&(t.TgZ(0,"div",27),t.YNc(1,Ce,2,2,"div",28),t.Hsn(2,6),t._UZ(3,"div",29),t.Hsn(4,7),t.qZA()),2&vt){const Ke=t.oxw();t.Q6J("@transitionMessages",Ke._subscriptAnimationState),t.xp6(1),t.Q6J("ngIf",Ke.hintLabel)}}const re=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ot=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],De=new t.OlP("MatError"),pt={transitionMessages:(0,te.X$)("transitionMessages",[(0,te.SB)("enter",(0,te.oB)({opacity:1,transform:"translateY(0%)"})),(0,te.eR)("void => enter",[(0,te.oB)({opacity:0,transform:"translateY(-5px)"}),(0,te.jt)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let dt=(()=>{class vt{}return vt.\u0275fac=function(Ke){return new(Ke||vt)},vt.\u0275dir=t.lG2({type:vt}),vt})();const ti=new t.OlP("MatHint");let ii=(()=>{class vt{}return vt.\u0275fac=function(Ke){return new(Ke||vt)},vt.\u0275dir=t.lG2({type:vt,selectors:[["mat-label"]]}),vt})(),mt=(()=>{class vt{}return vt.\u0275fac=function(Ke){return new(Ke||vt)},vt.\u0275dir=t.lG2({type:vt,selectors:[["mat-placeholder"]]}),vt})();const Ye=new t.OlP("MatPrefix"),ut=new t.OlP("MatSuffix");let yt=0;const wt=(0,e.pj)(class{constructor(vt){this._elementRef=vt}},"primary"),rt=new t.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),tt=new t.OlP("MatFormField");let At=(()=>{class vt extends wt{constructor(Ke,Ze,Wt,Kt,Ei,vi,pi){super(Ke),this._changeDetectorRef=Ze,this._dir=Wt,this._defaults=Kt,this._platform=Ei,this._ngZone=vi,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new a.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+yt++,this._labelId="mat-form-field-label-"+yt++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==pi,this.appearance=Kt&&Kt.appearance?Kt.appearance:"legacy",this._hideRequiredMarker=!(!Kt||null==Kt.hideRequiredMarker)&&Kt.hideRequiredMarker}get appearance(){return this._appearance}set appearance(Ke){const Ze=this._appearance;this._appearance=Ke||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&Ze!==Ke&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(Ke){this._hideRequiredMarker=(0,n.Ig)(Ke)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(Ke){this._hintLabel=Ke,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(Ke){Ke!==this._floatLabel&&(this._floatLabel=Ke||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(Ke){this._explicitFormFieldControl=Ke}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const Ke=this._control;Ke.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${Ke.controlType}`),Ke.stateChanges.pipe((0,D.O)(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),Ke.ngControl&&Ke.ngControl.valueChanges&&Ke.ngControl.valueChanges.pipe((0,F.R)(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,F.R)(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,u.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe((0,D.O)(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe((0,D.O)(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe((0,F.R)(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(Ke){const Ze=this._control?this._control.ngControl:null;return Ze&&Ze[Ke]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,(0,C.R)(this._label.nativeElement,"transitionend").pipe((0,W.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let Ke=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&Ke.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const Ze=this._hintChildren?this._hintChildren.find(Kt=>"start"===Kt.align):null,Wt=this._hintChildren?this._hintChildren.find(Kt=>"end"===Kt.align):null;Ze?Ke.push(Ze.id):this._hintLabel&&Ke.push(this._hintLabelId),Wt&&Ke.push(Wt.id)}else this._errorChildren&&Ke.push(...this._errorChildren.map(Ze=>Ze.id));this._control.setDescribedByIds(Ke)}}_validateControlChild(){}updateOutlineGap(){const Ke=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&Ke&&Ke.children.length&&Ke.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let Ze=0,Wt=0;const Kt=this._connectionContainerRef.nativeElement,Ei=Kt.querySelectorAll(".mat-form-field-outline-start"),vi=Kt.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const pi=Kt.getBoundingClientRect();if(0===pi.width&&0===pi.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const Gi=this._getStartEnd(pi),Di=Ke.children,an=this._getStartEnd(Di[0].getBoundingClientRect());let _t=0;for(let Mt=0;Mt<Di.length;Mt++)_t+=Di[Mt].offsetWidth;Ze=Math.abs(an-Gi)-5,Wt=_t>0?.75*_t+10:0}for(let pi=0;pi<Ei.length;pi++)Ei[pi].style.width=`${Ze}px`;for(let pi=0;pi<vi.length;pi++)vi[pi].style.width=`${Wt}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(Ke){return this._dir&&"rtl"===this._dir.value?Ke.right:Ke.left}_isAttachedToDOM(){const Ke=this._elementRef.nativeElement;if(Ke.getRootNode){const Ze=Ke.getRootNode();return Ze&&Ze!==Ke}return document.documentElement.contains(Ke)}}return vt.\u0275fac=function(Ke){return new(Ke||vt)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(q.Is,8),t.Y36(rt,8),t.Y36(ue.t4),t.Y36(t.R0b),t.Y36(oe.Qb,8))},vt.\u0275cmp=t.Xpm({type:vt,selectors:[["mat-form-field"]],contentQueries:function(Ke,Ze,Wt){if(1&Ke&&(t.Suo(Wt,dt,5),t.Suo(Wt,dt,7),t.Suo(Wt,ii,5),t.Suo(Wt,ii,7),t.Suo(Wt,mt,5),t.Suo(Wt,De,5),t.Suo(Wt,ti,5),t.Suo(Wt,Ye,5),t.Suo(Wt,ut,5)),2&Ke){let Kt;t.iGM(Kt=t.CRH())&&(Ze._controlNonStatic=Kt.first),t.iGM(Kt=t.CRH())&&(Ze._controlStatic=Kt.first),t.iGM(Kt=t.CRH())&&(Ze._labelChildNonStatic=Kt.first),t.iGM(Kt=t.CRH())&&(Ze._labelChildStatic=Kt.first),t.iGM(Kt=t.CRH())&&(Ze._placeholderChild=Kt.first),t.iGM(Kt=t.CRH())&&(Ze._errorChildren=Kt),t.iGM(Kt=t.CRH())&&(Ze._hintChildren=Kt),t.iGM(Kt=t.CRH())&&(Ze._prefixChildren=Kt),t.iGM(Kt=t.CRH())&&(Ze._suffixChildren=Kt)}},viewQuery:function(Ke,Ze){if(1&Ke&&(t.Gf(Te,7),t.Gf(le,5),t.Gf(_e,5)),2&Ke){let Wt;t.iGM(Wt=t.CRH())&&(Ze._connectionContainerRef=Wt.first),t.iGM(Wt=t.CRH())&&(Ze._inputContainerRef=Wt.first),t.iGM(Wt=t.CRH())&&(Ze._label=Wt.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(Ke,Ze){2&Ke&&t.ekj("mat-form-field-appearance-standard","standard"==Ze.appearance)("mat-form-field-appearance-fill","fill"==Ze.appearance)("mat-form-field-appearance-outline","outline"==Ze.appearance)("mat-form-field-appearance-legacy","legacy"==Ze.appearance)("mat-form-field-invalid",Ze._control.errorState)("mat-form-field-can-float",Ze._canLabelFloat())("mat-form-field-should-float",Ze._shouldLabelFloat())("mat-form-field-has-label",Ze._hasFloatingLabel())("mat-form-field-hide-placeholder",Ze._hideControlPlaceholder())("mat-form-field-disabled",Ze._control.disabled)("mat-form-field-autofilled",Ze._control.autofilled)("mat-focused",Ze._control.focused)("ng-untouched",Ze._shouldForward("untouched"))("ng-touched",Ze._shouldForward("touched"))("ng-pristine",Ze._shouldForward("pristine"))("ng-dirty",Ze._shouldForward("dirty"))("ng-valid",Ze._shouldForward("valid"))("ng-invalid",Ze._shouldForward("invalid"))("ng-pending",Ze._shouldForward("pending"))("_mat-animation-noopable",!Ze._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[t._Bn([{provide:tt,useExisting:vt}]),t.qOj],ngContentSelectors:ot,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(Ke,Ze){1&Ke&&(t.F$t(re),t.TgZ(0,"div",0),t.TgZ(1,"div",1,2),t.NdJ("click",function(Kt){return Ze._control.onContainerClick&&Ze._control.onContainerClick(Kt)}),t.YNc(3,Pe,9,0,"ng-container",3),t.YNc(4,Ue,2,1,"div",4),t.TgZ(5,"div",5,6),t.Hsn(7),t.TgZ(8,"span",7),t.YNc(9,me,5,16,"label",8),t.qZA(),t.qZA(),t.YNc(10,ce,2,0,"div",9),t.qZA(),t.YNc(11,Ne,2,4,"div",10),t.TgZ(12,"div",11),t.YNc(13,Ae,2,1,"div",12),t.YNc(14,de,5,2,"div",13),t.qZA(),t.qZA()),2&Ke&&(t.xp6(3),t.Q6J("ngIf","outline"==Ze.appearance),t.xp6(1),t.Q6J("ngIf",Ze._prefixChildren.length),t.xp6(5),t.Q6J("ngIf",Ze._hasFloatingLabel()),t.xp6(1),t.Q6J("ngIf",Ze._suffixChildren.length),t.xp6(1),t.Q6J("ngIf","outline"!=Ze.appearance),t.xp6(1),t.Q6J("ngSwitch",Ze._getDisplayedMessages()),t.xp6(1),t.Q6J("ngSwitchCase","error"),t.xp6(1),t.Q6J("ngSwitchCase","hint"))},directives:[m.O5,m.RF,m.n9,E.wD],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[pt.transitionMessages]},changeDetection:0}),vt})(),lt=(()=>{class vt{}return vt.\u0275fac=function(Ke){return new(Ke||vt)},vt.\u0275mod=t.oAB({type:vt}),vt.\u0275inj=t.cJS({imports:[[m.ez,e.BQ,E.Q8],e.BQ]}),vt})()},43954:(B,K,f)=>{"use strict";f.d(K,{Il:()=>ce,N6:()=>Ne,DX:()=>te,jo:()=>ue,$H:()=>oe});var E=f(5e3),m=f(90508),t=f(63191),e=f(50226);const n=["*"],a=[[["","mat-grid-avatar",""],["","matGridAvatar",""]],[["","mat-line",""],["","matLine",""]],"*"],u=["[mat-grid-avatar], [matGridAvatar]","[mat-line], [matLine]","*"];class D{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const de=Math.max(...this.tracker);return de>1?this.rowCount+de-1:this.rowCount}update(de,re){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(de),this.tracker.fill(0,0,this.tracker.length),this.positions=re.map(ot=>this._trackTile(ot))}_trackTile(de){const re=this._findMatchingGap(de.colspan);return this._markTilePosition(re,de),this.columnIndex=re+de.colspan,new F(this.rowIndex,re)}_findMatchingGap(de){let re=-1,ot=-1;do{this.columnIndex+de>this.tracker.length?(this._nextRow(),re=this.tracker.indexOf(0,this.columnIndex),ot=this._findGapEndIndex(re)):(re=this.tracker.indexOf(0,this.columnIndex),-1!=re?(ot=this._findGapEndIndex(re),this.columnIndex=re+1):(this._nextRow(),re=this.tracker.indexOf(0,this.columnIndex),ot=this._findGapEndIndex(re)))}while(ot-re<de||0==ot);return Math.max(re,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let de=0;de<this.tracker.length;de++)this.tracker[de]=Math.max(0,this.tracker[de]-1)}_findGapEndIndex(de){for(let re=de+1;re<this.tracker.length;re++)if(0!=this.tracker[re])return re;return this.tracker.length}_markTilePosition(de,re){for(let ot=0;ot<re.colspan;ot++)this.tracker[de+ot]=re.rowspan}}class F{constructor(de,re){this.row=de,this.col=re}}const W=new E.OlP("MAT_GRID_LIST");let te=(()=>{class Ce{constructor(re,ot){this._element=re,this._gridList=ot,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(re){this._rowspan=Math.round((0,t.su)(re))}get colspan(){return this._colspan}set colspan(re){this._colspan=Math.round((0,t.su)(re))}_setStyle(re,ot){this._element.nativeElement.style[re]=ot}}return Ce.\u0275fac=function(re){return new(re||Ce)(E.Y36(E.SBq),E.Y36(W,8))},Ce.\u0275cmp=E.Xpm({type:Ce,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(re,ot){2&re&&E.uIk("rowspan",ot.rowspan)("colspan",ot.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:n,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(re,ot){1&re&&(E.F$t(),E.TgZ(0,"div",0),E.Hsn(1),E.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),Ce})(),oe=(()=>{class Ce{constructor(re){this._element=re}ngAfterContentInit(){(0,m.E0)(this._lines,this._element)}}return Ce.\u0275fac=function(re){return new(re||Ce)(E.Y36(E.SBq))},Ce.\u0275cmp=E.Xpm({type:Ce,selectors:[["mat-grid-tile-header"],["mat-grid-tile-footer"]],contentQueries:function(re,ot,ze){if(1&re&&E.Suo(ze,m.X2,5),2&re){let De;E.iGM(De=E.CRH())&&(ot._lines=De)}},ngContentSelectors:u,decls:4,vars:0,consts:[[1,"mat-grid-list-text"]],template:function(re,ot){1&re&&(E.F$t(a),E.Hsn(0),E.TgZ(1,"div",0),E.Hsn(2,1),E.qZA(),E.Hsn(3,2))},encapsulation:2,changeDetection:0}),Ce})(),ue=(()=>{class Ce{}return Ce.\u0275fac=function(re){return new(re||Ce)},Ce.\u0275dir=E.lG2({type:Ce,selectors:[["mat-grid-tile-header"]],hostAttrs:[1,"mat-grid-tile-header"]}),Ce})();const le=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class _e{constructor(){this._rows=0,this._rowspan=0}init(de,re,ot,ze){this._gutterSize=se(de),this._rows=re.rowCount,this._rowspan=re.rowspan,this._cols=ot,this._direction=ze}getBaseTileSize(de,re){return`(${de}% - (${this._gutterSize} * ${re}))`}getTilePosition(de,re){return 0===re?"0":ve(`(${de} + ${this._gutterSize}) * ${re}`)}getTileSize(de,re){return`(${de} * ${re}) + (${re-1} * ${this._gutterSize})`}setStyle(de,re,ot){let ze=100/this._cols,De=(this._cols-1)/this._cols;this.setColStyles(de,ot,ze,De),this.setRowStyles(de,re,ze,De)}setColStyles(de,re,ot,ze){let De=this.getBaseTileSize(ot,ze);de._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(De,re)),de._setStyle("width",ve(this.getTileSize(De,de.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(de){return`${this._rowspan} * ${this.getTileSize(de,1)}`}getComputedHeight(){return null}}class Pe extends _e{constructor(de){super(),this.fixedRowHeight=de}init(de,re,ot,ze){super.init(de,re,ot,ze),this.fixedRowHeight=se(this.fixedRowHeight),le.test(this.fixedRowHeight)}setRowStyles(de,re){de._setStyle("top",this.getTilePosition(this.fixedRowHeight,re)),de._setStyle("height",ve(this.getTileSize(this.fixedRowHeight,de.rowspan)))}getComputedHeight(){return["height",ve(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(de){de._setListStyle(["height",null]),de._tiles&&de._tiles.forEach(re=>{re._setStyle("top",null),re._setStyle("height",null)})}}class Ue extends _e{constructor(de){super(),this._parseRatio(de)}setRowStyles(de,re,ot,ze){this.baseTileHeight=this.getBaseTileSize(ot/this.rowHeightRatio,ze),de._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,re)),de._setStyle("paddingTop",ve(this.getTileSize(this.baseTileHeight,de.rowspan)))}getComputedHeight(){return["paddingBottom",ve(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(de){de._setListStyle(["paddingBottom",null]),de._tiles.forEach(re=>{re._setStyle("marginTop",null),re._setStyle("paddingTop",null)})}_parseRatio(de){const re=de.split(":");this.rowHeightRatio=parseFloat(re[0])/parseFloat(re[1])}}class Se extends _e{setRowStyles(de,re){let De=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);de._setStyle("top",this.getTilePosition(De,re)),de._setStyle("height",ve(this.getTileSize(De,de.rowspan)))}reset(de){de._tiles&&de._tiles.forEach(re=>{re._setStyle("top",null),re._setStyle("height",null)})}}function ve(Ce){return`calc(${Ce})`}function se(Ce){return Ce.match(/([A-Za-z%]+)$/)?Ce:`${Ce}px`}let ce=(()=>{class Ce{constructor(re,ot){this._element=re,this._dir=ot,this._gutter="1px"}get cols(){return this._cols}set cols(re){this._cols=Math.max(1,Math.round((0,t.su)(re)))}get gutterSize(){return this._gutter}set gutterSize(re){this._gutter=`${null==re?"":re}`}get rowHeight(){return this._rowHeight}set rowHeight(re){const ot=`${null==re?"":re}`;ot!==this._rowHeight&&(this._rowHeight=ot,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(re){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===re?new Se:re&&re.indexOf(":")>-1?new Ue(re):new Pe(re)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new D);const re=this._tileCoordinator,ot=this._tiles.filter(De=>!De._gridList||De._gridList===this),ze=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,ot),this._tileStyler.init(this.gutterSize,re,this.cols,ze),ot.forEach((De,st)=>{const pt=re.positions[st];this._tileStyler.setStyle(De,pt.row,pt.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(re){re&&(this._element.nativeElement.style[re[0]]=re[1])}}return Ce.\u0275fac=function(re){return new(re||Ce)(E.Y36(E.SBq),E.Y36(e.Is,8))},Ce.\u0275cmp=E.Xpm({type:Ce,selectors:[["mat-grid-list"]],contentQueries:function(re,ot,ze){if(1&re&&E.Suo(ze,te,5),2&re){let De;E.iGM(De=E.CRH())&&(ot._tiles=De)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(re,ot){2&re&&E.uIk("cols",ot.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[E._Bn([{provide:W,useExisting:Ce}])],ngContentSelectors:n,decls:2,vars:0,template:function(re,ot){1&re&&(E.F$t(),E.TgZ(0,"div"),E.Hsn(1),E.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}\n"],encapsulation:2,changeDetection:0}),Ce})(),Ne=(()=>{class Ce{}return Ce.\u0275fac=function(re){return new(re||Ce)},Ce.\u0275mod=E.oAB({type:Ce}),Ce.\u0275inj=E.cJS({imports:[[m.uc,m.BQ],m.uc,m.BQ]}),Ce})()},63874:(B,K,f)=>{"use strict";f.d(K,{Hw:()=>bi,Ps:()=>ti});var E=f(5e3),m=f(90508),t=f(63191),e=f(69808),n=f(68306),a=f(30576),C=f(39646),D=f(4128),F=f(50727),W=f(18505),te=f(54004),oe=f(70262),q=f(28746),ue=f(13099),Te=f(95698),le=f(40520),_e=f(22313);const Pe=["*"];let Ue;function ve(Rt){var ii;return(null===(ii=function Se(){if(void 0===Ue&&(Ue=null,"undefined"!=typeof window)){const Rt=window;void 0!==Rt.trustedTypes&&(Ue=Rt.trustedTypes.createPolicy("angular#components",{createHTML:ii=>ii}))}return Ue}())||void 0===ii?void 0:ii.createHTML(Rt))||Rt}function se(Rt){return Error(`Unable to find icon with the name "${Rt}"`)}function ce(Rt){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${Rt}".`)}function Ne(Rt){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${Rt}".`)}class Ae{constructor(ii,mt,Ye){this.url=ii,this.svgText=mt,this.options=Ye}}let Ce=(()=>{class Rt{constructor(mt,Ye,Je,ut){this._httpClient=mt,this._sanitizer=Ye,this._errorHandler=ut,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=Je}addSvgIcon(mt,Ye,Je){return this.addSvgIconInNamespace("",mt,Ye,Je)}addSvgIconLiteral(mt,Ye,Je){return this.addSvgIconLiteralInNamespace("",mt,Ye,Je)}addSvgIconInNamespace(mt,Ye,Je,ut){return this._addSvgIconConfig(mt,Ye,new Ae(Je,null,ut))}addSvgIconResolver(mt){return this._resolvers.push(mt),this}addSvgIconLiteralInNamespace(mt,Ye,Je,ut){const Re=this._sanitizer.sanitize(E.q3G.HTML,Je);if(!Re)throw Ne(Je);const yt=ve(Re);return this._addSvgIconConfig(mt,Ye,new Ae("",yt,ut))}addSvgIconSet(mt,Ye){return this.addSvgIconSetInNamespace("",mt,Ye)}addSvgIconSetLiteral(mt,Ye){return this.addSvgIconSetLiteralInNamespace("",mt,Ye)}addSvgIconSetInNamespace(mt,Ye,Je){return this._addSvgIconSetConfig(mt,new Ae(Ye,null,Je))}addSvgIconSetLiteralInNamespace(mt,Ye,Je){const ut=this._sanitizer.sanitize(E.q3G.HTML,Ye);if(!ut)throw Ne(Ye);const Re=ve(ut);return this._addSvgIconSetConfig(mt,new Ae("",Re,Je))}registerFontClassAlias(mt,Ye=mt){return this._fontCssClassesByAlias.set(mt,Ye),this}classNameForFontAlias(mt){return this._fontCssClassesByAlias.get(mt)||mt}setDefaultFontSetClass(mt){return this._defaultFontSetClass=mt,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(mt){const Ye=this._sanitizer.sanitize(E.q3G.RESOURCE_URL,mt);if(!Ye)throw ce(mt);const Je=this._cachedIconsByUrl.get(Ye);return Je?(0,C.of)(ot(Je)):this._loadSvgIconFromConfig(new Ae(mt,null)).pipe((0,W.b)(ut=>this._cachedIconsByUrl.set(Ye,ut)),(0,te.U)(ut=>ot(ut)))}getNamedSvgIcon(mt,Ye=""){const Je=ze(Ye,mt);let ut=this._svgIconConfigs.get(Je);if(ut)return this._getSvgFromConfig(ut);if(ut=this._getIconConfigFromResolvers(Ye,mt),ut)return this._svgIconConfigs.set(Je,ut),this._getSvgFromConfig(ut);const Re=this._iconSetConfigs.get(Ye);return Re?this._getSvgFromIconSetConfigs(mt,Re):function u(Rt,ii){const mt=(0,a.m)(Rt)?Rt:()=>Rt,Ye=Je=>Je.error(mt());return new n.y(ii?Je=>ii.schedule(Ye,0,Je):Ye)}(se(Je))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(mt){return mt.svgText?(0,C.of)(ot(this._svgElementFromConfig(mt))):this._loadSvgIconFromConfig(mt).pipe((0,te.U)(Ye=>ot(Ye)))}_getSvgFromIconSetConfigs(mt,Ye){const Je=this._extractIconWithNameFromAnySet(mt,Ye);if(Je)return(0,C.of)(Je);const ut=Ye.filter(Re=>!Re.svgText).map(Re=>this._loadSvgIconSetFromConfig(Re).pipe((0,oe.K)(yt=>{const gi=`Loading icon set URL: ${this._sanitizer.sanitize(E.q3G.RESOURCE_URL,Re.url)} failed: ${yt.message}`;return this._errorHandler.handleError(new Error(gi)),(0,C.of)(null)})));return(0,D.D)(ut).pipe((0,te.U)(()=>{const Re=this._extractIconWithNameFromAnySet(mt,Ye);if(!Re)throw se(mt);return Re}))}_extractIconWithNameFromAnySet(mt,Ye){for(let Je=Ye.length-1;Je>=0;Je--){const ut=Ye[Je];if(ut.svgText&&ut.svgText.toString().indexOf(mt)>-1){const Re=this._svgElementFromConfig(ut),yt=this._extractSvgIconFromSet(Re,mt,ut.options);if(yt)return yt}}return null}_loadSvgIconFromConfig(mt){return this._fetchIcon(mt).pipe((0,W.b)(Ye=>mt.svgText=Ye),(0,te.U)(()=>this._svgElementFromConfig(mt)))}_loadSvgIconSetFromConfig(mt){return mt.svgText?(0,C.of)(null):this._fetchIcon(mt).pipe((0,W.b)(Ye=>mt.svgText=Ye))}_extractSvgIconFromSet(mt,Ye,Je){const ut=mt.querySelector(`[id="${Ye}"]`);if(!ut)return null;const Re=ut.cloneNode(!0);if(Re.removeAttribute("id"),"svg"===Re.nodeName.toLowerCase())return this._setSvgAttributes(Re,Je);if("symbol"===Re.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(Re),Je);const yt=this._svgElementFromString(ve("<svg></svg>"));return yt.appendChild(Re),this._setSvgAttributes(yt,Je)}_svgElementFromString(mt){const Ye=this._document.createElement("DIV");Ye.innerHTML=mt;const Je=Ye.querySelector("svg");if(!Je)throw Error("<svg> tag not found");return Je}_toSvgElement(mt){const Ye=this._svgElementFromString(ve("<svg></svg>")),Je=mt.attributes;for(let ut=0;ut<Je.length;ut++){const{name:Re,value:yt}=Je[ut];"id"!==Re&&Ye.setAttribute(Re,yt)}for(let ut=0;ut<mt.childNodes.length;ut++)mt.childNodes[ut].nodeType===this._document.ELEMENT_NODE&&Ye.appendChild(mt.childNodes[ut].cloneNode(!0));return Ye}_setSvgAttributes(mt,Ye){return mt.setAttribute("fit",""),mt.setAttribute("height","100%"),mt.setAttribute("width","100%"),mt.setAttribute("preserveAspectRatio","xMidYMid meet"),mt.setAttribute("focusable","false"),Ye&&Ye.viewBox&&mt.setAttribute("viewBox",Ye.viewBox),mt}_fetchIcon(mt){var Ye;const{url:Je,options:ut}=mt,Re=null!==(Ye=null==ut?void 0:ut.withCredentials)&&void 0!==Ye&&Ye;if(!this._httpClient)throw function me(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==Je)throw Error(`Cannot fetch icon from URL "${Je}".`);const yt=this._sanitizer.sanitize(E.q3G.RESOURCE_URL,Je);if(!yt)throw ce(Je);const zt=this._inProgressUrlFetches.get(yt);if(zt)return zt;const gi=this._httpClient.get(yt,{responseType:"text",withCredentials:Re}).pipe((0,te.U)(wt=>ve(wt)),(0,q.x)(()=>this._inProgressUrlFetches.delete(yt)),(0,ue.B)());return this._inProgressUrlFetches.set(yt,gi),gi}_addSvgIconConfig(mt,Ye,Je){return this._svgIconConfigs.set(ze(mt,Ye),Je),this}_addSvgIconSetConfig(mt,Ye){const Je=this._iconSetConfigs.get(mt);return Je?Je.push(Ye):this._iconSetConfigs.set(mt,[Ye]),this}_svgElementFromConfig(mt){if(!mt.svgElement){const Ye=this._svgElementFromString(mt.svgText);this._setSvgAttributes(Ye,mt.options),mt.svgElement=Ye}return mt.svgElement}_getIconConfigFromResolvers(mt,Ye){for(let Je=0;Je<this._resolvers.length;Je++){const ut=this._resolvers[Je](Ye,mt);if(ut)return De(ut)?new Ae(ut.url,null,ut.options):new Ae(ut,null)}}}return Rt.\u0275fac=function(mt){return new(mt||Rt)(E.LFG(le.eN,8),E.LFG(_e.H7),E.LFG(e.K0,8),E.LFG(E.qLn))},Rt.\u0275prov=E.Yz7({token:Rt,factory:Rt.\u0275fac,providedIn:"root"}),Rt})();function ot(Rt){return Rt.cloneNode(!0)}function ze(Rt,ii){return Rt+":"+ii}function De(Rt){return!(!Rt.url||!Rt.options)}const st=(0,m.pj)(class{constructor(Rt){this._elementRef=Rt}}),pt=new E.OlP("mat-icon-location",{providedIn:"root",factory:function dt(){const Rt=(0,E.f3M)(e.K0),ii=Rt?Rt.location:null;return{getPathname:()=>ii?ii.pathname+ii.search:""}}}),Ot=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],kt=Ot.map(Rt=>`[${Rt}]`).join(", "),oi=/^url\(['"]?#(.*?)['"]?\)$/;let bi=(()=>{class Rt extends st{constructor(mt,Ye,Je,ut,Re){super(mt),this._iconRegistry=Ye,this._location=ut,this._errorHandler=Re,this._inline=!1,this._currentIconFetch=F.w0.EMPTY,Je||mt.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(mt){this._inline=(0,t.Ig)(mt)}get svgIcon(){return this._svgIcon}set svgIcon(mt){mt!==this._svgIcon&&(mt?this._updateSvgIcon(mt):this._svgIcon&&this._clearSvgElement(),this._svgIcon=mt)}get fontSet(){return this._fontSet}set fontSet(mt){const Ye=this._cleanupFontValue(mt);Ye!==this._fontSet&&(this._fontSet=Ye,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(mt){const Ye=this._cleanupFontValue(mt);Ye!==this._fontIcon&&(this._fontIcon=Ye,this._updateFontIconClasses())}_splitIconName(mt){if(!mt)return["",""];const Ye=mt.split(":");switch(Ye.length){case 1:return["",Ye[0]];case 2:return Ye;default:throw Error(`Invalid icon name: "${mt}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const mt=this._elementsWithExternalReferences;if(mt&&mt.size){const Ye=this._location.getPathname();Ye!==this._previousPath&&(this._previousPath=Ye,this._prependPathToReferences(Ye))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(mt){this._clearSvgElement();const Ye=mt.querySelectorAll("style");for(let ut=0;ut<Ye.length;ut++)Ye[ut].textContent+=" ";const Je=this._location.getPathname();this._previousPath=Je,this._cacheChildrenWithExternalReferences(mt),this._prependPathToReferences(Je),this._elementRef.nativeElement.appendChild(mt)}_clearSvgElement(){const mt=this._elementRef.nativeElement;let Ye=mt.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();Ye--;){const Je=mt.childNodes[Ye];(1!==Je.nodeType||"svg"===Je.nodeName.toLowerCase())&&Je.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const mt=this._elementRef.nativeElement,Ye=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();Ye!=this._previousFontSetClass&&(this._previousFontSetClass&&mt.classList.remove(this._previousFontSetClass),Ye&&mt.classList.add(Ye),this._previousFontSetClass=Ye),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&mt.classList.remove(this._previousFontIconClass),this.fontIcon&&mt.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(mt){return"string"==typeof mt?mt.trim().split(" ")[0]:mt}_prependPathToReferences(mt){const Ye=this._elementsWithExternalReferences;Ye&&Ye.forEach((Je,ut)=>{Je.forEach(Re=>{ut.setAttribute(Re.name,`url('${mt}#${Re.value}')`)})})}_cacheChildrenWithExternalReferences(mt){const Ye=mt.querySelectorAll(kt),Je=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let ut=0;ut<Ye.length;ut++)Ot.forEach(Re=>{const yt=Ye[ut],zt=yt.getAttribute(Re),gi=zt?zt.match(oi):null;if(gi){let wt=Je.get(yt);wt||(wt=[],Je.set(yt,wt)),wt.push({name:Re,value:gi[1]})}})}_updateSvgIcon(mt){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),mt){const[Ye,Je]=this._splitIconName(mt);Ye&&(this._svgNamespace=Ye),Je&&(this._svgName=Je),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(Je,Ye).pipe((0,Te.q)(1)).subscribe(ut=>this._setSvgElement(ut),ut=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${Ye}:${Je}! ${ut.message}`))})}}}return Rt.\u0275fac=function(mt){return new(mt||Rt)(E.Y36(E.SBq),E.Y36(Ce),E.$8M("aria-hidden"),E.Y36(pt),E.Y36(E.qLn))},Rt.\u0275cmp=E.Xpm({type:Rt,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(mt,Ye){2&mt&&(E.uIk("data-mat-icon-type",Ye._usingFontIcon()?"font":"svg")("data-mat-icon-name",Ye._svgName||Ye.fontIcon)("data-mat-icon-namespace",Ye._svgNamespace||Ye.fontSet),E.ekj("mat-icon-inline",Ye.inline)("mat-icon-no-color","primary"!==Ye.color&&"accent"!==Ye.color&&"warn"!==Ye.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[E.qOj],ngContentSelectors:Pe,decls:1,vars:0,template:function(mt,Ye){1&mt&&(E.F$t(),E.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),Rt})(),ti=(()=>{class Rt{}return Rt.\u0275fac=function(mt){return new(mt||Rt)},Rt.\u0275mod=E.oAB({type:Rt}),Rt.\u0275inj=E.cJS({imports:[[m.BQ],m.BQ]}),Rt})()},77531:(B,K,f)=>{"use strict";f.d(K,{Jk:()=>ue,Nt:()=>Pe,c:()=>Ue});var E=f(63191),m=f(70925),t=f(5e3),e=f(93075),n=f(90508),a=f(67322),u=f(77579),C=f(60515);const D=(0,m.i$)({passive:!0});let F=(()=>{class Se{constructor(se,me){this._platform=se,this._ngZone=me,this._monitoredElements=new Map}monitor(se){if(!this._platform.isBrowser)return C.E;const me=(0,E.fI)(se),ce=this._monitoredElements.get(me);if(ce)return ce.subject;const Ne=new u.x,Ae="cdk-text-field-autofilled",Ce=de=>{"cdk-text-field-autofill-start"!==de.animationName||me.classList.contains(Ae)?"cdk-text-field-autofill-end"===de.animationName&&me.classList.contains(Ae)&&(me.classList.remove(Ae),this._ngZone.run(()=>Ne.next({target:de.target,isAutofilled:!1}))):(me.classList.add(Ae),this._ngZone.run(()=>Ne.next({target:de.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{me.addEventListener("animationstart",Ce,D),me.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(me,{subject:Ne,unlisten:()=>{me.removeEventListener("animationstart",Ce,D)}}),Ne}stopMonitoring(se){const me=(0,E.fI)(se),ce=this._monitoredElements.get(me);ce&&(ce.unlisten(),ce.subject.complete(),me.classList.remove("cdk-text-field-autofill-monitored"),me.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(me))}ngOnDestroy(){this._monitoredElements.forEach((se,me)=>this.stopMonitoring(me))}}return Se.\u0275fac=function(se){return new(se||Se)(t.LFG(m.t4),t.LFG(t.R0b))},Se.\u0275prov=t.Yz7({token:Se,factory:Se.\u0275fac,providedIn:"root"}),Se})(),oe=(()=>{class Se{}return Se.\u0275fac=function(se){return new(se||Se)},Se.\u0275mod=t.oAB({type:Se}),Se.\u0275inj=t.cJS({imports:[[m.ud]]}),Se})();const ue=new t.OlP("MAT_INPUT_VALUE_ACCESSOR"),Te=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let le=0;const _e=(0,n.FD)(class{constructor(Se,ve,se,me){this._defaultErrorStateMatcher=Se,this._parentForm=ve,this._parentFormGroup=se,this.ngControl=me}});let Pe=(()=>{class Se extends _e{constructor(se,me,ce,Ne,Ae,Ce,de,re,ot,ze){super(Ce,Ne,Ae,ce),this._elementRef=se,this._platform=me,this._autofillMonitor=re,this._formField=ze,this._uid="mat-input-"+le++,this.focused=!1,this.stateChanges=new u.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(pt=>(0,m.qK)().has(pt));const De=this._elementRef.nativeElement,st=De.nodeName.toLowerCase();this._inputValueAccessor=de||De,this._previousNativeValue=this.value,this.id=this.id,me.IOS&&ot.runOutsideAngular(()=>{se.nativeElement.addEventListener("keyup",pt=>{const dt=pt.target;!dt.value&&0===dt.selectionStart&&0===dt.selectionEnd&&(dt.setSelectionRange(1,1),dt.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===st,this._isTextarea="textarea"===st,this._isInFormField=!!ze,this._isNativeSelect&&(this.controlType=De.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(se){this._disabled=(0,E.Ig)(se),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(se){this._id=se||this._uid}get required(){var se,me,ce,Ne;return null!==(Ne=null!==(se=this._required)&&void 0!==se?se:null===(ce=null===(me=this.ngControl)||void 0===me?void 0:me.control)||void 0===ce?void 0:ce.hasValidator(e.kI.required))&&void 0!==Ne&&Ne}set required(se){this._required=(0,E.Ig)(se)}get type(){return this._type}set type(se){this._type=se||"text",this._validateType(),!this._isTextarea&&(0,m.qK)().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(se){se!==this.value&&(this._inputValueAccessor.value=se,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(se){this._readonly=(0,E.Ig)(se)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(se=>{this.autofilled=se.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(se){this._elementRef.nativeElement.focus(se)}_focusChanged(se){se!==this.focused&&(this.focused=se,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var se,me;const ce=(null===(me=null===(se=this._formField)||void 0===se?void 0:se._hideControlPlaceholder)||void 0===me?void 0:me.call(se))?null:this.placeholder;if(ce!==this._previousPlaceholder){const Ne=this._elementRef.nativeElement;this._previousPlaceholder=ce,ce?Ne.setAttribute("placeholder",ce):Ne.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const se=this._elementRef.nativeElement.value;this._previousNativeValue!==se&&(this._previousNativeValue=se,this.stateChanges.next())}_validateType(){Te.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let se=this._elementRef.nativeElement.validity;return se&&se.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const se=this._elementRef.nativeElement,me=se.options[0];return this.focused||se.multiple||!this.empty||!!(se.selectedIndex>-1&&me&&me.label)}return this.focused||!this.empty}setDescribedByIds(se){se.length?this._elementRef.nativeElement.setAttribute("aria-describedby",se.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const se=this._elementRef.nativeElement;return this._isNativeSelect&&(se.multiple||se.size>1)}}return Se.\u0275fac=function(se){return new(se||Se)(t.Y36(t.SBq),t.Y36(m.t4),t.Y36(e.a5,10),t.Y36(e.F,8),t.Y36(e.sg,8),t.Y36(n.rD),t.Y36(ue,10),t.Y36(F),t.Y36(t.R0b),t.Y36(a.G_,8))},Se.\u0275dir=t.lG2({type:Se,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(se,me){1&se&&t.NdJ("focus",function(){return me._focusChanged(!0)})("blur",function(){return me._focusChanged(!1)})("input",function(){return me._onInput()}),2&se&&(t.Ikx("disabled",me.disabled)("required",me.required),t.uIk("id",me.id)("data-placeholder",me.placeholder)("readonly",me.readonly&&!me._isNativeSelect||null)("aria-invalid",me.empty&&me.required?null:me.errorState)("aria-required",me.required),t.ekj("mat-input-server",me._isServer)("mat-native-select-inline",me._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[t._Bn([{provide:a.Eo,useExisting:Se}]),t.qOj,t.TTD]}),Se})(),Ue=(()=>{class Se{}return Se.\u0275fac=function(se){return new(se||Se)},Se.\u0275mod=t.oAB({type:Se}),Se.\u0275inj=t.cJS({providers:[n.rD],imports:[[oe,a.lN,n.BQ],oe,a.lN]}),Se})()},92181:(B,K,f)=>{"use strict";f.d(K,{VK:()=>Ye,Tx:()=>rt,p6:()=>wt});var E=f(15664),m=f(63191),t=f(91159),e=f(5e3),n=f(77579),a=f(50727),u=f(56451),C=f(39646),D=f(53101),F=f(68675),W=f(63900),te=f(95698),oe=f(39300),q=f(82722),ue=f(91005),Te=f(41777),le=f(47429),_e=f(69808),Pe=f(90508),Ue=f(91314),Se=f(70925),ve=f(50226),se=f(30495);const me=["mat-menu-item",""];function ce(tt,At){1&tt&&(e.O4$(),e.TgZ(0,"svg",2),e._UZ(1,"polygon",3),e.qZA())}const Ne=["*"];function Ae(tt,At){if(1&tt){const lt=e.EpF();e.TgZ(0,"div",0),e.NdJ("keydown",function(Et){return e.CHM(lt),e.oxw()._handleKeydown(Et)})("click",function(){return e.CHM(lt),e.oxw().closed.emit("click")})("@transformMenu.start",function(Et){return e.CHM(lt),e.oxw()._onAnimationStart(Et)})("@transformMenu.done",function(Et){return e.CHM(lt),e.oxw()._onAnimationDone(Et)}),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.qZA()}if(2&tt){const lt=e.oxw();e.Q6J("id",lt.panelId)("ngClass",lt._classList)("@transformMenu",lt._panelAnimationState),e.uIk("aria-label",lt.ariaLabel||null)("aria-labelledby",lt.ariaLabelledby||null)("aria-describedby",lt.ariaDescribedby||null)}}const Ce={transformMenu:(0,Te.X$)("transformMenu",[(0,Te.SB)("void",(0,Te.oB)({opacity:0,transform:"scale(0.8)"})),(0,Te.eR)("void => enter",(0,Te.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,Te.oB)({opacity:1,transform:"scale(1)"}))),(0,Te.eR)("* => void",(0,Te.jt)("100ms 25ms linear",(0,Te.oB)({opacity:0})))]),fadeInItems:(0,Te.X$)("fadeInItems",[(0,Te.SB)("showing",(0,Te.oB)({opacity:1})),(0,Te.eR)("void => *",[(0,Te.oB)({opacity:0}),(0,Te.jt)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},ot=new e.OlP("MatMenuContent"),kt=new e.OlP("MAT_MENU_PANEL"),oi=(0,Pe.Kr)((0,Pe.Id)(class{}));let bi=(()=>{class tt extends oi{constructor(lt,vt,Et,Ke,Ze){super(),this._elementRef=lt,this._focusMonitor=Et,this._parentMenu=Ke,this._changeDetectorRef=Ze,this.role="menuitem",this._hovered=new n.x,this._focused=new n.x,this._highlighted=!1,this._triggersSubmenu=!1,Ke&&Ke.addItem&&Ke.addItem(this)}focus(lt,vt){this._focusMonitor&&lt?this._focusMonitor.focusVia(this._getHostElement(),lt,vt):this._getHostElement().focus(vt),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(lt){this.disabled&&(lt.preventDefault(),lt.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var lt;const vt=this._elementRef.nativeElement.cloneNode(!0),Et=vt.querySelectorAll("mat-icon, .material-icons");for(let Ke=0;Ke<Et.length;Ke++)Et[Ke].remove();return(null===(lt=vt.textContent)||void 0===lt?void 0:lt.trim())||""}_setHighlighted(lt){var vt;this._highlighted=lt,null===(vt=this._changeDetectorRef)||void 0===vt||vt.markForCheck()}}return tt.\u0275fac=function(lt){return new(lt||tt)(e.Y36(e.SBq),e.Y36(_e.K0),e.Y36(E.tE),e.Y36(kt,8),e.Y36(e.sBO))},tt.\u0275cmp=e.Xpm({type:tt,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(lt,vt){1&lt&&e.NdJ("click",function(Ke){return vt._checkDisabled(Ke)})("mouseenter",function(){return vt._handleMouseEnter()}),2&lt&&(e.uIk("role",vt.role)("tabindex",vt._getTabIndex())("aria-disabled",vt.disabled.toString())("disabled",vt.disabled||null),e.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",vt._highlighted)("mat-menu-item-submenu-trigger",vt._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[e.qOj],attrs:me,ngContentSelectors:Ne,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(lt,vt){1&lt&&(e.F$t(),e.Hsn(0),e._UZ(1,"div",0),e.YNc(2,ce,2,0,"svg",1)),2&lt&&(e.xp6(1),e.Q6J("matRippleDisabled",vt.disableRipple||vt.disabled)("matRippleTrigger",vt._getHostElement()),e.xp6(1),e.Q6J("ngIf",vt._triggersSubmenu))},directives:[Pe.wG,_e.O5],encapsulation:2,changeDetection:0}),tt})();const ti=new e.OlP("mat-menu-default-options",{providedIn:"root",factory:function Rt(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ii=0,mt=(()=>{class tt{constructor(lt,vt,Et){this._elementRef=lt,this._ngZone=vt,this._defaultOptions=Et,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new e.n_E,this._tabSubscription=a.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new n.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new e.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+ii++}get xPosition(){return this._xPosition}set xPosition(lt){this._xPosition=lt,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(lt){this._yPosition=lt,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(lt){this._overlapTrigger=(0,m.Ig)(lt)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(lt){this._hasBackdrop=(0,m.Ig)(lt)}set panelClass(lt){const vt=this._previousPanelClass;vt&&vt.length&&vt.split(" ").forEach(Et=>{this._classList[Et]=!1}),this._previousPanelClass=lt,lt&&lt.length&&(lt.split(" ").forEach(Et=>{this._classList[Et]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(lt){this.panelClass=lt}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new E.Em(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,F.O)(this._directDescendantItems),(0,W.w)(lt=>(0,u.T)(...lt.map(vt=>vt._focused)))).subscribe(lt=>this._keyManager.updateActiveItem(lt))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe((0,F.O)(this._directDescendantItems),(0,W.w)(vt=>(0,u.T)(...vt.map(Et=>Et._hovered))))}addItem(lt){}removeItem(lt){}_handleKeydown(lt){const vt=lt.keyCode,Et=this._keyManager;switch(vt){case t.hY:(0,t.Vb)(lt)||(lt.preventDefault(),this.closed.emit("keydown"));break;case t.oh:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case t.SV:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(vt===t.LH||vt===t.JH)&&Et.setFocusOrigin("keyboard"),Et.onKeydown(lt)}}focusFirstItem(lt="program"){this.lazyContent?this._ngZone.onStable.pipe((0,te.q)(1)).subscribe(()=>this._focusFirstItem(lt)):this._focusFirstItem(lt)}_focusFirstItem(lt){const vt=this._keyManager;if(vt.setFocusOrigin(lt).setFirstItemActive(),!vt.activeItem&&this._directDescendantItems.length){let Et=this._directDescendantItems.first._getHostElement().parentElement;for(;Et;){if("menu"===Et.getAttribute("role")){Et.focus();break}Et=Et.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(lt){const vt=Math.min(this._baseElevation+lt,24),Et=`${this._elevationPrefix}${vt}`,Ke=Object.keys(this._classList).find(Ze=>Ze.startsWith(this._elevationPrefix));(!Ke||Ke===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[Et]=!0,this._previousElevation=Et)}setPositionClasses(lt=this.xPosition,vt=this.yPosition){const Et=this._classList;Et["mat-menu-before"]="before"===lt,Et["mat-menu-after"]="after"===lt,Et["mat-menu-above"]="above"===vt,Et["mat-menu-below"]="below"===vt}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(lt){this._animationDone.next(lt),this._isAnimating=!1}_onAnimationStart(lt){this._isAnimating=!0,"enter"===lt.toState&&0===this._keyManager.activeItemIndex&&(lt.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,F.O)(this._allItems)).subscribe(lt=>{this._directDescendantItems.reset(lt.filter(vt=>vt._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return tt.\u0275fac=function(lt){return new(lt||tt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ti))},tt.\u0275dir=e.lG2({type:tt,contentQueries:function(lt,vt,Et){if(1&lt&&(e.Suo(Et,ot,5),e.Suo(Et,bi,5),e.Suo(Et,bi,4)),2&lt){let Ke;e.iGM(Ke=e.CRH())&&(vt.lazyContent=Ke.first),e.iGM(Ke=e.CRH())&&(vt._allItems=Ke),e.iGM(Ke=e.CRH())&&(vt.items=Ke)}},viewQuery:function(lt,vt){if(1&lt&&e.Gf(e.Rgc,5),2&lt){let Et;e.iGM(Et=e.CRH())&&(vt.templateRef=Et.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),tt})(),Ye=(()=>{class tt extends mt{constructor(lt,vt,Et){super(lt,vt,Et),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return tt.\u0275fac=function(lt){return new(lt||tt)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(ti))},tt.\u0275cmp=e.Xpm({type:tt,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(lt,vt){2&lt&&e.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[e._Bn([{provide:kt,useExisting:tt}]),e.qOj],ngContentSelectors:Ne,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(lt,vt){1&lt&&(e.F$t(),e.YNc(0,Ae,3,6,"ng-template"))},directives:[_e.mk],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[Ce.transformMenu,Ce.fadeInItems]},changeDetection:0}),tt})();const Je=new e.OlP("mat-menu-scroll-strategy"),Re={provide:Je,deps:[Ue.aV],useFactory:function ut(tt){return()=>tt.scrollStrategies.reposition()}},zt=(0,Se.i$)({passive:!0});let gi=(()=>{class tt{constructor(lt,vt,Et,Ke,Ze,Wt,Kt,Ei){this._overlay=lt,this._element=vt,this._viewContainerRef=Et,this._menuItemInstance=Wt,this._dir=Kt,this._focusMonitor=Ei,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=a.w0.EMPTY,this._hoverSubscription=a.w0.EMPTY,this._menuCloseSubscription=a.w0.EMPTY,this._handleTouchStart=vi=>{(0,E.yG)(vi)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new e.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new e.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=Ke,this._parentMaterialMenu=Ze instanceof mt?Ze:void 0,vt.nativeElement.addEventListener("touchstart",this._handleTouchStart,zt),Wt&&(Wt._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(lt){this.menu=lt}get menu(){return this._menu}set menu(lt){lt!==this._menu&&(this._menu=lt,this._menuCloseSubscription.unsubscribe(),lt&&(this._menuCloseSubscription=lt.close.subscribe(vt=>{this._destroyMenu(vt),("click"===vt||"tab"===vt)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(vt)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,zt),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const lt=this._createOverlay(),vt=lt.getConfig();this._setPosition(vt.positionStrategy),vt.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,lt.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof mt&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(lt,vt){this._focusMonitor&&lt?this._focusMonitor.focusVia(this._element,lt,vt):this._element.nativeElement.focus(vt)}updatePosition(){var lt;null===(lt=this._overlayRef)||void 0===lt||lt.updatePosition()}_destroyMenu(lt){if(!this._overlayRef||!this.menuOpen)return;const vt=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===lt||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,vt instanceof mt?(vt._resetAnimation(),vt.lazyContent?vt._animationDone.pipe((0,oe.h)(Et=>"void"===Et.toState),(0,te.q)(1),(0,q.R)(vt.lazyContent._attached)).subscribe({next:()=>vt.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),vt.lazyContent&&vt.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let lt=0,vt=this.menu.parentMenu;for(;vt;)lt++,vt=vt.parentMenu;this.menu.setElevation(lt)}}_setIsMenuOpen(lt){this._menuOpen=lt,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(lt)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const lt=this._getOverlayConfig();this._subscribeToPositions(lt.positionStrategy),this._overlayRef=this._overlay.create(lt),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Ue.X_({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(lt){this.menu.setPositionClasses&&lt.positionChanges.subscribe(vt=>{this.menu.setPositionClasses("start"===vt.connectionPair.overlayX?"after":"before","top"===vt.connectionPair.overlayY?"below":"above")})}_setPosition(lt){let[vt,Et]="before"===this.menu.xPosition?["end","start"]:["start","end"],[Ke,Ze]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[Wt,Kt]=[Ke,Ze],[Ei,vi]=[vt,Et],pi=0;this.triggersSubmenu()?(vi=vt="before"===this.menu.xPosition?"start":"end",Et=Ei="end"===vt?"start":"end",pi="bottom"===Ke?8:-8):this.menu.overlapTrigger||(Wt="top"===Ke?"bottom":"top",Kt="top"===Ze?"bottom":"top"),lt.withPositions([{originX:vt,originY:Wt,overlayX:Ei,overlayY:Ke,offsetY:pi},{originX:Et,originY:Wt,overlayX:vi,overlayY:Ke,offsetY:pi},{originX:vt,originY:Kt,overlayX:Ei,overlayY:Ze,offsetY:-pi},{originX:Et,originY:Kt,overlayX:vi,overlayY:Ze,offsetY:-pi}])}_menuClosingActions(){const lt=this._overlayRef.backdropClick(),vt=this._overlayRef.detachments(),Et=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,C.of)(),Ke=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,oe.h)(Ze=>Ze!==this._menuItemInstance),(0,oe.h)(()=>this._menuOpen)):(0,C.of)();return(0,u.T)(lt,Et,Ke,vt)}_handleMousedown(lt){(0,E.X6)(lt)||(this._openedBy=0===lt.button?"mouse":void 0,this.triggersSubmenu()&&lt.preventDefault())}_handleKeydown(lt){const vt=lt.keyCode;(vt===t.K5||vt===t.L_)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(vt===t.SV&&"ltr"===this.dir||vt===t.oh&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(lt){this.triggersSubmenu()?(lt.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,oe.h)(lt=>lt===this._menuItemInstance&&!lt.disabled),(0,ue.g)(0,D.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof mt&&this.menu._isAnimating?this.menu._animationDone.pipe((0,te.q)(1),(0,ue.g)(0,D.E),(0,q.R)(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new le.UE(this.menu.templateRef,this._viewContainerRef)),this._portal}}return tt.\u0275fac=function(lt){return new(lt||tt)(e.Y36(Ue.aV),e.Y36(e.SBq),e.Y36(e.s_b),e.Y36(Je),e.Y36(kt,8),e.Y36(bi,10),e.Y36(ve.Is,8),e.Y36(E.tE))},tt.\u0275dir=e.lG2({type:tt,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(lt,vt){1&lt&&e.NdJ("click",function(Ke){return vt._handleClick(Ke)})("mousedown",function(Ke){return vt._handleMousedown(Ke)})("keydown",function(Ke){return vt._handleKeydown(Ke)}),2&lt&&e.uIk("aria-expanded",vt.menuOpen||null)("aria-controls",vt.menuOpen?vt.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),tt})(),wt=(()=>{class tt extends gi{}return tt.\u0275fac=function(){let At;return function(vt){return(At||(At=e.n5z(tt)))(vt||tt)}}(),tt.\u0275dir=e.lG2({type:tt,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[e.qOj]}),tt})(),rt=(()=>{class tt{}return tt.\u0275fac=function(lt){return new(lt||tt)},tt.\u0275mod=e.oAB({type:tt}),tt.\u0275inj=e.cJS({providers:[Re],imports:[[_e.ez,Pe.BQ,Pe.si,Ue.U8],se.ZD,Pe.BQ]}),tt})()},20773:(B,K,f)=>{"use strict";f.d(K,{Cq:()=>Ue,$g:()=>Pe});var E=f(5e3),m=f(69808),t=f(90508),e=f(63191),n=f(70925),a=f(76360);function u(Se,ve){if(1&Se&&(E.O4$(),E._UZ(0,"circle",3)),2&Se){const se=E.oxw();E.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+se._spinnerAnimationLabel)("stroke-dashoffset",se._getStrokeDashOffset(),"px")("stroke-dasharray",se._getStrokeCircumference(),"px")("stroke-width",se._getCircleStrokeWidth(),"%"),E.uIk("r",se._getCircleRadius())}}function C(Se,ve){if(1&Se&&(E.O4$(),E._UZ(0,"circle",3)),2&Se){const se=E.oxw();E.Udp("stroke-dashoffset",se._getStrokeDashOffset(),"px")("stroke-dasharray",se._getStrokeCircumference(),"px")("stroke-width",se._getCircleStrokeWidth(),"%"),E.uIk("r",se._getCircleRadius())}}function D(Se,ve){if(1&Se&&(E.O4$(),E._UZ(0,"circle",3)),2&Se){const se=E.oxw();E.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+se._spinnerAnimationLabel)("stroke-dashoffset",se._getStrokeDashOffset(),"px")("stroke-dasharray",se._getStrokeCircumference(),"px")("stroke-width",se._getCircleStrokeWidth(),"%"),E.uIk("r",se._getCircleRadius())}}function F(Se,ve){if(1&Se&&(E.O4$(),E._UZ(0,"circle",3)),2&Se){const se=E.oxw();E.Udp("stroke-dashoffset",se._getStrokeDashOffset(),"px")("stroke-dasharray",se._getStrokeCircumference(),"px")("stroke-width",se._getCircleStrokeWidth(),"%"),E.uIk("r",se._getCircleRadius())}}const q=(0,t.pj)(class{constructor(Se){this._elementRef=Se}},"primary"),ue=new E.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Te(){return{diameter:100}}});class _e extends q{constructor(ve,se,me,ce,Ne){super(ve),this._document=me,this._diameter=100,this._value=0,this.mode="determinate";const Ae=_e._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),Ae.has(me.head)||Ae.set(me.head,new Set([100])),this._noopAnimations="NoopAnimations"===ce&&!!Ne&&!Ne._forceAnimations,Ne&&(Ne.diameter&&(this.diameter=Ne.diameter),Ne.strokeWidth&&(this.strokeWidth=Ne.strokeWidth))}get diameter(){return this._diameter}set diameter(ve){this._diameter=(0,e.su)(ve),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(ve){this._strokeWidth=(0,e.su)(ve)}get value(){return"determinate"===this.mode?this._value:0}set value(ve){this._value=Math.max(0,Math.min(100,(0,e.su)(ve)))}ngOnInit(){const ve=this._elementRef.nativeElement;this._styleRoot=(0,n.kV)(ve)||this._document.head,this._attachStyleNode(),ve.classList.add("mat-progress-spinner-indeterminate-animation")}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const ve=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${ve} ${ve}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_attachStyleNode(){const ve=this._styleRoot,se=this._diameter,me=_e._diameters;let ce=me.get(ve);if(!ce||!ce.has(se)){const Ne=this._document.createElement("style");Ne.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),Ne.textContent=this._getAnimationText(),ve.appendChild(Ne),ce||(ce=new Set,me.set(ve,ce)),ce.add(se)}}_getAnimationText(){const ve=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*ve).replace(/END_VALUE/g,""+.2*ve).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}_e._diameters=new WeakMap,_e.\u0275fac=function(ve){return new(ve||_e)(E.Y36(E.SBq),E.Y36(n.t4),E.Y36(m.K0,8),E.Y36(a.Qb,8),E.Y36(ue))},_e.\u0275cmp=E.Xpm({type:_e,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(ve,se){2&ve&&(E.uIk("aria-valuemin","determinate"===se.mode?0:null)("aria-valuemax","determinate"===se.mode?100:null)("aria-valuenow","determinate"===se.mode?se.value:null)("mode",se.mode),E.Udp("width",se.diameter,"px")("height",se.diameter,"px"),E.ekj("_mat-animation-noopable",se._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[E.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(ve,se){1&ve&&(E.O4$(),E.TgZ(0,"svg",0),E.YNc(1,u,1,9,"circle",1),E.YNc(2,C,1,7,"circle",2),E.qZA()),2&ve&&(E.Udp("width",se.diameter,"px")("height",se.diameter,"px"),E.Q6J("ngSwitch","indeterminate"===se.mode),E.uIk("viewBox",se._getViewBox()),E.xp6(1),E.Q6J("ngSwitchCase",!0),E.xp6(1),E.Q6J("ngSwitchCase",!1))},directives:[m.RF,m.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0});let Pe=(()=>{class Se extends _e{constructor(se,me,ce,Ne,Ae){super(se,me,ce,Ne,Ae),this.mode="indeterminate"}}return Se.\u0275fac=function(se){return new(se||Se)(E.Y36(E.SBq),E.Y36(n.t4),E.Y36(m.K0,8),E.Y36(a.Qb,8),E.Y36(ue))},Se.\u0275cmp=E.Xpm({type:Se,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(se,me){2&se&&(E.Udp("width",me.diameter,"px")("height",me.diameter,"px"),E.ekj("_mat-animation-noopable",me._noopAnimations))},inputs:{color:"color"},features:[E.qOj],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(se,me){1&se&&(E.O4$(),E.TgZ(0,"svg",0),E.YNc(1,D,1,9,"circle",1),E.YNc(2,F,1,7,"circle",2),E.qZA()),2&se&&(E.Udp("width",me.diameter,"px")("height",me.diameter,"px"),E.Q6J("ngSwitch","indeterminate"===me.mode),E.uIk("viewBox",me._getViewBox()),E.xp6(1),E.Q6J("ngSwitchCase",!0),E.xp6(1),E.Q6J("ngSwitchCase",!1))},directives:[m.RF,m.n9],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}\n"],encapsulation:2,changeDetection:0}),Se})(),Ue=(()=>{class Se{}return Se.\u0275fac=function(se){return new(se||Se)},Se.\u0275mod=E.oAB({type:Se}),Se.\u0275inj=E.cJS({imports:[[t.BQ,m.ez],t.BQ]}),Se})()},57261:(B,K,f)=>{"use strict";f.d(K,{ux:()=>Ne,ZX:()=>se});var E=f(91314),m=f(47429),t=f(69808),e=f(5e3),n=f(90508),a=f(47423),u=f(77579),C=f(95698),D=f(82722),F=f(41777),W=f(70925),te=f(95113),oe=f(15664);function q(Ae,Ce){if(1&Ae){const de=e.EpF();e.TgZ(0,"div",1),e.TgZ(1,"button",2),e.NdJ("click",function(){return e.CHM(de),e.oxw().action()}),e._uU(2),e.qZA(),e.qZA()}if(2&Ae){const de=e.oxw();e.xp6(2),e.Oqu(de.data.action)}}function ue(Ae,Ce){}const Te=new e.OlP("MatSnackBarData");class le{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const _e=Math.pow(2,31)-1;class Pe{constructor(Ce,de){this._overlayRef=de,this._afterDismissed=new u.x,this._afterOpened=new u.x,this._onAction=new u.x,this._dismissedByAction=!1,this.containerInstance=Ce,this.onAction().subscribe(()=>this.dismiss()),Ce._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(Ce){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(Ce,_e))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Ue=(()=>{class Ae{constructor(de,re){this.snackBarRef=de,this.data=re}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return Ae.\u0275fac=function(de){return new(de||Ae)(e.Y36(Pe),e.Y36(Te))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(de,re){1&de&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e.YNc(2,q,3,1,"div",0)),2&de&&(e.xp6(1),e.Oqu(re.data.message),e.xp6(1),e.Q6J("ngIf",re.hasAction))},directives:[t.O5,a.lW],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),Ae})();const Se={snackBarState:(0,F.X$)("state",[(0,F.SB)("void, hidden",(0,F.oB)({transform:"scale(0.8)",opacity:0})),(0,F.SB)("visible",(0,F.oB)({transform:"scale(1)",opacity:1})),(0,F.eR)("* => visible",(0,F.jt)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,F.eR)("* => void, * => hidden",(0,F.jt)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,F.oB)({opacity:0})))])};let ve=(()=>{class Ae extends m.en{constructor(de,re,ot,ze,De){super(),this._ngZone=de,this._elementRef=re,this._changeDetectorRef=ot,this._platform=ze,this.snackBarConfig=De,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new u.x,this._onExit=new u.x,this._onEnter=new u.x,this._animationState="void",this.attachDomPortal=st=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(st)),this._live="assertive"!==De.politeness||De.announcementMessage?"off"===De.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(de){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(de)}attachTemplatePortal(de){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(de)}onAnimationEnd(de){const{fromState:re,toState:ot}=de;if(("void"===ot&&"void"!==re||"hidden"===ot)&&this._completeExit(),"visible"===ot){const ze=this._onEnter;this._ngZone.run(()=>{ze.next(),ze.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe((0,C.q)(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const de=this._elementRef.nativeElement,re=this.snackBarConfig.panelClass;re&&(Array.isArray(re)?re.forEach(ot=>de.classList.add(ot)):de.classList.add(re)),"center"===this.snackBarConfig.horizontalPosition&&de.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&de.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const de=this._elementRef.nativeElement.querySelector("[aria-hidden]"),re=this._elementRef.nativeElement.querySelector("[aria-live]");if(de&&re){let ot=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&de.contains(document.activeElement)&&(ot=document.activeElement),de.removeAttribute("aria-hidden"),re.appendChild(de),null==ot||ot.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return Ae.\u0275fac=function(de){return new(de||Ae)(e.Y36(e.R0b),e.Y36(e.SBq),e.Y36(e.sBO),e.Y36(W.t4),e.Y36(le))},Ae.\u0275cmp=e.Xpm({type:Ae,selectors:[["snack-bar-container"]],viewQuery:function(de,re){if(1&de&&e.Gf(m.Pl,7),2&de){let ot;e.iGM(ot=e.CRH())&&(re._portalOutlet=ot.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(de,re){1&de&&e.WFA("@state.done",function(ze){return re.onAnimationEnd(ze)}),2&de&&e.d8E("@state",re._animationState)},features:[e.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(de,re){1&de&&(e.TgZ(0,"div",0),e.YNc(1,ue,0,0,"ng-template",1),e.qZA(),e._UZ(2,"div")),2&de&&(e.xp6(2),e.uIk("aria-live",re._live)("role",re._role))},directives:[m.Pl],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Se.snackBarState]}}),Ae})(),se=(()=>{class Ae{}return Ae.\u0275fac=function(de){return new(de||Ae)},Ae.\u0275mod=e.oAB({type:Ae}),Ae.\u0275inj=e.cJS({imports:[[E.U8,m.eL,t.ez,a.ot,n.BQ],n.BQ]}),Ae})();const me=new e.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function ce(){return new le}});let Ne=(()=>{class Ae{constructor(de,re,ot,ze,De,st){this._overlay=de,this._live=re,this._injector=ot,this._breakpointObserver=ze,this._parentSnackBar=De,this._defaultConfig=st,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Ue,this.snackBarContainerComponent=ve,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const de=this._parentSnackBar;return de?de._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(de){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=de:this._snackBarRefAtThisLevel=de}openFromComponent(de,re){return this._attach(de,re)}openFromTemplate(de,re){return this._attach(de,re)}open(de,re="",ot){const ze=Object.assign(Object.assign({},this._defaultConfig),ot);return ze.data={message:de,action:re},ze.announcementMessage===de&&(ze.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,ze)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(de,re){const ze=e.zs3.create({parent:re&&re.viewContainerRef&&re.viewContainerRef.injector||this._injector,providers:[{provide:le,useValue:re}]}),De=new m.C5(this.snackBarContainerComponent,re.viewContainerRef,ze),st=de.attach(De);return st.instance.snackBarConfig=re,st.instance}_attach(de,re){const ot=Object.assign(Object.assign(Object.assign({},new le),this._defaultConfig),re),ze=this._createOverlay(ot),De=this._attachSnackBarContainer(ze,ot),st=new Pe(De,ze);if(de instanceof e.Rgc){const pt=new m.UE(de,null,{$implicit:ot.data,snackBarRef:st});st.instance=De.attachTemplatePortal(pt)}else{const pt=this._createInjector(ot,st),dt=new m.C5(de,void 0,pt),Ot=De.attachComponentPortal(dt);st.instance=Ot.instance}return this._breakpointObserver.observe(te.u3.HandsetPortrait).pipe((0,D.R)(ze.detachments())).subscribe(pt=>{ze.overlayElement.classList.toggle(this.handsetCssClass,pt.matches)}),ot.announcementMessage&&De._onAnnounce.subscribe(()=>{this._live.announce(ot.announcementMessage,ot.politeness)}),this._animateSnackBar(st,ot),this._openedSnackBarRef=st,this._openedSnackBarRef}_animateSnackBar(de,re){de.afterDismissed().subscribe(()=>{this._openedSnackBarRef==de&&(this._openedSnackBarRef=null),re.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{de.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):de.containerInstance.enter(),re.duration&&re.duration>0&&de.afterOpened().subscribe(()=>de._dismissAfter(re.duration))}_createOverlay(de){const re=new E.X_;re.direction=de.direction;let ot=this._overlay.position().global();const ze="rtl"===de.direction,De="left"===de.horizontalPosition||"start"===de.horizontalPosition&&!ze||"end"===de.horizontalPosition&&ze,st=!De&&"center"!==de.horizontalPosition;return De?ot.left("0"):st?ot.right("0"):ot.centerHorizontally(),"top"===de.verticalPosition?ot.top("0"):ot.bottom("0"),re.positionStrategy=ot,this._overlay.create(re)}_createInjector(de,re){return e.zs3.create({parent:de&&de.viewContainerRef&&de.viewContainerRef.injector||this._injector,providers:[{provide:Pe,useValue:re},{provide:Te,useValue:de.data}]})}}return Ae.\u0275fac=function(de){return new(de||Ae)(e.LFG(E.aV),e.LFG(oe.Kd),e.LFG(e.zs3),e.LFG(te.Yg),e.LFG(Ae,12),e.LFG(me))},Ae.\u0275prov=e.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:se}),Ae})()},53251:(B,K,f)=>{"use strict";f.d(K,{uX:()=>gi,SP:()=>Mt,uD:()=>Re,Nh:()=>ai});var E=f(15664),m=f(17144),t=f(47429),e=f(69808),n=f(5e3),a=f(90508),u=f(76360),C=f(77579),D=f(50727),F=f(54968),W=f(39646),te=f(56451),oe=f(5963),q=f(41777),ue=f(68675),Te=f(71884),le=f(82722),_e=f(50226),Pe=f(63191),Ue=f(91159),Se=f(70925),ve=f(30495);function se(Tt,He){1&Tt&&n.Hsn(0)}const me=["*"];function ce(Tt,He){}const Ne=function(Tt){return{animationDuration:Tt}},Ae=function(Tt,He){return{value:Tt,params:He}},Ce=["tabListContainer"],de=["tabList"],re=["tabListInner"],ot=["nextPaginator"],ze=["previousPaginator"],De=["tabBodyWrapper"],st=["tabHeader"];function pt(Tt,He){}function dt(Tt,He){if(1&Tt&&n.YNc(0,pt,0,0,"ng-template",9),2&Tt){const Ee=n.oxw().$implicit;n.Q6J("cdkPortalOutlet",Ee.templateLabel)}}function Ot(Tt,He){if(1&Tt&&n._uU(0),2&Tt){const Ee=n.oxw().$implicit;n.Oqu(Ee.textLabel)}}function kt(Tt,He){if(1&Tt){const Ee=n.EpF();n.TgZ(0,"div",6),n.NdJ("click",function(){const gt=n.CHM(Ee),Ut=gt.$implicit,Xi=gt.index,ln=n.oxw(),An=n.MAs(1);return ln._handleClick(Ut,An,Xi)})("cdkFocusChange",function(gt){const Xi=n.CHM(Ee).index;return n.oxw()._tabFocusChanged(gt,Xi)}),n.TgZ(1,"div",7),n.YNc(2,dt,1,1,"ng-template",8),n.YNc(3,Ot,1,1,"ng-template",8),n.qZA(),n.qZA()}if(2&Tt){const Ee=He.$implicit,Ve=He.index,gt=n.oxw();n.ekj("mat-tab-label-active",gt.selectedIndex==Ve),n.Q6J("id",gt._getTabLabelId(Ve))("disabled",Ee.disabled)("matRippleDisabled",Ee.disabled||gt.disableRipple),n.uIk("tabIndex",gt._getTabIndex(Ee,Ve))("aria-posinset",Ve+1)("aria-setsize",gt._tabs.length)("aria-controls",gt._getTabContentId(Ve))("aria-selected",gt.selectedIndex==Ve)("aria-label",Ee.ariaLabel||null)("aria-labelledby",!Ee.ariaLabel&&Ee.ariaLabelledby?Ee.ariaLabelledby:null),n.xp6(2),n.Q6J("ngIf",Ee.templateLabel),n.xp6(1),n.Q6J("ngIf",!Ee.templateLabel)}}function oi(Tt,He){if(1&Tt){const Ee=n.EpF();n.TgZ(0,"mat-tab-body",10),n.NdJ("_onCentered",function(){return n.CHM(Ee),n.oxw()._removeTabBodyWrapperHeight()})("_onCentering",function(gt){return n.CHM(Ee),n.oxw()._setTabBodyWrapperHeight(gt)}),n.qZA()}if(2&Tt){const Ee=He.$implicit,Ve=He.index,gt=n.oxw();n.ekj("mat-tab-body-active",gt.selectedIndex===Ve),n.Q6J("id",gt._getTabContentId(Ve))("content",Ee.content)("position",Ee.position)("origin",Ee.origin)("animationDuration",gt.animationDuration),n.uIk("tabindex",null!=gt.contentTabIndex&&gt.selectedIndex===Ve?gt.contentTabIndex:null)("aria-labelledby",gt._getTabLabelId(Ve))}}const ti=new n.OlP("MatInkBarPositioner",{providedIn:"root",factory:function Rt(){return He=>({left:He?(He.offsetLeft||0)+"px":"0",width:He?(He.offsetWidth||0)+"px":"0"})}});let ii=(()=>{class Tt{constructor(Ee,Ve,gt,Ut){this._elementRef=Ee,this._ngZone=Ve,this._inkBarPositioner=gt,this._animationMode=Ut}alignToElement(Ee){this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._setStyles(Ee))}):this._setStyles(Ee)}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}_setStyles(Ee){const Ve=this._inkBarPositioner(Ee),gt=this._elementRef.nativeElement;gt.style.left=Ve.left,gt.style.width=Ve.width}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq),n.Y36(n.R0b),n.Y36(ti),n.Y36(u.Qb,8))},Tt.\u0275dir=n.lG2({type:Tt,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(Ee,Ve){2&Ee&&n.ekj("_mat-animation-noopable","NoopAnimations"===Ve._animationMode)}}),Tt})();const mt=new n.OlP("MatTabContent"),Je=new n.OlP("MatTabLabel"),ut=new n.OlP("MAT_TAB");let Re=(()=>{class Tt extends t.ig{constructor(Ee,Ve,gt){super(Ee,Ve),this._closestTab=gt}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.Rgc),n.Y36(n.s_b),n.Y36(ut,8))},Tt.\u0275dir=n.lG2({type:Tt,selectors:[["","mat-tab-label",""],["","matTabLabel",""]],features:[n._Bn([{provide:Je,useExisting:Tt}]),n.qOj]}),Tt})();const yt=(0,a.Id)(class{}),zt=new n.OlP("MAT_TAB_GROUP");let gi=(()=>{class Tt extends yt{constructor(Ee,Ve){super(),this._viewContainerRef=Ee,this._closestTabGroup=Ve,this.textLabel="",this._contentPortal=null,this._stateChanges=new C.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(Ee){this._setTemplateLabelInput(Ee)}get content(){return this._contentPortal}ngOnChanges(Ee){(Ee.hasOwnProperty("textLabel")||Ee.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new t.UE(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(Ee){Ee&&Ee._closestTab===this&&(this._templateLabel=Ee)}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.s_b),n.Y36(zt,8))},Tt.\u0275cmp=n.Xpm({type:Tt,selectors:[["mat-tab"]],contentQueries:function(Ee,Ve,gt){if(1&Ee&&(n.Suo(gt,Je,5),n.Suo(gt,mt,7,n.Rgc)),2&Ee){let Ut;n.iGM(Ut=n.CRH())&&(Ve.templateLabel=Ut.first),n.iGM(Ut=n.CRH())&&(Ve._explicitContent=Ut.first)}},viewQuery:function(Ee,Ve){if(1&Ee&&n.Gf(n.Rgc,7),2&Ee){let gt;n.iGM(gt=n.CRH())&&(Ve._implicitContent=gt.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[n._Bn([{provide:ut,useExisting:Tt}]),n.qOj,n.TTD],ngContentSelectors:me,decls:1,vars:0,template:function(Ee,Ve){1&Ee&&(n.F$t(),n.YNc(0,se,1,0,"ng-template"))},encapsulation:2}),Tt})();const wt={translateTab:(0,q.X$)("translateTab",[(0,q.SB)("center, void, left-origin-center, right-origin-center",(0,q.oB)({transform:"none"})),(0,q.SB)("left",(0,q.oB)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),(0,q.SB)("right",(0,q.oB)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),(0,q.eR)("* => left, * => right, left => center, right => center",(0,q.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),(0,q.eR)("void => left-origin-center",[(0,q.oB)({transform:"translate3d(-100%, 0, 0)"}),(0,q.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),(0,q.eR)("void => right-origin-center",[(0,q.oB)({transform:"translate3d(100%, 0, 0)"}),(0,q.jt)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let rt=(()=>{class Tt extends t.Pl{constructor(Ee,Ve,gt,Ut){super(Ee,Ve,Ut),this._host=gt,this._centeringSub=D.w0.EMPTY,this._leavingSub=D.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe((0,ue.O)(this._host._isCenterPosition(this._host._position))).subscribe(Ee=>{Ee&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n._Vd),n.Y36(n.s_b),n.Y36((0,n.Gpc)(()=>At)),n.Y36(e.K0))},Tt.\u0275dir=n.lG2({type:Tt,selectors:[["","matTabBodyHost",""]],features:[n.qOj]}),Tt})(),tt=(()=>{class Tt{constructor(Ee,Ve,gt){this._elementRef=Ee,this._dir=Ve,this._dirChangeSubscription=D.w0.EMPTY,this._translateTabComplete=new C.x,this._onCentering=new n.vpe,this._beforeCentering=new n.vpe,this._afterLeavingCenter=new n.vpe,this._onCentered=new n.vpe(!0),this.animationDuration="500ms",Ve&&(this._dirChangeSubscription=Ve.change.subscribe(Ut=>{this._computePositionAnimationState(Ut),gt.markForCheck()})),this._translateTabComplete.pipe((0,Te.x)((Ut,Xi)=>Ut.fromState===Xi.fromState&&Ut.toState===Xi.toState)).subscribe(Ut=>{this._isCenterPosition(Ut.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(Ut.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(Ee){this._positionIndex=Ee,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(Ee){const Ve=this._isCenterPosition(Ee.toState);this._beforeCentering.emit(Ve),Ve&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(Ee){return"center"==Ee||"left-origin-center"==Ee||"right-origin-center"==Ee}_computePositionAnimationState(Ee=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==Ee?"left":"right":this._positionIndex>0?"ltr"==Ee?"right":"left":"center"}_computePositionFromOrigin(Ee){const Ve=this._getLayoutDirection();return"ltr"==Ve&&Ee<=0||"rtl"==Ve&&Ee>0?"left-origin-center":"right-origin-center"}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq),n.Y36(_e.Is,8),n.Y36(n.sBO))},Tt.\u0275dir=n.lG2({type:Tt,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),Tt})(),At=(()=>{class Tt extends tt{constructor(Ee,Ve,gt){super(Ee,Ve,gt)}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq),n.Y36(_e.Is,8),n.Y36(n.sBO))},Tt.\u0275cmp=n.Xpm({type:Tt,selectors:[["mat-tab-body"]],viewQuery:function(Ee,Ve){if(1&Ee&&n.Gf(t.Pl,5),2&Ee){let gt;n.iGM(gt=n.CRH())&&(Ve._portalHost=gt.first)}},hostAttrs:[1,"mat-tab-body"],features:[n.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(Ee,Ve){1&Ee&&(n.TgZ(0,"div",0,1),n.NdJ("@translateTab.start",function(Ut){return Ve._onTranslateTabStarted(Ut)})("@translateTab.done",function(Ut){return Ve._translateTabComplete.next(Ut)}),n.YNc(2,ce,0,0,"ng-template",2),n.qZA()),2&Ee&&n.Q6J("@translateTab",n.WLB(3,Ae,Ve._position,n.VKq(1,Ne,Ve.animationDuration)))},directives:[rt],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[wt.translateTab]}}),Tt})();const lt=new n.OlP("MAT_TABS_CONFIG"),vt=(0,a.Id)(class{});let Et=(()=>{class Tt extends vt{constructor(Ee){super(),this.elementRef=Ee}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq))},Tt.\u0275dir=n.lG2({type:Tt,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(Ee,Ve){2&Ee&&(n.uIk("aria-disabled",!!Ve.disabled),n.ekj("mat-tab-disabled",Ve.disabled))},inputs:{disabled:"disabled"},features:[n.qOj]}),Tt})();const Ke=(0,Se.i$)({passive:!0});let Ei=(()=>{class Tt{constructor(Ee,Ve,gt,Ut,Xi,ln,An){this._elementRef=Ee,this._changeDetectorRef=Ve,this._viewportRuler=gt,this._dir=Ut,this._ngZone=Xi,this._platform=ln,this._animationMode=An,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new C.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new C.x,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new n.vpe,this.indexFocused=new n.vpe,Xi.runOutsideAngular(()=>{(0,F.R)(Ee.nativeElement,"mouseleave").pipe((0,le.R)(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get selectedIndex(){return this._selectedIndex}set selectedIndex(Ee){Ee=(0,Pe.su)(Ee),this._selectedIndex!=Ee&&(this._selectedIndexChanged=!0,this._selectedIndex=Ee,this._keyManager&&this._keyManager.updateActiveItem(Ee))}ngAfterViewInit(){(0,F.R)(this._previousPaginator.nativeElement,"touchstart",Ke).pipe((0,le.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),(0,F.R)(this._nextPaginator.nativeElement,"touchstart",Ke).pipe((0,le.R)(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const Ee=this._dir?this._dir.change:(0,W.of)("ltr"),Ve=this._viewportRuler.change(150),gt=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new E.Em(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(gt):gt(),(0,te.T)(Ee,Ve,this._items.changes).pipe((0,le.R)(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>Promise.resolve().then(gt)),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe((0,le.R)(this._destroyed)).subscribe(Ut=>{this.indexFocused.emit(Ut),this._setTabFocus(Ut)})}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(Ee){if(!(0,Ue.Vb)(Ee))switch(Ee.keyCode){case Ue.K5:case Ue.L_:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(Ee));break;default:this._keyManager.onKeydown(Ee)}}_onContentChanges(){const Ee=this._elementRef.nativeElement.textContent;Ee!==this._currentTextContent&&(this._currentTextContent=Ee||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(Ee){!this._isValidIndex(Ee)||this.focusIndex===Ee||!this._keyManager||this._keyManager.setActiveItem(Ee)}_isValidIndex(Ee){if(!this._items)return!0;const Ve=this._items?this._items.toArray()[Ee]:null;return!!Ve&&!Ve.disabled}_setTabFocus(Ee){if(this._showPaginationControls&&this._scrollToLabel(Ee),this._items&&this._items.length){this._items.toArray()[Ee].focus();const Ve=this._tabListContainer.nativeElement;Ve.scrollLeft="ltr"==this._getLayoutDirection()?0:Ve.scrollWidth-Ve.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const Ee=this.scrollDistance,Ve="ltr"===this._getLayoutDirection()?-Ee:Ee;this._tabList.nativeElement.style.transform=`translateX(${Math.round(Ve)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(Ee){this._scrollTo(Ee)}_scrollHeader(Ee){return this._scrollTo(this._scrollDistance+("before"==Ee?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(Ee){this._stopInterval(),this._scrollHeader(Ee)}_scrollToLabel(Ee){if(this.disablePagination)return;const Ve=this._items?this._items.toArray()[Ee]:null;if(!Ve)return;const gt=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:Ut,offsetWidth:Xi}=Ve.elementRef.nativeElement;let ln,An;"ltr"==this._getLayoutDirection()?(ln=Ut,An=ln+Xi):(An=this._tabListInner.nativeElement.offsetWidth-Ut,ln=An-Xi);const qn=this.scrollDistance,si=this.scrollDistance+gt;ln<qn?this.scrollDistance-=qn-ln+60:An>si&&(this.scrollDistance+=An-si+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const Ee=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;Ee||(this.scrollDistance=0),Ee!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=Ee}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const Ee=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,Ve=Ee?Ee.elementRef.nativeElement:null;Ve?this._inkBar.alignToElement(Ve):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(Ee,Ve){Ve&&null!=Ve.button&&0!==Ve.button||(this._stopInterval(),(0,oe.H)(650,100).pipe((0,le.R)((0,te.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:gt,distance:Ut}=this._scrollHeader(Ee);(0===Ut||Ut>=gt)&&this._stopInterval()}))}_scrollTo(Ee){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const Ve=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(Ve,Ee)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:Ve,distance:this._scrollDistance}}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(ve.rL),n.Y36(_e.Is,8),n.Y36(n.R0b),n.Y36(Se.t4),n.Y36(u.Qb,8))},Tt.\u0275dir=n.lG2({type:Tt,inputs:{disablePagination:"disablePagination"}}),Tt})(),vi=(()=>{class Tt extends Ei{constructor(Ee,Ve,gt,Ut,Xi,ln,An){super(Ee,Ve,gt,Ut,Xi,ln,An),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(Ee){this._disableRipple=(0,Pe.Ig)(Ee)}_itemSelected(Ee){Ee.preventDefault()}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(ve.rL),n.Y36(_e.Is,8),n.Y36(n.R0b),n.Y36(Se.t4),n.Y36(u.Qb,8))},Tt.\u0275dir=n.lG2({type:Tt,inputs:{disableRipple:"disableRipple"},features:[n.qOj]}),Tt})(),pi=(()=>{class Tt extends vi{constructor(Ee,Ve,gt,Ut,Xi,ln,An){super(Ee,Ve,gt,Ut,Xi,ln,An)}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(ve.rL),n.Y36(_e.Is,8),n.Y36(n.R0b),n.Y36(Se.t4),n.Y36(u.Qb,8))},Tt.\u0275cmp=n.Xpm({type:Tt,selectors:[["mat-tab-header"]],contentQueries:function(Ee,Ve,gt){if(1&Ee&&n.Suo(gt,Et,4),2&Ee){let Ut;n.iGM(Ut=n.CRH())&&(Ve._items=Ut)}},viewQuery:function(Ee,Ve){if(1&Ee&&(n.Gf(ii,7),n.Gf(Ce,7),n.Gf(de,7),n.Gf(re,7),n.Gf(ot,5),n.Gf(ze,5)),2&Ee){let gt;n.iGM(gt=n.CRH())&&(Ve._inkBar=gt.first),n.iGM(gt=n.CRH())&&(Ve._tabListContainer=gt.first),n.iGM(gt=n.CRH())&&(Ve._tabList=gt.first),n.iGM(gt=n.CRH())&&(Ve._tabListInner=gt.first),n.iGM(gt=n.CRH())&&(Ve._nextPaginator=gt.first),n.iGM(gt=n.CRH())&&(Ve._previousPaginator=gt.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(Ee,Ve){2&Ee&&n.ekj("mat-tab-header-pagination-controls-enabled",Ve._showPaginationControls)("mat-tab-header-rtl","rtl"==Ve._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[n.qOj],ngContentSelectors:me,decls:14,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(Ee,Ve){1&Ee&&(n.F$t(),n.TgZ(0,"div",0,1),n.NdJ("click",function(){return Ve._handlePaginatorClick("before")})("mousedown",function(Ut){return Ve._handlePaginatorPress("before",Ut)})("touchend",function(){return Ve._stopInterval()}),n._UZ(2,"div",2),n.qZA(),n.TgZ(3,"div",3,4),n.NdJ("keydown",function(Ut){return Ve._handleKeydown(Ut)}),n.TgZ(5,"div",5,6),n.NdJ("cdkObserveContent",function(){return Ve._onContentChanges()}),n.TgZ(7,"div",7,8),n.Hsn(9),n.qZA(),n._UZ(10,"mat-ink-bar"),n.qZA(),n.qZA(),n.TgZ(11,"div",9,10),n.NdJ("mousedown",function(Ut){return Ve._handlePaginatorPress("after",Ut)})("click",function(){return Ve._handlePaginatorClick("after")})("touchend",function(){return Ve._stopInterval()}),n._UZ(13,"div",2),n.qZA()),2&Ee&&(n.ekj("mat-tab-header-pagination-disabled",Ve._disableScrollBefore),n.Q6J("matRippleDisabled",Ve._disableScrollBefore||Ve.disableRipple),n.xp6(5),n.ekj("_mat-animation-noopable","NoopAnimations"===Ve._animationMode),n.xp6(6),n.ekj("mat-tab-header-pagination-disabled",Ve._disableScrollAfter),n.Q6J("matRippleDisabled",Ve._disableScrollAfter||Ve.disableRipple))},directives:[a.wG,m.wD,ii],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),Tt})(),Gi=0;class Di{}const an=(0,a.pj)((0,a.Kr)(class{constructor(Tt){this._elementRef=Tt}}),"primary");let _t=(()=>{class Tt extends an{constructor(Ee,Ve,gt,Ut){var Xi;super(Ee),this._changeDetectorRef=Ve,this._animationMode=Ut,this._tabs=new n.n_E,this._indexToSelect=0,this._tabBodyWrapperHeight=0,this._tabsSubscription=D.w0.EMPTY,this._tabLabelSubscription=D.w0.EMPTY,this._selectedIndex=null,this.headerPosition="above",this.selectedIndexChange=new n.vpe,this.focusChange=new n.vpe,this.animationDone=new n.vpe,this.selectedTabChange=new n.vpe(!0),this._groupId=Gi++,this.animationDuration=gt&&gt.animationDuration?gt.animationDuration:"500ms",this.disablePagination=!(!gt||null==gt.disablePagination)&&gt.disablePagination,this.dynamicHeight=!(!gt||null==gt.dynamicHeight)&&gt.dynamicHeight,this.contentTabIndex=null!==(Xi=null==gt?void 0:gt.contentTabIndex)&&void 0!==Xi?Xi:null}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(Ee){this._dynamicHeight=(0,Pe.Ig)(Ee)}get selectedIndex(){return this._selectedIndex}set selectedIndex(Ee){this._indexToSelect=(0,Pe.su)(Ee,null)}get animationDuration(){return this._animationDuration}set animationDuration(Ee){this._animationDuration=/^\d+$/.test(Ee)?Ee+"ms":Ee}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(Ee){this._contentTabIndex=(0,Pe.su)(Ee,null)}get backgroundColor(){return this._backgroundColor}set backgroundColor(Ee){const Ve=this._elementRef.nativeElement;Ve.classList.remove(`mat-background-${this.backgroundColor}`),Ee&&Ve.classList.add(`mat-background-${Ee}`),this._backgroundColor=Ee}ngAfterContentChecked(){const Ee=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=Ee){const Ve=null==this._selectedIndex;if(!Ve){this.selectedTabChange.emit(this._createChangeEvent(Ee));const gt=this._tabBodyWrapper.nativeElement;gt.style.minHeight=gt.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((gt,Ut)=>gt.isActive=Ut===Ee),Ve||(this.selectedIndexChange.emit(Ee),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((Ve,gt)=>{Ve.position=gt-Ee,null!=this._selectedIndex&&0==Ve.position&&!Ve.origin&&(Ve.origin=Ee-this._selectedIndex)}),this._selectedIndex!==Ee&&(this._selectedIndex=Ee,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{if(this._clampTabIndex(this._indexToSelect)===this._selectedIndex){const Ve=this._tabs.toArray();for(let gt=0;gt<Ve.length;gt++)if(Ve[gt].isActive){this._indexToSelect=this._selectedIndex=gt;break}}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe((0,ue.O)(this._allTabs)).subscribe(Ee=>{this._tabs.reset(Ee.filter(Ve=>Ve._closestTabGroup===this||!Ve._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}focusTab(Ee){const Ve=this._tabHeader;Ve&&(Ve.focusIndex=Ee)}_focusChanged(Ee){this.focusChange.emit(this._createChangeEvent(Ee))}_createChangeEvent(Ee){const Ve=new Di;return Ve.index=Ee,this._tabs&&this._tabs.length&&(Ve.tab=this._tabs.toArray()[Ee]),Ve}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,te.T)(...this._tabs.map(Ee=>Ee._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(Ee){return Math.min(this._tabs.length-1,Math.max(Ee||0,0))}_getTabLabelId(Ee){return`mat-tab-label-${this._groupId}-${Ee}`}_getTabContentId(Ee){return`mat-tab-content-${this._groupId}-${Ee}`}_setTabBodyWrapperHeight(Ee){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const Ve=this._tabBodyWrapper.nativeElement;Ve.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(Ve.style.height=Ee+"px")}_removeTabBodyWrapperHeight(){const Ee=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=Ee.clientHeight,Ee.style.height="",this.animationDone.emit()}_handleClick(Ee,Ve,gt){Ee.disabled||(this.selectedIndex=Ve.focusIndex=gt)}_getTabIndex(Ee,Ve){return Ee.disabled?null:this.selectedIndex===Ve?0:-1}_tabFocusChanged(Ee,Ve){Ee&&"mouse"!==Ee&&"touch"!==Ee&&(this._tabHeader.focusIndex=Ve)}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(lt,8),n.Y36(u.Qb,8))},Tt.\u0275dir=n.lG2({type:Tt,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[n.qOj]}),Tt})(),Mt=(()=>{class Tt extends _t{constructor(Ee,Ve,gt,Ut){super(Ee,Ve,gt,Ut)}}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)(n.Y36(n.SBq),n.Y36(n.sBO),n.Y36(lt,8),n.Y36(u.Qb,8))},Tt.\u0275cmp=n.Xpm({type:Tt,selectors:[["mat-tab-group"]],contentQueries:function(Ee,Ve,gt){if(1&Ee&&n.Suo(gt,gi,5),2&Ee){let Ut;n.iGM(Ut=n.CRH())&&(Ve._allTabs=Ut)}},viewQuery:function(Ee,Ve){if(1&Ee&&(n.Gf(De,5),n.Gf(st,5)),2&Ee){let gt;n.iGM(gt=n.CRH())&&(Ve._tabBodyWrapper=gt.first),n.iGM(gt=n.CRH())&&(Ve._tabHeader=gt.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(Ee,Ve){2&Ee&&n.ekj("mat-tab-group-dynamic-height",Ve.dynamicHeight)("mat-tab-group-inverted-header","below"===Ve.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[n._Bn([{provide:zt,useExisting:Tt}]),n.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(Ee,Ve){1&Ee&&(n.TgZ(0,"mat-tab-header",0,1),n.NdJ("indexFocused",function(Ut){return Ve._focusChanged(Ut)})("selectFocusedIndex",function(Ut){return Ve.selectedIndex=Ut}),n.YNc(2,kt,4,14,"div",2),n.qZA(),n.TgZ(3,"div",3,4),n.YNc(5,oi,1,9,"mat-tab-body",5),n.qZA()),2&Ee&&(n.Q6J("selectedIndex",Ve.selectedIndex||0)("disableRipple",Ve.disableRipple)("disablePagination",Ve.disablePagination),n.xp6(2),n.Q6J("ngForOf",Ve._tabs),n.xp6(1),n.ekj("_mat-animation-noopable","NoopAnimations"===Ve._animationMode),n.xp6(2),n.Q6J("ngForOf",Ve._tabs))},directives:[pi,e.sg,Et,a.wG,E.kH,e.O5,t.Pl,At],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),Tt})(),ai=(()=>{class Tt{}return Tt.\u0275fac=function(Ee){return new(Ee||Tt)},Tt.\u0275mod=n.oAB({type:Tt}),Tt.\u0275inj=n.cJS({imports:[[e.ez,a.BQ,t.eL,a.si,m.Q8,E.rt],a.BQ]}),Tt})()},76360:(B,K,f)=>{"use strict";f.d(K,{Qb:()=>za,PW:()=>$i});var E=f(5e3),m=f(22313),t=f(41777);function e(){return"undefined"!=typeof window&&void 0!==window.document}function n(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function a(it){switch(it.length){case 0:return new t.ZN;case 1:return it[0];default:return new t.ZE(it)}}function u(it,G,X,ye,qe={},bt={}){const Xt=[],Qt=[];let mi=-1,Hi=null;if(ye.forEach(hn=>{const bn=hn.offset,Jn=bn==mi,cr=Jn&&Hi||{};Object.keys(hn).forEach(Gn=>{let Yn=Gn,nr=hn[Gn];if("offset"!==Gn)switch(Yn=G.normalizePropertyName(Yn,Xt),nr){case t.k1:nr=qe[Gn];break;case t.l3:nr=bt[Gn];break;default:nr=G.normalizeStyleValue(Gn,Yn,nr,Xt)}cr[Yn]=nr}),Jn||Qt.push(cr),Hi=cr,mi=bn}),Xt.length){const hn="\n - ";throw new Error(`Unable to animate due to the following errors:${hn}${Xt.join(hn)}`)}return Qt}function C(it,G,X,ye){switch(G){case"start":it.onStart(()=>ye(X&&D(X,"start",it)));break;case"done":it.onDone(()=>ye(X&&D(X,"done",it)));break;case"destroy":it.onDestroy(()=>ye(X&&D(X,"destroy",it)))}}function D(it,G,X){const ye=X.totalTime,bt=F(it.element,it.triggerName,it.fromState,it.toState,G||it.phaseName,null==ye?it.totalTime:ye,!!X.disabled),Xt=it._data;return null!=Xt&&(bt._data=Xt),bt}function F(it,G,X,ye,qe="",bt=0,Xt){return{element:it,triggerName:G,fromState:X,toState:ye,phaseName:qe,totalTime:bt,disabled:!!Xt}}function W(it,G,X){let ye;return it instanceof Map?(ye=it.get(G),ye||it.set(G,ye=X)):(ye=it[G],ye||(ye=it[G]=X)),ye}function te(it){const G=it.indexOf(":");return[it.substring(1,G),it.substr(G+1)]}let oe=(it,G)=>!1,q=(it,G,X)=>[];(n()||"undefined"!=typeof Element)&&(oe=e()?(it,G)=>{for(;G&&G!==document.documentElement;){if(G===it)return!0;G=G.parentNode||G.host}return!1}:(it,G)=>it.contains(G),q=(it,G,X)=>{let ye=[];if(X){const qe=it.querySelectorAll(G);for(let bt=0;bt<qe.length;bt++)ye.push(qe[bt])}else{const qe=it.querySelector(G);qe&&ye.push(qe)}return ye});let le=null,_e=!1;function Pe(it){le||(le=function Ue(){return"undefined"!=typeof document?document.body:null}()||{},_e=!!le.style&&"WebkitAppearance"in le.style);let G=!0;return le.style&&!function Te(it){return"ebkit"==it.substring(1,6)}(it)&&(G=it in le.style,!G&&_e&&(G="Webkit"+it.charAt(0).toUpperCase()+it.substr(1)in le.style)),G}const Se=oe,ve=q;function se(it){const G={};return Object.keys(it).forEach(X=>{const ye=X.replace(/([a-z])([A-Z])/g,"$1-$2");G[ye]=it[X]}),G}let me=(()=>{class it{validateStyleProperty(X){return Pe(X)}matchesElement(X,ye){return!1}containsElement(X,ye){return Se(X,ye)}query(X,ye,qe){return ve(X,ye,qe)}computeStyle(X,ye,qe){return qe||""}animate(X,ye,qe,bt,Xt,Qt=[],mi){return new t.ZN(qe,bt)}}return it.\u0275fac=function(X){return new(X||it)},it.\u0275prov=E.Yz7({token:it,factory:it.\u0275fac}),it})(),ce=(()=>{class it{}return it.NOOP=new me,it})();const de="ng-enter",re="ng-leave",De="ng-trigger",st=".ng-trigger",pt="ng-animating",dt=".ng-animating";function Ot(it){if("number"==typeof it)return it;const G=it.match(/^(-?[\.\d]+)(m?s)/);return!G||G.length<2?0:kt(parseFloat(G[1]),G[2])}function kt(it,G){return"s"===G?1e3*it:it}function oi(it,G,X){return it.hasOwnProperty("duration")?it:function bi(it,G,X){let qe,bt=0,Xt="";if("string"==typeof it){const Qt=it.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Qt)return G.push(`The provided timing value "${it}" is invalid.`),{duration:0,delay:0,easing:""};qe=kt(parseFloat(Qt[1]),Qt[2]);const mi=Qt[3];null!=mi&&(bt=kt(parseFloat(mi),Qt[4]));const Hi=Qt[5];Hi&&(Xt=Hi)}else qe=it;if(!X){let Qt=!1,mi=G.length;qe<0&&(G.push("Duration values below 0 are not allowed for this animation step."),Qt=!0),bt<0&&(G.push("Delay values below 0 are not allowed for this animation step."),Qt=!0),Qt&&G.splice(mi,0,`The provided timing value "${it}" is invalid.`)}return{duration:qe,delay:bt,easing:Xt}}(it,G,X)}function ti(it,G={}){return Object.keys(it).forEach(X=>{G[X]=it[X]}),G}function ii(it,G,X={}){if(G)for(let ye in it)X[ye]=it[ye];else ti(it,X);return X}function mt(it,G,X){return X?G+":"+X+";":""}function Ye(it){let G="";for(let X=0;X<it.style.length;X++){const ye=it.style.item(X);G+=mt(0,ye,it.style.getPropertyValue(ye))}for(const X in it.style)it.style.hasOwnProperty(X)&&!X.startsWith("_")&&(G+=mt(0,lt(X),it.style[X]));it.setAttribute("style",G)}function Je(it,G,X){it.style&&(Object.keys(G).forEach(ye=>{const qe=At(ye);X&&!X.hasOwnProperty(ye)&&(X[ye]=it.style[qe]),it.style[qe]=G[ye]}),n()&&Ye(it))}function ut(it,G){it.style&&(Object.keys(G).forEach(X=>{const ye=At(X);it.style[ye]=""}),n()&&Ye(it))}function Re(it){return Array.isArray(it)?1==it.length?it[0]:(0,t.vP)(it):it}const zt=new RegExp("{{\\s*(.+?)\\s*}}","g");function gi(it){let G=[];if("string"==typeof it){let X;for(;X=zt.exec(it);)G.push(X[1]);zt.lastIndex=0}return G}function wt(it,G,X){const ye=it.toString(),qe=ye.replace(zt,(bt,Xt)=>{let Qt=G[Xt];return G.hasOwnProperty(Xt)||(X.push(`Please provide a value for the animation param ${Xt}`),Qt=""),Qt.toString()});return qe==ye?it:qe}function rt(it){const G=[];let X=it.next();for(;!X.done;)G.push(X.value),X=it.next();return G}const tt=/-+([a-z0-9])/g;function At(it){return it.replace(tt,(...G)=>G[1].toUpperCase())}function lt(it){return it.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function vt(it,G){return 0===it||0===G}function Et(it,G,X){const ye=Object.keys(X);if(ye.length&&G.length){let bt=G[0],Xt=[];if(ye.forEach(Qt=>{bt.hasOwnProperty(Qt)||Xt.push(Qt),bt[Qt]=X[Qt]}),Xt.length)for(var qe=1;qe<G.length;qe++){let Qt=G[qe];Xt.forEach(function(mi){Qt[mi]=Ze(it,mi)})}}return G}function Ke(it,G,X){switch(G.type){case 7:return it.visitTrigger(G,X);case 0:return it.visitState(G,X);case 1:return it.visitTransition(G,X);case 2:return it.visitSequence(G,X);case 3:return it.visitGroup(G,X);case 4:return it.visitAnimate(G,X);case 5:return it.visitKeyframes(G,X);case 6:return it.visitStyle(G,X);case 8:return it.visitReference(G,X);case 9:return it.visitAnimateChild(G,X);case 10:return it.visitAnimateRef(G,X);case 11:return it.visitQuery(G,X);case 12:return it.visitStagger(G,X);default:throw new Error(`Unable to resolve animation metadata node #${G.type}`)}}function Ze(it,G){return window.getComputedStyle(it)[G]}function Kt(it,G){const X=[];return"string"==typeof it?it.split(/\s*,\s*/).forEach(ye=>function Ei(it,G,X){if(":"==it[0]){const mi=function vi(it,G){switch(it){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(X,ye)=>parseFloat(ye)>parseFloat(X);case":decrement":return(X,ye)=>parseFloat(ye)<parseFloat(X);default:return G.push(`The transition alias value "${it}" is not supported`),"* => *"}}(it,X);if("function"==typeof mi)return void G.push(mi);it=mi}const ye=it.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==ye||ye.length<4)return X.push(`The provided transition expression "${it}" is not supported`),G;const qe=ye[1],bt=ye[2],Xt=ye[3];G.push(Di(qe,Xt));"<"==bt[0]&&!("*"==qe&&"*"==Xt)&&G.push(Di(Xt,qe))}(ye,X,G)):X.push(it),X}const pi=new Set(["true","1"]),Gi=new Set(["false","0"]);function Di(it,G){const X=pi.has(it)||Gi.has(it),ye=pi.has(G)||Gi.has(G);return(qe,bt)=>{let Xt="*"==it||it==qe,Qt="*"==G||G==bt;return!Xt&&X&&"boolean"==typeof qe&&(Xt=qe?pi.has(it):Gi.has(it)),!Qt&&ye&&"boolean"==typeof bt&&(Qt=bt?pi.has(G):Gi.has(G)),Xt&&Qt}}const _t=new RegExp("s*:selfs*,?","g");function Mt(it,G,X){return new yi(it).build(G,X)}class yi{constructor(G){this._driver=G}build(G,X){const ye=new gn(X);return this._resetContextStyleTimingState(ye),Ke(this,Re(G),ye)}_resetContextStyleTimingState(G){G.currentQuerySelector="",G.collectedStyles={},G.collectedStyles[""]={},G.currentTime=0}visitTrigger(G,X){let ye=X.queryCount=0,qe=X.depCount=0;const bt=[],Xt=[];return"@"==G.name.charAt(0)&&X.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),G.definitions.forEach(Qt=>{if(this._resetContextStyleTimingState(X),0==Qt.type){const mi=Qt,Hi=mi.name;Hi.toString().split(/\s*,\s*/).forEach(hn=>{mi.name=hn,bt.push(this.visitState(mi,X))}),mi.name=Hi}else if(1==Qt.type){const mi=this.visitTransition(Qt,X);ye+=mi.queryCount,qe+=mi.depCount,Xt.push(mi)}else X.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:G.name,states:bt,transitions:Xt,queryCount:ye,depCount:qe,options:null}}visitState(G,X){const ye=this.visitStyle(G.styles,X),qe=G.options&&G.options.params||null;if(ye.containsDynamicStyles){const bt=new Set,Xt=qe||{};if(ye.styles.forEach(Qt=>{if(Tt(Qt)){const mi=Qt;Object.keys(mi).forEach(Hi=>{gi(mi[Hi]).forEach(hn=>{Xt.hasOwnProperty(hn)||bt.add(hn)})})}}),bt.size){const Qt=rt(bt.values());X.errors.push(`state("${G.name}", ...) must define default values for all the following style substitutions: ${Qt.join(", ")}`)}}return{type:0,name:G.name,style:ye,options:qe?{params:qe}:null}}visitTransition(G,X){X.queryCount=0,X.depCount=0;const ye=Ke(this,Re(G.animation),X);return{type:1,matchers:Kt(G.expr,X.errors),animation:ye,queryCount:X.queryCount,depCount:X.depCount,options:Ee(G.options)}}visitSequence(G,X){return{type:2,steps:G.steps.map(ye=>Ke(this,ye,X)),options:Ee(G.options)}}visitGroup(G,X){const ye=X.currentTime;let qe=0;const bt=G.steps.map(Xt=>{X.currentTime=ye;const Qt=Ke(this,Xt,X);return qe=Math.max(qe,X.currentTime),Qt});return X.currentTime=qe,{type:3,steps:bt,options:Ee(G.options)}}visitAnimate(G,X){const ye=function He(it,G){let X=null;if(it.hasOwnProperty("duration"))X=it;else if("number"==typeof it)return Ve(oi(it,G).duration,0,"");const ye=it;if(ye.split(/\s+/).some(bt=>"{"==bt.charAt(0)&&"{"==bt.charAt(1))){const bt=Ve(0,0,"");return bt.dynamic=!0,bt.strValue=ye,bt}return X=X||oi(ye,G),Ve(X.duration,X.delay,X.easing)}(G.timings,X.errors);X.currentAnimateTimings=ye;let qe,bt=G.styles?G.styles:(0,t.oB)({});if(5==bt.type)qe=this.visitKeyframes(bt,X);else{let Xt=G.styles,Qt=!1;if(!Xt){Qt=!0;const Hi={};ye.easing&&(Hi.easing=ye.easing),Xt=(0,t.oB)(Hi)}X.currentTime+=ye.duration+ye.delay;const mi=this.visitStyle(Xt,X);mi.isEmptyStep=Qt,qe=mi}return X.currentAnimateTimings=null,{type:4,timings:ye,style:qe,options:null}}visitStyle(G,X){const ye=this._makeStyleAst(G,X);return this._validateStyleAst(ye,X),ye}_makeStyleAst(G,X){const ye=[];Array.isArray(G.styles)?G.styles.forEach(Xt=>{"string"==typeof Xt?Xt==t.l3?ye.push(Xt):X.errors.push(`The provided style string value ${Xt} is not allowed.`):ye.push(Xt)}):ye.push(G.styles);let qe=!1,bt=null;return ye.forEach(Xt=>{if(Tt(Xt)){const Qt=Xt,mi=Qt.easing;if(mi&&(bt=mi,delete Qt.easing),!qe)for(let Hi in Qt)if(Qt[Hi].toString().indexOf("{{")>=0){qe=!0;break}}}),{type:6,styles:ye,easing:bt,offset:G.offset,containsDynamicStyles:qe,options:null}}_validateStyleAst(G,X){const ye=X.currentAnimateTimings;let qe=X.currentTime,bt=X.currentTime;ye&&bt>0&&(bt-=ye.duration+ye.delay),G.styles.forEach(Xt=>{"string"!=typeof Xt&&Object.keys(Xt).forEach(Qt=>{if(!this._driver.validateStyleProperty(Qt))return void X.errors.push(`The provided animation property "${Qt}" is not a supported CSS property for animations`);const mi=X.collectedStyles[X.currentQuerySelector],Hi=mi[Qt];let hn=!0;Hi&&(bt!=qe&&bt>=Hi.startTime&&qe<=Hi.endTime&&(X.errors.push(`The CSS property "${Qt}" that exists between the times of "${Hi.startTime}ms" and "${Hi.endTime}ms" is also being animated in a parallel animation between the times of "${bt}ms" and "${qe}ms"`),hn=!1),bt=Hi.startTime),hn&&(mi[Qt]={startTime:bt,endTime:qe}),X.options&&function yt(it,G,X){const ye=G.params||{},qe=gi(it);qe.length&&qe.forEach(bt=>{ye.hasOwnProperty(bt)||X.push(`Unable to resolve the local animation param ${bt} in the given list of values`)})}(Xt[Qt],X.options,X.errors)})})}visitKeyframes(G,X){const ye={type:5,styles:[],options:null};if(!X.currentAnimateTimings)return X.errors.push("keyframes() must be placed inside of a call to animate()"),ye;let bt=0;const Xt=[];let Qt=!1,mi=!1,Hi=0;const hn=G.steps.map(jr=>{const _o=this._makeStyleAst(jr,X);let zo=null!=_o.offset?_o.offset:function ai(it){if("string"==typeof it)return null;let G=null;if(Array.isArray(it))it.forEach(X=>{if(Tt(X)&&X.hasOwnProperty("offset")){const ye=X;G=parseFloat(ye.offset),delete ye.offset}});else if(Tt(it)&&it.hasOwnProperty("offset")){const X=it;G=parseFloat(X.offset),delete X.offset}return G}(_o.styles),Lo=0;return null!=zo&&(bt++,Lo=_o.offset=zo),mi=mi||Lo<0||Lo>1,Qt=Qt||Lo<Hi,Hi=Lo,Xt.push(Lo),_o});mi&&X.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Qt&&X.errors.push("Please ensure that all keyframe offsets are in order");const bn=G.steps.length;let Jn=0;bt>0&&bt<bn?X.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==bt&&(Jn=1/(bn-1));const cr=bn-1,Gn=X.currentTime,Yn=X.currentAnimateTimings,nr=Yn.duration;return hn.forEach((jr,_o)=>{const zo=Jn>0?_o==cr?1:Jn*_o:Xt[_o],Lo=zo*nr;X.currentTime=Gn+Yn.delay+Lo,Yn.duration=Lo,this._validateStyleAst(jr,X),jr.offset=zo,ye.styles.push(jr)}),ye}visitReference(G,X){return{type:8,animation:Ke(this,Re(G.animation),X),options:Ee(G.options)}}visitAnimateChild(G,X){return X.depCount++,{type:9,options:Ee(G.options)}}visitAnimateRef(G,X){return{type:10,animation:this.visitReference(G.animation,X),options:Ee(G.options)}}visitQuery(G,X){const ye=X.currentQuerySelector,qe=G.options||{};X.queryCount++,X.currentQuery=G;const[bt,Xt]=function Fi(it){const G=!!it.split(/\s*,\s*/).find(X=>":self"==X);return G&&(it=it.replace(_t,"")),it=it.replace(/@\*/g,st).replace(/@\w+/g,X=>st+"-"+X.substr(1)).replace(/:animating/g,dt),[it,G]}(G.selector);X.currentQuerySelector=ye.length?ye+" "+bt:bt,W(X.collectedStyles,X.currentQuerySelector,{});const Qt=Ke(this,Re(G.animation),X);return X.currentQuery=null,X.currentQuerySelector=ye,{type:11,selector:bt,limit:qe.limit||0,optional:!!qe.optional,includeSelf:Xt,animation:Qt,originalSelector:G.selector,options:Ee(G.options)}}visitStagger(G,X){X.currentQuery||X.errors.push("stagger() can only be used inside of query()");const ye="full"===G.timings?{duration:0,delay:0,easing:"full"}:oi(G.timings,X.errors,!0);return{type:12,animation:Ke(this,Re(G.animation),X),timings:ye,options:null}}}class gn{constructor(G){this.errors=G,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Tt(it){return!Array.isArray(it)&&"object"==typeof it}function Ee(it){return it?(it=ti(it)).params&&(it.params=function Pi(it){return it?ti(it):null}(it.params)):it={},it}function Ve(it,G,X){return{duration:it,delay:G,easing:X}}function gt(it,G,X,ye,qe,bt,Xt=null,Qt=!1){return{type:1,element:it,keyframes:G,preStyleProps:X,postStyleProps:ye,duration:qe,delay:bt,totalTime:qe+bt,easing:Xt,subTimeline:Qt}}class Ut{constructor(){this._map=new Map}consume(G){let X=this._map.get(G);return X?this._map.delete(G):X=[],X}append(G,X){let ye=this._map.get(G);ye||this._map.set(G,ye=[]),ye.push(...X)}has(G){return this._map.has(G)}clear(){this._map.clear()}}const An=new RegExp(":enter","g"),si=new RegExp(":leave","g");function $t(it,G,X,ye,qe,bt={},Xt={},Qt,mi,Hi=[]){return(new Pt).buildKeyframes(it,G,X,ye,qe,bt,Xt,Qt,mi,Hi)}class Pt{buildKeyframes(G,X,ye,qe,bt,Xt,Qt,mi,Hi,hn=[]){Hi=Hi||new Ut;const bn=new Ri(G,X,Hi,qe,bt,hn,[]);bn.options=mi,bn.currentTimeline.setStyles([Xt],null,bn.errors,mi),Ke(this,ye,bn);const Jn=bn.timelines.filter(cr=>cr.containsAnimation());if(Jn.length&&Object.keys(Qt).length){const cr=Jn[Jn.length-1];cr.allowOnlyTimelineStyles()||cr.setStyles([Qt],null,bn.errors,mi)}return Jn.length?Jn.map(cr=>cr.buildKeyframes()):[gt(X,[],[],[],0,0,"",!1)]}visitTrigger(G,X){}visitState(G,X){}visitTransition(G,X){}visitAnimateChild(G,X){const ye=X.subInstructions.consume(X.element);if(ye){const qe=X.createSubContext(G.options),bt=X.currentTimeline.currentTime,Xt=this._visitSubInstructions(ye,qe,qe.options);bt!=Xt&&X.transformIntoNewTimeline(Xt)}X.previousNode=G}visitAnimateRef(G,X){const ye=X.createSubContext(G.options);ye.transformIntoNewTimeline(),this.visitReference(G.animation,ye),X.transformIntoNewTimeline(ye.currentTimeline.currentTime),X.previousNode=G}_visitSubInstructions(G,X,ye){let bt=X.currentTimeline.currentTime;const Xt=null!=ye.duration?Ot(ye.duration):null,Qt=null!=ye.delay?Ot(ye.delay):null;return 0!==Xt&&G.forEach(mi=>{const Hi=X.appendInstructionToTimeline(mi,Xt,Qt);bt=Math.max(bt,Hi.duration+Hi.delay)}),bt}visitReference(G,X){X.updateOptions(G.options,!0),Ke(this,G.animation,X),X.previousNode=G}visitSequence(G,X){const ye=X.subContextCount;let qe=X;const bt=G.options;if(bt&&(bt.params||bt.delay)&&(qe=X.createSubContext(bt),qe.transformIntoNewTimeline(),null!=bt.delay)){6==qe.previousNode.type&&(qe.currentTimeline.snapshotCurrentStyles(),qe.previousNode=di);const Xt=Ot(bt.delay);qe.delayNextStep(Xt)}G.steps.length&&(G.steps.forEach(Xt=>Ke(this,Xt,qe)),qe.currentTimeline.applyStylesToKeyframe(),qe.subContextCount>ye&&qe.transformIntoNewTimeline()),X.previousNode=G}visitGroup(G,X){const ye=[];let qe=X.currentTimeline.currentTime;const bt=G.options&&G.options.delay?Ot(G.options.delay):0;G.steps.forEach(Xt=>{const Qt=X.createSubContext(G.options);bt&&Qt.delayNextStep(bt),Ke(this,Xt,Qt),qe=Math.max(qe,Qt.currentTimeline.currentTime),ye.push(Qt.currentTimeline)}),ye.forEach(Xt=>X.currentTimeline.mergeTimelineCollectedStyles(Xt)),X.transformIntoNewTimeline(qe),X.previousNode=G}_visitTiming(G,X){if(G.dynamic){const ye=G.strValue;return oi(X.params?wt(ye,X.params,X.errors):ye,X.errors)}return{duration:G.duration,delay:G.delay,easing:G.easing}}visitAnimate(G,X){const ye=X.currentAnimateTimings=this._visitTiming(G.timings,X),qe=X.currentTimeline;ye.delay&&(X.incrementTime(ye.delay),qe.snapshotCurrentStyles());const bt=G.style;5==bt.type?this.visitKeyframes(bt,X):(X.incrementTime(ye.duration),this.visitStyle(bt,X),qe.applyStylesToKeyframe()),X.currentAnimateTimings=null,X.previousNode=G}visitStyle(G,X){const ye=X.currentTimeline,qe=X.currentAnimateTimings;!qe&&ye.getCurrentStyleProperties().length&&ye.forwardFrame();const bt=qe&&qe.easing||G.easing;G.isEmptyStep?ye.applyEmptyStep(bt):ye.setStyles(G.styles,bt,X.errors,X.options),X.previousNode=G}visitKeyframes(G,X){const ye=X.currentAnimateTimings,qe=X.currentTimeline.duration,bt=ye.duration,Qt=X.createSubContext().currentTimeline;Qt.easing=ye.easing,G.styles.forEach(mi=>{Qt.forwardTime((mi.offset||0)*bt),Qt.setStyles(mi.styles,mi.easing,X.errors,X.options),Qt.applyStylesToKeyframe()}),X.currentTimeline.mergeTimelineCollectedStyles(Qt),X.transformIntoNewTimeline(qe+bt),X.previousNode=G}visitQuery(G,X){const ye=X.currentTimeline.currentTime,qe=G.options||{},bt=qe.delay?Ot(qe.delay):0;bt&&(6===X.previousNode.type||0==ye&&X.currentTimeline.getCurrentStyleProperties().length)&&(X.currentTimeline.snapshotCurrentStyles(),X.previousNode=di);let Xt=ye;const Qt=X.invokeQuery(G.selector,G.originalSelector,G.limit,G.includeSelf,!!qe.optional,X.errors);X.currentQueryTotal=Qt.length;let mi=null;Qt.forEach((Hi,hn)=>{X.currentQueryIndex=hn;const bn=X.createSubContext(G.options,Hi);bt&&bn.delayNextStep(bt),Hi===X.element&&(mi=bn.currentTimeline),Ke(this,G.animation,bn),bn.currentTimeline.applyStylesToKeyframe(),Xt=Math.max(Xt,bn.currentTimeline.currentTime)}),X.currentQueryIndex=0,X.currentQueryTotal=0,X.transformIntoNewTimeline(Xt),mi&&(X.currentTimeline.mergeTimelineCollectedStyles(mi),X.currentTimeline.snapshotCurrentStyles()),X.previousNode=G}visitStagger(G,X){const ye=X.parentContext,qe=X.currentTimeline,bt=G.timings,Xt=Math.abs(bt.duration),Qt=Xt*(X.currentQueryTotal-1);let mi=Xt*X.currentQueryIndex;switch(bt.duration<0?"reverse":bt.easing){case"reverse":mi=Qt-mi;break;case"full":mi=ye.currentStaggerTime}const hn=X.currentTimeline;mi&&hn.delayNextStep(mi);const bn=hn.currentTime;Ke(this,G.animation,X),X.previousNode=G,ye.currentStaggerTime=qe.currentTime-bn+(qe.startTime-ye.currentTimeline.startTime)}}const di={};class Ri{constructor(G,X,ye,qe,bt,Xt,Qt,mi){this._driver=G,this.element=X,this.subInstructions=ye,this._enterClassName=qe,this._leaveClassName=bt,this.errors=Xt,this.timelines=Qt,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=di,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=mi||new fn(this._driver,X,0),Qt.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(G,X){if(!G)return;const ye=G;let qe=this.options;null!=ye.duration&&(qe.duration=Ot(ye.duration)),null!=ye.delay&&(qe.delay=Ot(ye.delay));const bt=ye.params;if(bt){let Xt=qe.params;Xt||(Xt=this.options.params={}),Object.keys(bt).forEach(Qt=>{(!X||!Xt.hasOwnProperty(Qt))&&(Xt[Qt]=wt(bt[Qt],Xt,this.errors))})}}_copyOptions(){const G={};if(this.options){const X=this.options.params;if(X){const ye=G.params={};Object.keys(X).forEach(qe=>{ye[qe]=X[qe]})}}return G}createSubContext(G=null,X,ye){const qe=X||this.element,bt=new Ri(this._driver,qe,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(qe,ye||0));return bt.previousNode=this.previousNode,bt.currentAnimateTimings=this.currentAnimateTimings,bt.options=this._copyOptions(),bt.updateOptions(G),bt.currentQueryIndex=this.currentQueryIndex,bt.currentQueryTotal=this.currentQueryTotal,bt.parentContext=this,this.subContextCount++,bt}transformIntoNewTimeline(G){return this.previousNode=di,this.currentTimeline=this.currentTimeline.fork(this.element,G),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(G,X,ye){const qe={duration:null!=X?X:G.duration,delay:this.currentTimeline.currentTime+(null!=ye?ye:0)+G.delay,easing:""},bt=new kn(this._driver,G.element,G.keyframes,G.preStyleProps,G.postStyleProps,qe,G.stretchStartingKeyframe);return this.timelines.push(bt),qe}incrementTime(G){this.currentTimeline.forwardTime(this.currentTimeline.duration+G)}delayNextStep(G){G>0&&this.currentTimeline.delayNextStep(G)}invokeQuery(G,X,ye,qe,bt,Xt){let Qt=[];if(qe&&Qt.push(this.element),G.length>0){G=(G=G.replace(An,"."+this._enterClassName)).replace(si,"."+this._leaveClassName);let Hi=this._driver.query(this.element,G,1!=ye);0!==ye&&(Hi=ye<0?Hi.slice(Hi.length+ye,Hi.length):Hi.slice(0,ye)),Qt.push(...Hi)}return!bt&&0==Qt.length&&Xt.push(`\`query("${X}")\` returned zero elements. (Use \`query("${X}", { optional: true })\` if you wish to allow this.)`),Qt}}class fn{constructor(G,X,ye,qe){this._driver=G,this.element=X,this.startTime=ye,this._elementTimelineStylesLookup=qe,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(X),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(X,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(G){const X=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||X?(this.forwardTime(this.currentTime+G),X&&this.snapshotCurrentStyles()):this.startTime+=G}fork(G,X){return this.applyStylesToKeyframe(),new fn(this._driver,G,X||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(G){this.applyStylesToKeyframe(),this.duration=G,this._loadKeyframe()}_updateStyle(G,X){this._localTimelineStyles[G]=X,this._globalTimelineStyles[G]=X,this._styleSummary[G]={time:this.currentTime,value:X}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(G){G&&(this._previousKeyframe.easing=G),Object.keys(this._globalTimelineStyles).forEach(X=>{this._backFill[X]=this._globalTimelineStyles[X]||t.l3,this._currentKeyframe[X]=t.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(G,X,ye,qe){X&&(this._previousKeyframe.easing=X);const bt=qe&&qe.params||{},Xt=function Sr(it,G){const X={};let ye;return it.forEach(qe=>{"*"===qe?(ye=ye||Object.keys(G),ye.forEach(bt=>{X[bt]=t.l3})):ii(qe,!1,X)}),X}(G,this._globalTimelineStyles);Object.keys(Xt).forEach(Qt=>{const mi=wt(Xt[Qt],bt,ye);this._pendingStyles[Qt]=mi,this._localTimelineStyles.hasOwnProperty(Qt)||(this._backFill[Qt]=this._globalTimelineStyles.hasOwnProperty(Qt)?this._globalTimelineStyles[Qt]:t.l3),this._updateStyle(Qt,mi)})}applyStylesToKeyframe(){const G=this._pendingStyles,X=Object.keys(G);0!=X.length&&(this._pendingStyles={},X.forEach(ye=>{this._currentKeyframe[ye]=G[ye]}),Object.keys(this._localTimelineStyles).forEach(ye=>{this._currentKeyframe.hasOwnProperty(ye)||(this._currentKeyframe[ye]=this._localTimelineStyles[ye])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(G=>{const X=this._localTimelineStyles[G];this._pendingStyles[G]=X,this._updateStyle(G,X)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const G=[];for(let X in this._currentKeyframe)G.push(X);return G}mergeTimelineCollectedStyles(G){Object.keys(G._styleSummary).forEach(X=>{const ye=this._styleSummary[X],qe=G._styleSummary[X];(!ye||qe.time>ye.time)&&this._updateStyle(X,qe.value)})}buildKeyframes(){this.applyStylesToKeyframe();const G=new Set,X=new Set,ye=1===this._keyframes.size&&0===this.duration;let qe=[];this._keyframes.forEach((Qt,mi)=>{const Hi=ii(Qt,!0);Object.keys(Hi).forEach(hn=>{const bn=Hi[hn];bn==t.k1?G.add(hn):bn==t.l3&&X.add(hn)}),ye||(Hi.offset=mi/this.duration),qe.push(Hi)});const bt=G.size?rt(G.values()):[],Xt=X.size?rt(X.values()):[];if(ye){const Qt=qe[0],mi=ti(Qt);Qt.offset=0,mi.offset=1,qe=[Qt,mi]}return gt(this.element,qe,bt,Xt,this.duration,this.startTime,this.easing,!1)}}class kn extends fn{constructor(G,X,ye,qe,bt,Xt,Qt=!1){super(G,X,Xt.delay),this.keyframes=ye,this.preStyleProps=qe,this.postStyleProps=bt,this._stretchStartingKeyframe=Qt,this.timings={duration:Xt.duration,delay:Xt.delay,easing:Xt.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let G=this.keyframes,{delay:X,duration:ye,easing:qe}=this.timings;if(this._stretchStartingKeyframe&&X){const bt=[],Xt=ye+X,Qt=X/Xt,mi=ii(G[0],!1);mi.offset=0,bt.push(mi);const Hi=ii(G[0],!1);Hi.offset=rr(Qt),bt.push(Hi);const hn=G.length-1;for(let bn=1;bn<=hn;bn++){let Jn=ii(G[bn],!1);Jn.offset=rr((X+Jn.offset*ye)/Xt),bt.push(Jn)}ye=Xt,X=0,qe="",G=bt}return gt(this.element,G,this.preStyleProps,this.postStyleProps,ye,X,qe,!0)}}function rr(it,G=3){const X=Math.pow(10,G-1);return Math.round(it*X)/X}class Qr{}class Dr extends Qr{normalizePropertyName(G,X){return At(G)}normalizeStyleValue(G,X,ye,qe){let bt="";const Xt=ye.toString().trim();if(dr[X]&&0!==ye&&"0"!==ye)if("number"==typeof ye)bt="px";else{const Qt=ye.match(/^[+-]?[\d\.]+([a-z]*)$/);Qt&&0==Qt[1].length&&qe.push(`Please provide a CSS unit value for ${G}:${ye}`)}return Xt+bt}}const dr=(()=>function Zo(it){const G={};return it.forEach(X=>G[X]=!0),G}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ar(it,G,X,ye,qe,bt,Xt,Qt,mi,Hi,hn,bn,Jn){return{type:0,element:it,triggerName:G,isRemovalTransition:qe,fromState:X,fromStyles:bt,toState:ye,toStyles:Xt,timelines:Qt,queriedElements:mi,preStyleProps:Hi,postStyleProps:hn,totalTime:bn,errors:Jn}}const xi={};class jn{constructor(G,X,ye){this._triggerName=G,this.ast=X,this._stateStyles=ye}match(G,X,ye,qe){return function mr(it,G,X,ye,qe){return it.some(bt=>bt(G,X,ye,qe))}(this.ast.matchers,G,X,ye,qe)}buildStyles(G,X,ye){const qe=this._stateStyles["*"],bt=this._stateStyles[G],Xt=qe?qe.buildStyles(X,ye):{};return bt?bt.buildStyles(X,ye):Xt}build(G,X,ye,qe,bt,Xt,Qt,mi,Hi,hn){const bn=[],Jn=this.ast.options&&this.ast.options.params||xi,Gn=this.buildStyles(ye,Qt&&Qt.params||xi,bn),Yn=mi&&mi.params||xi,nr=this.buildStyles(qe,Yn,bn),jr=new Set,_o=new Map,zo=new Map,Lo="void"===qe,sa={params:Object.assign(Object.assign({},Jn),Yn)},fs=hn?[]:$t(G,X,this.ast.animation,bt,Xt,Gn,nr,sa,Hi,bn);let Co=0;if(fs.forEach(Ys=>{Co=Math.max(Ys.duration+Ys.delay,Co)}),bn.length)return ar(X,this._triggerName,ye,qe,Lo,Gn,nr,[],[],_o,zo,Co,bn);fs.forEach(Ys=>{const Xs=Ys.element,ka=W(_o,Xs,{});Ys.preStyleProps.forEach(Cs=>ka[Cs]=!0);const lo=W(zo,Xs,{});Ys.postStyleProps.forEach(Cs=>lo[Cs]=!0),Xs!==X&&jr.add(Xs)});const Ps=rt(jr.values());return ar(X,this._triggerName,ye,qe,Lo,Gn,nr,fs,Ps,_o,zo,Co)}}class Vr{constructor(G,X,ye){this.styles=G,this.defaultParams=X,this.normalizer=ye}buildStyles(G,X){const ye={},qe=ti(this.defaultParams);return Object.keys(G).forEach(bt=>{const Xt=G[bt];null!=Xt&&(qe[bt]=Xt)}),this.styles.styles.forEach(bt=>{if("string"!=typeof bt){const Xt=bt;Object.keys(Xt).forEach(Qt=>{let mi=Xt[Qt];mi.length>1&&(mi=wt(mi,qe,X));const Hi=this.normalizer.normalizePropertyName(Qt,X);mi=this.normalizer.normalizeStyleValue(Qt,Hi,mi,X),ye[Hi]=mi})}}),ye}}class Mr{constructor(G,X,ye){this.name=G,this.ast=X,this._normalizer=ye,this.transitionFactories=[],this.states={},X.states.forEach(qe=>{this.states[qe.name]=new Vr(qe.style,qe.options&&qe.options.params||{},ye)}),xr(this.states,"true","1"),xr(this.states,"false","0"),X.transitions.forEach(qe=>{this.transitionFactories.push(new jn(G,qe,this.states))}),this.fallbackTransition=function Zr(it,G,X){return new jn(it,{type:1,animation:{type:2,steps:[],options:null},matchers:[(Xt,Qt)=>!0],options:null,queryCount:0,depCount:0},G)}(G,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(G,X,ye,qe){return this.transitionFactories.find(Xt=>Xt.match(G,X,ye,qe))||null}matchStyles(G,X,ye){return this.fallbackTransition.buildStyles(G,X,ye)}}function xr(it,G,X){it.hasOwnProperty(G)?it.hasOwnProperty(X)||(it[X]=it[G]):it.hasOwnProperty(X)&&(it[G]=it[X])}const Bi=new Ut;class Bn{constructor(G,X,ye){this.bodyNode=G,this._driver=X,this._normalizer=ye,this._animations={},this._playersById={},this.players=[]}register(G,X){const ye=[],qe=Mt(this._driver,X,ye);if(ye.length)throw new Error(`Unable to build the animation due to the following errors: ${ye.join("\n")}`);this._animations[G]=qe}_buildPlayer(G,X,ye){const qe=G.element,bt=u(0,this._normalizer,0,G.keyframes,X,ye);return this._driver.animate(qe,bt,G.duration,G.delay,G.easing,[],!0)}create(G,X,ye={}){const qe=[],bt=this._animations[G];let Xt;const Qt=new Map;if(bt?(Xt=$t(this._driver,X,bt,de,re,{},{},ye,Bi,qe),Xt.forEach(hn=>{const bn=W(Qt,hn.element,{});hn.postStyleProps.forEach(Jn=>bn[Jn]=null)})):(qe.push("The requested animation doesn't exist or has already been destroyed"),Xt=[]),qe.length)throw new Error(`Unable to create the animation due to the following errors: ${qe.join("\n")}`);Qt.forEach((hn,bn)=>{Object.keys(hn).forEach(Jn=>{hn[Jn]=this._driver.computeStyle(bn,Jn,t.l3)})});const Hi=a(Xt.map(hn=>{const bn=Qt.get(hn.element);return this._buildPlayer(hn,{},bn)}));return this._playersById[G]=Hi,Hi.onDestroy(()=>this.destroy(G)),this.players.push(Hi),Hi}destroy(G){const X=this._getPlayer(G);X.destroy(),delete this._playersById[G];const ye=this.players.indexOf(X);ye>=0&&this.players.splice(ye,1)}_getPlayer(G){const X=this._playersById[G];if(!X)throw new Error(`Unable to find the timeline player referenced by ${G}`);return X}listen(G,X,ye,qe){const bt=F(X,"","","");return C(this._getPlayer(G),ye,bt,qe),()=>{}}command(G,X,ye,qe){if("register"==ye)return void this.register(G,qe[0]);if("create"==ye)return void this.create(G,X,qe[0]||{});const bt=this._getPlayer(G);switch(ye){case"play":bt.play();break;case"pause":bt.pause();break;case"reset":bt.reset();break;case"restart":bt.restart();break;case"finish":bt.finish();break;case"init":bt.init();break;case"setPosition":bt.setPosition(parseFloat(qe[0]));break;case"destroy":this.destroy(G)}}}const Ln="ng-animate-queued",Ft="ng-animate-disabled",sr=[],Qn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},or={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Sn="__ng_removed";class Qo{constructor(G,X=""){this.namespaceId=X;const ye=G&&G.hasOwnProperty("value");if(this.value=function no(it){return null!=it?it:null}(ye?G.value:G),ye){const bt=ti(G);delete bt.value,this.options=bt}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(G){const X=G.params;if(X){const ye=this.options.params;Object.keys(X).forEach(qe=>{null==ye[qe]&&(ye[qe]=X[qe])})}}}const uo="void",io=new Qo(uo);class Io{constructor(G,X,ye){this.id=G,this.hostElement=X,this._engine=ye,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+G,Gr(X,this._hostClassName)}listen(G,X,ye,qe){if(!this._triggers.hasOwnProperty(X))throw new Error(`Unable to listen on the animation trigger event "${ye}" because the animation trigger "${X}" doesn't exist!`);if(null==ye||0==ye.length)throw new Error(`Unable to listen on the animation trigger "${X}" because the provided event is undefined!`);if(!function Ua(it){return"start"==it||"done"==it}(ye))throw new Error(`The provided animation trigger event "${ye}" for the animation trigger "${X}" is not supported!`);const bt=W(this._elementListeners,G,[]),Xt={name:X,phase:ye,callback:qe};bt.push(Xt);const Qt=W(this._engine.statesByElement,G,{});return Qt.hasOwnProperty(X)||(Gr(G,De),Gr(G,De+"-"+X),Qt[X]=io),()=>{this._engine.afterFlush(()=>{const mi=bt.indexOf(Xt);mi>=0&&bt.splice(mi,1),this._triggers[X]||delete Qt[X]})}}register(G,X){return!this._triggers[G]&&(this._triggers[G]=X,!0)}_getTrigger(G){const X=this._triggers[G];if(!X)throw new Error(`The provided animation trigger "${G}" has not been registered!`);return X}trigger(G,X,ye,qe=!0){const bt=this._getTrigger(X),Xt=new Gs(this.id,X,G);let Qt=this._engine.statesByElement.get(G);Qt||(Gr(G,De),Gr(G,De+"-"+X),this._engine.statesByElement.set(G,Qt={}));let mi=Qt[X];const Hi=new Qo(ye,this.id);if(!(ye&&ye.hasOwnProperty("value"))&&mi&&Hi.absorbOptions(mi.options),Qt[X]=Hi,mi||(mi=io),Hi.value!==uo&&mi.value===Hi.value){if(!function Ga(it,G){const X=Object.keys(it),ye=Object.keys(G);if(X.length!=ye.length)return!1;for(let qe=0;qe<X.length;qe++){const bt=X[qe];if(!G.hasOwnProperty(bt)||it[bt]!==G[bt])return!1}return!0}(mi.params,Hi.params)){const Yn=[],nr=bt.matchStyles(mi.value,mi.params,Yn),jr=bt.matchStyles(Hi.value,Hi.params,Yn);Yn.length?this._engine.reportError(Yn):this._engine.afterFlush(()=>{ut(G,nr),Je(G,jr)})}return}const Jn=W(this._engine.playersByElement,G,[]);Jn.forEach(Yn=>{Yn.namespaceId==this.id&&Yn.triggerName==X&&Yn.queued&&Yn.destroy()});let cr=bt.matchTransition(mi.value,Hi.value,G,Hi.params),Gn=!1;if(!cr){if(!qe)return;cr=bt.fallbackTransition,Gn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:G,triggerName:X,transition:cr,fromState:mi,toState:Hi,player:Xt,isFallbackTransition:Gn}),Gn||(Gr(G,Ln),Xt.onStart(()=>{Ia(G,Ln)})),Xt.onDone(()=>{let Yn=this.players.indexOf(Xt);Yn>=0&&this.players.splice(Yn,1);const nr=this._engine.playersByElement.get(G);if(nr){let jr=nr.indexOf(Xt);jr>=0&&nr.splice(jr,1)}}),this.players.push(Xt),Jn.push(Xt),Xt}deregister(G){delete this._triggers[G],this._engine.statesByElement.forEach((X,ye)=>{delete X[G]}),this._elementListeners.forEach((X,ye)=>{this._elementListeners.set(ye,X.filter(qe=>qe.name!=G))})}clearElementCache(G){this._engine.statesByElement.delete(G),this._elementListeners.delete(G);const X=this._engine.playersByElement.get(G);X&&(X.forEach(ye=>ye.destroy()),this._engine.playersByElement.delete(G))}_signalRemovalForInnerTriggers(G,X){const ye=this._engine.driver.query(G,st,!0);ye.forEach(qe=>{if(qe[Sn])return;const bt=this._engine.fetchNamespacesByElement(qe);bt.size?bt.forEach(Xt=>Xt.triggerLeaveAnimation(qe,X,!1,!0)):this.clearElementCache(qe)}),this._engine.afterFlushAnimationsDone(()=>ye.forEach(qe=>this.clearElementCache(qe)))}triggerLeaveAnimation(G,X,ye,qe){const bt=this._engine.statesByElement.get(G);if(bt){const Xt=[];if(Object.keys(bt).forEach(Qt=>{if(this._triggers[Qt]){const mi=this.trigger(G,Qt,uo,qe);mi&&Xt.push(mi)}}),Xt.length)return this._engine.markElementAsRemoved(this.id,G,!0,X),ye&&a(Xt).onDone(()=>this._engine.processLeaveNode(G)),!0}return!1}prepareLeaveAnimationListeners(G){const X=this._elementListeners.get(G),ye=this._engine.statesByElement.get(G);if(X&&ye){const qe=new Set;X.forEach(bt=>{const Xt=bt.name;if(qe.has(Xt))return;qe.add(Xt);const mi=this._triggers[Xt].fallbackTransition,Hi=ye[Xt]||io,hn=new Qo(uo),bn=new Gs(this.id,Xt,G);this._engine.totalQueuedPlayers++,this._queue.push({element:G,triggerName:Xt,transition:mi,fromState:Hi,toState:hn,player:bn,isFallbackTransition:!0})})}}removeNode(G,X){const ye=this._engine;if(G.childElementCount&&this._signalRemovalForInnerTriggers(G,X),this.triggerLeaveAnimation(G,X,!0))return;let qe=!1;if(ye.totalAnimations){const bt=ye.players.length?ye.playersByQueriedElement.get(G):[];if(bt&&bt.length)qe=!0;else{let Xt=G;for(;Xt=Xt.parentNode;)if(ye.statesByElement.get(Xt)){qe=!0;break}}}if(this.prepareLeaveAnimationListeners(G),qe)ye.markElementAsRemoved(this.id,G,!1,X);else{const bt=G[Sn];(!bt||bt===Qn)&&(ye.afterFlush(()=>this.clearElementCache(G)),ye.destroyInnerAnimations(G),ye._onRemovalComplete(G,X))}}insertNode(G,X){Gr(G,this._hostClassName)}drainQueuedTransitions(G){const X=[];return this._queue.forEach(ye=>{const qe=ye.player;if(qe.destroyed)return;const bt=ye.element,Xt=this._elementListeners.get(bt);Xt&&Xt.forEach(Qt=>{if(Qt.name==ye.triggerName){const mi=F(bt,ye.triggerName,ye.fromState.value,ye.toState.value);mi._data=G,C(ye.player,Qt.phase,mi,Qt.callback)}}),qe.markedForDestroy?this._engine.afterFlush(()=>{qe.destroy()}):X.push(ye)}),this._queue=[],X.sort((ye,qe)=>{const bt=ye.transition.ast.depCount,Xt=qe.transition.ast.depCount;return 0==bt||0==Xt?bt-Xt:this._engine.driver.containsElement(ye.element,qe.element)?1:-1})}destroy(G){this.players.forEach(X=>X.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,G)}elementContainsData(G){let X=!1;return this._elementListeners.has(G)&&(X=!0),X=!!this._queue.find(ye=>ye.element===G)||X,X}}class lr{constructor(G,X,ye){this.bodyNode=G,this.driver=X,this._normalizer=ye,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(qe,bt)=>{}}_onRemovalComplete(G,X){this.onRemovalComplete(G,X)}get queuedPlayers(){const G=[];return this._namespaceList.forEach(X=>{X.players.forEach(ye=>{ye.queued&&G.push(ye)})}),G}createNamespace(G,X){const ye=new Io(G,X,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,X)?this._balanceNamespaceList(ye,X):(this.newHostElements.set(X,ye),this.collectEnterElement(X)),this._namespaceLookup[G]=ye}_balanceNamespaceList(G,X){const ye=this._namespaceList.length-1;if(ye>=0){let qe=!1;for(let bt=ye;bt>=0;bt--)if(this.driver.containsElement(this._namespaceList[bt].hostElement,X)){this._namespaceList.splice(bt+1,0,G),qe=!0;break}qe||this._namespaceList.splice(0,0,G)}else this._namespaceList.push(G);return this.namespacesByHostElement.set(X,G),G}register(G,X){let ye=this._namespaceLookup[G];return ye||(ye=this.createNamespace(G,X)),ye}registerTrigger(G,X,ye){let qe=this._namespaceLookup[G];qe&&qe.register(X,ye)&&this.totalAnimations++}destroy(G,X){if(!G)return;const ye=this._fetchNamespace(G);this.afterFlush(()=>{this.namespacesByHostElement.delete(ye.hostElement),delete this._namespaceLookup[G];const qe=this._namespaceList.indexOf(ye);qe>=0&&this._namespaceList.splice(qe,1)}),this.afterFlushAnimationsDone(()=>ye.destroy(X))}_fetchNamespace(G){return this._namespaceLookup[G]}fetchNamespacesByElement(G){const X=new Set,ye=this.statesByElement.get(G);if(ye){const qe=Object.keys(ye);for(let bt=0;bt<qe.length;bt++){const Xt=ye[qe[bt]].namespaceId;if(Xt){const Qt=this._fetchNamespace(Xt);Qt&&X.add(Qt)}}}return X}trigger(G,X,ye,qe){if(Eo(X)){const bt=this._fetchNamespace(G);if(bt)return bt.trigger(X,ye,qe),!0}return!1}insertNode(G,X,ye,qe){if(!Eo(X))return;const bt=X[Sn];if(bt&&bt.setForRemoval){bt.setForRemoval=!1,bt.setForMove=!0;const Xt=this.collectedLeaveElements.indexOf(X);Xt>=0&&this.collectedLeaveElements.splice(Xt,1)}if(G){const Xt=this._fetchNamespace(G);Xt&&Xt.insertNode(X,ye)}qe&&this.collectEnterElement(X)}collectEnterElement(G){this.collectedEnterElements.push(G)}markElementAsDisabled(G,X){X?this.disabledNodes.has(G)||(this.disabledNodes.add(G),Gr(G,Ft)):this.disabledNodes.has(G)&&(this.disabledNodes.delete(G),Ia(G,Ft))}removeNode(G,X,ye,qe){if(Eo(X)){const bt=G?this._fetchNamespace(G):null;if(bt?bt.removeNode(X,qe):this.markElementAsRemoved(G,X,!1,qe),ye){const Xt=this.namespacesByHostElement.get(X);Xt&&Xt.id!==G&&Xt.removeNode(X,qe)}}else this._onRemovalComplete(X,qe)}markElementAsRemoved(G,X,ye,qe){this.collectedLeaveElements.push(X),X[Sn]={namespaceId:G,setForRemoval:qe,hasAnimation:ye,removedBeforeQueried:!1}}listen(G,X,ye,qe,bt){return Eo(X)?this._fetchNamespace(G).listen(X,ye,qe,bt):()=>{}}_buildInstruction(G,X,ye,qe,bt){return G.transition.build(this.driver,G.element,G.fromState.value,G.toState.value,ye,qe,G.fromState.options,G.toState.options,X,bt)}destroyInnerAnimations(G){let X=this.driver.query(G,st,!0);X.forEach(ye=>this.destroyActiveAnimationsForElement(ye)),0!=this.playersByQueriedElement.size&&(X=this.driver.query(G,dt,!0),X.forEach(ye=>this.finishActiveQueriedAnimationOnElement(ye)))}destroyActiveAnimationsForElement(G){const X=this.playersByElement.get(G);X&&X.forEach(ye=>{ye.queued?ye.markedForDestroy=!0:ye.destroy()})}finishActiveQueriedAnimationOnElement(G){const X=this.playersByQueriedElement.get(G);X&&X.forEach(ye=>ye.finish())}whenRenderingDone(){return new Promise(G=>{if(this.players.length)return a(this.players).onDone(()=>G());G()})}processLeaveNode(G){var X;const ye=G[Sn];if(ye&&ye.setForRemoval){if(G[Sn]=Qn,ye.namespaceId){this.destroyInnerAnimations(G);const qe=this._fetchNamespace(ye.namespaceId);qe&&qe.clearElementCache(G)}this._onRemovalComplete(G,ye.setForRemoval)}(null===(X=G.classList)||void 0===X?void 0:X.contains(Ft))&&this.markElementAsDisabled(G,!1),this.driver.query(G,".ng-animate-disabled",!0).forEach(qe=>{this.markElementAsDisabled(qe,!1)})}flush(G=-1){let X=[];if(this.newHostElements.size&&(this.newHostElements.forEach((ye,qe)=>this._balanceNamespaceList(ye,qe)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let ye=0;ye<this.collectedEnterElements.length;ye++)Gr(this.collectedEnterElements[ye],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const ye=[];try{X=this._flushAnimations(ye,G)}finally{for(let qe=0;qe<ye.length;qe++)ye[qe]()}}else for(let ye=0;ye<this.collectedLeaveElements.length;ye++)this.processLeaveNode(this.collectedLeaveElements[ye]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(ye=>ye()),this._flushFns=[],this._whenQuietFns.length){const ye=this._whenQuietFns;this._whenQuietFns=[],X.length?a(X).onDone(()=>{ye.forEach(qe=>qe())}):ye.forEach(qe=>qe())}}reportError(G){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${G.join("\n")}`)}_flushAnimations(G,X){const ye=new Ut,qe=[],bt=new Map,Xt=[],Qt=new Map,mi=new Map,Hi=new Map,hn=new Set;this.disabledNodes.forEach(wn=>{hn.add(wn);const Xn=this.driver.query(wn,".ng-animate-queued",!0);for(let Nn=0;Nn<Xn.length;Nn++)hn.add(Xn[Nn])});const bn=this.bodyNode,Jn=Array.from(this.statesByElement.keys()),cr=ia(Jn,this.collectedEnterElements),Gn=new Map;let Yn=0;cr.forEach((wn,Xn)=>{const Nn=de+Yn++;Gn.set(Xn,Nn),wn.forEach(_r=>Gr(_r,Nn))});const nr=[],jr=new Set,_o=new Set;for(let wn=0;wn<this.collectedLeaveElements.length;wn++){const Xn=this.collectedLeaveElements[wn],Nn=Xn[Sn];Nn&&Nn.setForRemoval&&(nr.push(Xn),jr.add(Xn),Nn.hasAnimation?this.driver.query(Xn,".ng-star-inserted",!0).forEach(_r=>jr.add(_r)):_o.add(Xn))}const zo=new Map,Lo=ia(Jn,Array.from(jr));Lo.forEach((wn,Xn)=>{const Nn=re+Yn++;zo.set(Xn,Nn),wn.forEach(_r=>Gr(_r,Nn))}),G.push(()=>{cr.forEach((wn,Xn)=>{const Nn=Gn.get(Xn);wn.forEach(_r=>Ia(_r,Nn))}),Lo.forEach((wn,Xn)=>{const Nn=zo.get(Xn);wn.forEach(_r=>Ia(_r,Nn))}),nr.forEach(wn=>{this.processLeaveNode(wn)})});const sa=[],fs=[];for(let wn=this._namespaceList.length-1;wn>=0;wn--)this._namespaceList[wn].drainQueuedTransitions(X).forEach(Nn=>{const _r=Nn.player,vr=Nn.element;if(sa.push(_r),this.collectedEnterElements.length){const ss=vr[Sn];if(ss&&ss.setForMove)return void _r.destroy()}const Ts=!bn||!this.driver.containsElement(bn,vr),Ks=zo.get(vr),$s=Gn.get(vr),oo=this._buildInstruction(Nn,ye,$s,Ks,Ts);if(oo.errors&&oo.errors.length)fs.push(oo);else{if(Ts)return _r.onStart(()=>ut(vr,oo.fromStyles)),_r.onDestroy(()=>Je(vr,oo.toStyles)),void qe.push(_r);if(Nn.isFallbackTransition)return _r.onStart(()=>ut(vr,oo.fromStyles)),_r.onDestroy(()=>Je(vr,oo.toStyles)),void qe.push(_r);oo.timelines.forEach(ss=>ss.stretchStartingKeyframe=!0),ye.append(vr,oo.timelines),Xt.push({instruction:oo,player:_r,element:vr}),oo.queriedElements.forEach(ss=>W(Qt,ss,[]).push(_r)),oo.preStyleProps.forEach((ss,ws)=>{const Sa=Object.keys(ss);if(Sa.length){let Yo=mi.get(ws);Yo||mi.set(ws,Yo=new Set),Sa.forEach(Ns=>Yo.add(Ns))}}),oo.postStyleProps.forEach((ss,ws)=>{const Sa=Object.keys(ss);let Yo=Hi.get(ws);Yo||Hi.set(ws,Yo=new Set),Sa.forEach(Ns=>Yo.add(Ns))})}});if(fs.length){const wn=[];fs.forEach(Xn=>{wn.push(`@${Xn.triggerName} has failed due to:\n`),Xn.errors.forEach(Nn=>wn.push(`- ${Nn}\n`))}),sa.forEach(Xn=>Xn.destroy()),this.reportError(wn)}const Co=new Map,Ps=new Map;Xt.forEach(wn=>{const Xn=wn.element;ye.has(Xn)&&(Ps.set(Xn,Xn),this._beforeAnimationBuild(wn.player.namespaceId,wn.instruction,Co))}),qe.forEach(wn=>{const Xn=wn.element;this._getPreviousPlayers(Xn,!1,wn.namespaceId,wn.triggerName,null).forEach(_r=>{W(Co,Xn,[]).push(_r),_r.destroy()})});const Ys=nr.filter(wn=>il(wn,mi,Hi)),Xs=new Map;hs(Xs,this.driver,_o,Hi,t.l3).forEach(wn=>{il(wn,mi,Hi)&&Ys.push(wn)});const lo=new Map;cr.forEach((wn,Xn)=>{hs(lo,this.driver,new Set(wn),mi,t.k1)}),Ys.forEach(wn=>{const Xn=Xs.get(wn),Nn=lo.get(wn);Xs.set(wn,Object.assign(Object.assign({},Xn),Nn))});const Cs=[],ol=[],os={};Xt.forEach(wn=>{const{element:Xn,player:Nn,instruction:_r}=wn;if(ye.has(Xn)){if(hn.has(Xn))return Nn.onDestroy(()=>Je(Xn,_r.toStyles)),Nn.disabled=!0,Nn.overrideTotalTime(_r.totalTime),void qe.push(Nn);let vr=os;if(Ps.size>1){let Ks=Xn;const $s=[];for(;Ks=Ks.parentNode;){const oo=Ps.get(Ks);if(oo){vr=oo;break}$s.push(Ks)}$s.forEach(oo=>Ps.set(oo,vr))}const Ts=this._buildAnimation(Nn.namespaceId,_r,Co,bt,lo,Xs);if(Nn.setRealPlayer(Ts),vr===os)Cs.push(Nn);else{const Ks=this.playersByElement.get(vr);Ks&&Ks.length&&(Nn.parentPlayer=a(Ks)),qe.push(Nn)}}else ut(Xn,_r.fromStyles),Nn.onDestroy(()=>Je(Xn,_r.toStyles)),ol.push(Nn),hn.has(Xn)&&qe.push(Nn)}),ol.forEach(wn=>{const Xn=bt.get(wn.element);if(Xn&&Xn.length){const Nn=a(Xn);wn.setRealPlayer(Nn)}}),qe.forEach(wn=>{wn.parentPlayer?wn.syncPlayerEvents(wn.parentPlayer):wn.destroy()});for(let wn=0;wn<nr.length;wn++){const Xn=nr[wn],Nn=Xn[Sn];if(Ia(Xn,re),Nn&&Nn.hasAnimation)continue;let _r=[];if(Qt.size){let Ts=Qt.get(Xn);Ts&&Ts.length&&_r.push(...Ts);let Ks=this.driver.query(Xn,dt,!0);for(let $s=0;$s<Ks.length;$s++){let oo=Qt.get(Ks[$s]);oo&&oo.length&&_r.push(...oo)}}const vr=_r.filter(Ts=>!Ts.destroyed);vr.length?pl(this,Xn,vr):this.processLeaveNode(Xn)}return nr.length=0,Cs.forEach(wn=>{this.players.push(wn),wn.onDone(()=>{wn.destroy();const Xn=this.players.indexOf(wn);this.players.splice(Xn,1)}),wn.play()}),Cs}elementContainsData(G,X){let ye=!1;const qe=X[Sn];return qe&&qe.setForRemoval&&(ye=!0),this.playersByElement.has(X)&&(ye=!0),this.playersByQueriedElement.has(X)&&(ye=!0),this.statesByElement.has(X)&&(ye=!0),this._fetchNamespace(G).elementContainsData(X)||ye}afterFlush(G){this._flushFns.push(G)}afterFlushAnimationsDone(G){this._whenQuietFns.push(G)}_getPreviousPlayers(G,X,ye,qe,bt){let Xt=[];if(X){const Qt=this.playersByQueriedElement.get(G);Qt&&(Xt=Qt)}else{const Qt=this.playersByElement.get(G);if(Qt){const mi=!bt||bt==uo;Qt.forEach(Hi=>{Hi.queued||!mi&&Hi.triggerName!=qe||Xt.push(Hi)})}}return(ye||qe)&&(Xt=Xt.filter(Qt=>!(ye&&ye!=Qt.namespaceId||qe&&qe!=Qt.triggerName))),Xt}_beforeAnimationBuild(G,X,ye){const bt=X.element,Xt=X.isRemovalTransition?void 0:G,Qt=X.isRemovalTransition?void 0:X.triggerName;for(const mi of X.timelines){const Hi=mi.element,hn=Hi!==bt,bn=W(ye,Hi,[]);this._getPreviousPlayers(Hi,hn,Xt,Qt,X.toState).forEach(cr=>{const Gn=cr.getRealPlayer();Gn.beforeDestroy&&Gn.beforeDestroy(),cr.destroy(),bn.push(cr)})}ut(bt,X.fromStyles)}_buildAnimation(G,X,ye,qe,bt,Xt){const Qt=X.triggerName,mi=X.element,Hi=[],hn=new Set,bn=new Set,Jn=X.timelines.map(Gn=>{const Yn=Gn.element;hn.add(Yn);const nr=Yn[Sn];if(nr&&nr.removedBeforeQueried)return new t.ZN(Gn.duration,Gn.delay);const jr=Yn!==mi,_o=function Os(it){const G=[];return ha(it,G),G}((ye.get(Yn)||sr).map(Co=>Co.getRealPlayer())).filter(Co=>!!Co.element&&Co.element===Yn),zo=bt.get(Yn),Lo=Xt.get(Yn),sa=u(0,this._normalizer,0,Gn.keyframes,zo,Lo),fs=this._buildPlayer(Gn,sa,_o);if(Gn.subTimeline&&qe&&bn.add(Yn),jr){const Co=new Gs(G,Qt,Yn);Co.setRealPlayer(fs),Hi.push(Co)}return fs});Hi.forEach(Gn=>{W(this.playersByQueriedElement,Gn.element,[]).push(Gn),Gn.onDone(()=>function jo(it,G,X){let ye;if(it instanceof Map){if(ye=it.get(G),ye){if(ye.length){const qe=ye.indexOf(X);ye.splice(qe,1)}0==ye.length&&it.delete(G)}}else if(ye=it[G],ye){if(ye.length){const qe=ye.indexOf(X);ye.splice(qe,1)}0==ye.length&&delete it[G]}return ye}(this.playersByQueriedElement,Gn.element,Gn))}),hn.forEach(Gn=>Gr(Gn,pt));const cr=a(Jn);return cr.onDestroy(()=>{hn.forEach(Gn=>Ia(Gn,pt)),Je(mi,X.toStyles)}),bn.forEach(Gn=>{W(qe,Gn,[]).push(cr)}),cr}_buildPlayer(G,X,ye){return X.length>0?this.driver.animate(G.element,X,G.duration,G.delay,G.easing,ye):new t.ZN(G.duration,G.delay)}}class Gs{constructor(G,X,ye){this.namespaceId=G,this.triggerName=X,this.element=ye,this._player=new t.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(G){this._containsRealPlayer||(this._player=G,Object.keys(this._queuedCallbacks).forEach(X=>{this._queuedCallbacks[X].forEach(ye=>C(G,X,void 0,ye))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(G.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(G){this.totalTime=G}syncPlayerEvents(G){const X=this._player;X.triggerCallback&&G.onStart(()=>X.triggerCallback("start")),G.onDone(()=>this.finish()),G.onDestroy(()=>this.destroy())}_queueEvent(G,X){W(this._queuedCallbacks,G,[]).push(X)}onDone(G){this.queued&&this._queueEvent("done",G),this._player.onDone(G)}onStart(G){this.queued&&this._queueEvent("start",G),this._player.onStart(G)}onDestroy(G){this.queued&&this._queueEvent("destroy",G),this._player.onDestroy(G)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(G){this.queued||this._player.setPosition(G)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(G){const X=this._player;X.triggerCallback&&X.triggerCallback(G)}}function Eo(it){return it&&1===it.nodeType}function So(it,G){const X=it.style.display;return it.style.display=null!=G?G:"none",X}function hs(it,G,X,ye,qe){const bt=[];X.forEach(mi=>bt.push(So(mi)));const Xt=[];ye.forEach((mi,Hi)=>{const hn={};mi.forEach(bn=>{const Jn=hn[bn]=G.computeStyle(Hi,bn,qe);(!Jn||0==Jn.length)&&(Hi[Sn]=or,Xt.push(Hi))}),it.set(Hi,hn)});let Qt=0;return X.forEach(mi=>So(mi,bt[Qt++])),Xt}function ia(it,G){const X=new Map;if(it.forEach(Qt=>X.set(Qt,[])),0==G.length)return X;const qe=new Set(G),bt=new Map;function Xt(Qt){if(!Qt)return 1;let mi=bt.get(Qt);if(mi)return mi;const Hi=Qt.parentNode;return mi=X.has(Hi)?Hi:qe.has(Hi)?1:Xt(Hi),bt.set(Qt,mi),mi}return G.forEach(Qt=>{const mi=Xt(Qt);1!==mi&&X.get(mi).push(Qt)}),X}function Gr(it,G){var X;null===(X=it.classList)||void 0===X||X.add(G)}function Ia(it,G){var X;null===(X=it.classList)||void 0===X||X.remove(G)}function pl(it,G,X){a(X).onDone(()=>it.processLeaveNode(G))}function ha(it,G){for(let X=0;X<it.length;X++){const ye=it[X];ye instanceof t.ZE?ha(ye.players,G):G.push(ye)}}function il(it,G,X){const ye=X.get(it);if(!ye)return!1;let qe=G.get(it);return qe?ye.forEach(bt=>qe.add(bt)):G.set(it,ye),X.delete(it),!0}class pa{constructor(G,X,ye){this.bodyNode=G,this._driver=X,this._normalizer=ye,this._triggerCache={},this.onRemovalComplete=(qe,bt)=>{},this._transitionEngine=new lr(G,X,ye),this._timelineEngine=new Bn(G,X,ye),this._transitionEngine.onRemovalComplete=(qe,bt)=>this.onRemovalComplete(qe,bt)}registerTrigger(G,X,ye,qe,bt){const Xt=G+"-"+qe;let Qt=this._triggerCache[Xt];if(!Qt){const mi=[],Hi=Mt(this._driver,bt,mi);if(mi.length)throw new Error(`The animation trigger "${qe}" has failed to build due to the following errors:\n - ${mi.join("\n - ")}`);Qt=function fr(it,G,X){return new Mr(it,G,X)}(qe,Hi,this._normalizer),this._triggerCache[Xt]=Qt}this._transitionEngine.registerTrigger(X,qe,Qt)}register(G,X){this._transitionEngine.register(G,X)}destroy(G,X){this._transitionEngine.destroy(G,X)}onInsert(G,X,ye,qe){this._transitionEngine.insertNode(G,X,ye,qe)}onRemove(G,X,ye,qe){this._transitionEngine.removeNode(G,X,qe||!1,ye)}disableAnimations(G,X){this._transitionEngine.markElementAsDisabled(G,X)}process(G,X,ye,qe){if("@"==ye.charAt(0)){const[bt,Xt]=te(ye);this._timelineEngine.command(bt,X,Xt,qe)}else this._transitionEngine.trigger(G,X,ye,qe)}listen(G,X,ye,qe,bt){if("@"==ye.charAt(0)){const[Xt,Qt]=te(ye);return this._timelineEngine.listen(Xt,X,Qt,bt)}return this._transitionEngine.listen(G,X,ye,qe,bt)}flush(G=-1){this._transitionEngine.flush(G)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Oa(it,G){let X=null,ye=null;return Array.isArray(G)&&G.length?(X=ns(G[0]),G.length>1&&(ye=ns(G[G.length-1]))):G&&(X=ns(G)),X||ye?new Ws(it,X,ye):null}let Ws=(()=>{class it{constructor(X,ye,qe){this._element=X,this._startStyles=ye,this._endStyles=qe,this._state=0;let bt=it.initialStylesByElement.get(X);bt||it.initialStylesByElement.set(X,bt={}),this._initialStyles=bt}start(){this._state<1&&(this._startStyles&&Je(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Je(this._element,this._initialStyles),this._endStyles&&(Je(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(it.initialStylesByElement.delete(this._element),this._startStyles&&(ut(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ut(this._element,this._endStyles),this._endStyles=null),Je(this._element,this._initialStyles),this._state=3)}}return it.initialStylesByElement=new WeakMap,it})();function ns(it){let G=null;const X=Object.keys(it);for(let ye=0;ye<X.length;ye++){const qe=X[ye];nl(qe)&&(G=G||{},G[qe]=it[qe])}return G}function nl(it){return"display"===it||"position"===it}const rs="animation",Ur="animationend";class na{constructor(G,X,ye,qe,bt,Xt,Qt){this._element=G,this._name=X,this._duration=ye,this._delay=qe,this._easing=bt,this._fillMode=Xt,this._onDoneFn=Qt,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=mi=>this._handleCallback(mi)}apply(){(function Bo(it,G){const X=Mo(it,"").trim();let ye=0;X.length&&(ye=function ro(it,G){let X=0;for(let ye=0;ye<it.length;ye++)it.charAt(ye)===G&&X++;return X}(X,",")+1,G=`${X}, ${G}`),Do(it,"",G)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Vo(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Oo(this._element,this._name,"paused")}resume(){Oo(this._element,this._name,"running")}setPosition(G){const X=Ho(this._element,this._name);this._position=G*this._duration,Do(this._element,"Delay",`-${this._position}ms`,X)}getPosition(){return this._position}_handleCallback(G){const X=G._ngTestManualTimestamp||Date.now(),ye=1e3*parseFloat(G.elapsedTime.toFixed(3));G.animationName==this._name&&Math.max(X-this._startTime,0)>=this._delay&&ye>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Vo(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function ra(it,G){const ye=Mo(it,"").split(","),qe=fa(ye,G);qe>=0&&(ye.splice(qe,1),Do(it,"",ye.join(",")))}(this._element,this._name))}}function Oo(it,G,X){Do(it,"PlayState",X,Ho(it,G))}function Ho(it,G){const X=Mo(it,"");return X.indexOf(",")>0?fa(X.split(","),G):fa([X],G)}function fa(it,G){for(let X=0;X<it.length;X++)if(it[X].indexOf(G)>=0)return X;return-1}function Vo(it,G,X){X?it.removeEventListener(Ur,G):it.addEventListener(Ur,G)}function Do(it,G,X,ye){const qe=rs+G;if(null!=ye){const bt=it.style[qe];if(bt.length){const Xt=bt.split(",");Xt[ye]=X,X=Xt.join(",")}}it.style[qe]=X}function Mo(it,G){return it.style[rs+G]||""}class Es{constructor(G,X,ye,qe,bt,Xt,Qt,mi){this.element=G,this.keyframes=X,this.animationName=ye,this._duration=qe,this._delay=bt,this._finalStyles=Qt,this._specialStyles=mi,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=Xt||"linear",this.totalTime=qe+bt,this._buildStyler()}onStart(G){this._onStartFns.push(G)}onDone(G){this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(G=>G()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(G=>G()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(G){this._styler.setPosition(G)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new na(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(G){const X="start"==G?this._onStartFns:this._onDoneFns;X.forEach(ye=>ye()),X.length=0}beforeDestroy(){this.init();const G={};if(this.hasStarted()){const X=this._state>=3;Object.keys(this._finalStyles).forEach(ye=>{"offset"!=ye&&(G[ye]=X?this._finalStyles[ye]:Ze(this.element,ye))})}this.currentSnapshot=G}}class ho extends t.ZN{constructor(G,X){super(),this.element=G,this._startingStyles={},this.__initialized=!1,this._styles=se(X)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(G=>{this._startingStyles[G]=this.element.style[G]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(G=>this.element.style.setProperty(G,this._styles[G])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(G=>{const X=this._startingStyles[G];X?this.element.style.setProperty(G,X):this.element.style.removeProperty(G)}),this._startingStyles=null,super.destroy())}}class ps{constructor(){this._count=0}validateStyleProperty(G){return Pe(G)}matchesElement(G,X){return!1}containsElement(G,X){return Se(G,X)}query(G,X,ye){return ve(G,X,ye)}computeStyle(G,X,ye){return window.getComputedStyle(G)[X]}buildKeyframeElement(G,X,ye){ye=ye.map(Qt=>se(Qt));let qe=`@keyframes ${X} {\n`,bt="";ye.forEach(Qt=>{bt=" ";const mi=parseFloat(Qt.offset);qe+=`${bt}${100*mi}% {\n`,bt+=" ",Object.keys(Qt).forEach(Hi=>{const hn=Qt[Hi];switch(Hi){case"offset":return;case"easing":return void(hn&&(qe+=`${bt}animation-timing-function: ${hn};\n`));default:return void(qe+=`${bt}${Hi}: ${hn};\n`)}}),qe+=`${bt}}\n`}),qe+="}\n";const Xt=document.createElement("style");return Xt.textContent=qe,Xt}animate(G,X,ye,qe,bt,Xt=[],Qt){const mi=Xt.filter(nr=>nr instanceof Es),Hi={};vt(ye,qe)&&mi.forEach(nr=>{let jr=nr.currentSnapshot;Object.keys(jr).forEach(_o=>Hi[_o]=jr[_o])});const hn=function js(it){let G={};return it&&(Array.isArray(it)?it:[it]).forEach(ye=>{Object.keys(ye).forEach(qe=>{"offset"==qe||"easing"==qe||(G[qe]=ye[qe])})}),G}(X=Et(G,X,Hi));if(0==ye)return new ho(G,hn);const bn="gen_css_kf_"+this._count++,Jn=this.buildKeyframeElement(G,bn,X);(function qo(it){var G;const X=null===(G=it.getRootNode)||void 0===G?void 0:G.call(it);return"undefined"!=typeof ShadowRoot&&X instanceof ShadowRoot?X:document.head})(G).appendChild(Jn);const Gn=Oa(G,X),Yn=new Es(G,X,bn,ye,qe,bt,hn,Gn);return Yn.onDestroy(()=>function fl(it){it.parentNode.removeChild(it)}(Jn)),Yn}}class oa{constructor(G,X,ye,qe){this.element=G,this.keyframes=X,this.options=ye,this._specialStyles=qe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=ye.duration,this._delay=ye.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(G=>G()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const G=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,G,this.options),this._finalKeyframe=G.length?G[G.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(G,X,ye){return G.animate(X,ye)}onStart(G){this._onStartFns.push(G)}onDone(G){this._onDoneFns.push(G)}onDestroy(G){this._onDestroyFns.push(G)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(G=>G()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(G=>G()),this._onDestroyFns=[])}setPosition(G){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=G*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const G={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(X=>{"offset"!=X&&(G[X]=this._finished?this._finalKeyframe[X]:Ze(this.element,X))}),this.currentSnapshot=G}triggerCallback(G){const X="start"==G?this._onStartFns:this._onDoneFns;X.forEach(ye=>ye()),X.length=0}}class ke{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(V().toString()),this._cssKeyframesDriver=new ps}validateStyleProperty(G){return Pe(G)}matchesElement(G,X){return!1}containsElement(G,X){return Se(G,X)}query(G,X,ye){return ve(G,X,ye)}computeStyle(G,X,ye){return window.getComputedStyle(G)[X]}overrideWebAnimationsSupport(G){this._isNativeImpl=G}animate(G,X,ye,qe,bt,Xt=[],Qt){if(!Qt&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(G,X,ye,qe,bt,Xt);const hn={duration:ye,delay:qe,fill:0==qe?"both":"forwards"};bt&&(hn.easing=bt);const bn={},Jn=Xt.filter(Gn=>Gn instanceof oa);vt(ye,qe)&&Jn.forEach(Gn=>{let Yn=Gn.currentSnapshot;Object.keys(Yn).forEach(nr=>bn[nr]=Yn[nr])});const cr=Oa(G,X=Et(G,X=X.map(Gn=>ii(Gn,!1)),bn));return new oa(G,X,hn,cr)}}function V(){return e()&&Element.prototype.animate||{}}var j=f(69808);let Ie=(()=>{class it extends t._j{constructor(X,ye){super(),this._nextAnimationId=0,this._renderer=X.createRenderer(ye.body,{id:"0",encapsulation:E.ifc.None,styles:[],data:{animation:[]}})}build(X){const ye=this._nextAnimationId.toString();this._nextAnimationId++;const qe=Array.isArray(X)?(0,t.vP)(X):X;return dn(this._renderer,null,ye,"register",[qe]),new Bt(ye,this._renderer)}}return it.\u0275fac=function(X){return new(X||it)(E.LFG(E.FYo),E.LFG(j.K0))},it.\u0275prov=E.Yz7({token:it,factory:it.\u0275fac}),it})();class Bt extends t.LC{constructor(G,X){super(),this._id=G,this._renderer=X}create(G,X){return new Ti(this._id,G,X||{},this._renderer)}}class Ti{constructor(G,X,ye,qe){this.id=G,this.element=X,this._renderer=qe,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",ye)}_listen(G,X){return this._renderer.listen(this.element,`@@${this.id}:${G}`,X)}_command(G,...X){return dn(this._renderer,this.element,this.id,G,X)}onDone(G){this._listen("done",G)}onStart(G){this._listen("start",G)}onDestroy(G){this._listen("destroy",G)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(G){this._command("setPosition",G)}getPosition(){var G,X;return null!==(X=null===(G=this._renderer.engine.players[+this.id])||void 0===G?void 0:G.getPosition())&&void 0!==X?X:0}}function dn(it,G,X,ye,qe){return it.setProperty(G,`@@${X}:${ye}`,qe)}const Ir="@.disabled";let Wr=(()=>{class it{constructor(X,ye,qe){this.delegate=X,this.engine=ye,this._zone=qe,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),ye.onRemovalComplete=(bt,Xt)=>{const Qt=null==Xt?void 0:Xt.parentNode(bt);Qt&&Xt.removeChild(Qt,bt)}}createRenderer(X,ye){const bt=this.delegate.createRenderer(X,ye);if(!(X&&ye&&ye.data&&ye.data.animation)){let hn=this._rendererCache.get(bt);return hn||(hn=new Or("",bt,this.engine),this._rendererCache.set(bt,hn)),hn}const Xt=ye.id,Qt=ye.id+"-"+this._currentId;this._currentId++,this.engine.register(Qt,X);const mi=hn=>{Array.isArray(hn)?hn.forEach(mi):this.engine.registerTrigger(Xt,Qt,X,hn.name,hn)};return ye.data.animation.forEach(mi),new qr(this,Qt,bt,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(X,ye,qe){X>=0&&X<this._microtaskId?this._zone.run(()=>ye(qe)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(bt=>{const[Xt,Qt]=bt;Xt(Qt)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([ye,qe]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return it.\u0275fac=function(X){return new(X||it)(E.LFG(E.FYo),E.LFG(pa),E.LFG(E.R0b))},it.\u0275prov=E.Yz7({token:it,factory:it.\u0275fac}),it})();class Or{constructor(G,X,ye){this.namespaceId=G,this.delegate=X,this.engine=ye,this.destroyNode=this.delegate.destroyNode?qe=>X.destroyNode(qe):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(G,X){return this.delegate.createElement(G,X)}createComment(G){return this.delegate.createComment(G)}createText(G){return this.delegate.createText(G)}appendChild(G,X){this.delegate.appendChild(G,X),this.engine.onInsert(this.namespaceId,X,G,!1)}insertBefore(G,X,ye,qe=!0){this.delegate.insertBefore(G,X,ye),this.engine.onInsert(this.namespaceId,X,G,qe)}removeChild(G,X,ye){this.engine.onRemove(this.namespaceId,X,this.delegate,ye)}selectRootElement(G,X){return this.delegate.selectRootElement(G,X)}parentNode(G){return this.delegate.parentNode(G)}nextSibling(G){return this.delegate.nextSibling(G)}setAttribute(G,X,ye,qe){this.delegate.setAttribute(G,X,ye,qe)}removeAttribute(G,X,ye){this.delegate.removeAttribute(G,X,ye)}addClass(G,X){this.delegate.addClass(G,X)}removeClass(G,X){this.delegate.removeClass(G,X)}setStyle(G,X,ye,qe){this.delegate.setStyle(G,X,ye,qe)}removeStyle(G,X,ye){this.delegate.removeStyle(G,X,ye)}setProperty(G,X,ye){"@"==X.charAt(0)&&X==Ir?this.disableAnimations(G,!!ye):this.delegate.setProperty(G,X,ye)}setValue(G,X){this.delegate.setValue(G,X)}listen(G,X,ye){return this.delegate.listen(G,X,ye)}disableAnimations(G,X){this.engine.disableAnimations(G,X)}}class qr extends Or{constructor(G,X,ye,qe){super(X,ye,qe),this.factory=G,this.namespaceId=X}setProperty(G,X,ye){"@"==X.charAt(0)?"."==X.charAt(1)&&X==Ir?this.disableAnimations(G,ye=void 0===ye||!!ye):this.engine.process(this.namespaceId,G,X.substr(1),ye):this.delegate.setProperty(G,X,ye)}listen(G,X,ye){if("@"==X.charAt(0)){const qe=function hr(it){switch(it){case"body":return document.body;case"document":return document;case"window":return window;default:return it}}(G);let bt=X.substr(1),Xt="";return"@"!=bt.charAt(0)&&([bt,Xt]=function ko(it){const G=it.indexOf(".");return[it.substring(0,G),it.substr(G+1)]}(bt)),this.engine.listen(this.namespaceId,qe,bt,Xt,Qt=>{this.factory.scheduleListenerCallback(Qt._data||-1,ye,Qt)})}return this.delegate.listen(G,X,ye)}}let $n=(()=>{class it extends pa{constructor(X,ye,qe){super(X.body,ye,qe)}ngOnDestroy(){this.flush()}}return it.\u0275fac=function(X){return new(X||it)(E.LFG(j.K0),E.LFG(ce),E.LFG(Qr))},it.\u0275prov=E.Yz7({token:it,factory:it.\u0275fac}),it})();const za=new E.OlP("AnimationModuleType"),Ls=[{provide:t._j,useClass:Ie},{provide:Qr,useFactory:function rl(){return new Dr}},{provide:pa,useClass:$n},{provide:E.FYo,useFactory:function es(it,G,X){return new Wr(it,G,X)},deps:[m.se,pa,E.R0b]}],wa=[{provide:ce,useFactory:function zs(){return function Z(){return"function"==typeof V()}()?new ke:new ps}},{provide:za,useValue:"BrowserAnimations"},...Ls],Ec=[{provide:ce,useClass:me},{provide:za,useValue:"NoopAnimations"},...Ls];let $i=(()=>{class it{static withConfig(X){return{ngModule:it,providers:X.disableAnimations?Ec:wa}}}return it.\u0275fac=function(X){return new(X||it)},it.\u0275mod=E.oAB({type:it}),it.\u0275inj=E.cJS({providers:wa,imports:[m.b2]}),it})()},22313:(B,K,f)=>{"use strict";f.d(K,{b2:()=>gi,H7:()=>Xi,Dx:()=>lt,q6:()=>yt,se:()=>ot});var E=f(69808),m=f(5e3);class t extends E.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class e extends t{static makeCurrent(){(0,E.HT)(new e)}onAndCancel($t,Pt,di){return $t.addEventListener(Pt,di,!1),()=>{$t.removeEventListener(Pt,di,!1)}}dispatchEvent($t,Pt){$t.dispatchEvent(Pt)}remove($t){$t.parentNode&&$t.parentNode.removeChild($t)}createElement($t,Pt){return(Pt=Pt||this.getDefaultDocument()).createElement($t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode($t){return $t.nodeType===Node.ELEMENT_NODE}isShadowRoot($t){return $t instanceof DocumentFragment}getGlobalEventTarget($t,Pt){return"window"===Pt?window:"document"===Pt?$t:"body"===Pt?$t.body:null}getBaseHref($t){const Pt=function a(){return n=n||document.querySelector("base"),n?n.getAttribute("href"):null}();return null==Pt?null:function C(si){u=u||document.createElement("a"),u.setAttribute("href",si);const $t=u.pathname;return"/"===$t.charAt(0)?$t:`/${$t}`}(Pt)}resetBaseElement(){n=null}getUserAgent(){return window.navigator.userAgent}getCookie($t){return(0,E.Mx)(document.cookie,$t)}}let u,n=null;const D=new m.OlP("TRANSITION_ID"),W=[{provide:m.ip1,useFactory:function F(si,$t,Pt){return()=>{Pt.get(m.CZH).donePromise.then(()=>{const di=(0,E.q)(),Ri=$t.querySelectorAll(`style[ng-transition="${si}"]`);for(let fn=0;fn<Ri.length;fn++)di.remove(Ri[fn])})}},deps:[D,E.K0,m.zs3],multi:!0}];class te{static init(){(0,m.VLi)(new te)}addToWindow($t){m.dqk.getAngularTestability=(di,Ri=!0)=>{const fn=$t.findTestabilityInTree(di,Ri);if(null==fn)throw new Error("Could not find testability for element.");return fn},m.dqk.getAllAngularTestabilities=()=>$t.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>$t.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(di=>{const Ri=m.dqk.getAllAngularTestabilities();let fn=Ri.length,kn=!1;const rr=function(Sr){kn=kn||Sr,fn--,0==fn&&di(kn)};Ri.forEach(function(Sr){Sr.whenStable(rr)})})}findTestabilityInTree($t,Pt,di){if(null==Pt)return null;const Ri=$t.getTestability(Pt);return null!=Ri?Ri:di?(0,E.q)().isShadowRoot(Pt)?this.findTestabilityInTree($t,Pt.host,!0):this.findTestabilityInTree($t,Pt.parentElement,!0):null}}let oe=(()=>{class si{build(){return new XMLHttpRequest}}return si.\u0275fac=function(Pt){return new(Pt||si)},si.\u0275prov=m.Yz7({token:si,factory:si.\u0275fac}),si})();const q=new m.OlP("EventManagerPlugins");let ue=(()=>{class si{constructor(Pt,di){this._zone=di,this._eventNameToPlugin=new Map,Pt.forEach(Ri=>Ri.manager=this),this._plugins=Pt.slice().reverse()}addEventListener(Pt,di,Ri){return this._findPluginFor(di).addEventListener(Pt,di,Ri)}addGlobalEventListener(Pt,di,Ri){return this._findPluginFor(di).addGlobalEventListener(Pt,di,Ri)}getZone(){return this._zone}_findPluginFor(Pt){const di=this._eventNameToPlugin.get(Pt);if(di)return di;const Ri=this._plugins;for(let fn=0;fn<Ri.length;fn++){const kn=Ri[fn];if(kn.supports(Pt))return this._eventNameToPlugin.set(Pt,kn),kn}throw new Error(`No event manager plugin found for event ${Pt}`)}}return si.\u0275fac=function(Pt){return new(Pt||si)(m.LFG(q),m.LFG(m.R0b))},si.\u0275prov=m.Yz7({token:si,factory:si.\u0275fac}),si})();class Te{constructor($t){this._doc=$t}addGlobalEventListener($t,Pt,di){const Ri=(0,E.q)().getGlobalEventTarget(this._doc,$t);if(!Ri)throw new Error(`Unsupported event target ${Ri} for event ${Pt}`);return this.addEventListener(Ri,Pt,di)}}let le=(()=>{class si{constructor(){this._stylesSet=new Set}addStyles(Pt){const di=new Set;Pt.forEach(Ri=>{this._stylesSet.has(Ri)||(this._stylesSet.add(Ri),di.add(Ri))}),this.onStylesAdded(di)}onStylesAdded(Pt){}getAllStyles(){return Array.from(this._stylesSet)}}return si.\u0275fac=function(Pt){return new(Pt||si)},si.\u0275prov=m.Yz7({token:si,factory:si.\u0275fac}),si})(),_e=(()=>{class si extends le{constructor(Pt){super(),this._doc=Pt,this._hostNodes=new Map,this._hostNodes.set(Pt.head,[])}_addStylesToHost(Pt,di,Ri){Pt.forEach(fn=>{const kn=this._doc.createElement("style");kn.textContent=fn,Ri.push(di.appendChild(kn))})}addHost(Pt){const di=[];this._addStylesToHost(this._stylesSet,Pt,di),this._hostNodes.set(Pt,di)}removeHost(Pt){const di=this._hostNodes.get(Pt);di&&di.forEach(Pe),this._hostNodes.delete(Pt)}onStylesAdded(Pt){this._hostNodes.forEach((di,Ri)=>{this._addStylesToHost(Pt,Ri,di)})}ngOnDestroy(){this._hostNodes.forEach(Pt=>Pt.forEach(Pe))}}return si.\u0275fac=function(Pt){return new(Pt||si)(m.LFG(E.K0))},si.\u0275prov=m.Yz7({token:si,factory:si.\u0275fac}),si})();function Pe(si){(0,E.q)().remove(si)}const Ue={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Se=/%COMP%/g;function Ce(si,$t,Pt){for(let di=0;di<$t.length;di++){let Ri=$t[di];Array.isArray(Ri)?Ce(si,Ri,Pt):(Ri=Ri.replace(Se,si),Pt.push(Ri))}return Pt}function de(si){return $t=>{if("__ngUnwrap__"===$t)return si;!1===si($t)&&($t.preventDefault(),$t.returnValue=!1)}}let ot=(()=>{class si{constructor(Pt,di,Ri){this.eventManager=Pt,this.sharedStylesHost=di,this.appId=Ri,this.rendererByCompId=new Map,this.defaultRenderer=new ze(Pt)}createRenderer(Pt,di){if(!Pt||!di)return this.defaultRenderer;switch(di.encapsulation){case m.ifc.Emulated:{let Ri=this.rendererByCompId.get(di.id);return Ri||(Ri=new pt(this.eventManager,this.sharedStylesHost,di,this.appId),this.rendererByCompId.set(di.id,Ri)),Ri.applyToHost(Pt),Ri}case 1:case m.ifc.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,Pt,di);default:if(!this.rendererByCompId.has(di.id)){const Ri=Ce(di.id,di.styles,[]);this.sharedStylesHost.addStyles(Ri),this.rendererByCompId.set(di.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return si.\u0275fac=function(Pt){return new(Pt||si)(m.LFG(ue),m.LFG(_e),m.LFG(m.AFp))},si.\u0275prov=m.Yz7({token:si,factory:si.\u0275fac}),si})();class ze{constructor($t){this.eventManager=$t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement($t,Pt){return Pt?document.createElementNS(Ue[Pt]||Pt,$t):document.createElement($t)}createComment($t){return document.createComment($t)}createText($t){return document.createTextNode($t)}appendChild($t,Pt){$t.appendChild(Pt)}insertBefore($t,Pt,di){$t&&$t.insertBefore(Pt,di)}removeChild($t,Pt){$t&&$t.removeChild(Pt)}selectRootElement($t,Pt){let di="string"==typeof $t?document.querySelector($t):$t;if(!di)throw new Error(`The selector "${$t}" did not match any elements`);return Pt||(di.textContent=""),di}parentNode($t){return $t.parentNode}nextSibling($t){return $t.nextSibling}setAttribute($t,Pt,di,Ri){if(Ri){Pt=Ri+":"+Pt;const fn=Ue[Ri];fn?$t.setAttributeNS(fn,Pt,di):$t.setAttribute(Pt,di)}else $t.setAttribute(Pt,di)}removeAttribute($t,Pt,di){if(di){const Ri=Ue[di];Ri?$t.removeAttributeNS(Ri,Pt):$t.removeAttribute(`${di}:${Pt}`)}else $t.removeAttribute(Pt)}addClass($t,Pt){$t.classList.add(Pt)}removeClass($t,Pt){$t.classList.remove(Pt)}setStyle($t,Pt,di,Ri){Ri&(m.JOm.DashCase|m.JOm.Important)?$t.style.setProperty(Pt,di,Ri&m.JOm.Important?"important":""):$t.style[Pt]=di}removeStyle($t,Pt,di){di&m.JOm.DashCase?$t.style.removeProperty(Pt):$t.style[Pt]=""}setProperty($t,Pt,di){$t[Pt]=di}setValue($t,Pt){$t.nodeValue=Pt}listen($t,Pt,di){return"string"==typeof $t?this.eventManager.addGlobalEventListener($t,Pt,de(di)):this.eventManager.addEventListener($t,Pt,de(di))}}class pt extends ze{constructor($t,Pt,di,Ri){super($t),this.component=di;const fn=Ce(Ri+"-"+di.id,di.styles,[]);Pt.addStyles(fn),this.contentAttr=function Ne(si){return"_ngcontent-%COMP%".replace(Se,si)}(Ri+"-"+di.id),this.hostAttr=function Ae(si){return"_nghost-%COMP%".replace(Se,si)}(Ri+"-"+di.id)}applyToHost($t){super.setAttribute($t,this.hostAttr,"")}createElement($t,Pt){const di=super.createElement($t,Pt);return super.setAttribute(di,this.contentAttr,""),di}}class dt extends ze{constructor($t,Pt,di,Ri){super($t),this.sharedStylesHost=Pt,this.hostEl=di,this.shadowRoot=di.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const fn=Ce(Ri.id,Ri.styles,[]);for(let kn=0;kn<fn.length;kn++){const rr=document.createElement("style");rr.textContent=fn[kn],this.shadowRoot.appendChild(rr)}}nodeOrShadowRoot($t){return $t===this.hostEl?this.shadowRoot:$t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild($t,Pt){return super.appendChild(this.nodeOrShadowRoot($t),Pt)}insertBefore($t,Pt,di){return super.insertBefore(this.nodeOrShadowRoot($t),Pt,di)}removeChild($t,Pt){return super.removeChild(this.nodeOrShadowRoot($t),Pt)}parentNode($t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot($t)))}}let Ot=(()=>{class si extends Te{constructor(Pt){super(Pt)}supports(Pt){return!0}addEventListener(Pt,di,Ri){return Pt.addEventListener(di,Ri,!1),()=>this.removeEventListener(Pt,di,Ri)}removeEventListener(Pt,di,Ri){return Pt.removeEventListener(di,Ri)}}return si.\u0275fac=function(Pt){return new(Pt||si)(m.LFG(E.K0))},si.\u0275prov=m.Yz7({token:si,factory:si.\u0275fac}),si})();const kt=["alt","control","meta","shift"],bi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ti={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Rt={alt:si=>si.altKey,control:si=>si.ctrlKey,meta:si=>si.metaKey,shift:si=>si.shiftKey};let ii=(()=>{class si extends Te{constructor(Pt){super(Pt)}supports(Pt){return null!=si.parseEventName(Pt)}addEventListener(Pt,di,Ri){const fn=si.parseEventName(di),kn=si.eventCallback(fn.fullKey,Ri,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,E.q)().onAndCancel(Pt,fn.domEventName,kn))}static parseEventName(Pt){const di=Pt.toLowerCase().split("."),Ri=di.shift();if(0===di.length||"keydown"!==Ri&&"keyup"!==Ri)return null;const fn=si._normalizeKey(di.pop());let kn="";if(kt.forEach(Sr=>{const Jr=di.indexOf(Sr);Jr>-1&&(di.splice(Jr,1),kn+=Sr+".")}),kn+=fn,0!=di.length||0===fn.length)return null;const rr={};return rr.domEventName=Ri,rr.fullKey=kn,rr}static getEventFullKey(Pt){let di="",Ri=function mt(si){let $t=si.key;if(null==$t){if($t=si.keyIdentifier,null==$t)return"Unidentified";$t.startsWith("U+")&&($t=String.fromCharCode(parseInt($t.substring(2),16)),3===si.location&&ti.hasOwnProperty($t)&&($t=ti[$t]))}return bi[$t]||$t}(Pt);return Ri=Ri.toLowerCase()," "===Ri?Ri="space":"."===Ri&&(Ri="dot"),kt.forEach(fn=>{fn!=Ri&&Rt[fn](Pt)&&(di+=fn+".")}),di+=Ri,di}static eventCallback(Pt,di,Ri){return fn=>{si.getEventFullKey(fn)===Pt&&Ri.runGuarded(()=>di(fn))}}static _normalizeKey(Pt){return"esc"===Pt?"escape":Pt}}return si.\u0275fac=function(Pt){return new(Pt||si)(m.LFG(E.K0))},si.\u0275prov=m.Yz7({token:si,factory:si.\u0275fac}),si})();const yt=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:E.bD},{provide:m.g9A,useValue:function Ye(){e.makeCurrent(),te.init()},multi:!0},{provide:E.K0,useFactory:function ut(){return(0,m.RDi)(document),document},deps:[]}]),zt=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function Je(){return new m.qLn},deps:[]},{provide:q,useClass:Ot,multi:!0,deps:[E.K0,m.R0b,m.Lbi]},{provide:q,useClass:ii,multi:!0,deps:[E.K0]},{provide:ot,useClass:ot,deps:[ue,_e,m.AFp]},{provide:m.FYo,useExisting:ot},{provide:le,useExisting:_e},{provide:_e,useClass:_e,deps:[E.K0]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:ue,useClass:ue,deps:[q,m.R0b]},{provide:E.JF,useClass:oe,deps:[]}];let gi=(()=>{class si{constructor(Pt){if(Pt)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(Pt){return{ngModule:si,providers:[{provide:m.AFp,useValue:Pt.appId},{provide:D,useExisting:m.AFp},W]}}}return si.\u0275fac=function(Pt){return new(Pt||si)(m.LFG(si,12))},si.\u0275mod=m.oAB({type:si}),si.\u0275inj=m.cJS({providers:zt,imports:[E.ez,m.hGG]}),si})(),lt=(()=>{class si{constructor(Pt){this._doc=Pt}getTitle(){return this._doc.title}setTitle(Pt){this._doc.title=Pt||""}}return si.\u0275fac=function(Pt){return new(Pt||si)(m.LFG(E.K0))},si.\u0275prov=m.Yz7({token:si,factory:function(Pt){let di=null;return di=Pt?new Pt:function At(){return new lt((0,m.LFG)(E.K0))}(),di},providedIn:"root"}),si})();"undefined"!=typeof window&&window;let Xi=(()=>{class si{}return si.\u0275fac=function(Pt){return new(Pt||si)},si.\u0275prov=m.Yz7({token:si,factory:function(Pt){let di=null;return di=Pt?new(Pt||si):m.LFG(An),di},providedIn:"root"}),si})(),An=(()=>{class si extends Xi{constructor(Pt){super(),this._doc=Pt}sanitize(Pt,di){if(null==di)return null;switch(Pt){case m.q3G.NONE:return di;case m.q3G.HTML:return(0,m.qzn)(di,"HTML")?(0,m.z3N)(di):(0,m.EiD)(this._doc,String(di)).toString();case m.q3G.STYLE:return(0,m.qzn)(di,"Style")?(0,m.z3N)(di):di;case m.q3G.SCRIPT:if((0,m.qzn)(di,"Script"))return(0,m.z3N)(di);throw new Error("unsafe value used in a script context");case m.q3G.URL:return(0,m.yhl)(di),(0,m.qzn)(di,"URL")?(0,m.z3N)(di):(0,m.mCW)(String(di));case m.q3G.RESOURCE_URL:if((0,m.qzn)(di,"ResourceURL"))return(0,m.z3N)(di);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${Pt} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(Pt){return(0,m.JVY)(Pt)}bypassSecurityTrustStyle(Pt){return(0,m.L6k)(Pt)}bypassSecurityTrustScript(Pt){return(0,m.eBb)(Pt)}bypassSecurityTrustUrl(Pt){return(0,m.LAX)(Pt)}bypassSecurityTrustResourceUrl(Pt){return(0,m.pB0)(Pt)}}return si.\u0275fac=function(Pt){return new(Pt||si)(m.LFG(E.K0))},si.\u0275prov=m.Yz7({token:si,factory:function(Pt){let di=null;return di=Pt?new Pt:function ln(si){return new An(si.get(E.K0))}(m.LFG(m.zs3)),di},providedIn:"root"}),si})()},91083:(B,K,f)=>{"use strict";f.d(K,{gz:()=>Ai,sz:()=>$t,yS:()=>Yo,Bz:()=>ml,lC:()=>ks,Hx:()=>si});var E=f(5e3);const t=(0,f(83888).d)(fe=>function(){fe(this),this.name="EmptyError",this.message="no elements in sequence"});var e=f(68306),n=f(50727),a=f(54482),u=f(25403);function C(){return(0,a.e)((fe,ne)=>{let Q=null;fe._refCount++;const Oe=new u.Q(ne,void 0,void 0,void 0,()=>{if(!fe||fe._refCount<=0||0<--fe._refCount)return void(Q=null);const Ge=fe._connection,ft=Q;Q=null,Ge&&(!ft||Ge===ft)&&Ge.unsubscribe(),ne.unsubscribe()});fe.subscribe(Oe),Oe.closed||(Q=fe.connect())})}class D extends e.y{constructor(ne,Q){super(),this.source=ne,this.subjectFactory=Q,this._subject=null,this._refCount=0,this._connection=null,(0,a.A)(ne)&&(this.lift=ne.lift)}_subscribe(ne){return this.getSubject().subscribe(ne)}getSubject(){const ne=this._subject;return(!ne||ne.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:ne}=this;this._subject=this._connection=null,null==ne||ne.unsubscribe()}connect(){let ne=this._connection;if(!ne){ne=this._connection=new n.w0;const Q=this.getSubject();ne.add(this.source.subscribe(new u.Q(Q,void 0,()=>{this._teardown(),Q.complete()},Oe=>{this._teardown(),Q.error(Oe)},()=>this._teardown()))),ne.closed&&(this._connection=null,ne=n.w0.EMPTY)}return ne}refCount(){return C()(this)}}var F=f(32076),W=f(39646),te=f(61135),oe=f(39841),q=f(97272),ue=f(49770),Te=f(60515),le=f(77579);function _e(fe,ne,Q,Oe,Ge){return(ft,Vt)=>{let qt=Q,Li=ne,Mn=0;ft.subscribe(new u.Q(Vt,yr=>{const Kn=Mn++;Li=qt?fe(Li,yr,Kn):(qt=!0,yr),Oe&&Vt.next(Li)},Ge&&(()=>{qt&&Vt.next(Li),Vt.complete()})))}}function Pe(fe,ne){return(0,a.e)(_e(fe,ne,arguments.length>=2,!0))}var Ue=f(39300);function Se(fe){return fe<=0?()=>Te.E:(0,a.e)((ne,Q)=>{let Oe=[];ne.subscribe(new u.Q(Q,Ge=>{Oe.push(Ge),fe<Oe.length&&Oe.shift()},()=>{for(const Ge of Oe)Q.next(Ge);Q.complete()},void 0,()=>{Oe=null}))})}function ve(fe=se){return(0,a.e)((ne,Q)=>{let Oe=!1;ne.subscribe(new u.Q(Q,Ge=>{Oe=!0,Q.next(Ge)},()=>Oe?Q.complete():Q.error(fe())))})}function se(){return new t}function me(fe){return(0,a.e)((ne,Q)=>{let Oe=!1;ne.subscribe(new u.Q(Q,Ge=>{Oe=!0,Q.next(Ge)},()=>{Oe||Q.next(fe),Q.complete()}))})}var ce=f(44671),Ae=f(95698);function Ce(fe,ne){const Q=arguments.length>=2;return Oe=>Oe.pipe(fe?(0,Ue.h)((Ge,ft)=>fe(Ge,ft,Oe)):ce.y,(0,Ae.q)(1),Q?me(ne):ve(()=>new t))}var de=f(54004),re=f(63900),ot=f(68675),ze=f(70262),De=f(24351),st=f(95577),pt=f(18505),dt=f(28746),Ot=f(8189),kt=f(69808);class oi{constructor(ne,Q){this.id=ne,this.url=Q}}class bi extends oi{constructor(ne,Q,Oe="imperative",Ge=null){super(ne,Q),this.navigationTrigger=Oe,this.restoredState=Ge}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ti extends oi{constructor(ne,Q,Oe){super(ne,Q),this.urlAfterRedirects=Oe}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rt extends oi{constructor(ne,Q,Oe){super(ne,Q),this.reason=Oe}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ii extends oi{constructor(ne,Q,Oe){super(ne,Q),this.error=Oe}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mt extends oi{constructor(ne,Q,Oe,Ge){super(ne,Q),this.urlAfterRedirects=Oe,this.state=Ge}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ye extends oi{constructor(ne,Q,Oe,Ge){super(ne,Q),this.urlAfterRedirects=Oe,this.state=Ge}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Je extends oi{constructor(ne,Q,Oe,Ge,ft){super(ne,Q),this.urlAfterRedirects=Oe,this.state=Ge,this.shouldActivate=ft}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ut extends oi{constructor(ne,Q,Oe,Ge){super(ne,Q),this.urlAfterRedirects=Oe,this.state=Ge}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends oi{constructor(ne,Q,Oe,Ge){super(ne,Q),this.urlAfterRedirects=Oe,this.state=Ge}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yt{constructor(ne){this.route=ne}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zt{constructor(ne){this.route=ne}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gi{constructor(ne){this.snapshot=ne}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wt{constructor(ne){this.snapshot=ne}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rt{constructor(ne){this.snapshot=ne}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tt{constructor(ne){this.snapshot=ne}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class At{constructor(ne,Q,Oe){this.routerEvent=ne,this.position=Q,this.anchor=Oe}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const lt="primary";class vt{constructor(ne){this.params=ne||{}}has(ne){return Object.prototype.hasOwnProperty.call(this.params,ne)}get(ne){if(this.has(ne)){const Q=this.params[ne];return Array.isArray(Q)?Q[0]:Q}return null}getAll(ne){if(this.has(ne)){const Q=this.params[ne];return Array.isArray(Q)?Q:[Q]}return[]}get keys(){return Object.keys(this.params)}}function Et(fe){return new vt(fe)}const Ke="ngNavigationCancelingError";function Ze(fe){const ne=Error("NavigationCancelingError: "+fe);return ne[Ke]=!0,ne}function Kt(fe,ne,Q){const Oe=Q.path.split("/");if(Oe.length>fe.length||"full"===Q.pathMatch&&(ne.hasChildren()||Oe.length<fe.length))return null;const Ge={};for(let ft=0;ft<Oe.length;ft++){const Vt=Oe[ft],qt=fe[ft];if(Vt.startsWith(":"))Ge[Vt.substring(1)]=qt;else if(Vt!==qt.path)return null}return{consumed:fe.slice(0,Oe.length),posParams:Ge}}function vi(fe,ne){const Q=fe?Object.keys(fe):void 0,Oe=ne?Object.keys(ne):void 0;if(!Q||!Oe||Q.length!=Oe.length)return!1;let Ge;for(let ft=0;ft<Q.length;ft++)if(Ge=Q[ft],!pi(fe[Ge],ne[Ge]))return!1;return!0}function pi(fe,ne){if(Array.isArray(fe)&&Array.isArray(ne)){if(fe.length!==ne.length)return!1;const Q=[...fe].sort(),Oe=[...ne].sort();return Q.every((Ge,ft)=>Oe[ft]===Ge)}return fe===ne}function Gi(fe){return Array.prototype.concat.apply([],fe)}function Di(fe){return fe.length>0?fe[fe.length-1]:null}function _t(fe,ne){for(const Q in fe)fe.hasOwnProperty(Q)&&ne(fe[Q],Q)}function Mt(fe){return(0,E.CqO)(fe)?fe:(0,E.QGY)(fe)?(0,F.D)(Promise.resolve(fe)):(0,W.of)(fe)}const yi={exact:function ai(fe,ne,Q){if(!An(fe.segments,ne.segments)||!Ve(fe.segments,ne.segments,Q)||fe.numberOfChildren!==ne.numberOfChildren)return!1;for(const Oe in ne.children)if(!fe.children[Oe]||!ai(fe.children[Oe],ne.children[Oe],Q))return!1;return!0},subset:He},Fi={exact:function gn(fe,ne){return vi(fe,ne)},subset:function Tt(fe,ne){return Object.keys(ne).length<=Object.keys(fe).length&&Object.keys(ne).every(Q=>pi(fe[Q],ne[Q]))},ignored:()=>!0};function Pi(fe,ne,Q){return yi[Q.paths](fe.root,ne.root,Q.matrixParams)&&Fi[Q.queryParams](fe.queryParams,ne.queryParams)&&!("exact"===Q.fragment&&fe.fragment!==ne.fragment)}function He(fe,ne,Q){return Ee(fe,ne,ne.segments,Q)}function Ee(fe,ne,Q,Oe){if(fe.segments.length>Q.length){const Ge=fe.segments.slice(0,Q.length);return!(!An(Ge,Q)||ne.hasChildren()||!Ve(Ge,Q,Oe))}if(fe.segments.length===Q.length){if(!An(fe.segments,Q)||!Ve(fe.segments,Q,Oe))return!1;for(const Ge in ne.children)if(!fe.children[Ge]||!He(fe.children[Ge],ne.children[Ge],Oe))return!1;return!0}{const Ge=Q.slice(0,fe.segments.length),ft=Q.slice(fe.segments.length);return!!(An(fe.segments,Ge)&&Ve(fe.segments,Ge,Oe)&&fe.children[lt])&&Ee(fe.children[lt],ne,ft,Oe)}}function Ve(fe,ne,Q){return ne.every((Oe,Ge)=>Fi[Q](fe[Ge].parameters,Oe.parameters))}class gt{constructor(ne,Q,Oe){this.root=ne,this.queryParams=Q,this.fragment=Oe}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Et(this.queryParams)),this._queryParamMap}toString(){return Pt.serialize(this)}}class Ut{constructor(ne,Q){this.segments=ne,this.children=Q,this.parent=null,_t(Q,(Oe,Ge)=>Oe.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return di(this)}}class Xi{constructor(ne,Q){this.path=ne,this.parameters=Q}get parameterMap(){return this._parameterMap||(this._parameterMap=Et(this.parameters)),this._parameterMap}toString(){return bo(this)}}function An(fe,ne){return fe.length===ne.length&&fe.every((Q,Oe)=>Q.path===ne[Oe].path)}class si{}class $t{parse(ne){const Q=new fr(ne);return new gt(Q.parseRootSegment(),Q.parseQueryParams(),Q.parseFragment())}serialize(ne){const Q=`/${Ri(ne.root,!0)}`,Oe=function dr(fe){const ne=Object.keys(fe).map(Q=>{const Oe=fe[Q];return Array.isArray(Oe)?Oe.map(Ge=>`${kn(Q)}=${kn(Ge)}`).join("&"):`${kn(Q)}=${kn(Oe)}`}).filter(Q=>!!Q);return ne.length?`?${ne.join("&")}`:""}(ne.queryParams);return`${Q}${Oe}${"string"==typeof ne.fragment?`#${function rr(fe){return encodeURI(fe)}(ne.fragment)}`:""}`}}const Pt=new $t;function di(fe){return fe.segments.map(ne=>bo(ne)).join("/")}function Ri(fe,ne){if(!fe.hasChildren())return di(fe);if(ne){const Q=fe.children[lt]?Ri(fe.children[lt],!1):"",Oe=[];return _t(fe.children,(Ge,ft)=>{ft!==lt&&Oe.push(`${ft}:${Ri(Ge,!1)}`)}),Oe.length>0?`${Q}(${Oe.join("//")})`:Q}{const Q=function qn(fe,ne){let Q=[];return _t(fe.children,(Oe,Ge)=>{Ge===lt&&(Q=Q.concat(ne(Oe,Ge)))}),_t(fe.children,(Oe,Ge)=>{Ge!==lt&&(Q=Q.concat(ne(Oe,Ge)))}),Q}(fe,(Oe,Ge)=>Ge===lt?[Ri(fe.children[lt],!1)]:[`${Ge}:${Ri(Oe,!1)}`]);return 1===Object.keys(fe.children).length&&null!=fe.children[lt]?`${di(fe)}/${Q[0]}`:`${di(fe)}/(${Q.join("//")})`}}function fn(fe){return encodeURIComponent(fe).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kn(fe){return fn(fe).replace(/%3B/gi,";")}function Sr(fe){return fn(fe).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jr(fe){return decodeURIComponent(fe)}function Qr(fe){return Jr(fe.replace(/\+/g,"%20"))}function bo(fe){return`${Sr(fe.path)}${function Dr(fe){return Object.keys(fe).map(ne=>`;${Sr(ne)}=${Sr(fe[ne])}`).join("")}(fe.parameters)}`}const Zo=/^[^\/()?;=#]+/;function ar(fe){const ne=fe.match(Zo);return ne?ne[0]:""}const xi=/^[^=?&#]+/,mr=/^[^&#]+/;class fr{constructor(ne){this.url=ne,this.remaining=ne}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ut([],{}):new Ut([],this.parseChildren())}parseQueryParams(){const ne={};if(this.consumeOptional("?"))do{this.parseQueryParam(ne)}while(this.consumeOptional("&"));return ne}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const ne=[];for(this.peekStartsWith("(")||ne.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),ne.push(this.parseSegment());let Q={};this.peekStartsWith("/(")&&(this.capture("/"),Q=this.parseParens(!0));let Oe={};return this.peekStartsWith("(")&&(Oe=this.parseParens(!1)),(ne.length>0||Object.keys(Q).length>0)&&(Oe[lt]=new Ut(ne,Q)),Oe}parseSegment(){const ne=ar(this.remaining);if(""===ne&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(ne),new Xi(Jr(ne),this.parseMatrixParams())}parseMatrixParams(){const ne={};for(;this.consumeOptional(";");)this.parseParam(ne);return ne}parseParam(ne){const Q=ar(this.remaining);if(!Q)return;this.capture(Q);let Oe="";if(this.consumeOptional("=")){const Ge=ar(this.remaining);Ge&&(Oe=Ge,this.capture(Oe))}ne[Jr(Q)]=Jr(Oe)}parseQueryParam(ne){const Q=function jn(fe){const ne=fe.match(xi);return ne?ne[0]:""}(this.remaining);if(!Q)return;this.capture(Q);let Oe="";if(this.consumeOptional("=")){const Vt=function Vr(fe){const ne=fe.match(mr);return ne?ne[0]:""}(this.remaining);Vt&&(Oe=Vt,this.capture(Oe))}const Ge=Qr(Q),ft=Qr(Oe);if(ne.hasOwnProperty(Ge)){let Vt=ne[Ge];Array.isArray(Vt)||(Vt=[Vt],ne[Ge]=Vt),Vt.push(ft)}else ne[Ge]=ft}parseParens(ne){const Q={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const Oe=ar(this.remaining),Ge=this.remaining[Oe.length];if("/"!==Ge&&")"!==Ge&&";"!==Ge)throw new Error(`Cannot parse url '${this.url}'`);let ft;Oe.indexOf(":")>-1?(ft=Oe.substr(0,Oe.indexOf(":")),this.capture(ft),this.capture(":")):ne&&(ft=lt);const Vt=this.parseChildren();Q[ft]=1===Object.keys(Vt).length?Vt[lt]:new Ut([],Vt),this.consumeOptional("//")}return Q}peekStartsWith(ne){return this.remaining.startsWith(ne)}consumeOptional(ne){return!!this.peekStartsWith(ne)&&(this.remaining=this.remaining.substring(ne.length),!0)}capture(ne){if(!this.consumeOptional(ne))throw new Error(`Expected "${ne}".`)}}class Mr{constructor(ne){this._root=ne}get root(){return this._root.value}parent(ne){const Q=this.pathFromRoot(ne);return Q.length>1?Q[Q.length-2]:null}children(ne){const Q=Zr(ne,this._root);return Q?Q.children.map(Oe=>Oe.value):[]}firstChild(ne){const Q=Zr(ne,this._root);return Q&&Q.children.length>0?Q.children[0].value:null}siblings(ne){const Q=xr(ne,this._root);return Q.length<2?[]:Q[Q.length-2].children.map(Ge=>Ge.value).filter(Ge=>Ge!==ne)}pathFromRoot(ne){return xr(ne,this._root).map(Q=>Q.value)}}function Zr(fe,ne){if(fe===ne.value)return ne;for(const Q of ne.children){const Oe=Zr(fe,Q);if(Oe)return Oe}return null}function xr(fe,ne){if(fe===ne.value)return[ne];for(const Q of ne.children){const Oe=xr(fe,Q);if(Oe.length)return Oe.unshift(ne),Oe}return[]}class Bi{constructor(ne,Q){this.value=ne,this.children=Q}toString(){return`TreeNode(${this.value})`}}function Bn(fe){const ne={};return fe&&fe.children.forEach(Q=>ne[Q.value.outlet]=Q),ne}class Ln extends Mr{constructor(ne,Q){super(ne),this.snapshot=Q,or(this,ne)}toString(){return this.snapshot.toString()}}function at(fe,ne){const Q=function Ft(fe,ne){const Vt=new sr([],{},{},"",{},lt,ne,null,fe.root,-1,{});return new Qn("",new Bi(Vt,[]))}(fe,ne),Oe=new te.X([new Xi("",{})]),Ge=new te.X({}),ft=new te.X({}),Vt=new te.X({}),qt=new te.X(""),Li=new Ai(Oe,Ge,Vt,qt,ft,lt,ne,Q.root);return Li.snapshot=Q.root,new Ln(new Bi(Li,[]),Q)}class Ai{constructor(ne,Q,Oe,Ge,ft,Vt,qt,Li){this.url=ne,this.params=Q,this.queryParams=Oe,this.fragment=Ge,this.data=ft,this.outlet=Vt,this.component=qt,this._futureSnapshot=Li}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,de.U)(ne=>Et(ne)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,de.U)(ne=>Et(ne)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yi(fe,ne="emptyOnly"){const Q=fe.pathFromRoot;let Oe=0;if("always"!==ne)for(Oe=Q.length-1;Oe>=1;){const Ge=Q[Oe],ft=Q[Oe-1];if(Ge.routeConfig&&""===Ge.routeConfig.path)Oe--;else{if(ft.component)break;Oe--}}return function Ji(fe){return fe.reduce((ne,Q)=>({params:Object.assign(Object.assign({},ne.params),Q.params),data:Object.assign(Object.assign({},ne.data),Q.data),resolve:Object.assign(Object.assign({},ne.resolve),Q._resolvedData)}),{params:{},data:{},resolve:{}})}(Q.slice(Oe))}class sr{constructor(ne,Q,Oe,Ge,ft,Vt,qt,Li,Mn,yr,Kn){this.url=ne,this.params=Q,this.queryParams=Oe,this.fragment=Ge,this.data=ft,this.outlet=Vt,this.component=qt,this.routeConfig=Li,this._urlSegment=Mn,this._lastPathIndex=yr,this._resolve=Kn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Et(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Et(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(Oe=>Oe.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qn extends Mr{constructor(ne,Q){super(Q),this.url=ne,or(this,Q)}toString(){return Sn(this._root)}}function or(fe,ne){ne.value._routerState=fe,ne.children.forEach(Q=>or(fe,Q))}function Sn(fe){const ne=fe.children.length>0?` { ${fe.children.map(Sn).join(", ")} } `:"";return`${fe.value}${ne}`}function Qo(fe){if(fe.snapshot){const ne=fe.snapshot,Q=fe._futureSnapshot;fe.snapshot=Q,vi(ne.queryParams,Q.queryParams)||fe.queryParams.next(Q.queryParams),ne.fragment!==Q.fragment&&fe.fragment.next(Q.fragment),vi(ne.params,Q.params)||fe.params.next(Q.params),function Ei(fe,ne){if(fe.length!==ne.length)return!1;for(let Q=0;Q<fe.length;++Q)if(!vi(fe[Q],ne[Q]))return!1;return!0}(ne.url,Q.url)||fe.url.next(Q.url),vi(ne.data,Q.data)||fe.data.next(Q.data)}else fe.snapshot=fe._futureSnapshot,fe.data.next(fe._futureSnapshot.data)}function uo(fe,ne){const Q=vi(fe.params,ne.params)&&function ln(fe,ne){return An(fe,ne)&&fe.every((Q,Oe)=>vi(Q.parameters,ne[Oe].parameters))}(fe.url,ne.url);return Q&&!(!fe.parent!=!ne.parent)&&(!fe.parent||uo(fe.parent,ne.parent))}function Io(fe,ne,Q){if(Q&&fe.shouldReuseRoute(ne.value,Q.value.snapshot)){const Oe=Q.value;Oe._futureSnapshot=ne.value;const Ge=function lr(fe,ne,Q){return ne.children.map(Oe=>{for(const Ge of Q.children)if(fe.shouldReuseRoute(Oe.value,Ge.value.snapshot))return Io(fe,Oe,Ge);return Io(fe,Oe)})}(fe,ne,Q);return new Bi(Oe,Ge)}{if(fe.shouldAttach(ne.value)){const ft=fe.retrieve(ne.value);if(null!==ft){const Vt=ft.route;return Vt.value._futureSnapshot=ne.value,Vt.children=ne.children.map(qt=>Io(fe,qt)),Vt}}const Oe=function Gs(fe){return new Ai(new te.X(fe.url),new te.X(fe.params),new te.X(fe.queryParams),new te.X(fe.fragment),new te.X(fe.data),fe.outlet,fe.component,fe)}(ne.value),Ge=ne.children.map(ft=>Io(fe,ft));return new Bi(Oe,Ge)}}function no(fe){return"object"==typeof fe&&null!=fe&&!fe.outlets&&!fe.segmentPath}function Eo(fe){return"object"==typeof fe&&null!=fe&&fe.outlets}function Ua(fe,ne,Q,Oe,Ge){let ft={};return Oe&&_t(Oe,(Vt,qt)=>{ft[qt]=Array.isArray(Vt)?Vt.map(Li=>`${Li}`):`${Vt}`}),new gt(Q.root===fe?ne:So(Q.root,fe,ne),ft,Ge)}function So(fe,ne,Q){const Oe={};return _t(fe.children,(Ge,ft)=>{Oe[ft]=Ge===ne?Q:So(Ge,ne,Q)}),new Ut(fe.segments,Oe)}class hs{constructor(ne,Q,Oe){if(this.isAbsolute=ne,this.numberOfDoubleDots=Q,this.commands=Oe,ne&&Oe.length>0&&no(Oe[0]))throw new Error("Root segment cannot have matrix parameters");const Ge=Oe.find(Eo);if(Ge&&Ge!==Di(Oe))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gr{constructor(ne,Q,Oe){this.segmentGroup=ne,this.processChildren=Q,this.index=Oe}}function ha(fe,ne,Q){if(fe||(fe=new Ut([],{})),0===fe.segments.length&&fe.hasChildren())return Ga(fe,ne,Q);const Oe=function il(fe,ne,Q){let Oe=0,Ge=ne;const ft={match:!1,pathIndex:0,commandIndex:0};for(;Ge<fe.segments.length;){if(Oe>=Q.length)return ft;const Vt=fe.segments[Ge],qt=Q[Oe];if(Eo(qt))break;const Li=`${qt}`,Mn=Oe<Q.length-1?Q[Oe+1]:null;if(Ge>0&&void 0===Li)break;if(Li&&Mn&&"object"==typeof Mn&&void 0===Mn.outlets){if(!ns(Li,Mn,Vt))return ft;Oe+=2}else{if(!ns(Li,{},Vt))return ft;Oe++}Ge++}return{match:!0,pathIndex:Ge,commandIndex:Oe}}(fe,ne,Q),Ge=Q.slice(Oe.commandIndex);if(Oe.match&&Oe.pathIndex<fe.segments.length){const ft=new Ut(fe.segments.slice(0,Oe.pathIndex),{});return ft.children[lt]=new Ut(fe.segments.slice(Oe.pathIndex),fe.children),Ga(ft,0,Ge)}return Oe.match&&0===Ge.length?new Ut(fe.segments,{}):Oe.match&&!fe.hasChildren()?pa(fe,ne,Q):Oe.match?Ga(fe,0,Ge):pa(fe,ne,Q)}function Ga(fe,ne,Q){if(0===Q.length)return new Ut(fe.segments,{});{const Oe=function Os(fe){return Eo(fe[0])?fe[0].outlets:{[lt]:fe}}(Q),Ge={};return _t(Oe,(ft,Vt)=>{"string"==typeof ft&&(ft=[ft]),null!==ft&&(Ge[Vt]=ha(fe.children[Vt],ne,ft))}),_t(fe.children,(ft,Vt)=>{void 0===Oe[Vt]&&(Ge[Vt]=ft)}),new Ut(fe.segments,Ge)}}function pa(fe,ne,Q){const Oe=fe.segments.slice(0,ne);let Ge=0;for(;Ge<Q.length;){const ft=Q[Ge];if(Eo(ft)){const Li=Oa(ft.outlets);return new Ut(Oe,Li)}if(0===Ge&&no(Q[0])){Oe.push(new Xi(fe.segments[ne].path,Ws(Q[0]))),Ge++;continue}const Vt=Eo(ft)?ft.outlets[lt]:`${ft}`,qt=Ge<Q.length-1?Q[Ge+1]:null;Vt&&qt&&no(qt)?(Oe.push(new Xi(Vt,Ws(qt))),Ge+=2):(Oe.push(new Xi(Vt,{})),Ge++)}return new Ut(Oe,{})}function Oa(fe){const ne={};return _t(fe,(Q,Oe)=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&(ne[Oe]=pa(new Ut([],{}),0,Q))}),ne}function Ws(fe){const ne={};return _t(fe,(Q,Oe)=>ne[Oe]=`${Q}`),ne}function ns(fe,ne,Q){return fe==Q.path&&vi(ne,Q.parameters)}class Wa{constructor(ne,Q,Oe,Ge){this.routeReuseStrategy=ne,this.futureState=Q,this.currState=Oe,this.forwardEvent=Ge}activate(ne){const Q=this.futureState._root,Oe=this.currState?this.currState._root:null;this.deactivateChildRoutes(Q,Oe,ne),Qo(this.futureState.root),this.activateChildRoutes(Q,Oe,ne)}deactivateChildRoutes(ne,Q,Oe){const Ge=Bn(Q);ne.children.forEach(ft=>{const Vt=ft.value.outlet;this.deactivateRoutes(ft,Ge[Vt],Oe),delete Ge[Vt]}),_t(Ge,(ft,Vt)=>{this.deactivateRouteAndItsChildren(ft,Oe)})}deactivateRoutes(ne,Q,Oe){const Ge=ne.value,ft=Q?Q.value:null;if(Ge===ft)if(Ge.component){const Vt=Oe.getContext(Ge.outlet);Vt&&this.deactivateChildRoutes(ne,Q,Vt.children)}else this.deactivateChildRoutes(ne,Q,Oe);else ft&&this.deactivateRouteAndItsChildren(Q,Oe)}deactivateRouteAndItsChildren(ne,Q){ne.value.component&&this.routeReuseStrategy.shouldDetach(ne.value.snapshot)?this.detachAndStoreRouteSubtree(ne,Q):this.deactivateRouteAndOutlet(ne,Q)}detachAndStoreRouteSubtree(ne,Q){const Oe=Q.getContext(ne.value.outlet),Ge=Oe&&ne.value.component?Oe.children:Q,ft=Bn(ne);for(const Vt of Object.keys(ft))this.deactivateRouteAndItsChildren(ft[Vt],Ge);if(Oe&&Oe.outlet){const Vt=Oe.outlet.detach(),qt=Oe.children.onOutletDeactivated();this.routeReuseStrategy.store(ne.value.snapshot,{componentRef:Vt,route:ne,contexts:qt})}}deactivateRouteAndOutlet(ne,Q){const Oe=Q.getContext(ne.value.outlet),Ge=Oe&&ne.value.component?Oe.children:Q,ft=Bn(ne);for(const Vt of Object.keys(ft))this.deactivateRouteAndItsChildren(ft[Vt],Ge);Oe&&Oe.outlet&&(Oe.outlet.deactivate(),Oe.children.onOutletDeactivated(),Oe.attachRef=null,Oe.resolver=null,Oe.route=null)}activateChildRoutes(ne,Q,Oe){const Ge=Bn(Q);ne.children.forEach(ft=>{this.activateRoutes(ft,Ge[ft.value.outlet],Oe),this.forwardEvent(new tt(ft.value.snapshot))}),ne.children.length&&this.forwardEvent(new wt(ne.value.snapshot))}activateRoutes(ne,Q,Oe){const Ge=ne.value,ft=Q?Q.value:null;if(Qo(Ge),Ge===ft)if(Ge.component){const Vt=Oe.getOrCreateContext(Ge.outlet);this.activateChildRoutes(ne,Q,Vt.children)}else this.activateChildRoutes(ne,Q,Oe);else if(Ge.component){const Vt=Oe.getOrCreateContext(Ge.outlet);if(this.routeReuseStrategy.shouldAttach(Ge.snapshot)){const qt=this.routeReuseStrategy.retrieve(Ge.snapshot);this.routeReuseStrategy.store(Ge.snapshot,null),Vt.children.onOutletReAttached(qt.contexts),Vt.attachRef=qt.componentRef,Vt.route=qt.route.value,Vt.outlet&&Vt.outlet.attach(qt.componentRef,qt.route.value),Qo(qt.route.value),this.activateChildRoutes(ne,null,Vt.children)}else{const qt=function rs(fe){for(let ne=fe.parent;ne;ne=ne.parent){const Q=ne.routeConfig;if(Q&&Q._loadedConfig)return Q._loadedConfig;if(Q&&Q.component)return null}return null}(Ge.snapshot),Li=qt?qt.module.componentFactoryResolver:null;Vt.attachRef=null,Vt.route=Ge,Vt.resolver=Li,Vt.outlet&&Vt.outlet.activateWith(Ge,Li),this.activateChildRoutes(ne,null,Vt.children)}}else this.activateChildRoutes(ne,null,Oe)}}class Ur{constructor(ne,Q){this.routes=ne,this.module=Q}}function Pr(fe){return"function"==typeof fe}function Oo(fe){return fe instanceof gt}const Vo=Symbol("INITIAL_VALUE");function Do(){return(0,re.w)(fe=>(0,oe.a)(fe.map(ne=>ne.pipe((0,Ae.q)(1),(0,ot.O)(Vo)))).pipe(Pe((ne,Q)=>{let Oe=!1;return Q.reduce((Ge,ft,Vt)=>Ge!==Vo?Ge:(ft===Vo&&(Oe=!0),Oe||!1!==ft&&Vt!==Q.length-1&&!Oo(ft)?Ge:ft),ne)},Vo),(0,Ue.h)(ne=>ne!==Vo),(0,de.U)(ne=>Oo(ne)?ne:!0===ne),(0,Ae.q)(1)))}class Mo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ro,this.attachRef=null}}class ro{constructor(){this.contexts=new Map}onChildOutletCreated(ne,Q){const Oe=this.getOrCreateContext(ne);Oe.outlet=Q,this.contexts.set(ne,Oe)}onChildOutletDestroyed(ne){const Q=this.getContext(ne);Q&&(Q.outlet=null,Q.attachRef=null)}onOutletDeactivated(){const ne=this.contexts;return this.contexts=new Map,ne}onOutletReAttached(ne){this.contexts=ne}getOrCreateContext(ne){let Q=this.getContext(ne);return Q||(Q=new Mo,this.contexts.set(ne,Q)),Q}getContext(ne){return this.contexts.get(ne)||null}}let ks=(()=>{class fe{constructor(Q,Oe,Ge,ft,Vt){this.parentContexts=Q,this.location=Oe,this.resolver=Ge,this.changeDetector=Vt,this.activated=null,this._activatedRoute=null,this.activateEvents=new E.vpe,this.deactivateEvents=new E.vpe,this.attachEvents=new E.vpe,this.detachEvents=new E.vpe,this.name=ft||lt,Q.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const Q=this.parentContexts.getContext(this.name);Q&&Q.route&&(Q.attachRef?this.attach(Q.attachRef,Q.route):this.activateWith(Q.route,Q.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const Q=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(Q.instance),Q}attach(Q,Oe){this.activated=Q,this._activatedRoute=Oe,this.location.insert(Q.hostView),this.attachEvents.emit(Q.instance)}deactivate(){if(this.activated){const Q=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Q)}}activateWith(Q,Oe){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Q;const Vt=(Oe=Oe||this.resolver).resolveComponentFactory(Q._futureSnapshot.routeConfig.component),qt=this.parentContexts.getOrCreateContext(this.name).children,Li=new Ar(Q,qt,this.location.injector);this.activated=this.location.createComponent(Vt,this.location.length,Li),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return fe.\u0275fac=function(Q){return new(Q||fe)(E.Y36(ro),E.Y36(E.s_b),E.Y36(E._Vd),E.$8M("name"),E.Y36(E.sBO))},fe.\u0275dir=E.lG2({type:fe,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),fe})();class Ar{constructor(ne,Q,Oe){this.route=ne,this.childContexts=Q,this.parent=Oe}get(ne,Q){return ne===Ai?this.route:ne===ro?this.childContexts:this.parent.get(ne,Q)}}let Es=(()=>{class fe{}return fe.\u0275fac=function(Q){return new(Q||fe)},fe.\u0275cmp=E.Xpm({type:fe,selectors:[["ng-component"]],decls:1,vars:0,template:function(Q,Oe){1&Q&&E._UZ(0,"router-outlet")},directives:[ks],encapsulation:2}),fe})();function ho(fe,ne=""){for(let Q=0;Q<fe.length;Q++){const Oe=fe[Q];Ta(Oe,ja(ne,Oe))}}function Ta(fe,ne){fe.children&&ho(fe.children,ne)}function ja(fe,ne){return ne?fe||ne.path?fe&&!ne.path?`${fe}/`:!fe&&ne.path?ne.path:`${fe}/${ne.path}`:"":fe}function ps(fe){const ne=fe.children&&fe.children.map(ps),Q=ne?Object.assign(Object.assign({},fe),{children:ne}):Object.assign({},fe);return!Q.component&&(ne||Q.loadChildren)&&Q.outlet&&Q.outlet!==lt&&(Q.component=Es),Q}function qo(fe){return fe.outlet||lt}function js(fe,ne){const Q=fe.filter(Oe=>qo(Oe)===ne);return Q.push(...fe.filter(Oe=>qo(Oe)!==ne)),Q}const fl={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Nr(fe,ne,Q){var Oe;if(""===ne.path)return"full"===ne.pathMatch&&(fe.hasChildren()||Q.length>0)?Object.assign({},fl):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ft=(ne.matcher||Kt)(Q,fe,ne);if(!ft)return Object.assign({},fl);const Vt={};_t(ft.posParams,(Li,Mn)=>{Vt[Mn]=Li.path});const qt=ft.consumed.length>0?Object.assign(Object.assign({},Vt),ft.consumed[ft.consumed.length-1].parameters):Vt;return{matched:!0,consumedSegments:ft.consumed,lastChild:ft.consumed.length,parameters:qt,positionalParamSegments:null!==(Oe=ft.posParams)&&void 0!==Oe?Oe:{}}}function Hn(fe,ne,Q,Oe,Ge="corrected"){if(Q.length>0&&function Z(fe,ne,Q){return Q.some(Oe=>j(fe,ne,Oe)&&qo(Oe)!==lt)}(fe,Q,Oe)){const Vt=new Ut(ne,function ke(fe,ne,Q,Oe){const Ge={};Ge[lt]=Oe,Oe._sourceSegment=fe,Oe._segmentIndexShift=ne.length;for(const ft of Q)if(""===ft.path&&qo(ft)!==lt){const Vt=new Ut([],{});Vt._sourceSegment=fe,Vt._segmentIndexShift=ne.length,Ge[qo(ft)]=Vt}return Ge}(fe,ne,Oe,new Ut(Q,fe.children)));return Vt._sourceSegment=fe,Vt._segmentIndexShift=ne.length,{segmentGroup:Vt,slicedSegments:[]}}if(0===Q.length&&function V(fe,ne,Q){return Q.some(Oe=>j(fe,ne,Oe))}(fe,Q,Oe)){const Vt=new Ut(fe.segments,function oa(fe,ne,Q,Oe,Ge,ft){const Vt={};for(const qt of Oe)if(j(fe,Q,qt)&&!Ge[qo(qt)]){const Li=new Ut([],{});Li._sourceSegment=fe,Li._segmentIndexShift="legacy"===ft?fe.segments.length:ne.length,Vt[qo(qt)]=Li}return Object.assign(Object.assign({},Ge),Vt)}(fe,ne,Q,Oe,fe.children,Ge));return Vt._sourceSegment=fe,Vt._segmentIndexShift=ne.length,{segmentGroup:Vt,slicedSegments:Q}}const ft=new Ut(fe.segments,fe.children);return ft._sourceSegment=fe,ft._segmentIndexShift=ne.length,{segmentGroup:ft,slicedSegments:Q}}function j(fe,ne,Q){return(!(fe.hasChildren()||ne.length>0)||"full"!==Q.pathMatch)&&""===Q.path}function Ie(fe,ne,Q,Oe){return!!(qo(fe)===Oe||Oe!==lt&&j(ne,Q,fe))&&("**"===fe.path||Nr(ne,fe,Q).matched)}function Bt(fe,ne,Q){return 0===ne.length&&!fe.children[Q]}class Ti{constructor(ne){this.segmentGroup=ne||null}}class dn{constructor(ne){this.urlTree=ne}}function Un(fe){return new e.y(ne=>ne.error(new Ti(fe)))}function Ir(fe){return new e.y(ne=>ne.error(new dn(fe)))}function Wr(fe){return new e.y(ne=>ne.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${fe}'`)))}class hr{constructor(ne,Q,Oe,Ge,ft){this.configLoader=Q,this.urlSerializer=Oe,this.urlTree=Ge,this.config=ft,this.allowRedirects=!0,this.ngModule=ne.get(E.h0i)}apply(){const ne=Hn(this.urlTree.root,[],[],this.config).segmentGroup,Q=new Ut(ne.segments,ne.children);return this.expandSegmentGroup(this.ngModule,this.config,Q,lt).pipe((0,de.U)(ft=>this.createUrlTree($n(ft),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,ze.K)(ft=>{if(ft instanceof dn)return this.allowRedirects=!1,this.match(ft.urlTree);throw ft instanceof Ti?this.noMatchError(ft):ft}))}match(ne){return this.expandSegmentGroup(this.ngModule,this.config,ne.root,lt).pipe((0,de.U)(Ge=>this.createUrlTree($n(Ge),ne.queryParams,ne.fragment))).pipe((0,ze.K)(Ge=>{throw Ge instanceof Ti?this.noMatchError(Ge):Ge}))}noMatchError(ne){return new Error(`Cannot match any routes. URL Segment: '${ne.segmentGroup}'`)}createUrlTree(ne,Q,Oe){const Ge=ne.segments.length>0?new Ut([],{[lt]:ne}):ne;return new gt(Ge,Q,Oe)}expandSegmentGroup(ne,Q,Oe,Ge){return 0===Oe.segments.length&&Oe.hasChildren()?this.expandChildren(ne,Q,Oe).pipe((0,de.U)(ft=>new Ut([],ft))):this.expandSegment(ne,Oe,Q,Oe.segments,Ge,!0)}expandChildren(ne,Q,Oe){const Ge=[];for(const ft of Object.keys(Oe.children))"primary"===ft?Ge.unshift(ft):Ge.push(ft);return(0,F.D)(Ge).pipe((0,De.b)(ft=>{const Vt=Oe.children[ft],qt=js(Q,ft);return this.expandSegmentGroup(ne,qt,Vt,ft).pipe((0,de.U)(Li=>({segment:Li,outlet:ft})))}),Pe((ft,Vt)=>(ft[Vt.outlet]=Vt.segment,ft),{}),function Ne(fe,ne){const Q=arguments.length>=2;return Oe=>Oe.pipe(fe?(0,Ue.h)((Ge,ft)=>fe(Ge,ft,Oe)):ce.y,Se(1),Q?me(ne):ve(()=>new t))}())}expandSegment(ne,Q,Oe,Ge,ft,Vt){return(0,F.D)(Oe).pipe((0,De.b)(qt=>this.expandSegmentAgainstRoute(ne,Q,Oe,qt,Ge,ft,Vt).pipe((0,ze.K)(Mn=>{if(Mn instanceof Ti)return(0,W.of)(null);throw Mn}))),Ce(qt=>!!qt),(0,ze.K)((qt,Li)=>{if(qt instanceof t||"EmptyError"===qt.name){if(Bt(Q,Ge,ft))return(0,W.of)(new Ut([],{}));throw new Ti(Q)}throw qt}))}expandSegmentAgainstRoute(ne,Q,Oe,Ge,ft,Vt,qt){return Ie(Ge,Q,ft,Vt)?void 0===Ge.redirectTo?this.matchSegmentAgainstRoute(ne,Q,Ge,ft,Vt):qt&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(ne,Q,Oe,Ge,ft,Vt):Un(Q):Un(Q)}expandSegmentAgainstRouteUsingRedirect(ne,Q,Oe,Ge,ft,Vt){return"**"===Ge.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(ne,Oe,Ge,Vt):this.expandRegularSegmentAgainstRouteUsingRedirect(ne,Q,Oe,Ge,ft,Vt)}expandWildCardWithParamsAgainstRouteUsingRedirect(ne,Q,Oe,Ge){const ft=this.applyRedirectCommands([],Oe.redirectTo,{});return Oe.redirectTo.startsWith("/")?Ir(ft):this.lineralizeSegments(Oe,ft).pipe((0,st.z)(Vt=>{const qt=new Ut(Vt,{});return this.expandSegment(ne,qt,Q,Vt,Ge,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(ne,Q,Oe,Ge,ft,Vt){const{matched:qt,consumedSegments:Li,lastChild:Mn,positionalParamSegments:yr}=Nr(Q,Ge,ft);if(!qt)return Un(Q);const Kn=this.applyRedirectCommands(Li,Ge.redirectTo,yr);return Ge.redirectTo.startsWith("/")?Ir(Kn):this.lineralizeSegments(Ge,Kn).pipe((0,st.z)($r=>this.expandSegment(ne,Q,Oe,$r.concat(ft.slice(Mn)),Vt,!1)))}matchSegmentAgainstRoute(ne,Q,Oe,Ge,ft){if("**"===Oe.path)return Oe.loadChildren?(Oe._loadedConfig?(0,W.of)(Oe._loadedConfig):this.configLoader.load(ne.injector,Oe)).pipe((0,de.U)($r=>(Oe._loadedConfig=$r,new Ut(Ge,{})))):(0,W.of)(new Ut(Ge,{}));const{matched:Vt,consumedSegments:qt,lastChild:Li}=Nr(Q,Oe,Ge);if(!Vt)return Un(Q);const Mn=Ge.slice(Li);return this.getChildConfig(ne,Oe,Ge).pipe((0,st.z)(Kn=>{const $r=Kn.module,co=Kn.routes,{segmentGroup:Sl,slicedSegments:Bs}=Hn(Q,qt,Mn,co),Ss=new Ut(Sl.segments,Sl.children);if(0===Bs.length&&Ss.hasChildren())return this.expandChildren($r,co,Ss).pipe((0,de.U)(Dl=>new Ut(qt,Dl)));if(0===co.length&&0===Bs.length)return(0,W.of)(new Ut(qt,{}));const Qs=qo(Oe)===ft;return this.expandSegment($r,Ss,co,Bs,Qs?lt:ft,!0).pipe((0,de.U)(as=>new Ut(qt.concat(as.segments),as.children)))}))}getChildConfig(ne,Q,Oe){return Q.children?(0,W.of)(new Ur(Q.children,ne)):Q.loadChildren?void 0!==Q._loadedConfig?(0,W.of)(Q._loadedConfig):this.runCanLoadGuards(ne.injector,Q,Oe).pipe((0,st.z)(Ge=>Ge?this.configLoader.load(ne.injector,Q).pipe((0,de.U)(ft=>(Q._loadedConfig=ft,ft))):function Or(fe){return new e.y(ne=>ne.error(Ze(`Cannot load children because the guard of the route "path: '${fe.path}'" returned false`)))}(Q))):(0,W.of)(new Ur([],ne))}runCanLoadGuards(ne,Q,Oe){const Ge=Q.canLoad;if(!Ge||0===Ge.length)return(0,W.of)(!0);const ft=Ge.map(Vt=>{const qt=ne.get(Vt);let Li;if(function Bo(fe){return fe&&Pr(fe.canLoad)}(qt))Li=qt.canLoad(Q,Oe);else{if(!Pr(qt))throw new Error("Invalid CanLoad guard");Li=qt(Q,Oe)}return Mt(Li)});return(0,W.of)(ft).pipe(Do(),(0,pt.b)(Vt=>{if(!Oo(Vt))return;const qt=Ze(`Redirecting to "${this.urlSerializer.serialize(Vt)}"`);throw qt.url=Vt,qt}),(0,de.U)(Vt=>!0===Vt))}lineralizeSegments(ne,Q){let Oe=[],Ge=Q.root;for(;;){if(Oe=Oe.concat(Ge.segments),0===Ge.numberOfChildren)return(0,W.of)(Oe);if(Ge.numberOfChildren>1||!Ge.children[lt])return Wr(ne.redirectTo);Ge=Ge.children[lt]}}applyRedirectCommands(ne,Q,Oe){return this.applyRedirectCreatreUrlTree(Q,this.urlSerializer.parse(Q),ne,Oe)}applyRedirectCreatreUrlTree(ne,Q,Oe,Ge){const ft=this.createSegmentGroup(ne,Q.root,Oe,Ge);return new gt(ft,this.createQueryParams(Q.queryParams,this.urlTree.queryParams),Q.fragment)}createQueryParams(ne,Q){const Oe={};return _t(ne,(Ge,ft)=>{if("string"==typeof Ge&&Ge.startsWith(":")){const qt=Ge.substring(1);Oe[ft]=Q[qt]}else Oe[ft]=Ge}),Oe}createSegmentGroup(ne,Q,Oe,Ge){const ft=this.createSegments(ne,Q.segments,Oe,Ge);let Vt={};return _t(Q.children,(qt,Li)=>{Vt[Li]=this.createSegmentGroup(ne,qt,Oe,Ge)}),new Ut(ft,Vt)}createSegments(ne,Q,Oe,Ge){return Q.map(ft=>ft.path.startsWith(":")?this.findPosParam(ne,ft,Ge):this.findOrReturn(ft,Oe))}findPosParam(ne,Q,Oe){const Ge=Oe[Q.path.substring(1)];if(!Ge)throw new Error(`Cannot redirect to '${ne}'. Cannot find '${Q.path}'.`);return Ge}findOrReturn(ne,Q){let Oe=0;for(const Ge of Q){if(Ge.path===ne.path)return Q.splice(Oe),Ge;Oe++}return ne}}function $n(fe){const ne={};for(const Oe of Object.keys(fe.children)){const ft=$n(fe.children[Oe]);(ft.segments.length>0||ft.hasChildren())&&(ne[Oe]=ft)}return function ko(fe){if(1===fe.numberOfChildren&&fe.children[lt]){const ne=fe.children[lt];return new Ut(fe.segments.concat(ne.segments),ne.children)}return fe}(new Ut(fe.segments,ne))}class rl{constructor(ne){this.path=ne,this.route=this.path[this.path.length-1]}}class es{constructor(ne,Q){this.component=ne,this.route=Q}}function za(fe,ne,Q){const Oe=fe._root;return $i(Oe,ne?ne._root:null,Q,[Oe.value])}function wa(fe,ne,Q){const Oe=function Ec(fe){if(!fe)return null;for(let ne=fe.parent;ne;ne=ne.parent){const Q=ne.routeConfig;if(Q&&Q._loadedConfig)return Q._loadedConfig}return null}(ne);return(Oe?Oe.module.injector:Q).get(fe)}function $i(fe,ne,Q,Oe,Ge={canDeactivateChecks:[],canActivateChecks:[]}){const ft=Bn(ne);return fe.children.forEach(Vt=>{(function Fr(fe,ne,Q,Oe,Ge={canDeactivateChecks:[],canActivateChecks:[]}){const ft=fe.value,Vt=ne?ne.value:null,qt=Q?Q.getContext(fe.value.outlet):null;if(Vt&&ft.routeConfig===Vt.routeConfig){const Li=function it(fe,ne,Q){if("function"==typeof Q)return Q(fe,ne);switch(Q){case"pathParamsChange":return!An(fe.url,ne.url);case"pathParamsOrQueryParamsChange":return!An(fe.url,ne.url)||!vi(fe.queryParams,ne.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uo(fe,ne)||!vi(fe.queryParams,ne.queryParams);default:return!uo(fe,ne)}}(Vt,ft,ft.routeConfig.runGuardsAndResolvers);Li?Ge.canActivateChecks.push(new rl(Oe)):(ft.data=Vt.data,ft._resolvedData=Vt._resolvedData),$i(fe,ne,ft.component?qt?qt.children:null:Q,Oe,Ge),Li&&qt&&qt.outlet&&qt.outlet.isActivated&&Ge.canDeactivateChecks.push(new es(qt.outlet.component,Vt))}else Vt&&G(ne,qt,Ge),Ge.canActivateChecks.push(new rl(Oe)),$i(fe,null,ft.component?qt?qt.children:null:Q,Oe,Ge)})(Vt,ft[Vt.value.outlet],Q,Oe.concat([Vt.value]),Ge),delete ft[Vt.value.outlet]}),_t(ft,(Vt,qt)=>G(Vt,Q.getContext(qt),Ge)),Ge}function G(fe,ne,Q){const Oe=Bn(fe),Ge=fe.value;_t(Oe,(ft,Vt)=>{G(ft,Ge.component?ne?ne.children.getContext(Vt):null:ne,Q)}),Q.canDeactivateChecks.push(new es(Ge.component&&ne&&ne.outlet&&ne.outlet.isActivated?ne.outlet.component:null,Ge))}class hn{}function bn(fe){return new e.y(ne=>ne.error(fe))}class cr{constructor(ne,Q,Oe,Ge,ft,Vt){this.rootComponentType=ne,this.config=Q,this.urlTree=Oe,this.url=Ge,this.paramsInheritanceStrategy=ft,this.relativeLinkResolution=Vt}recognize(){const ne=Hn(this.urlTree.root,[],[],this.config.filter(Vt=>void 0===Vt.redirectTo),this.relativeLinkResolution).segmentGroup,Q=this.processSegmentGroup(this.config,ne,lt);if(null===Q)return null;const Oe=new sr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},lt,this.rootComponentType,null,this.urlTree.root,-1,{}),Ge=new Bi(Oe,Q),ft=new Qn(this.url,Ge);return this.inheritParamsAndData(ft._root),ft}inheritParamsAndData(ne){const Q=ne.value,Oe=Yi(Q,this.paramsInheritanceStrategy);Q.params=Object.freeze(Oe.params),Q.data=Object.freeze(Oe.data),ne.children.forEach(Ge=>this.inheritParamsAndData(Ge))}processSegmentGroup(ne,Q,Oe){return 0===Q.segments.length&&Q.hasChildren()?this.processChildren(ne,Q):this.processSegment(ne,Q,Q.segments,Oe)}processChildren(ne,Q){const Oe=[];for(const ft of Object.keys(Q.children)){const Vt=Q.children[ft],qt=js(ne,ft),Li=this.processSegmentGroup(qt,Vt,ft);if(null===Li)return null;Oe.push(...Li)}const Ge=jr(Oe);return function Gn(fe){fe.sort((ne,Q)=>ne.value.outlet===lt?-1:Q.value.outlet===lt?1:ne.value.outlet.localeCompare(Q.value.outlet))}(Ge),Ge}processSegment(ne,Q,Oe,Ge){for(const ft of ne){const Vt=this.processSegmentAgainstRoute(ft,Q,Oe,Ge);if(null!==Vt)return Vt}return Bt(Q,Oe,Ge)?[]:null}processSegmentAgainstRoute(ne,Q,Oe,Ge){if(ne.redirectTo||!Ie(ne,Q,Oe,Ge))return null;let ft,Vt=[],qt=[];if("**"===ne.path){const co=Oe.length>0?Di(Oe).parameters:{};ft=new sr(Oe,co,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sa(ne),qo(ne),ne.component,ne,zo(Q),Lo(Q)+Oe.length,fs(ne))}else{const co=Nr(Q,ne,Oe);if(!co.matched)return null;Vt=co.consumedSegments,qt=Oe.slice(co.lastChild),ft=new sr(Vt,co.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sa(ne),qo(ne),ne.component,ne,zo(Q),Lo(Q)+Vt.length,fs(ne))}const Li=function Yn(fe){return fe.children?fe.children:fe.loadChildren?fe._loadedConfig.routes:[]}(ne),{segmentGroup:Mn,slicedSegments:yr}=Hn(Q,Vt,qt,Li.filter(co=>void 0===co.redirectTo),this.relativeLinkResolution);if(0===yr.length&&Mn.hasChildren()){const co=this.processChildren(Li,Mn);return null===co?null:[new Bi(ft,co)]}if(0===Li.length&&0===yr.length)return[new Bi(ft,[])];const Kn=qo(ne)===Ge,$r=this.processSegment(Li,Mn,yr,Kn?lt:Ge);return null===$r?null:[new Bi(ft,$r)]}}function nr(fe){const ne=fe.value.routeConfig;return ne&&""===ne.path&&void 0===ne.redirectTo}function jr(fe){const ne=[],Q=new Set;for(const Oe of fe){if(!nr(Oe)){ne.push(Oe);continue}const Ge=ne.find(ft=>Oe.value.routeConfig===ft.value.routeConfig);void 0!==Ge?(Ge.children.push(...Oe.children),Q.add(Ge)):ne.push(Oe)}for(const Oe of Q){const Ge=jr(Oe.children);ne.push(new Bi(Oe.value,Ge))}return ne.filter(Oe=>!Q.has(Oe))}function zo(fe){let ne=fe;for(;ne._sourceSegment;)ne=ne._sourceSegment;return ne}function Lo(fe){let ne=fe,Q=ne._segmentIndexShift?ne._segmentIndexShift:0;for(;ne._sourceSegment;)ne=ne._sourceSegment,Q+=ne._segmentIndexShift?ne._segmentIndexShift:0;return Q-1}function sa(fe){return fe.data||{}}function fs(fe){return fe.resolve||{}}function lo(fe){return(0,re.w)(ne=>{const Q=fe(ne);return Q?(0,F.D)(Q).pipe((0,de.U)(()=>ne)):(0,W.of)(ne)})}class os extends class ol{shouldDetach(ne){return!1}store(ne,Q){}shouldAttach(ne){return!1}retrieve(ne){return null}shouldReuseRoute(ne,Q){return ne.routeConfig===Q.routeConfig}}{}const wn=new E.OlP("ROUTES");class Xn{constructor(ne,Q,Oe,Ge){this.injector=ne,this.compiler=Q,this.onLoadStartListener=Oe,this.onLoadEndListener=Ge}load(ne,Q){if(Q._loader$)return Q._loader$;this.onLoadStartListener&&this.onLoadStartListener(Q);const Ge=this.loadModuleFactory(Q.loadChildren).pipe((0,de.U)(ft=>{this.onLoadEndListener&&this.onLoadEndListener(Q);const Vt=ft.create(ne);return new Ur(Gi(Vt.injector.get(wn,void 0,E.XFs.Self|E.XFs.Optional)).map(ps),Vt)}),(0,ze.K)(ft=>{throw Q._loader$=void 0,ft}));return Q._loader$=new D(Ge,()=>new le.x).pipe(C()),Q._loader$}loadModuleFactory(ne){return Mt(ne()).pipe((0,st.z)(Q=>Q instanceof E.YKP?(0,W.of)(Q):(0,F.D)(this.compiler.compileModuleAsync(Q))))}}class _r{shouldProcessUrl(ne){return!0}extract(ne){return ne}merge(ne,Q){return ne}}function vr(fe){throw fe}function Ts(fe,ne,Q){return ne.parse("/")}function Ks(fe,ne){return(0,W.of)(null)}const $s={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},oo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Po=(()=>{class fe{constructor(Q,Oe,Ge,ft,Vt,qt,Li){this.rootComponentType=Q,this.urlSerializer=Oe,this.rootContexts=Ge,this.location=ft,this.config=Li,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new le.x,this.errorHandler=vr,this.malformedUriErrorHandler=Ts,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ks,afterPreactivation:Ks},this.urlHandlingStrategy=new _r,this.routeReuseStrategy=new os,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Vt.get(E.h0i),this.console=Vt.get(E.c2e);const Kn=Vt.get(E.R0b);this.isNgZoneEnabled=Kn instanceof E.R0b&&E.R0b.isInAngularZone(),this.resetConfig(Li),this.currentUrlTree=function _i(){return new gt(new Ut([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Xn(Vt,qt,$r=>this.triggerEvent(new yt($r)),$r=>this.triggerEvent(new zt($r))),this.routerState=at(this.currentUrlTree,this.rootComponentType),this.transitions=new te.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var Q;return null===(Q=this.location.getState())||void 0===Q?void 0:Q.\u0275routerPageId}setupNavigations(Q){const Oe=this.events;return Q.pipe((0,Ue.h)(Ge=>0!==Ge.id),(0,de.U)(Ge=>Object.assign(Object.assign({},Ge),{extractedUrl:this.urlHandlingStrategy.extract(Ge.rawUrl)})),(0,re.w)(Ge=>{let ft=!1,Vt=!1;return(0,W.of)(Ge).pipe((0,pt.b)(qt=>{this.currentNavigation={id:qt.id,initialUrl:qt.currentRawUrl,extractedUrl:qt.extractedUrl,trigger:qt.source,extras:qt.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,re.w)(qt=>{const Li=this.browserUrlTree.toString(),Mn=!this.navigated||qt.extractedUrl.toString()!==Li||Li!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Mn)&&this.urlHandlingStrategy.shouldProcessUrl(qt.rawUrl))return ws(qt.source)&&(this.browserUrlTree=qt.extractedUrl),(0,W.of)(qt).pipe((0,re.w)(Kn=>{const $r=this.transitions.getValue();return Oe.next(new bi(Kn.id,this.serializeUrl(Kn.extractedUrl),Kn.source,Kn.restoredState)),$r!==this.transitions.getValue()?Te.E:Promise.resolve(Kn)}),function zs(fe,ne,Q,Oe){return(0,re.w)(Ge=>function qr(fe,ne,Q,Oe,Ge){return new hr(fe,ne,Q,Oe,Ge).apply()}(fe,ne,Q,Ge.extractedUrl,Oe).pipe((0,de.U)(ft=>Object.assign(Object.assign({},Ge),{urlAfterRedirects:ft}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pt.b)(Kn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Kn.urlAfterRedirects})}),function Co(fe,ne,Q,Oe,Ge){return(0,st.z)(ft=>function Jn(fe,ne,Q,Oe,Ge="emptyOnly",ft="legacy"){try{const Vt=new cr(fe,ne,Q,Oe,Ge,ft).recognize();return null===Vt?bn(new hn):(0,W.of)(Vt)}catch(Vt){return bn(Vt)}}(fe,ne,ft.urlAfterRedirects,Q(ft.urlAfterRedirects),Oe,Ge).pipe((0,de.U)(Vt=>Object.assign(Object.assign({},ft),{targetSnapshot:Vt}))))}(this.rootComponentType,this.config,Kn=>this.serializeUrl(Kn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pt.b)(Kn=>{if("eager"===this.urlUpdateStrategy){if(!Kn.extras.skipLocationChange){const co=this.urlHandlingStrategy.merge(Kn.urlAfterRedirects,Kn.rawUrl);this.setBrowserUrl(co,Kn)}this.browserUrlTree=Kn.urlAfterRedirects}const $r=new mt(Kn.id,this.serializeUrl(Kn.extractedUrl),this.serializeUrl(Kn.urlAfterRedirects),Kn.targetSnapshot);Oe.next($r)}));if(Mn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$r,extractedUrl:co,source:Sl,restoredState:Bs,extras:Ss}=qt,Qs=new bi($r,this.serializeUrl(co),Sl,Bs);Oe.next(Qs);const Da=at(co,this.rootComponentType).snapshot;return(0,W.of)(Object.assign(Object.assign({},qt),{targetSnapshot:Da,urlAfterRedirects:co,extras:Object.assign(Object.assign({},Ss),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=qt.rawUrl,qt.resolve(null),Te.E}),lo(qt=>{const{targetSnapshot:Li,id:Mn,extractedUrl:yr,rawUrl:Kn,extras:{skipLocationChange:$r,replaceUrl:co}}=qt;return this.hooks.beforePreactivation(Li,{navigationId:Mn,appliedUrlTree:yr,rawUrlTree:Kn,skipLocationChange:!!$r,replaceUrl:!!co})}),(0,pt.b)(qt=>{const Li=new Ye(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot);this.triggerEvent(Li)}),(0,de.U)(qt=>Object.assign(Object.assign({},qt),{guards:za(qt.targetSnapshot,qt.currentSnapshot,this.rootContexts)})),function X(fe,ne){return(0,st.z)(Q=>{const{targetSnapshot:Oe,currentSnapshot:Ge,guards:{canActivateChecks:ft,canDeactivateChecks:Vt}}=Q;return 0===Vt.length&&0===ft.length?(0,W.of)(Object.assign(Object.assign({},Q),{guardsResult:!0})):function ye(fe,ne,Q,Oe){return(0,F.D)(fe).pipe((0,st.z)(Ge=>function Hi(fe,ne,Q,Oe,Ge){const ft=ne&&ne.routeConfig?ne.routeConfig.canDeactivate:null;if(!ft||0===ft.length)return(0,W.of)(!0);const Vt=ft.map(qt=>{const Li=wa(qt,ne,Ge);let Mn;if(function fa(fe){return fe&&Pr(fe.canDeactivate)}(Li))Mn=Mt(Li.canDeactivate(fe,ne,Q,Oe));else{if(!Pr(Li))throw new Error("Invalid CanDeactivate guard");Mn=Mt(Li(fe,ne,Q,Oe))}return Mn.pipe(Ce())});return(0,W.of)(Vt).pipe(Do())}(Ge.component,Ge.route,Q,ne,Oe)),Ce(Ge=>!0!==Ge,!0))}(Vt,Oe,Ge,fe).pipe((0,st.z)(qt=>qt&&function na(fe){return"boolean"==typeof fe}(qt)?function qe(fe,ne,Q,Oe){return(0,F.D)(ne).pipe((0,De.b)(Ge=>(0,q.z)(function Xt(fe,ne){return null!==fe&&ne&&ne(new gi(fe)),(0,W.of)(!0)}(Ge.route.parent,Oe),function bt(fe,ne){return null!==fe&&ne&&ne(new rt(fe)),(0,W.of)(!0)}(Ge.route,Oe),function mi(fe,ne,Q){const Oe=ne[ne.length-1],ft=ne.slice(0,ne.length-1).reverse().map(Vt=>function Ls(fe){const ne=fe.routeConfig?fe.routeConfig.canActivateChild:null;return ne&&0!==ne.length?{node:fe,guards:ne}:null}(Vt)).filter(Vt=>null!==Vt).map(Vt=>(0,ue.P)(()=>{const qt=Vt.guards.map(Li=>{const Mn=wa(Li,Vt.node,Q);let yr;if(function Ho(fe){return fe&&Pr(fe.canActivateChild)}(Mn))yr=Mt(Mn.canActivateChild(Oe,fe));else{if(!Pr(Mn))throw new Error("Invalid CanActivateChild guard");yr=Mt(Mn(Oe,fe))}return yr.pipe(Ce())});return(0,W.of)(qt).pipe(Do())}));return(0,W.of)(ft).pipe(Do())}(fe,Ge.path,Q),function Qt(fe,ne,Q){const Oe=ne.routeConfig?ne.routeConfig.canActivate:null;if(!Oe||0===Oe.length)return(0,W.of)(!0);const Ge=Oe.map(ft=>(0,ue.P)(()=>{const Vt=wa(ft,ne,Q);let qt;if(function ra(fe){return fe&&Pr(fe.canActivate)}(Vt))qt=Mt(Vt.canActivate(ne,fe));else{if(!Pr(Vt))throw new Error("Invalid CanActivate guard");qt=Mt(Vt(ne,fe))}return qt.pipe(Ce())}));return(0,W.of)(Ge).pipe(Do())}(fe,Ge.route,Q))),Ce(Ge=>!0!==Ge,!0))}(Oe,ft,fe,ne):(0,W.of)(qt)),(0,de.U)(qt=>Object.assign(Object.assign({},Q),{guardsResult:qt})))})}(this.ngModule.injector,qt=>this.triggerEvent(qt)),(0,pt.b)(qt=>{if(Oo(qt.guardsResult)){const Mn=Ze(`Redirecting to "${this.serializeUrl(qt.guardsResult)}"`);throw Mn.url=qt.guardsResult,Mn}const Li=new Je(qt.id,this.serializeUrl(qt.extractedUrl),this.serializeUrl(qt.urlAfterRedirects),qt.targetSnapshot,!!qt.guardsResult);this.triggerEvent(Li)}),(0,Ue.h)(qt=>!!qt.guardsResult||(this.restoreHistory(qt),this.cancelNavigationTransition(qt,""),!1)),lo(qt=>{if(qt.guards.canActivateChecks.length)return(0,W.of)(qt).pipe((0,pt.b)(Li=>{const Mn=new ut(Li.id,this.serializeUrl(Li.extractedUrl),this.serializeUrl(Li.urlAfterRedirects),Li.targetSnapshot);this.triggerEvent(Mn)}),(0,re.w)(Li=>{let Mn=!1;return(0,W.of)(Li).pipe(function Ps(fe,ne){return(0,st.z)(Q=>{const{targetSnapshot:Oe,guards:{canActivateChecks:Ge}}=Q;if(!Ge.length)return(0,W.of)(Q);let ft=0;return(0,F.D)(Ge).pipe((0,De.b)(Vt=>function Ys(fe,ne,Q,Oe){return function Xs(fe,ne,Q,Oe){const Ge=Object.keys(fe);if(0===Ge.length)return(0,W.of)({});const ft={};return(0,F.D)(Ge).pipe((0,st.z)(Vt=>function ka(fe,ne,Q,Oe){const Ge=wa(fe,ne,Oe);return Mt(Ge.resolve?Ge.resolve(ne,Q):Ge(ne,Q))}(fe[Vt],ne,Q,Oe).pipe((0,pt.b)(qt=>{ft[Vt]=qt}))),Se(1),(0,st.z)(()=>Object.keys(ft).length===Ge.length?(0,W.of)(ft):Te.E))}(fe._resolve,fe,ne,Oe).pipe((0,de.U)(ft=>(fe._resolvedData=ft,fe.data=Object.assign(Object.assign({},fe.data),Yi(fe,Q).resolve),null)))}(Vt.route,Oe,fe,ne)),(0,pt.b)(()=>ft++),Se(1),(0,st.z)(Vt=>ft===Ge.length?(0,W.of)(Q):Te.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pt.b)({next:()=>Mn=!0,complete:()=>{Mn||(this.restoreHistory(Li),this.cancelNavigationTransition(Li,"At least one route resolver didn't emit any value."))}}))}),(0,pt.b)(Li=>{const Mn=new Re(Li.id,this.serializeUrl(Li.extractedUrl),this.serializeUrl(Li.urlAfterRedirects),Li.targetSnapshot);this.triggerEvent(Mn)}))}),lo(qt=>{const{targetSnapshot:Li,id:Mn,extractedUrl:yr,rawUrl:Kn,extras:{skipLocationChange:$r,replaceUrl:co}}=qt;return this.hooks.afterPreactivation(Li,{navigationId:Mn,appliedUrlTree:yr,rawUrlTree:Kn,skipLocationChange:!!$r,replaceUrl:!!co})}),(0,de.U)(qt=>{const Li=function io(fe,ne,Q){const Oe=Io(fe,ne._root,Q?Q._root:void 0);return new Ln(Oe,ne)}(this.routeReuseStrategy,qt.targetSnapshot,qt.currentRouterState);return Object.assign(Object.assign({},qt),{targetRouterState:Li})}),(0,pt.b)(qt=>{this.currentUrlTree=qt.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(qt.urlAfterRedirects,qt.rawUrl),this.routerState=qt.targetRouterState,"deferred"===this.urlUpdateStrategy&&(qt.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,qt),this.browserUrlTree=qt.urlAfterRedirects)}),((fe,ne,Q)=>(0,de.U)(Oe=>(new Wa(ne,Oe.targetRouterState,Oe.currentRouterState,Q).activate(fe),Oe)))(this.rootContexts,this.routeReuseStrategy,qt=>this.triggerEvent(qt)),(0,pt.b)({next(){ft=!0},complete(){ft=!0}}),(0,dt.x)(()=>{var qt;ft||Vt||this.cancelNavigationTransition(Ge,`Navigation ID ${Ge.id} is not equal to the current navigation id ${this.navigationId}`),(null===(qt=this.currentNavigation)||void 0===qt?void 0:qt.id)===Ge.id&&(this.currentNavigation=null)}),(0,ze.K)(qt=>{if(Vt=!0,function Wt(fe){return fe&&fe[Ke]}(qt)){const Li=Oo(qt.url);Li||(this.navigated=!0,this.restoreHistory(Ge,!0));const Mn=new Rt(Ge.id,this.serializeUrl(Ge.extractedUrl),qt.message);Oe.next(Mn),Li?setTimeout(()=>{const yr=this.urlHandlingStrategy.merge(qt.url,this.rawUrlTree),Kn={skipLocationChange:Ge.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ws(Ge.source)};this.scheduleNavigation(yr,"imperative",null,Kn,{resolve:Ge.resolve,reject:Ge.reject,promise:Ge.promise})},0):Ge.resolve(!1)}else{this.restoreHistory(Ge,!0);const Li=new ii(Ge.id,this.serializeUrl(Ge.extractedUrl),qt);Oe.next(Li);try{Ge.resolve(this.errorHandler(qt))}catch(Mn){Ge.reject(Mn)}}return Te.E}))}))}resetRootComponentType(Q){this.rootComponentType=Q,this.routerState.root.component=this.rootComponentType}setTransition(Q){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),Q))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(Q=>{const Oe="popstate"===Q.type?"popstate":"hashchange";"popstate"===Oe&&setTimeout(()=>{var Ge;const ft={replaceUrl:!0},Vt=(null===(Ge=Q.state)||void 0===Ge?void 0:Ge.navigationId)?Q.state:null;if(Vt){const Li=Object.assign({},Vt);delete Li.navigationId,delete Li.\u0275routerPageId,0!==Object.keys(Li).length&&(ft.state=Li)}const qt=this.parseUrl(Q.url);this.scheduleNavigation(qt,Oe,Vt,ft)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(Q){this.events.next(Q)}resetConfig(Q){ho(Q),this.config=Q.map(ps),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(Q,Oe={}){const{relativeTo:Ge,queryParams:ft,fragment:Vt,queryParamsHandling:qt,preserveFragment:Li}=Oe,Mn=Ge||this.routerState.root,yr=Li?this.currentUrlTree.fragment:Vt;let Kn=null;switch(qt){case"merge":Kn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ft);break;case"preserve":Kn=this.currentUrlTree.queryParams;break;default:Kn=ft||null}return null!==Kn&&(Kn=this.removeEmptyProps(Kn)),function jo(fe,ne,Q,Oe,Ge){if(0===Q.length)return Ua(ne.root,ne.root,ne,Oe,Ge);const ft=function ia(fe){if("string"==typeof fe[0]&&1===fe.length&&"/"===fe[0])return new hs(!0,0,fe);let ne=0,Q=!1;const Oe=fe.reduce((Ge,ft,Vt)=>{if("object"==typeof ft&&null!=ft){if(ft.outlets){const qt={};return _t(ft.outlets,(Li,Mn)=>{qt[Mn]="string"==typeof Li?Li.split("/"):Li}),[...Ge,{outlets:qt}]}if(ft.segmentPath)return[...Ge,ft.segmentPath]}return"string"!=typeof ft?[...Ge,ft]:0===Vt?(ft.split("/").forEach((qt,Li)=>{0==Li&&"."===qt||(0==Li&&""===qt?Q=!0:".."===qt?ne++:""!=qt&&Ge.push(qt))}),Ge):[...Ge,ft]},[]);return new hs(Q,ne,Oe)}(Q);if(ft.toRoot())return Ua(ne.root,new Ut([],{}),ne,Oe,Ge);const Vt=function Ia(fe,ne,Q){if(fe.isAbsolute)return new Gr(ne.root,!0,0);if(-1===Q.snapshot._lastPathIndex){const ft=Q.snapshot._urlSegment;return new Gr(ft,ft===ne.root,0)}const Oe=no(fe.commands[0])?0:1;return function pl(fe,ne,Q){let Oe=fe,Ge=ne,ft=Q;for(;ft>Ge;){if(ft-=Ge,Oe=Oe.parent,!Oe)throw new Error("Invalid number of '../'");Ge=Oe.segments.length}return new Gr(Oe,!1,Ge-ft)}(Q.snapshot._urlSegment,Q.snapshot._lastPathIndex+Oe,fe.numberOfDoubleDots)}(ft,ne,fe),qt=Vt.processChildren?Ga(Vt.segmentGroup,Vt.index,ft.commands):ha(Vt.segmentGroup,Vt.index,ft.commands);return Ua(Vt.segmentGroup,qt,ne,Oe,Ge)}(Mn,this.currentUrlTree,Q,Kn,null!=yr?yr:null)}navigateByUrl(Q,Oe={skipLocationChange:!1}){const Ge=Oo(Q)?Q:this.parseUrl(Q),ft=this.urlHandlingStrategy.merge(Ge,this.rawUrlTree);return this.scheduleNavigation(ft,"imperative",null,Oe)}navigate(Q,Oe={skipLocationChange:!1}){return function ss(fe){for(let ne=0;ne<fe.length;ne++){const Q=fe[ne];if(null==Q)throw new Error(`The requested path contains ${Q} segment at index ${ne}`)}}(Q),this.navigateByUrl(this.createUrlTree(Q,Oe),Oe)}serializeUrl(Q){return this.urlSerializer.serialize(Q)}parseUrl(Q){let Oe;try{Oe=this.urlSerializer.parse(Q)}catch(Ge){Oe=this.malformedUriErrorHandler(Ge,this.urlSerializer,Q)}return Oe}isActive(Q,Oe){let Ge;if(Ge=!0===Oe?Object.assign({},$s):!1===Oe?Object.assign({},oo):Oe,Oo(Q))return Pi(this.currentUrlTree,Q,Ge);const ft=this.parseUrl(Q);return Pi(this.currentUrlTree,ft,Ge)}removeEmptyProps(Q){return Object.keys(Q).reduce((Oe,Ge)=>{const ft=Q[Ge];return null!=ft&&(Oe[Ge]=ft),Oe},{})}processNavigations(){this.navigations.subscribe(Q=>{this.navigated=!0,this.lastSuccessfulId=Q.id,this.currentPageId=Q.targetPageId,this.events.next(new ti(Q.id,this.serializeUrl(Q.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,Q.resolve(!0)},Q=>{this.console.warn(`Unhandled Navigation Error: ${Q}`)})}scheduleNavigation(Q,Oe,Ge,ft,Vt){var qt,Li,Mn;if(this.disposed)return Promise.resolve(!1);const yr=this.transitions.value,Kn=ws(Oe)&&yr&&!ws(yr.source),$r=yr.rawUrl.toString()===Q.toString(),co=yr.id===(null===(qt=this.currentNavigation)||void 0===qt?void 0:qt.id);if(Kn&&$r&&co)return Promise.resolve(!0);let Bs,Ss,Qs;Vt?(Bs=Vt.resolve,Ss=Vt.reject,Qs=Vt.promise):Qs=new Promise((Dl,$a)=>{Bs=Dl,Ss=$a});const Da=++this.navigationId;let as;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(Ge=this.location.getState()),as=Ge&&Ge.\u0275routerPageId?Ge.\u0275routerPageId:ft.replaceUrl||ft.skipLocationChange?null!==(Li=this.browserPageId)&&void 0!==Li?Li:0:(null!==(Mn=this.browserPageId)&&void 0!==Mn?Mn:0)+1):as=0,this.setTransition({id:Da,targetPageId:as,source:Oe,restoredState:Ge,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:Q,extras:ft,resolve:Bs,reject:Ss,promise:Qs,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Qs.catch(Dl=>Promise.reject(Dl))}setBrowserUrl(Q,Oe){const Ge=this.urlSerializer.serialize(Q),ft=Object.assign(Object.assign({},Oe.extras.state),this.generateNgRouterState(Oe.id,Oe.targetPageId));this.location.isCurrentPathEqualTo(Ge)||Oe.extras.replaceUrl?this.location.replaceState(Ge,"",ft):this.location.go(Ge,"",ft)}restoreHistory(Q,Oe=!1){var Ge,ft;if("computed"===this.canceledNavigationResolution){const Vt=this.currentPageId-Q.targetPageId;"popstate"!==Q.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(Ge=this.currentNavigation)||void 0===Ge?void 0:Ge.finalUrl)||0===Vt?this.currentUrlTree===(null===(ft=this.currentNavigation)||void 0===ft?void 0:ft.finalUrl)&&0===Vt&&(this.resetState(Q),this.browserUrlTree=Q.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Vt)}else"replace"===this.canceledNavigationResolution&&(Oe&&this.resetState(Q),this.resetUrlToCurrentUrlTree())}resetState(Q){this.routerState=Q.currentRouterState,this.currentUrlTree=Q.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,Q.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(Q,Oe){const Ge=new Rt(Q.id,this.serializeUrl(Q.extractedUrl),Oe);this.triggerEvent(Ge),Q.resolve(!1)}generateNgRouterState(Q,Oe){return"computed"===this.canceledNavigationResolution?{navigationId:Q,\u0275routerPageId:Oe}:{navigationId:Q}}}return fe.\u0275fac=function(Q){E.$Z()},fe.\u0275prov=E.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function ws(fe){return"imperative"!==fe}let Yo=(()=>{class fe{constructor(Q,Oe,Ge){this.router=Q,this.route=Oe,this.locationStrategy=Ge,this.commands=null,this.href=null,this.onChanges=new le.x,this.subscription=Q.events.subscribe(ft=>{ft instanceof ti&&this.updateTargetUrlAndHref()})}set routerLink(Q){this.commands=null!=Q?Array.isArray(Q)?Q:[Q]:null}ngOnChanges(Q){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(Q,Oe,Ge,ft,Vt){if(0!==Q||Oe||Ge||ft||Vt||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const qt={skipLocationChange:Ns(this.skipLocationChange),replaceUrl:Ns(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,qt),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ns(this.preserveFragment)})}}return fe.\u0275fac=function(Q){return new(Q||fe)(E.Y36(Po),E.Y36(Ai),E.Y36(kt.S$))},fe.\u0275dir=E.lG2({type:fe,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(Q,Oe){1&Q&&E.NdJ("click",function(ft){return Oe.onClick(ft.button,ft.ctrlKey,ft.shiftKey,ft.altKey,ft.metaKey)}),2&Q&&E.uIk("target",Oe.target)("href",Oe.href,E.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[E.TTD]}),fe})();function Ns(fe){return""===fe||!!fe}class Fs{}class ga{preload(ne,Q){return(0,W.of)(null)}}let La=(()=>{class fe{constructor(Q,Oe,Ge,ft){this.router=Q,this.injector=Ge,this.preloadingStrategy=ft,this.loader=new Xn(Ge,Oe,Li=>Q.triggerEvent(new yt(Li)),Li=>Q.triggerEvent(new zt(Li)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ue.h)(Q=>Q instanceof ti),(0,De.b)(()=>this.preload())).subscribe(()=>{})}preload(){const Q=this.injector.get(E.h0i);return this.processRoutes(Q,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(Q,Oe){const Ge=[];for(const ft of Oe)if(ft.loadChildren&&!ft.canLoad&&ft._loadedConfig){const Vt=ft._loadedConfig;Ge.push(this.processRoutes(Vt.module,Vt.routes))}else ft.loadChildren&&!ft.canLoad?Ge.push(this.preloadConfig(Q,ft)):ft.children&&Ge.push(this.processRoutes(Q,ft.children));return(0,F.D)(Ge).pipe((0,Ot.J)(),(0,de.U)(ft=>{}))}preloadConfig(Q,Oe){return this.preloadingStrategy.preload(Oe,()=>(Oe._loadedConfig?(0,W.of)(Oe._loadedConfig):this.loader.load(Q.injector,Oe)).pipe((0,st.z)(ft=>(Oe._loadedConfig=ft,this.processRoutes(ft.module,ft.routes)))))}}return fe.\u0275fac=function(Q){return new(Q||fe)(E.LFG(Po),E.LFG(E.Sil),E.LFG(E.zs3),E.LFG(Fs))},fe.\u0275prov=E.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),Ya=(()=>{class fe{constructor(Q,Oe,Ge={}){this.router=Q,this.viewportScroller=Oe,this.options=Ge,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ge.scrollPositionRestoration=Ge.scrollPositionRestoration||"disabled",Ge.anchorScrolling=Ge.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(Q=>{Q instanceof bi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=Q.navigationTrigger,this.restoredId=Q.restoredState?Q.restoredState.navigationId:0):Q instanceof ti&&(this.lastId=Q.id,this.scheduleScrollEvent(Q,this.router.parseUrl(Q.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(Q=>{Q instanceof At&&(Q.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(Q.position):Q.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(Q.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(Q,Oe){this.router.triggerEvent(new At(Q,"popstate"===this.lastSource?this.store[this.restoredId]:null,Oe))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return fe.\u0275fac=function(Q){E.$Z()},fe.\u0275prov=E.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const al=new E.OlP("ROUTER_CONFIGURATION"),Gl=new E.OlP("ROUTER_FORROOT_GUARD"),Xa=[kt.Ye,{provide:si,useClass:$t},{provide:Po,useFactory:function Js(fe,ne,Q,Oe,Ge,ft,Vt={},qt,Li){const Mn=new Po(null,fe,ne,Q,Oe,Ge,Gi(ft));return qt&&(Mn.urlHandlingStrategy=qt),Li&&(Mn.routeReuseStrategy=Li),function Ka(fe,ne){fe.errorHandler&&(ne.errorHandler=fe.errorHandler),fe.malformedUriErrorHandler&&(ne.malformedUriErrorHandler=fe.malformedUriErrorHandler),fe.onSameUrlNavigation&&(ne.onSameUrlNavigation=fe.onSameUrlNavigation),fe.paramsInheritanceStrategy&&(ne.paramsInheritanceStrategy=fe.paramsInheritanceStrategy),fe.relativeLinkResolution&&(ne.relativeLinkResolution=fe.relativeLinkResolution),fe.urlUpdateStrategy&&(ne.urlUpdateStrategy=fe.urlUpdateStrategy),fe.canceledNavigationResolution&&(ne.canceledNavigationResolution=fe.canceledNavigationResolution)}(Vt,Mn),Vt.enableTracing&&Mn.events.subscribe(yr=>{var Kn,$r;null===(Kn=console.group)||void 0===Kn||Kn.call(console,`Router Event: ${yr.constructor.name}`),console.log(yr.toString()),console.log(yr),null===($r=console.groupEnd)||void 0===$r||$r.call(console)}),Mn},deps:[si,ro,kt.Ye,E.zs3,E.Sil,wn,al,[class Nn{},new E.FiY],[class Cs{},new E.FiY]]},ro,{provide:Ai,useFactory:function Zs(fe){return fe.routerState.root},deps:[Po]},La,ga,class ts{preload(ne,Q){return Q().pipe((0,ze.K)(()=>(0,W.of)(null)))}},{provide:al,useValue:{enableTracing:!1}}];function gl(){return new E.PXZ("Router",Po)}let ml=(()=>{class fe{constructor(Q,Oe){}static forRoot(Q,Oe){return{ngModule:fe,providers:[Xa,Pa(Q),{provide:Gl,useFactory:cc,deps:[[Po,new E.FiY,new E.tp0]]},{provide:al,useValue:Oe||{}},{provide:kt.S$,useFactory:ma,deps:[kt.lw,[new E.tBr(kt.mr),new E.FiY],al]},{provide:Ya,useFactory:Vc,deps:[Po,kt.EM,al]},{provide:Fs,useExisting:Oe&&Oe.preloadingStrategy?Oe.preloadingStrategy:ga},{provide:E.PXZ,multi:!0,useFactory:gl},[_a,{provide:E.ip1,multi:!0,useFactory:wl,deps:[_a]},{provide:Cc,useFactory:Wl,deps:[_a]},{provide:E.tb,multi:!0,useExisting:Cc}]]}}static forChild(Q){return{ngModule:fe,providers:[Pa(Q)]}}}return fe.\u0275fac=function(Q){return new(Q||fe)(E.LFG(Gl,8),E.LFG(Po,8))},fe.\u0275mod=E.oAB({type:fe}),fe.\u0275inj=E.cJS({}),fe})();function Vc(fe,ne,Q){return Q.scrollOffset&&ne.setOffset(Q.scrollOffset),new Ya(fe,ne,Q)}function ma(fe,ne,Q={}){return Q.useHash?new kt.Do(fe,ne):new kt.b0(fe,ne)}function cc(fe){return"guarded"}function Pa(fe){return[{provide:E.deG,multi:!0,useValue:fe},{provide:wn,multi:!0,useValue:fe}]}let _a=(()=>{class fe{constructor(Q){this.injector=Q,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new le.x}appInitializer(){return this.injector.get(kt.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let Oe=null;const Ge=new Promise(qt=>Oe=qt),ft=this.injector.get(Po),Vt=this.injector.get(al);return"disabled"===Vt.initialNavigation?(ft.setUpLocationChangeListener(),Oe(!0)):"enabled"===Vt.initialNavigation||"enabledBlocking"===Vt.initialNavigation?(ft.hooks.afterPreactivation=()=>this.initNavigation?(0,W.of)(null):(this.initNavigation=!0,Oe(!0),this.resultOfPreactivationDone),ft.initialNavigation()):Oe(!0),Ge})}bootstrapListener(Q){const Oe=this.injector.get(al),Ge=this.injector.get(La),ft=this.injector.get(Ya),Vt=this.injector.get(Po),qt=this.injector.get(E.z2F);Q===qt.components[0]&&(("enabledNonBlocking"===Oe.initialNavigation||void 0===Oe.initialNavigation)&&Vt.initialNavigation(),Ge.setUpPreloading(),ft.init(),Vt.resetRootComponentType(qt.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return fe.\u0275fac=function(Q){return new(Q||fe)(E.LFG(E.zs3))},fe.\u0275prov=E.Yz7({token:fe,factory:fe.\u0275fac}),fe})();function wl(fe){return fe.appInitializer.bind(fe)}function Wl(fe){return fe.bootstrapListener.bind(fe)}const Cc=new E.OlP("Router Initializer")},33:(B,K,f)=>{"use strict";f.d(K,{C:()=>ot,k:()=>ze});var Ae=f(5e3),Ce=f(93075);const de=["ref"];function re(De){return De&&De.replace(/\r\n|\r/g,"\n")}let ot=(()=>{class De{constructor(pt,dt){this._differs=pt,this._ngZone=dt,this.className="",this.name="codemirror",this.autoFocus=!1,this.preserveScrollPosition=!1,this.cursorActivity=new Ae.vpe,this.focusChange=new Ae.vpe,this.scroll=new Ae.vpe,this.drop=new Ae.vpe,this.value="",this.disabled=!1,this.isFocused=!1,this.onChange=Ot=>{},this.onTouched=()=>{}}set options(pt){this._options=pt,!this._differ&&pt&&(this._differ=this._differs.find(pt).create())}get codeMirrorGlobal(){return this._codeMirror||(this._codeMirror="undefined"!=typeof CodeMirror?CodeMirror:Promise.resolve().then(f.t.bind(f,68266,19))),this._codeMirror}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>function C(De,st,pt,dt){return new(pt||(pt=Promise))(function(kt,oi){function bi(ii){try{Rt(dt.next(ii))}catch(mt){oi(mt)}}function ti(ii){try{Rt(dt.throw(ii))}catch(mt){oi(mt)}}function Rt(ii){ii.done?kt(ii.value):function Ot(kt){return kt instanceof pt?kt:new pt(function(oi){oi(kt)})}(ii.value).then(bi,ti)}Rt((dt=dt.apply(De,st||[])).next())})}(this,void 0,void 0,function*(){const pt=yield this.codeMirrorGlobal;this.codeMirror=((null==pt?void 0:pt.default)?pt.default:pt).fromTextArea(this.ref.nativeElement,this._options),this.codeMirror.on("cursorActivity",Ot=>this._ngZone.run(()=>this.cursorActive(Ot))),this.codeMirror.on("scroll",this.scrollChanged.bind(this)),this.codeMirror.on("blur",()=>this._ngZone.run(()=>this.focusChanged(!1))),this.codeMirror.on("focus",()=>this._ngZone.run(()=>this.focusChanged(!0))),this.codeMirror.on("change",(Ot,kt)=>this._ngZone.run(()=>this.codemirrorValueChanged(Ot,kt))),this.codeMirror.on("drop",(Ot,kt)=>{this._ngZone.run(()=>this.dropFiles(Ot,kt))}),this.codeMirror.setValue(this.value)}))}ngDoCheck(){if(!this._differ)return;const pt=this._differ.diff(this._options);pt&&(pt.forEachChangedItem(dt=>this.setOptionIfChanged(dt.key,dt.currentValue)),pt.forEachAddedItem(dt=>this.setOptionIfChanged(dt.key,dt.currentValue)),pt.forEachRemovedItem(dt=>this.setOptionIfChanged(dt.key,dt.currentValue)))}ngOnDestroy(){this.codeMirror&&this.codeMirror.toTextArea()}codemirrorValueChanged(pt,dt){const Ot=pt.getValue();this.value!==Ot&&(this.value=Ot,this.onChange(this.value))}setOptionIfChanged(pt,dt){!this.codeMirror||this.codeMirror.setOption(pt,dt)}focusChanged(pt){this.onTouched(),this.isFocused=pt,this.focusChange.emit(pt)}scrollChanged(pt){this.scroll.emit(pt.getScrollInfo())}cursorActive(pt){this.cursorActivity.emit(pt)}dropFiles(pt,dt){this.drop.emit([pt,dt])}writeValue(pt){if(null==pt)return;if(!this.codeMirror)return void(this.value=pt);const dt=this.codeMirror.getValue();if(pt!==dt&&re(dt)!==re(pt))if(this.value=pt,this.preserveScrollPosition){const Ot=this.codeMirror.getScrollInfo();this.codeMirror.setValue(this.value),this.codeMirror.scrollTo(Ot.left,Ot.top)}else this.codeMirror.setValue(this.value)}registerOnChange(pt){this.onChange=pt}registerOnTouched(pt){this.onTouched=pt}setDisabledState(pt){this.disabled=pt,this.setOptionIfChanged("readOnly",this.disabled)}}return De.\u0275fac=function(pt){return new(pt||De)(Ae.Y36(Ae.aQg),Ae.Y36(Ae.R0b))},De.\u0275cmp=Ae.Xpm({type:De,selectors:[["ngx-codemirror"]],viewQuery:function(pt,dt){if(1&pt&&Ae.Gf(de,5),2&pt){let Ot;Ae.iGM(Ot=Ae.CRH())&&(dt.ref=Ot.first)}},inputs:{className:"className",name:"name",autoFocus:"autoFocus",options:"options",preserveScrollPosition:"preserveScrollPosition"},outputs:{cursorActivity:"cursorActivity",focusChange:"focusChange",scroll:"scroll",drop:"drop"},features:[Ae._Bn([{provide:Ce.JU,useExisting:(0,Ae.Gpc)(()=>De),multi:!0}])],decls:3,vars:7,consts:[["autocomplete","off",3,"name","autofocus"],["ref",""]],template:function(pt,dt){1&pt&&(Ae.TgZ(0,"textarea",0,1),Ae._uU(2,"    "),Ae.qZA()),2&pt&&(Ae.Gre("ngx-codemirror ",dt.className,""),Ae.ekj("ngx-codemirror--focused",dt.isFocused),Ae.Q6J("name",dt.name)("autofocus",dt.autoFocus))},encapsulation:2,changeDetection:0}),De})(),ze=(()=>{class De{}return De.\u0275fac=function(pt){return new(pt||De)},De.\u0275mod=Ae.oAB({type:De}),De.\u0275inj=Ae.cJS({}),De})()},15861:(B,K,f)=>{"use strict";function E(t,e,n,a,u,C,D){try{var F=t[C](D),W=F.value}catch(te){return void n(te)}F.done?e(W):Promise.resolve(W).then(a,u)}function m(t){return function(){var e=this,n=arguments;return new Promise(function(a,u){var C=t.apply(e,n);function D(W){E(C,a,u,D,F,"next",W)}function F(W){E(C,a,u,D,F,"throw",W)}D(void 0)})}}f.d(K,{Z:()=>m})}},B=>{B(B.s=48203)}]);